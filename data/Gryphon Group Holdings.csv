Summary,Issue key,Issue id,Parent id,Issue Type,Status,Project key,Project name,Project type,Project lead,Project lead id,Project description,Project url,Priority,Resolution,Assignee,Assignee Id,Reporter,Reporter Id,Creator,Creator Id,Created,Updated,Last Viewed,Resolved,Affects versions,Fix versions,Due date,Labels,Labels,Labels,Description,Environment,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers Id,Watchers Id,Watchers Id,Watchers Id,Watchers Id,Watchers Id,Watchers Id,Original estimate,Remaining Estimate,Time Spent,Work Ratio,Σ Original Estimate,Σ Remaining Estimate,Σ Time Spent,Security Level,Outward issue link (Blocks),Outward issue link (Blocks),Outward issue link (Blocks),Outward issue link (Blocks),Outward issue link (Blocks),Outward issue link (Blocks),Outward issue link (Blocks),Outward issue link (Blocks),Outward issue link (Blocks),Outward issue link (Blocks),Outward issue link (Cloners),Outward issue link (Defect),Outward issue link (Delivers),Outward issue link (Delivers),Outward issue link (Delivers),Outward issue link (Dependency),Outward issue link (Duplicate),Outward issue link (Issue split),Outward issue link (Issue split),Outward issue link (Problem/Incident),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Test),Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Custom field (Acceptance Criteria),Custom field (Access options),Custom field (Actual Result),Custom field (Add or remove?),Custom field (Add to mailing list or shared inbox?),Custom field (Adviser Dashboard option),Custom field (Affected hardware),Custom field (Affected services),Custom field (Application Issue),Custom field (Application Reference),Custom field (Application in Salesforce),Custom field (Application on Risk),Custom field (Application stage),Custom field (Asset tag),Custom field (Author Approver),Custom field (Backout plan),Custom field (Baseline Story Points),Custom field (Baseline due date),Custom field (Baseline start date),Custom field (Begin Date),Custom field (Benefit),Custom field (Build number found on),Custom field (Business Severity),Custom field (Business Value),Custom field (Business function),Custom field (Cancel/Reinstate),Custom field (Change approver),Custom field (Change comments),Custom field (Change type),Custom field (Changes),Custom field (Component Fix Version / Feature Branch),Custom field (Contractual Status),Custom field (Cover reference(s)),Custom field (Current email address),Custom field (Customer status),Custom field (Customer status 2),Custom field (Defect Description),Custom field (Description 2),Custom field (Development),Custom field (Disable/Enable),Custom field (Email client),Custom field (Email encryption),Custom field (End date 2),Custom field (Epic Colour),Custom field (Epic Link),Custom field (Epic Name),Custom field (Epic Status),Custom field (Equipment),Custom field (Error Message),Custom field (Expected result),Custom field (External Ref),Custom field (Firm Agent ID),Custom field (Firm FCA number),Custom field (Flagged),Custom field (Forms locked),Custom field (Forms open),Custom field (Forms submitted),Custom field (Forms total),Custom field (Frequency),Custom field (GDPR requests),Custom field (Helix reference),Custom field (Highest Deployed Environment),Custom field (Implementation Notes),Custom field (Implementation date),Custom field (Implementation plan),Custom field (Implementer),Custom field (In test or live?),Custom field (Issue color),Custom field (Job role),Custom field (Level),Custom field (Network/Service Provider Agent ID),Custom field (New Name),Custom field (Novation or Registration?),Custom field (Novation type),Custom field (Office or Home?),Custom field (Old Firm Agent ID),Custom field (Old Network/Service Provider Agent ID),Custom field (Onboarding information),Custom field (Other),Custom field (Parent Link),Custom field (Partner/vendor),Custom field (Partner/vendor(s)),Custom field (Plan Changed),Custom field (Planned end date),Custom field (Planned start date),Custom field (Policy Number),Custom field (Policy in Lissia),Custom field (Post go-live monitoring),Custom field (Production Issue),Custom field (PureCloud issue),Custom field (Rank),Custom field (Read/Write access),Custom field (Reinsurer Approved),Custom field (Release Date),Custom field (Release Note Version),Custom field (Reporting to),Custom field (Reproduction steps),Custom field (Request Type),Custom field (Request language),Custom field (Request participants),Custom field (Resolution comment),Custom field (Responders),Custom field (Revision),Custom field (Rollback plan),Satisfaction rating,Custom field (Score),Custom field (Selling agent Agent ID),Custom field (Selling firm Agent ID),Custom field (Service Desk),Custom field (Servicing agent Agent ID),Custom field (Servicing firm Agent ID),Custom field (Severity),Custom field (Shared or personal email address?),Custom field (Source),Sprint,Sprint,Sprint,Sprint,Sprint,Custom field (Staff changes),Custom field (Start Time),Custom field (Start date),Custom field (Story Points),Custom field (Story point estimate),Custom field (System Component),Custom field (System Component(s)),Custom field (System Component(s)),Custom field (System Component(s)),"Custom field (System, Software or Application)",Custom field (Target Date),Custom field (Target end),Custom field (Target start),Custom field (Team),Custom field (Test Approver),Custom field (Test Bundle),Custom field (Test Bundle),Custom field (Test Case #),Custom field (Test plan),Custom field (Tester(s)),Custom field (Tester(s))Id,Custom field (Testing Notes),Custom field (Time Saved),Custom field (Time to approve normal change),Custom field (Time to close after resolution),Custom field (Time to done),Custom field (Time to first response),Custom field (Time to resolution),Custom field (Time to review normal change),Custom field (Type of computer),Custom field (URL),Custom field (Web browser),Custom field (What has gone wrong?),Custom field (Work category),Custom field (Xray End Date),Custom field (Yes/No),Custom field ([CHART] Date of First Response),Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Parent,Parent summary,Status Category
Wording tidy-up following final review,NBJ-1433,45100,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 4:58 PM,02/Feb/22 4:58 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01kf3:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 4:58 PM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Align application states to the state model,NBJ-1431,45098,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 4:49 PM,02/Feb/22 4:50 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01ken:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 4:49 PM,,21.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Handle document generation exceptions,NBJ-1430,45095,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,02/Feb/22 4:20 PM,02/Feb/22 4:20 PM,02/Feb/22 6:31 PM,,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01kdz:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 4:20 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Handle upsell allowed = no,NBJ-1429,45094,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 3:56 PM,02/Feb/22 3:56 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-778,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01kdr:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 3:56 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Display KFD/T&Cs as required in journey,NBJ-1428,45092,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 3:51 PM,02/Feb/22 3:51 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-774,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01kdb:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 3:51 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Endpoint to allow SF regeneration of a cover summary document,NBJ-1427,45090,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 3:49 PM,02/Feb/22 3:49 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-772,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01kcv:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 3:49 PM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Endpoint to allow SF generation of a SoF document,NBJ-1426,45089,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 3:49 PM,02/Feb/22 3:49 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-771,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01kcn:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 3:49 PM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Endpoint to allow SF generation of an app answers document,NBJ-1425,45087,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 3:48 PM,02/Feb/22 3:49 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-770,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01kc7:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 3:48 PM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Endpoint to allow SF generation of a decision document,NBJ-1424,45086,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 3:48 PM,02/Feb/22 3:48 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-769,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01kbz:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 3:48 PM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Endpoint to allow SF generation of a quote document,NBJ-1423,45085,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 3:48 PM,02/Feb/22 3:48 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-34,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01kbr:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 3:48 PM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Different text for underwriting note on restricted sum assured / term,NBJ-1422,45084,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 3:41 PM,02/Feb/22 3:41 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-777,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01kbj:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 3:41 PM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Make on go live app answers available on policyholder screen,NBJ-1421,45082,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 3:36 PM,02/Feb/22 3:36 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-770,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01kb3:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 3:36 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Generate on go live,NBJ-1420,45081,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 3:35 PM,02/Feb/22 3:35 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,Adviser facing version,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-770,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01kav:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 3:35 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Refactor to use app answers data generation,NBJ-1419,45080,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 3:34 PM,02/Feb/22 3:34 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-771,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00lo3:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 3:34 PM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Display app answers document on screen,NBJ-1418,45079,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 3:32 PM,02/Feb/22 3:33 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-770,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01kan:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 3:32 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Ensure decision document only available when in decision state,NBJ-1417,45078,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 3:31 PM,02/Feb/22 3:31 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-769,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01kaf:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 3:31 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Trigger app answers document,NBJ-1416,45077,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 3:31 PM,02/Feb/22 3:33 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,On demand trigger,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-770,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01ka7:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 3:31 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Show decision document on screen,NBJ-1415,45076,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 3:29 PM,02/Feb/22 3:30 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"decision screen

review screen

dashboard",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-769,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01k9z:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 3:29 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Generate Decision Document following.....a decision,NBJ-1414,45075,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 3:29 PM,02/Feb/22 3:30 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-769,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01k9r:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 3:29 PM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Decision Document - Menu data structure for covers,NBJ-1413,45074,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 3:24 PM,02/Feb/22 3:28 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-769,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 3:24 PM,,50.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Update isComplete for setup page to include bank account details,NBJ-1412,45073,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 3:21 PM,02/Feb/22 3:21 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-767,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01k9j:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 3:21 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Show underwriting notes on review page,NBJ-1411,45072,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 3:16 PM,02/Feb/22 3:16 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-766,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01k9b:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 3:16 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
isComplete on Contact Details to require children,NBJ-1410,45070,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 3:14 PM,02/Feb/22 3:14 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-765,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01k8v:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 3:14 PM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Ensure isPayoutPlannerUsed is recorded on a cover,NBJ-1409,45069,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 3:11 PM,02/Feb/22 3:12 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-764,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01k8n:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 3:11 PM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Emit event back to salesforce following return to underwriting state,NBJ-1408,45068,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 3:06 PM,02/Feb/22 3:07 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-762,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01j5v:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 3:06 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Tidy up on applicant 1 / applicant 2 loop for post underwriting dec,NBJ-1407,45056,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 1:31 PM,02/Feb/22 1:31 PM,02/Feb/22 2:06 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-760,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01k5z:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 1:31 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Enforce allowed commission styles for adviser,NBJ-1406,45054,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 1:23 PM,02/Feb/22 1:23 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-114,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01k5j:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 1:23 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Discover allowed commission styles for adviser,NBJ-1405,45053,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 1:23 PM,02/Feb/22 1:23 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-114,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01k5b:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 1:23 PM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Set the default commission style from profile,NBJ-1404,45052,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 1:19 PM,02/Feb/22 1:20 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-114,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01k53:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 1:19 PM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Application validation loosening for a pre-sale app,NBJ-1403,45051,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 1:16 PM,02/Feb/22 1:16 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-115,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01k4v:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 1:16 PM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Ensure generated at go live,NBJ-1401,45048,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 12:54 PM,02/Feb/22 12:54 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-771,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01k4f:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 12:54 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Ensure bank details are passed to the activation service,NBJ-1400,45047,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 12:52 PM,02/Feb/22 12:52 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-767,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01k47:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 12:52 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Add spinner to go-live request before finish screen shown,NBJ-1399,45046,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 12:46 PM,02/Feb/22 12:47 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,Prevent access to clicking stuff while waiting and present a spinner.,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-123,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01k3z:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 12:46 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
"Update expiry date for quote document to use latest date out of quote, application and decision",NBJ-1398,45044,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 12:42 PM,02/Feb/22 12:42 PM,02/Feb/22 6:31 PM,,,Phase 1 - Menu,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-34,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01k3j:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 12:42 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Decision screen updates to covers in NBJ2 to update salesforce,NBJ-1397,45041,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 12:29 PM,02/Feb/22 12:29 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-125,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01k2v:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 12:29 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Contact details updates in NBJ2 to inform salesforce,NBJ-1396,45040,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 12:29 PM,02/Feb/22 12:29 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-125,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01k2n:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 12:29 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Send salesforce message when URE re-opened,NBJ-1395,45039,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Jim Houghton,60cc71a22bd21400692fd2af,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 12:24 PM,02/Feb/22 12:24 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,NBJ-593,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-125,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01k2f:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 12:24 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Create MyGuardian account on go-live,NBJ-1394,45037,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 12:10 PM,02/Feb/22 12:11 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,Call unite service.,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-773,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01k1z:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 12:10 PM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Salesforce updates to accept incoming messages,NBJ-1393,45036,,Task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Ian.Douglas,5e183e85c578120daca5bc7b,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 12:07 PM,02/Feb/22 12:08 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-125,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01jsj:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,02/Feb/22 12:07 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 12:08 PM;60cc71a1d5dde800713a2124;[~accountid:5e183e85c578120daca5bc7b] - just using this ticket to track your salesforce work in the current sprint (i.e. replacing NBJ-670),,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Salesforce update for adviser first login,NBJ-1392,45031,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 11:43 AM,02/Feb/22 11:43 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-113,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01k0v:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 11:43 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Ensure policyholder tab uses policyholder data,NBJ-1391,45030,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 11:41 AM,02/Feb/22 11:42 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-113,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01k0n:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 11:41 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Ensure documents work correctly on dashboard screen,NBJ-1390,45029,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 11:36 AM,02/Feb/22 11:42 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-113,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01k0f:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 11:36 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Retrieve policyholder information from Lissia for policyholder dashboard,NBJ-1389,45027,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 11:36 AM,02/Feb/22 11:42 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-113,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01jzz:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 11:36 AM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Supply search criteria for dashboard results,NBJ-1388,45025,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 11:32 AM,02/Feb/22 11:41 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-113,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01jzj:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 11:32 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Support search by client name or application reference,NBJ-1387,45024,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 11:32 AM,02/Feb/22 11:40 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-113,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01jzb:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 11:32 AM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Ensure pagination works for dashboard,NBJ-1386,45022,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 11:32 AM,02/Feb/22 11:39 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-113,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01jyv:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 11:32 AM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Supply pagination data for dashboard,NBJ-1385,45021,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 11:32 AM,02/Feb/22 11:39 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-113,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01jyn:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 11:32 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Retrieve existing application information for dashboard,NBJ-1384,45020,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 11:31 AM,02/Feb/22 11:39 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,Get stuff from NBJ1,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-113,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01jyf:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 11:31 AM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Allow internal users to create an app and allocate to an adviser,NBJ-1383,45016,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 11:24 AM,02/Feb/22 11:26 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-114,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01jxj:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 11:24 AM,,13.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Ensure internal users can see/load all applications,NBJ-1382,45015,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 11:24 AM,02/Feb/22 11:25 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-114,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01jxb:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 11:24 AM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Determine user type (internal vs external),NBJ-1381,45014,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 11:23 AM,02/Feb/22 11:25 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-114,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01jx3:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 11:23 AM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
"Set Status of Salesforce Cover record to ""Removed"" when covered deleted in NBJ",NBJ-1379,45011,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Ian.Douglas,5e183e85c578120daca5bc7b,Ian.Douglas,5e183e85c578120daca5bc7b,Ian.Douglas,5e183e85c578120daca5bc7b,02/Feb/22 11:08 AM,02/Feb/22 5:31 PM,02/Feb/22 11:14 AM,,,,,,,,"*As an* operational underwriter or Customer Service Adviser
*So that* key application information is clear in Salesforce
*I want* Cover Records flagged as “Removed” when they are deleted in the NBJ",,Ian.Douglas,,,,,,,5e183e85c578120daca5bc7b,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* any application
*When* posting an application event to salesforce 
*And* the Salesforce application record is linked to one or more covers not present in the application event message 
*Then* the status on those covers should be set to “Removed” in Salesforce",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-125,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01jwn:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,02/Feb/22 11:08 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Update quote UI interactions to prevent covers being lost,NBJ-1378,45009,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 11:07 AM,02/Feb/22 11:07 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01jw7:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 11:07 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Update state to Apply when URE question updated,NBJ-1377,45008,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 11:06 AM,02/Feb/22 11:07 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01jvz:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 11:06 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Invalidate quote when applicant updated,NBJ-1376,45003,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 11:02 AM,02/Feb/22 11:04 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01juv:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 11:02 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 11:02 AM;60cc71a1d5dde800713a2124;[~accountid:60cc71a1d5dde800713a2124]  to check if this has already been done or not.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Allow config for URE branches to be chosen per environment.,NBJ-1375,45000,,Task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 10:38 AM,02/Feb/22 11:20 AM,02/Feb/22 1:51 PM,,,Foundation Release,,Backend_Dev,,,,,Chris.Hibbert,Jon Reynolds,,,,,,60cc71a1d5dde800713a2124,616ee20e2097220071a975d2,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,"* Add config setting to UnderwritingService - {{UnderwriteMe__Ruleset}}
* In the UnderwritingService endpoint to start a new underwriting session, pass the new config value in the request to UnderwriteMe:
** {{{{UnderwriteMe__BaseAddress}}/v4/startEnquiry?branch={{UnderwriteMe__Ruleset}}}}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01ju7:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 10:38 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-02-02 11:20:40.724,02/Feb/22 11:20 AM;616ee20e2097220071a975d2;[~accountid:60cc71a22bd21400692fd2af] - fyi - from our discussions yesterday. Either [~accountid:60cc71a1d5dde800713a2124] was thinking the same thing at the same time or you’ve had a conversation around this\!,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Ensure underwriting nav is available when post underwriting dec is shown,NBJ-1374,44999,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 10:31 AM,02/Feb/22 1:27 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-760,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01jtz:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 10:31 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
eventType as custom property in ServiceBus Event Message,NBJ-1372,44990,,Technical Story,Code Delivered,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Antony.Gorman,6149b13472728e006f9441d6,Ian.Douglas,5e183e85c578120daca5bc7b,Ian.Douglas,5e183e85c578120daca5bc7b,02/Feb/22 9:39 AM,02/Feb/22 3:14 PM,02/Feb/22 6:31 PM,,,,,,,,"As a grumpy old solution architect

Create and set a custom the eventType as a custom property on every message published to any servicebus topic

So that I can configure topic subscriptions that filter events based on the eventType",,Ian.Douglas,,,,,,,5e183e85c578120daca5bc7b,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"When any event is published to a serviceBus topic

The published message contains a custom property named “eventType”

and that custom property is populated with the same value as contained in the message body (message.eventType)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-125,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01jsf:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,02/Feb/22 9:39 AM,,1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress
Separate out SIT 11 and 12 to prevent SIT 12 notifications,NBJ-1371,44984,,Task,Code Review,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,mark.thurston@venture1consulting.com,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,mark.thurston@venture1consulting.com,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,mark.thurston@venture1consulting.com,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,02/Feb/22 9:11 AM,02/Feb/22 10:49 AM,02/Feb/22 6:31 PM,,,,,,,,"Currently, SIT 11 and SIT 12 both deploy to an environment called “SIT”. SIT 11 is used by the test team and has appropriate gates. SIT 12 is used by the devops team and does not therefore need the same gates. The solution is to separate out the two environments. This requires 3 things:

# The renaming of sit and dev to sit11 and dev11 respectively.
# The creation of 2 new ungated environments called dev12 and sit12.
# A change in the pipeline to add the number of each environment.",,mark.thurston@venture1consulting.com,,,,,,,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01jr3:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,02/Feb/22 9:11 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress
QI output for underwriters,NBJ-1370,44977,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 8:38 AM,02/Feb/22 1:11 PM,02/Feb/22 11:12 AM,,,Parked Stories & Bugs,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-115,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01jpj:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 8:38 AM,,13.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Print QI output,NBJ-1369,44976,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 8:38 AM,02/Feb/22 8:38 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-115,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01jpb:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 8:38 AM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Pot for more facts,NBJ-1368,44975,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Feb/22 8:37 AM,02/Feb/22 8:37 AM,02/Feb/22 11:12 AM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-127,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01jp3:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 8:37 AM,,24.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Replace TempClientId with clientId from Identity claim details,NBJ-1367,44928,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jon Reynolds,616ee20e2097220071a975d2,Jon Reynolds,616ee20e2097220071a975d2,01/Feb/22 5:35 PM,01/Feb/22 5:44 PM,02/Feb/22 6:31 PM,,,,,,,,"As part of [https://gghltd.atlassian.net/browse/NBJ-1361|https://gghltd.atlassian.net/browse/NBJ-1361|smart-link] and [https://gghltd.atlassian.net/browse/NBJ-1365|https://gghltd.atlassian.net/browse/NBJ-1365|smart-link] in order for documents to be generated by Lissia in non-UWT environment a tempClientId was configured in both the Application and Action Service that could be set per environment.

Once the ClientId is available from the identity claims (or another way) this can subsituted instead when making requests to the Lissia’s document service",,Jon Reynolds,,,,,,,616ee20e2097220071a975d2,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-114,,,,,,,,,,,,,,,,None,,"* Extract ClientId from identity token/claims
* Remove changes made by [https://gghltd.atlassian.net/browse/NBJ-1361|https://gghltd.atlassian.net/browse/NBJ-1361|smart-link] and use the identity client Id instead",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01jen:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,01/Feb/22 5:35 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,01/Feb/22 5:44 PM;616ee20e2097220071a975d2;[~accountid:610c00d94e8d8d0069a20d6c] [~accountid:5d94816eefc9290c2e625a11] fyi ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Validate emails using ZeroBounce API via BFF endpoint,NBJ-1366,44926,,Task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Jon Reynolds,616ee20e2097220071a975d2,Jon Reynolds,616ee20e2097220071a975d2,Jon Reynolds,616ee20e2097220071a975d2,01/Feb/22 5:17 PM,02/Feb/22 11:18 AM,02/Feb/22 1:51 PM,,,,,Backend_Dev,,,"Email address validation is provided by an APIM API request to /api/v1/validate/email?email=\{emailaddress}

The backend fulfilment of this request is provided directly by a request to [http://api.zerobounce.net.|http://api.zerobounce.net.]

In order to accomodate features like mocking, pass through email lists and rule checks it was agreed in DevOps meeting on 1st Feb that this would be better managed by wrapping the zerobounce endpoint request within a backendforfrontend (BFF) service instead. 

APIM would still manage policy concerns like CORS and caching.",,Jon Reynolds,,,,,,,616ee20e2097220071a975d2,,,,,,,,,,,,,,Hidden from EXL,NBJ-795,NBJ-796,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,"Create new BFF endpoint GET {{api/v1/backendforfrontend/emailvalidation/{email}}}

Return zerobounceresponse reflective of zerobounceapi response ie 

{noformat}{
    ""type"": ""object"",
    ""properties"": {
        ""address"": {
            ""type"": ""string""
        },
        ""status"": {
            ""type"": ""string""
        },
        ""sub_status"": {
            ""type"": ""string""
        },
        ""free_email"": {
            ""type"": ""boolean""
        },
        ""did_you_mean"": {},
        ""account"": {
            ""type"": ""string""
        },
        ""domain"": {
            ""type"": ""string""
        },
        ""domain_age_days"": {},
        ""smtp_provider"": {
            ""type"": ""string""
        },
        ""mx_found"": {
            ""type"": ""string""
        },
        ""mx_record"": {
            ""type"": ""string""
        },
        ""firstname"": {
            ""type"": ""string""
        },
        ""lastname"": {
            ""type"": ""string""
        },
        ""gender"": {
            ""type"": ""string""
        },
        ""country"": {},
        ""region"": {},
        ""city"": {},
        ""zipcode"": {},
        ""processed_at"": {
            ""type"": ""string""
        }
    }
}{noformat}

Include configuration (secret) for API key

Include configuration to allow response to be mocked ie reduce cost on calling  [api.zerobounce.net|http://api.zerobounce.net] by returning a saved response when mocking is enabled. Default mocking to false.

Invocation of this endpoint will forward the email request input from url to zerobounce api with the configured api key. The response from zero bounce will be surfaced up as is without any post transformation.

Email rulesets and pass thro list implementation will be managed by this endpont in separate tickets ",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01je7:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,01/Feb/22 5:17 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,01/Feb/22 6:05 PM;616ee20e2097220071a975d2;[~accountid:610c00d94e8d8d0069a20d6c] - fyi. let’s review and prioritise asap,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
New Application and Action Service config needed in deployed environments (SIT etc),NBJ-1365,44921,,Task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,mark.thurston@venture1consulting.com,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,Jason Hughes,613f60991370f00069033c68,Jason Hughes,613f60991370f00069033c68,01/Feb/22 4:41 PM,01/Feb/22 5:18 PM,02/Feb/22 6:31 PM,,,,,,,,"We have added some new config in UWT that needs to be replicated in the automatically deployed environments.

We need the same key and value available to both the *Action* and *Application* Services.

||*Key*||*Value*||
|Temp__ClientId|10023159|",,Jason Hughes,mark.thurston@venture1consulting.com,,,,,,613f60991370f00069033c68,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-1361,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009hzzzvyi,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,01/Feb/22 4:41 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-02-01 16:53:49.565,01/Feb/22 4:53 PM;557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96;[~accountid:613f60991370f00069033c68] Ta\!,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Make Lissia user configurable,NBJ-1361,44890,,Technical Story,Code Delivered,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Jason Hughes,613f60991370f00069033c68,Jason Hughes,613f60991370f00069033c68,Jason Hughes,613f60991370f00069033c68,01/Feb/22 2:41 PM,02/Feb/22 9:08 AM,02/Feb/22 6:31 PM,,,,,,,,"At the moment we are using a hard-coded userId to pass through to Lissia.

This was fine for UWT but for SIT we need a different value, so we are extracting it to config.

(Once all the authentication work is done the value will come from that and this temporary value will be removed)",,Jason Hughes,,,,,,,613f60991370f00069033c68,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Can still create a quote document,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,"Have added the same key and value available to both the *Action* and *Application* Services in UWT

||*Key*||*Value*||
|Temp__ClientId|10004191|",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01j7b:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,01/Feb/22 2:41 PM,,2.0,,,,,,,,,,,,,,,,,,If you can still create the initial quote document this will have worked.,,,,,,,,,,,,,,,,"01/Feb/22 5:23 PM;613f60991370f00069033c68;While looking at this Mike Hill thought we could use AdviserAtFirmId eg (a0r0E000004pFFfQAM) instead of ClientId (eg 10004191) when talking to Lissia. This would have been great as we already had this value in config.

But when I tested it no documents were created, so we went with ClientId and he gave me a valid value to use in SIT config - see the linked ticket",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress
Update manual underwriting decision - on decision from salesforce,NBJ-1360,44886,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,01/Feb/22 2:32 PM,02/Feb/22 3:09 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,Might need to blow away a persisted manual uw decision.,,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-762,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01j6f:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,01/Feb/22 2:32 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Consume event from manual underwriting to ensure case referred,NBJ-1359,44883,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,01/Feb/22 2:31 PM,02/Feb/22 3:06 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,NBJ-1408,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-762,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01j5r:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,01/Feb/22 2:31 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Create automated & scheduled release trigger for sit releases,NBJ-1358,44848,,Task,In Progress,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,mark.thurston@venture1consulting.com,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,01/Feb/22 1:04 PM,02/Feb/22 1:45 PM,01/Feb/22 1:04 PM,,,,,,,,"Enable a trigger to schedule nightly releases from UWT to SIT

* The trigger must adhere to the gating practices currently in place (all* sit releases must have Sandra approval)
* The trigger must run the smoke test pack
* The trigger should notify the development team 



*”all” means all “11” environments. Sandra has approved a zero-gate for “12” which is used only by the devops team to test.",,Gareth Hailes,,,,,,,5ed8c4bc4ec4270ba3725b85,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwib9:zz2,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,01/Feb/22 1:04 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress
Add azure function app and service bus support to the fact service,NBJ-1357,44838,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,mark.thurston@venture1consulting.com,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,Antony.Gorman,6149b13472728e006f9441d6,Antony.Gorman,6149b13472728e006f9441d6,01/Feb/22 12:47 PM,02/Feb/22 5:38 PM,02/Feb/22 3:54 PM,,,,,,,,"We have a new azure function in UWT *_fa-uwt-factservice_* which requires .NET 6 and and runs as an isolated host.

It needs the following equivalent configuration (over and above the usual storage and app insights configuration).

""AzureWebJobsServiceBus"": ""<service bus connection string>"",
""FUNCTIONS_WORKER_RUNTIME"": ""dotnet-isolated"",
""Cosmos:ConnectionString"" : ""<cosmos connection string>"",
""Cosmos:DatabaseId"" : ""guardian"",
""Cosmos:ContainerId"" : ""fact""

We’ll also need a new Cosmos container with the name *_fact_* it needs a partition key path of /partitionKey and we’ll also need a new service bus queue in the standard service bus connection also called *_fact_*



We’ll also need a new configuration setting in the action service as below
 

{noformat}  ""FactSettings"" : {
    ""QueueName"": ""fact""
  }{noformat}",,Antony.Gorman,Jason Hughes,mark.thurston@venture1consulting.com,,,,,6149b13472728e006f9441d6,613f60991370f00069033c68,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01iw7:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,01/Feb/22 12:47 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-02-02 11:17:21.118,"02/Feb/22 11:17 AM;557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96;[~accountid:6149b13472728e006f9441d6] - The SIT pipeline doesn’t deploy “fa-uwt-factservice”, so whilst I could create the app settings in SIT, the Function App wouldn’t pick them up anyway. So, I’m not sure what’s needed here? (In fact, none of the Function Apps are touched by the SIT pipeline. So, if they need to point to something in SIT, the app settings will need to be done manually as they are now.)",02/Feb/22 4:57 PM;557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96;[~accountid:613f60991370f00069033c68] - Thanks for confirming this is not critical in Slack. I’ll action it this sprint as planned.,"02/Feb/22 5:38 PM;613f60991370f00069033c68;[~accountid:557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96] The function app and cosmos parts aren’t critical (although we will need them in the near future)

However the new queue, and the action service config that points to it are critical. If a new SIT release is done without those 2 everything will break again.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Allow females to enter waist size,NBJ-1355,44822,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,01/Feb/22 10:46 AM,01/Feb/22 10:47 AM,02/Feb/22 6:31 PM,,,Parked Stories & Bugs,,,,,,,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,UR-132,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01isn:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,01/Feb/22 10:46 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Add JSON representation to Common Data Model docs,NBJ-1354,44818,,Task,In Progress,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,01/Feb/22 10:15 AM,02/Feb/22 9:22 AM,02/Feb/22 6:31 PM,,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-1288,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01irr:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,01/Feb/22 10:15 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress
Devops Pipeline Values Locations Document,NBJ-1353,44810,,Task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,mark.thurston@venture1consulting.com,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,mark.thurston@venture1consulting.com,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,mark.thurston@venture1consulting.com,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,01/Feb/22 9:27 AM,02/Feb/22 8:47 AM,02/Feb/22 6:31 PM,,,,,,,,"The pipelines store various values in various locations, such as the pipeline code itself, to Key Vaults and so on. There is a separate document that details what (and how) is stored in App Configuration v Key Vaults (as a comparison). This task is a higher level ""lookup catalog"" of ""hat goes where?"". It is intended to be used by anyone maintaining the deployment pipelines moving forwards.
",,mark.thurston@venture1consulting.com,,,,,,,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01ipz:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,01/Feb/22 9:27 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Solution maturity matrix,NBJ-1352,44809,,Task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,01/Feb/22 9:17 AM,01/Feb/22 9:17 AM,02/Feb/22 6:31 PM,,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-1288,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01ipr:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,01/Feb/22 9:17 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Architectural checklist,NBJ-1351,44808,,Task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,01/Feb/22 9:15 AM,01/Feb/22 9:15 AM,02/Feb/22 6:31 PM,,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-1288,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01ipj:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,01/Feb/22 9:15 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Infosec checklist,NBJ-1350,44807,,Task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,01/Feb/22 9:15 AM,01/Feb/22 9:15 AM,02/Feb/22 6:31 PM,,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-1288,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01ipb:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,01/Feb/22 9:15 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
S9 SIT - Quote page - no price returned (no error message),NBJ-1364,44792,,Bug,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Chris.Hibbert,60cc71a1d5dde800713a2124,veronika.cole,5dfb48a2d501d70cb60120b4,veronika.cole,5dfb48a2d501d70cb60120b4,31/Jan/22 5:18 PM,01/Feb/22 3:56 PM,02/Feb/22 6:31 PM,,Foundation Release,Foundation Release,,AdviserExtranet,Quote,,"Create single life application with the following covers:
Life decreasing £100,000
CI FIB £450
ACI decreasing £80,000
Child CI £20,000

Click ‘Get price’

No price is returned and no error message is shown either.

See the attachment for more details URL’s",SIT,Sandra Albertson,veronika.cole,,,,,,61813a8af485cd00681db7bd,5dfb48a2d501d70cb60120b4,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,31/Jan/22 5:18 PM;veronika.cole;Quote page.docx;https://gghltd.atlassian.net/secure/attachment/25549/Quote+page.docx,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,SIT,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01ilz:,,,,,,,,,,,,,,,,,,,,,,,,NBJ Testing - Sprint 9,,,,,,31/Jan/22 5:18 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-02-01 14:47:15.857,01/Feb/22 2:47 PM;61813a8af485cd00681db7bd;Clone to NBJ Backlog,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Trigger underwriting decision event on close of enquiry,NBJ-1349,44783,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,High,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,31/Jan/22 4:15 PM,02/Feb/22 12:25 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As an* operation underwriter
*So that* I can make a manual decision accurately and efficiently
*I want* an update foreach client when they complete underwriting questions

{panel:bgColor=#deebff}
This story is about ensuring decision events are triggered each time an underwriting session is closed
{panel}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,NBJ-596,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-125,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwib9:zze,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,31/Jan/22 4:15 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Send Salesforce message on activation,NBJ-1348,44781,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Jon Reynolds,616ee20e2097220071a975d2,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,31/Jan/22 3:59 PM,02/Feb/22 12:09 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As an* operational Underwriter or admin. user
*So that* I know an application has been activated
*I want* Salesforce updated when an application is successfully activated onto Lissia

{panel:bgColor=#deebff}
This story is about sending an event to Salesforce when an application is activated onto Lissia
{panel}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,NBJ-970,,,,,,,,,,,,NBJ-582,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* any application
*When* closing an enquiry
*And* application.status has been updated to “Went on Risk”
*Then* send a go live event to Salesforce
*And* body of the event contains full upto date application data, underwritingOutcome data (particularly risk decisions), and quote data

{panel:bgColor=#deebff}
NB - architects need to ensure all additional data collected between decision and go live is included - e.g. bank details, start date, etc.
{panel}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-125,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwib9:zzf,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,27/Jan/22 4:23 PM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
"S9 SIT - Quote page - wrong cover(s) limits, missing or wrong validation message shown",NBJ-1363,44779,,Bug,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Chris.Hibbert,60cc71a1d5dde800713a2124,veronika.cole,5dfb48a2d501d70cb60120b4,veronika.cole,5dfb48a2d501d70cb60120b4,31/Jan/22 3:50 PM,01/Feb/22 3:55 PM,02/Feb/22 6:31 PM,,,Foundation Release,,Quote,,,"Create a Single life application and check cover(s) minimum and maximum amounts can be applied.
And check the correct validation message is displayed.

e.g. Live decreasing cover - maximum cover amount up to £15 million
Maximum of “9,999,999 can be applied for

Live Family income benefit - maximum of £2,500
The current maximum is £20,0000



NOTE: please ‘£' sign and commas to separate thousands and millions place value.

Test evidence is attached together with the current product rules.",,Sandra Albertson,veronika.cole,,,,,,61813a8af485cd00681db7bd,5dfb48a2d501d70cb60120b4,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,31/Jan/22 3:43 PM;veronika.cole;Quote page - cover validation.docx;https://gghltd.atlassian.net/secure/attachment/25547/Quote+page+-+cover+validation.docx,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,SIT,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01ijj:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,31/Jan/22 3:50 PM,,,,,,,,,,,,,,,,,,veronika.cole,5dfb48a2d501d70cb60120b4,,,,,,,,,,,,,,,,2022-02-01 14:49:17.571,01/Feb/22 2:49 PM;61813a8af485cd00681db7bd;Clone to NBJ project - UI issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Quick quote decision and quote decision model have differently capitalized 'origin',NBJ-1347,44773,,Bug,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Lowest,,Chris.Hibbert,60cc71a1d5dde800713a2124,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,31/Jan/22 3:13 PM,31/Jan/22 3:13 PM,02/Feb/22 6:31 PM,,,,,,,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* A quick quote decision is returned from the action service with an ‘origin’ value of ‘ure’. When that same decision is retrieved from the quote on the application dto (quote.quoteApplicants.quoteDecisionModel) the ‘origin’ is ‘URE’. 

*Business Impact:* None, only an issue for testing - this ticket is to just record the issue and to discover if this will change or the tests will have to cope

*Steps to Reproduce:* 

{quote}Given I set up an application from test case OneLifeOneCi
When I trigger a quote
Then the quote decision model matches the quick quote decision for applicant 0{quote}



*Expected Results:* the quote decision model matches the quick quote decision for applicant 0

*Actual Result:* the ‘origin’ field differs between the quote decision model and the quick quote decision for a given applicant

*Version:* ?",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01ii7:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,31/Jan/22 3:13 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Pipeline to run the Cypress UI frontend tests,NBJ-1346,44762,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,31/Jan/22 2:31 PM,01/Feb/22 9:33 AM,01/Feb/22 12:53 PM,,,,,,,,"We would like to have a pipeline to run the Cypress UI tests every time we push changes to the repo or on demand.

This is a very similar requirement to what was put in place for the API tests.

!image-20220131-142040.png|width=2058,height=800!

[https://dev.azure.com/guardian1821/Common/_build?definitionId=162|https://dev.azure.com/guardian1821/Common/_build?definitionId=162]

We have an azure repo for the tests -

[https://dev.azure.com/guardian1821/Common/_git/WebAcceptanceTest|https://dev.azure.com/guardian1821/Common/_git/WebAcceptanceTest]

This includes a readme file with the installation instructions.

Essentially I believe the pipeline would need to do the following -

# Install node js
# Install the npm packages required for the tests - npm install
# Run the tests using the script in the package json (npm run cy:run)
# Publish test results

There is a mochawesome report that is produced.  I’m not sure if this in the format required for the test results in azure.  As per the reporting options in the cypress.json this should be written to cypress/results.  We can look to change the reporter if that helps with showing the results.

!image-20220131-142750.png|width=1444,height=717!

In the past I have produced a junit version of the report as per -

[https://stackoverflow.com/questions/59046079/is-there-any-way-to-show-cypress-test-results-in-azure-devops-test-results-tab|https://stackoverflow.com/questions/59046079/is-there-any-way-to-show-cypress-test-results-in-azure-devops-test-results-tab|smart-link] ",,Justin.Smith,,,,,,,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,31/Jan/22 2:31 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220131-142040.png;https://gghltd.atlassian.net/secure/attachment/25524/image-20220131-142040.png,31/Jan/22 2:31 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220131-142750.png;https://gghltd.atlassian.net/secure/attachment/25525/image-20220131-142750.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwib9:zz4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,31/Jan/22 2:31 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
"Tab order: when 'ENTER ADDRESS MANUALLY' is clicked, the cursor does not start in the first manual address field",NBJ-1345,44757,,Bug,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Lowest,,Chris.Hibbert,60cc71a1d5dde800713a2124,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,31/Jan/22 2:07 PM,31/Jan/22 2:10 PM,02/Feb/22 6:31 PM,,,,,,,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* When 'ENTER ADDRESS MANUALLY' is clicked on the client details screen, the cursor does not start in the first manual address field

*Business Impact:* Low - usability concern but nothing functional

*Steps to Reproduce:*  Click on the 'ENTER ADDRESS MANUALLY' link on the client details screen

*Expected Results:* cursor moves to the first manual address field after it is made visible/appears

*Actual Result:* Cursor is moved somewhere else (possibly a hidden element before the mortgage question)

*Version:* unknown",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01ien:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,31/Jan/22 2:07 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Update back end service to provide validUntilDate,NBJ-1344,44741,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,31/Jan/22 11:57 AM,31/Jan/22 2:18 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As an* advisor 
*I want* the expiry date relevant to me to be shown in the summary panel
*So that* I know how long I have left to complete the app.

Just to clarify, the “Valid until” date shown on the summary panel is:
offerExpiryDate if it exists, else applicationExpiryDate if it exists , else quoteExpiryDate
So on the decision screen will always be offerExpiryDate or applicationExpiryDate
On the quote screen will be the offerExpiryDate or applicationExpiryDate or quoteExpiryDate depending on progress\!

!Screenshot 2021-12-23 at 10.41.34.png|width=1262,height=196!",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given*: an application
*When*: the application has an offerExpiryDate
*Then*: the {{validUntilDate}}  is the offerExpiryDate

*Given*: an application
*When*: the application does not have an offerExpiryDate
*and*: the application has an expiryDate
*Then*: the {{validUntilDate}} is the expiryDate

*Given*: an application
*When*: the application does not have an offerExpiryDate
*and*: the application does not have an expiryDate
and: the application has a quote.expiryDate
*Then*: the {{validUntilDate}} is the quote.expiryDate

*Given*: an application
*When*: none of offerExpiryDate, expiryDate or quote.expiryDate exist
*Then*: the {{validUntilDate}} is null",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,,,"# Need to extend the current BFF status endpoint [https://\{host}/api/v1/backendforfrontend/statuses/\{applicationId}|https://ggh-uwt-api.gghltest.co.uk/api/v1/backendforfrontend/statuses/G000158769] to include a new ValidUntilDate that will be used by UI to display the correct date in the summary panel for the given status of the application.
# Reshape the response DTO as shown in the JSON below so that each page is a property of the pages object instead of being an array and both the status and ValidUntilDate are properties of the application.
# Use the acceptance criteria above to set the validUntilDate correctly for the status of the application.
# Set the validUntilDate in the same format as it appears in the application object model.

{noformat}{
  ""data"": {
    ""pages"": {
      ""contactDetails"": {
        ""isComplete"": true | false
      },
      ""clientDetails"": {
        ""isComplete"": true | false
      },
      ""quote"": {
        ""isComplete"": true | false
      },
      ""application"": {
        ""isComplete"": true | false
      },
      ""decision"": {
        ""isComplete"": true | false
      },
      ""setup"": {
        ""isComplete"": true | false
      }   
    },
    ""application"": {
      ""status"": string,
      ""validUntilDate"": date
    }
  } 
}{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,1|hzwie4:9,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Include access token in all headers to backend,NBJ-1343,44740,39203,Sub-task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,31/Jan/22 11:52 AM,31/Jan/22 11:52 AM,02/Feb/22 6:31 PM,,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01ibb:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,31/Jan/22 11:52 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,39203,Restrict access to frontend to logged in users,To Do
Integrate MSAL-react lib,NBJ-1342,44739,39203,Sub-task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,31/Jan/22 11:51 AM,31/Jan/22 11:51 AM,02/Feb/22 6:31 PM,,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01ib3:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,31/Jan/22 11:51 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,39203,Restrict access to frontend to logged in users,To Do
Front-end : Ensure state mappings on UI expect the new state values,NBJ-1341,44738,44330,Sub-task,Acceptance Testing,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Justin.Smith,618bdfc5fba4d0006ad4853e,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,31/Jan/22 11:34 AM,02/Feb/22 11:46 AM,02/Feb/22 6:31 PM,,,,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01iav:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,31/Jan/22 11:34 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,44330,Update application status enum to change all states,In Progress
Remove and move app from adviser dashboard,NBJ-1340,44729,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Ian.Douglas,5e183e85c578120daca5bc7b,helen.scriven,5dbd6f97fc11e40c2ff452a7,helen.scriven,5dbd6f97fc11e40c2ff452a7,31/Jan/22 8:41 AM,31/Jan/22 8:43 AM,02/Feb/22 6:31 PM,,,,,,,,As an IT Support Analyst I want to be able to remove an application from an adviser's dashboard or assign it to a different adviser's dashboard,,helen.scriven,,,,,,,5dbd6f97fc11e40c2ff452a7,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-113,,,,,,,,,,,,,,,,None,,With NBJ1 the removal is actioned by removing the index but this is not possible with NBJ1. With NBJ1 the reassignment is not possible.,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01i8v:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,31/Jan/22 8:41 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,31/Jan/22 8:43 AM;5dbd6f97fc11e40c2ff452a7;[~accountid:5e183e85c578120daca5bc7b] could you please confirm with John R that this will be possible with the new architecture. [~accountid:5db187687b20d80c2a25b574] [~accountid:6061ac5d00b79f0070aa4ad3] FYI,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Restrict document access for logged in user,NBJ-1338,44727,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,30/Jan/22 11:52 PM,30/Jan/22 11:53 PM,02/Feb/22 6:31 PM,,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-114,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01i8f:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,30/Jan/22 11:52 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Generate correct premiums and commission values for logged in user,NBJ-1337,44726,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,30/Jan/22 11:52 PM,30/Jan/22 11:53 PM,02/Feb/22 6:31 PM,,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-114,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01i87:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,30/Jan/22 11:52 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
ApplicationService - find application by applicant ID,NBJ-1336,44723,39204,Sub-task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,30/Jan/22 8:44 PM,30/Jan/22 8:44 PM,02/Feb/22 6:31 PM,,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01i7j:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,30/Jan/22 8:44 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,39204,"Restrict application, applicant and cover operations for the logged in user",To Do
ApplicationService - delete cover,NBJ-1335,44722,39204,Sub-task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,30/Jan/22 8:44 PM,30/Jan/22 8:44 PM,02/Feb/22 6:31 PM,,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01i7b:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,30/Jan/22 8:44 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,39204,"Restrict application, applicant and cover operations for the logged in user",To Do
ApplicationService - edit cover,NBJ-1334,44721,39204,Sub-task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,30/Jan/22 8:44 PM,30/Jan/22 8:44 PM,02/Feb/22 6:31 PM,,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01i73:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,30/Jan/22 8:44 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,39204,"Restrict application, applicant and cover operations for the logged in user",To Do
ApplicationService - add cover to applicant,NBJ-1333,44720,39204,Sub-task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,30/Jan/22 8:43 PM,30/Jan/22 8:43 PM,02/Feb/22 6:31 PM,,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01i6v:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,30/Jan/22 8:43 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,39204,"Restrict application, applicant and cover operations for the logged in user",To Do
ApplicationService - edit applicant,NBJ-1332,44719,39204,Sub-task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,30/Jan/22 8:43 PM,30/Jan/22 8:43 PM,02/Feb/22 6:31 PM,,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01i6n:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,30/Jan/22 8:43 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,39204,"Restrict application, applicant and cover operations for the logged in user",To Do
ApplicationService - delete applicant,NBJ-1331,44718,39204,Sub-task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,30/Jan/22 8:43 PM,30/Jan/22 8:43 PM,02/Feb/22 6:31 PM,,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01i6f:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,30/Jan/22 8:43 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,39204,"Restrict application, applicant and cover operations for the logged in user",To Do
ApplicationService - add applicant,NBJ-1330,44716,39204,Sub-task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,30/Jan/22 8:36 PM,30/Jan/22 8:43 PM,02/Feb/22 6:31 PM,,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01i5z:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,30/Jan/22 8:36 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,39204,"Restrict application, applicant and cover operations for the logged in user",To Do
ApplicationService - read application,NBJ-1329,44715,39204,Sub-task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,30/Jan/22 8:36 PM,30/Jan/22 8:43 PM,02/Feb/22 6:31 PM,,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01i5r:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,30/Jan/22 8:36 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,39204,"Restrict application, applicant and cover operations for the logged in user",To Do
Improve resilience of dashboard,NBJ-1328,44703,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,28/Jan/22 5:20 PM,02/Feb/22 11:17 AM,02/Feb/22 6:31 PM,02/Feb/22 11:17 AM,,Foundation Release,,,,,Adjust the dateHelper to not fail and break the f/e on a nulll date,,Chris.Hibbert,Justin.Smith,,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 11:17 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220202-111603.png;https://gghltd.atlassian.net/secure/attachment/25584/image-20220202-111603.png,02/Feb/22 11:17 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220202-111627.png;https://gghltd.atlassian.net/secure/attachment/25585/image-20220202-111627.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-113,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01i33:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,Guardian Sprint 9,,,,,28/Jan/22 5:20 PM,,1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-02-02 11:17:03.987,"02/Feb/22 11:17 AM;618bdfc5fba4d0006ad4853e;I can see the dashboard is ok even with a application with a null creation date.

!image-20220202-111603.png|width=1719,height=949!

!image-20220202-111627.png|width=2003,height=988!

Happy to close.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Manage Application Page Section Navigation Enablement by backend API service,NBJ-1327,44658,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jon Reynolds,616ee20e2097220071a975d2,Jon Reynolds,616ee20e2097220071a975d2,28/Jan/22 2:48 PM,02/Feb/22 10:58 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As an* adviser
*So that* I know where I can navigate when I do or do not have a valid quote
*I want* the navigation to be enabled or disabled accordingly



*Context*

The logic to manage the enablement of tabs across the new business journey has become a complex UI concern so far. In the same way a backendforfrontendservice manages if a page section has been completed or not the service call should be extended to manage where the page sections should be enabled or disabled by business rules in the backend. This allows the UI to manage navigation more easily",,Jon Reynolds,,,,,,,616ee20e2097220071a975d2,,,,,,,,,,,,,,Hidden from EXL,NBJ-1205,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Need to ensure that the current navigation rules as depicted in [https://gghltd.atlassian.net/browse/NBJ-937|https://gghltd.atlassian.net/browse/NBJ-937|smart-link], [https://gghltd.atlassian.net/browse/NBJ-938|https://gghltd.atlassian.net/browse/NBJ-938|smart-link] and [https://gghltd.atlassian.net/browse/NBJ-1132|https://gghltd.atlassian.net/browse/NBJ-1132|smart-link]  are withheld by these changes i.e no change to current page section enablement and disablement.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,"Extend the response as defined from the implementation of [https://gghltd.atlassian.net/browse/NBJ-1045|https://gghltd.atlassian.net/browse/NBJ-1045|smart-link] to include a new IsEnabled property for each page section:

{noformat}{
  ""data"": {
    ""pages"": {
      ""contactDetails"": {
        ""isComplete"": true | false,
        ""isEnabled"": true | false
      },
      ""clientDetails"": {
        ""isComplete"": true | false,
        ""isEnabled"": true | false
      },
      ""quote"": {
        ""isComplete"": true | false,
        ""isEnabled"": true | false
      },
      ""application"": {
        ""isComplete"": true | false,
        ""isEnabled"": true | false
      },
      ""decision"": {
        ""isComplete"": true | false,
        ""isEnabled"": true | false
      },
      ""setup"": {
        ""isComplete"": true | false,
        ""isEnabled"": true | false
      }   
    },
    ""application"": {
      ""status"": string,
      ""validUntilDate"": date
    }
  } 
}{noformat}

Use the following business rules to determine how each IsEnabled is set for each page section:

||*Page Section*||*IsEnabled*||
|clientDetails|true|
|quote|if client details section is complete|
|contactDetails|if client details section is complete|
|application|if quote section is complete and application.status == apply|
|decision|if application status == decision or underwriting and decision is complete|
|setup|if ClientDetails page section is complete|",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwib9:zzzx,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28/Jan/22 2:48 PM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28/Jan/22 3:27 PM;616ee20e2097220071a975d2;[~accountid:60cc71a1d5dde800713a2124] - From technical design session with Mike P and Sam I have created this ticket for next sprint to take the enablement of the page sections away from the UI into the backend service. This will help as the complexity of [https://gghltd.atlassian.net/browse/NBJ-1236|https://gghltd.atlassian.net/browse/NBJ-1236|smart-link] can be managed behind the scenes in the backend when we mutate covers,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Update UI to ensure new values for gender show correctly,NBJ-1326,44656,41651,Sub-task,Code Review,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Mike,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,28/Jan/22 2:45 PM,02/Feb/22 1:46 PM,02/Feb/22 6:31 PM,,,,,,,,,,Chris.Hibbert,Mike,,,,,,60cc71a1d5dde800713a2124,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,Impediment,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01hsn:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,Guardian Sprint 9,,,,,28/Jan/22 2:45 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-02-02 08:32:18.4,28/Jan/22 2:46 PM;60cc71a1d5dde800713a2124;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5]  - a further data change to be aware of.,02/Feb/22 8:32 AM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;Change done in [https://gghltd.atlassian.net/browse/NBJ-1326|https://gghltd.atlassian.net/browse/NBJ-1326|smart-link] which is blocked until [https://gghltd.atlassian.net/browse/NBJ-1272|https://gghltd.atlassian.net/browse/NBJ-1272|smart-link] is done.,02/Feb/22 1:45 PM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;[~accountid:60cc71a1d5dde800713a2124] this is still in review awaiting [https://gghltd.atlassian.net/browse/NBJ-1272|https://gghltd.atlassian.net/browse/NBJ-1272|smart-link],,,,,,,,,,,,,,,,,,,,,,,,,,,41651,Invalid values being used for gender,In Progress
Sprint 8 - Gender not getting recorded/persisted correctly while completing application; also causes automation tests to fail,NBJ-1325,44654,,Bug,Code Review,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Mike,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,28/Jan/22 2:32 PM,02/Feb/22 1:46 PM,02/Feb/22 6:31 PM,,,,,,,,,,Mike,Nathan Punzalan,,,,,,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,613f22fdff23ba00715469d1,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28/Jan/22 2:33 PM;nathan.punzalan;image-20220128-143340.png;https://gghltd.atlassian.net/secure/attachment/25495/image-20220128-143340.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: 

Gender not getting recorded/persisted correctly while completing the application; also causes automation tests to fail.

Steps to Reproduce:

# Create application
# Enter client details while ensuring you select a gender
# Add a cover and Get price
# Click Apply
# Go back to the Client details page

Expected Results: 

Gender field is still filled in based on what you set it as initially.

Actual Result: 

No Gender option is selected.

!image-20220128-143340.png|width=1279,height=644!",,{},,,,,,,,,,,,,,,Impediment,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01hs7:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,Guardian Sprint 9,,,,,28/Jan/22 2:32 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-02-02 08:32:55.369,02/Feb/22 8:32 AM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;Fix covered in [https://gghltd.atlassian.net/browse/NBJ-1326|https://gghltd.atlassian.net/browse/NBJ-1326|smart-link] ,02/Feb/22 1:45 PM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;[~accountid:60cc71a1d5dde800713a2124] This is also in review awaiting [https://gghltd.atlassian.net/browse/NBJ-1326|https://gghltd.atlassian.net/browse/NBJ-1326|smart-link] - sorry should have flagged this one,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress
Sprint 8 - Setting a telephone number in Contact details with an International format causes a fail when putting policy in force,NBJ-1324,44653,,Bug,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Chris.Hibbert,60cc71a1d5dde800713a2124,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,28/Jan/22 2:24 PM,31/Jan/22 12:29 PM,02/Feb/22 6:31 PM,,,,,,,,,,Nathan Punzalan,,,,,,,613f22fdff23ba00715469d1,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28/Jan/22 2:24 PM;nathan.punzalan;image-20220128-142352.png;https://gghltd.atlassian.net/secure/attachment/25493/image-20220128-142352.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: 

Setting a telephone number in Contact details with an International format causes a fail when putting policy in force.

Steps to Reproduce:

# Create application
# Enter valid client details and valid cover
# On the Contact details tab, enter an international telephone number for *Telephone/mobile* (e.g. +44 788384222)
# Continue with the application and complete setup
# Put policy in force

Expected Results: 

Policy is activated.

Actual Result: 

Error occurs while trying to activate the policy.

!image-20220128-142352.png|width=1279,height=645!",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01hrz:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,Guardian Sprint 9,,,,,28/Jan/22 2:24 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Create facts when application is activated on Lissia,NBJ-1323,44635,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,28/Jan/22 11:44 AM,31/Jan/22 11:29 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As an* application support user
*So that* I can investigate application errors
*I want* all a fact persisted when an application goes on risk


{panel:bgColor=#deebff}
This story is building on [https://gghltd.atlassian.net/browse/NBJ-429|https://gghltd.atlassian.net/browse/NBJ-429|smart-link] to persist facts when an application attempts to go on risk with Lissia.
{panel}",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* any activation request

{noformat}POST /api/v1/actions/activateApplication/{{applicationId}}{noformat}

*Then* a fact is saved with the state of the application when the request was made

||*fact schema item*||*value*||
|id|Unique id (GUID)|
|calingSystem|NBJ2|
|applicationId|Application reference (e.g. G100000001)|
|eventName|ACTIVATION_TRIGGERED|
|eventCreatedDatetime|UTC timestamp of event|
|partitionKey|Application reference (e.g. G100000001)|
|factType|application|
|contentType|JSON|
|payload|application DTO|



*Given* an application with activation triggered
*When* a request is made to the activation service

{noformat}POST /api/v1/activate{noformat}

*Then* a fact is persisted about the activation request

||*fact schema item*||*value*||
|id|Unique id (GUID)|
|calingSystem|NBJ2|
|applicationId|Application reference (e.g. G100000001)|
|eventName|ACTIVATION_REQUESTED|
|eventCreatedDatetime|UTC timestamp of event|
|partitionKey|Application reference (e.g. G100000001)|
|factType|activation|
|contentType|JSON|
|payload|activation DTO|



*Given* a request to the activation service
*When* a request is made to Lissia
*Then* a fact is persisted about the Lissia activation request

||*fact schema item*||*value*||
|id|Unique id (GUID)|
|calingSystem|NBJ2|
|applicationId|Application reference (e.g. G100000001)|
|eventName|LISSIA_ACTIVATION_REQUESTED|
|eventCreatedDatetime|UTC timestamp of event|
|partitionKey|Application reference (e.g. G100000001)|
|factType|lissiaActivationXmlRequest|
|contentType|XML|
|payload|lissia activation xml request|



*Given* a request to the activation service
*When* a response is recieved from Lissia
*Then* a fact is persisted about the Lissia activation response

||*fact schema item*||*value*||
|id|Unique id (GUID)|
|calingSystem|NBJ2|
|applicationId|Application reference (e.g. G100000001)|
|eventName|LISSIA_ACTIVATION_CREATED|
|eventCreatedDatetime|UTC timestamp of event|
|partitionKey|Application reference (e.g. G100000001)|
|factType|lissiaActivationXmlResponse|
|contentType|XML|
|payload|lissia activation xml response|",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-127,,,,,,,,,,,,,,,,None,,"Build on [https://gghltd.atlassian.net/browse/NBJ-429|https://gghltd.atlassian.net/browse/NBJ-429|smart-link]

Fact service overview - [https://gghltd.atlassian.net/wiki/spaces/NP/pages/3137470507/FactService|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3137470507/FactService|smart-link] 

Fact service schema - [https://gghltd.atlassian.net/wiki/spaces/NP/pages/3168632854/Fact+schema|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3168632854/Fact+schema|smart-link] 

Fact service catalogue - [https://gghltd.atlassian.net/wiki/spaces/NP/pages/3169157139/Fact+Catalogue|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3169157139/Fact+Catalogue|smart-link] ",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwib9:zzzv,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28/Jan/22 11:44 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Sprint 8 | Setup page | Enter a start date which is today's data and backendforfrontend service is not called,NBJ-1322,44633,,Bug,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Chris.Hibbert,60cc71a1d5dde800713a2124,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,28/Jan/22 11:35 AM,30/Jan/22 10:13 PM,02/Feb/22 6:31 PM,,,,,,,,,,Justin.Smith,,,,,,,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28/Jan/22 11:36 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220128-113619.png;https://gghltd.atlassian.net/secure/attachment/25485/image-20220128-113619.png,28/Jan/22 11:49 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220128-114900.png;https://gghltd.atlassian.net/secure/attachment/25490/image-20220128-114900.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: Enter a start date of today on the setup page and the backendforfrontend service is not called

Business Impact: Medium

Steps to Reproduce: 

# Add client details, cover, quote, contact details, application questions, get decision
# On the setup tab click on the ‘Start date for the policy’ and select ‘In the future - I know the date’
# Enter today’s date and the backendforfrontend service is not called - {{https://ggh-uwt-api.gghltest.co.uk/api/v1/backendforfrontend/application/policyStartDate}}

!image-20220128-113619.png|width=2059,height=1057!



Expected Results: Backendforfrontend to be called

Actual Result:  Backendforfrontend is not called

Version: N/A",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01ho7:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28/Jan/22 11:35 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Jan/22 11:49 AM;618bdfc5fba4d0006ad4853e;[~accountid:60cc71a1d5dde800713a2124] I have noticed that if the application has no offer expiry date I can select any future date but the backendforfrontend service is not called.

\{""data"":\{""id"":""G000158088"",""schema"":\{""version"":""1.2"",""type"":""Application""},""isMortgageRelated"":null,""thirdPartyRef"":null,""quoteAgeDate"":""2022-01-28T00:00:00+00:00"",""initialCommissionSacrificePercentage"":0,""initialIndemnityPercentage"":100,""applicants"":\[\{""id"":""af1809b9-0907-4fff-b5a4-f7c82c5ef09f"",""firstName"":""Justin"",""lastName"":""Smith"",""dateOfBirth"":""1990-01-01T00:00:00"",""gender"":""Male"",""height"":null,""weight"":null,""title"":""Mr"",""smoker"":null,""smoking"":""SMOKER"",""contact"":null,""covers"":\[],""acceptedPreUnderwritingDeclaration"":false,""documentation"":null}],""quote"":null,""status"":""pre-quote"",""documentation"":null,""isAdvisedSale"":null,""policyStartDate"":null,""policyStartDateOption"":""dontKnow"",""createdDate"":""2022-01-28T00:00:00+00:00"",""applyDate"":null,""expiryDate"":null,""offerCreationDate"":null,*""offerExpiryDate"":null*}}

!image-20220128-114900.png|width=2096,height=1013!

If the date is not persisted then when you step away from the setup tab and go back to it then the date entered is no longer selected.  I now see ‘Don’t know'.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
SIT - Quote page - can't get price (404 error returned),NBJ-1362,44630,,Bug,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,High,,Chris.Hibbert,60cc71a1d5dde800713a2124,veronika.cole,5dfb48a2d501d70cb60120b4,veronika.cole,5dfb48a2d501d70cb60120b4,28/Jan/22 10:29 AM,01/Feb/22 3:50 PM,02/Feb/22 6:31 PM,,,Foundation Release,,AdviserExtranet,Quote,,"[https://apim-ggh-level2-sit-uksouth-11.azure-api.net/application/G100000026/quote|https://apim-ggh-level2-sit-uksouth-11.azure-api.net/application/G100000026/quote|smart-link] 



Select covers
Click ‘Get price’ - no premium returned
404 (Not Found) error in the console



!image-20220128-102827.png|width=2096,height=460!



# Request URL:
[https://apim-ggh-level2-sit-uksouth-11.azure-api.net/manifest.json|https://apim-ggh-level2-sit-uksouth-11.azure-api.net/manifest.json]
# Request Method:
GET
# Status Code:
404 Not Found
# Remote Address:
20.90.199.160:443
# Referrer Policy:
strict-origin-when-cross-origin
# Response HeadersView source
## Content-Length:
103
## Content-Type:
text/html
## Date:
Fri, 28 Jan 2022 10:21:29 GMT
## Set-Cookie:
ARRAffinity=d3d05c556974089e6b10a53f90a836f35a73bb3fdfc4fc86550a3ec99b3783aa;Path=/;HttpOnly;Secure;[Domain=app-ggh-reactapp-sit-uksouth-11.azurewebsites.net|http://Domain=app-ggh-reactapp-sit-uksouth-11.azurewebsites.net]
## Set-Cookie:
ARRAffinitySameSite=d3d05c556974089e6b10a53f90a836f35a73bb3fdfc4fc86550a3ec99b3783aa;Path=/;HttpOnly;SameSite=None;Secure;[Domain=app-ggh-reactapp-sit-uksouth-11.azurewebsites.net|http://Domain=app-ggh-reactapp-sit-uksouth-11.azurewebsites.net]
## X-Powered-By:
[ASP.NET|http://ASP.NET]",SIT,Sandra Albertson,veronika.cole,,,,,,61813a8af485cd00681db7bd,5dfb48a2d501d70cb60120b4,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28/Jan/22 10:29 AM;veronika.cole;image-20220128-102827.png;https://gghltd.atlassian.net/secure/attachment/25483/image-20220128-102827.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,SIT,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01hnj:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28/Jan/22 10:29 AM,,,,,,,,,,,,,,,,,,veronika.cole,5dfb48a2d501d70cb60120b4,,,,,,,,,,,,,,,,2022-02-01 14:50:34.032,01/Feb/22 2:50 PM;61813a8af485cd00681db7bd;Clone to NBJ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Update page status for setup / on risk cases,NBJ-1321,44629,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,28/Jan/22 10:28 AM,31/Jan/22 2:27 PM,02/Feb/22 6:31 PM,,,,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01hnb:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28/Jan/22 10:28 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Document the microservice comcepts and standards using the ExampleService as a template,NBJ-1320,44627,,Task,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Jon Reynolds,616ee20e2097220071a975d2,Jon Reynolds,616ee20e2097220071a975d2,Jon Reynolds,616ee20e2097220071a975d2,28/Jan/22 10:11 AM,28/Jan/22 10:59 AM,02/Feb/22 6:31 PM,,,,,,,,Further to sprint retro on 28th Jan 2022 it would be a good to document our microservice concepts and design principles using the Example Service as a template.,,Jon Reynolds,,,,,,,616ee20e2097220071a975d2,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-1288,,,,,,,,,,,,,,,,None,,"Considerations:

* Project Structure
** API, UnitTest, API Client projects
*** NSWag
* Design Patterns: 
** Mediatr, SOLID, IoC, Command
* DTO vs Model objects
* Middleware: Filters
* Orchestrations
** Mapping
** CommandHandlers
* App Configuration & Secrets
* README
* Postman Collections
* Startup configuration and ConfigureServices setup
** IoC/DI
** Healthcheck integration
** OpenAPI (swagger) integration
** ",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01hmv:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28/Jan/22 10:11 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
"Change deployment pipeline gates so that Test Team are NOT notified about deployments to ""12""",NBJ-1319,44619,,Task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,mark.thurston@venture1consulting.com,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,mark.thurston@venture1consulting.com,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,28/Jan/22 9:01 AM,31/Jan/22 11:29 AM,01/Feb/22 8:46 AM,,,,,,,,"There are (currently) 2 deployment environments, nominally called 11 and 12. 11 is the only one that the test team target. However, they are currently notified for approval for 11 and 12 and have approved that 12 can be removed from the approval list. This allowed the devops team to test the pipelines without hassling the Test Team!",,mark.thurston@venture1consulting.com,,,,,,,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwib9:zzzr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28/Jan/22 9:01 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Regenerate client docs from Salesforce,NBJ-1318,44617,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Ian.Douglas,5e183e85c578120daca5bc7b,helen.scriven,5dbd6f97fc11e40c2ff452a7,helen.scriven,5dbd6f97fc11e40c2ff452a7,28/Jan/22 8:33 AM,01/Feb/22 12:43 PM,02/Feb/22 6:31 PM,,,,,,,,As a Salesforce user I want to be able to generate both NBJ1 and NBJ2 clients docs from Salesforce,,helen.scriven,,,,,,,5dbd6f97fc11e40c2ff452a7,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Given any NB1 or NB2 Customer Account in Salesforce with a status of Customer

When a Salesforce user with the correct permissions requests any of the following documents from the Document Generate page, the document is generated as today:

* Cover summary
* Direct debit confirmation
* Cover increase letter
* Quote 
* Decision
* Application answers (Post-Sale)

Given any NB1 or NBJ2 Customer Account in Salesforce with a status of Applicant

When a Salesforce user with the correct permissions requests any of the following documents from the Document Generate page, the document is generated as today:

* Quote 
* Decision
* Application answers (Pre-Sale)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-125,,,,,,,,,,,,,,,,None,,"It’s assumed:

* That a change is required to the calling Salesforce service to provide the Source Application to the Unite service
* That a change to the Unite service is required to use the Source Application to direct to the correct docs regen service
* That the current cover summary restriction _Not to be used following the addition or removal of a rating or exclusion_ is still valid for NBJ2 regens
* That the need for both a pre- and post-sale App Answers remains with NBJ2 Apps",,,,,,,,,,,,,,,,,,,Space-bx,,,,,,,No,,1|i01hkn:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28/Jan/22 8:33 AM,,,,,EXL EDocs,Salesforce,Space Unite Service,,,,,,,,,,,Andy Cole,5fa26bb0f7b30b006e1b6ad5,,,,,,,,,,,,,,,,,28/Jan/22 8:51 AM;5dbd6f97fc11e40c2ff452a7;[~accountid:6061ac5d00b79f0070aa4ad3]  Have added this as I couldn’t find it anywhere else - feel free to delete if it’s already sufficiently covered elsewhere. [~accountid:5e183e85c578120daca5bc7b] I assume you’ll be covering this with John R next week? [~accountid:5db1914d2299c90da0133d7b] for visibility please see my assumption in the implementation notes (which could be wrong) [~accountid:5db187687b20d80c2a25b574][~accountid:5fa26bb0f7b30b006e1b6ad5]  FYI,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Sprint 8 | You can enter an invalid age but no error on the UI - you get a 400 from the API when clicking on Continue,NBJ-1317,44613,,Bug,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Chris.Hibbert,60cc71a1d5dde800713a2124,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,27/Jan/22 10:10 PM,30/Jan/22 10:14 PM,02/Feb/22 6:31 PM,,,,,,,,,,Chris.Hibbert,Justin.Smith,,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Jan/22 10:10 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;Untitled_ Jan 27, 2022 10_02 PM.mp4;https://gghltd.atlassian.net/secure/attachment/25482/Untitled_+Jan+27%2C+2022+10_02+PM.mp4",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: You can enter an invalid age (2 year old) on the client details tab and click on Continue but then you get a 400 error response on patch to applicant.  I would expect to see an error on the page.

Business Impact: Medium

Steps to Reproduce: 

# Enter mandatory client details including a DOB that is for a 2 years old
# No error is shown on the UI
# Click on Continue and nothing happens.  There is a 400 error on the backend from an error relating to the age.

Video attached

!Untitled_ Jan 27, 2022 10_02 PM.mp4|width=1280,height=720!

Expected Results: Error to say the client has to be 18 or over

Actual Result: No error on the UI just a 400 error on the backend

_\{""errors"":\[\{""errorMessage"":""The minimum age is 18"",""propertyName"":""DateOfBirth"",""attemptedValue"":""2020-01-01T00:00:00""}]}_

Version: N/A",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01hjr:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,27/Jan/22 10:10 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-28 08:12:29.511,28/Jan/22 8:12 AM;60cc71a1d5dde800713a2124;This is already raised in the backlog.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Sprint 8 | Trigger Quote | Get Price 500 error and undefined decision,NBJ-1316,44612,,Bug,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Chris.Hibbert,60cc71a1d5dde800713a2124,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,27/Jan/22 9:51 PM,30/Jan/22 10:13 PM,02/Feb/22 6:31 PM,,,,,,,,,,Justin.Smith,,,,,,,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Jan/22 9:54 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;Untitled_ Jan 27, 2022 9_39 PM.mp4;https://gghltd.atlassian.net/secure/attachment/25481/Untitled_+Jan+27%2C+2022+9_39+PM.mp4",27/Jan/22 9:54 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220127-215347.png;https://gghltd.atlassian.net/secure/attachment/25480/image-20220127-215347.png,27/Jan/22 9:54 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220127-215414.png;https://gghltd.atlassian.net/secure/attachment/25479/image-20220127-215414.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: 500 error on get price and as a result I believe I get the quote decision ‘quoteDecisions.undefined’

Business Impact: Medium

Steps to Reproduce: 

# Add an overweight applicant
# Add life cover
# Get price
# The decision is ‘Unable to offer terms’ as expected
# Go back to client details tab and reduce the weight of applicant to a normal bmi
# Add a second applicant that is overweight and go to quote tab
# The ‘Get Price’ button here is enabled.  I guess as applicant 1 has changed but I haven’t provided any cover for applicant 2 so not sure it should do.  If I click on ‘Get Price’ I get a 500 error from trigger quote - \{""errors"":\{""type"":""[https://tools.ietf.org/html/rfc7231#section-6.6.1%22,%22title%22:%22An|https://tools.ietf.org/html/rfc7231#section-6.6.1%22,%22title%22:%22An|smart-link]  error occurred while processing your request."",""status"":500,""traceId"":""00-8282833e96e753ff9fea959fca8171f7-5f79ed8edf3b6d33-00""}}
# Add a cover for applicant 2 and click on ‘Get Price’
# The 2nd applicant has ‘Unable to offer terms’ outcome as expected
# If you got to the 1st applicant then you see against their decision *quoteDecisions.undefined*

Attaching video evidence

Expected Results: I thought that you shouldn’t have the option to get price until both applicants have provided cover details.  If you can just provide one cover for the first applicant and get price then you shouldn’t get the 500 error.

Actual Result:  500 error on ‘Get Price’ and decision text messed up

Version: N/A

!Untitled_ Jan 27, 2022 9_39 PM.mp4|width=1280,height=720!

!image-20220127-215347.png|width=2100,height=982!



!image-20220127-215414.png|width=627,height=804!",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01hjj:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,27/Jan/22 9:51 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Update Salesforce Message on Underwriting Decision,NBJ-1314,44540,,Technical Story,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Jon Reynolds,616ee20e2097220071a975d2,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,27/Jan/22 4:23 PM,01/Feb/22 3:45 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As an* operational Underwriter or admin. user
*So that* I know an application has had an automatic underwriting decision
*I want* Salesforce updated when a ure enquiry is closed

{panel:bgColor=#deebff}
This story is about sending an event to Salesforce when an applicant has had a decision
{panel}",,Jim Houghton,Jon Reynolds,,,,,,60cc71a22bd21400692fd2af,616ee20e2097220071a975d2,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-1029,,,,,,,,,,,,,,,,,,,,,,"*Given* any application
*When* closing an enquiry
*And* application.status has been updated
*And* any requotes have been completed
*Then* send a decision event to Salesforce
*And* body of the event contains full upto date application data, underwritingOutcome data (particularly risk decisions), and quote data",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-125,,,,,,,,,,,,,,,,None,,"From review with Ian on Salesforce integration he would like a single message for application containing combined applicant underwriting outcomes rather than a salesforce message for each applicant in application. Need to review and confirm with [~accountid:60cc71a22bd21400692fd2af] and [~accountid:60cc71a1d5dde800713a2124] if this is agreed business decision.

Rename SalesForce mapping event so decision => underwritingOutcomes

Map origin e.g. ""origin"": ""ure"" and  ""isUnderwritingDeclarationMade"": true into each underwritingoutcome from riskdecisionmodel

Useful links:

[https://gghltd.atlassian.net/wiki/spaces/NP/pages/3129704887/underwritingOutcome+entity|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3129704887/underwritingOutcome+entity|smart-link] ",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwib9:zzd,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,27/Jan/22 4:23 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-02-01 15:45:01.111,27/Jan/22 5:34 PM;60cc71a22bd21400692fd2af;[~accountid:616ee20e2097220071a975d2]  - one for use to pick up with Ian on Tuesday,01/Feb/22 3:45 PM;616ee20e2097220071a975d2;[~accountid:5e183e85c578120daca5bc7b] [~accountid:60cc71a22bd21400692fd2af] - I have updated [https://gghltd.atlassian.net/browse/NBJ-1029|https://gghltd.atlassian.net/browse/NBJ-1029|smart-link] to reflect all these changes. Avoid having too many tickets doing similar things hanging around,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Calculate quoteCover.grossPremium on quote response,NBJ-1313,44536,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,27/Jan/22 3:33 PM,31/Jan/22 11:29 AM,02/Feb/22 6:31 PM,,,,,,,,"*As an* api consumer
*So that* I always have the gross premium
*I want* gross premium on quoteCover

{panel:bgColor=#deebff}
This story is about setting gross premium on quoteCover in quote response
{panel}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* any quote response
*When* receiving successful Lissia quote response
*then* set the quote.cover.grossPremium with the matching /ExpItmPcpSum2appPolicyPremiums/ModalPremium (no adjustments ever required)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-118,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwib9:zzzi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,27/Jan/22 3:33 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
"For covers with coverTypes of family, In front end ensure we use monthly benefit everywhere ",NBJ-1312,44534,,Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Mike,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,27/Jan/22 3:30 PM,31/Jan/22 1:15 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As an* Adviser
*So that* I can continue to purchase FIB cases for my customers
*I want* the APIs to use a completely different field for the coverAmount",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given*: An application
*When*: a cover is added or edited and the coverType = family
*Then*: the cover amount goes in the monthlyBenefit field and not the coverAmount field

*Given*: An application
*When*: the coverType is set to family on the UI
*Then*: the monthly benefit amount is blanked out

*Given*: An application with a coverType = family
*When*: display a cover on either the quote or decision screen and the coverType = family
*Then*: the cover amount comes from the monthlyBenefit field and not the coverAmount field

*Given*: An application with a coverType = family
*When*: display a cover on the review screen and the coverType = family
*Then*: the cover amount comes from the monthlyBenefit field and not the coverAmount field",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,Impediment,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwie6:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,27/Jan/22 3:30 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
For cover with coverType of family map monthly benefit into go live,NBJ-1311,44533,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,27/Jan/22 3:29 PM,31/Jan/22 10:24 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As a* consumer of the apis
*So that* I can go live for monthly benefit covers
*I want* monthly benefit to be mapped to Lissia go Live request

{panel:bgColor=#deebff}
This is about mapping monthly benefit from an NBJ2 go live request to Lissia go live
{panel}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* any go live request
*And* contains covers with coverType family
*When* generating Lissia go live request 
*Then* foreach cover.coverType of family ImpPrlBenList.row.ImpItmPocPrlbenPolicyCoverages.InitialSumAssured is set to quote.quoteApplicants.quoteCovers.monthlyBenefit
*And* foreach cover.coverType *other than family* continue to set ImpPrlBenList.row.ImpItmPocPrlbenPolicyCoverages.InitialSumAssured is set to quote.quoteApplicants.quoteCovers.coverAmount
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-119,,,,,,,,,,,,,,,,None,,"* two services require updates, go live and the orchestration.  Please provide endpoints that have been updated.",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwib9:qi,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,27/Jan/22 3:29 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
For covers with coverType of family calculate commuted value,NBJ-1310,44532,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,27/Jan/22 3:27 PM,31/Jan/22 10:24 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As a* consumer of the apis
*So that* I have the equivalent coverAmount for monthly benefit covers
*I want* commuted value to be returned in coverAmount

{panel:bgColor=#deebff}
This is about calculating commutedValue for coverTypes of family and returning in quote response
{panel}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,NBJ-1311,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Scenario* calculate commuted value and return in quote response

*Given* any quote request
*And* contains quoteCovers with a coverType of family
*When* receiving successful quote response from Lissia
*Then* forEach quoteCover of type family calculate <commuted value> based on <toAgeOrTerm> based quotes

{noformat}| toAgeOrTerm | commuted value                         |
| toAge       | monthlyBenefit * toAgeTermMonths * 2/3 |
| term        | monthlyBenefit * term * 12 * 2/3       |{noformat}

*And* persist commuted value in quoteCover.coverAmount on response
*And* persist commuted value in application.applicant.cover.coverAmount ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-118,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwib9:q,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,27/Jan/22 3:27 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
For covers with coverType of family map monthly benefit to Lissia quote ,NBJ-1309,44531,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,27/Jan/22 3:26 PM,31/Jan/22 10:30 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As a* consumer of the apis
*So that* I can quote for monthly benefit covers
*I want* monthly benefit to be mapped to Lissia quote request

{panel:bgColor=#deebff}
This is about mapping monthly benefit from an NBJ2 quote request to Lissia quote
{panel}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,NBJ-1310,NBJ-1312,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* any quote request
*And* contains quoteCovers with coverType family
*When* formulating Lissia quote request
*Then* for quoteCovers with coverType family map quoteCover.monthlyBenefit to ImpGrpCvgs.row.ImpItmPocCvgsPolicyCoverages.InitialSumAssured
*And* for all other coverTypes continue to map quoteCover.coverAmount to ImpGrpCvgs.row.ImpItmPocCvgsPolicyCoverages.InitialSumAssured",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-118,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwib9:p,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,27/Jan/22 3:26 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
For cover with coverType of family pass in monthly benefit to quote,NBJ-1308,44530,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,27/Jan/22 3:26 PM,31/Jan/22 10:24 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As a* consumer of apis
*So that* my monthly benefit quotes can still function
*I want* monthly benefit passed into quote on quoteCover

{panel:bgColor=#deebff}
This is about setting monthly benefit on a quoteCover on a quote request
{panel}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,NBJ-1309,NBJ-1312,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* any quote request
*And* quote request contains a quoteCover with a coverType of family
*When* requesting a quote
*Then* foreach quoteCover with a coverType of family map through monthlyBenefit from application.applicant.cover to the corresponding quoteCover.monthlyBenefit
*But* foreach quoteCover with a coverType of family *do not* map through coverAmount from application.applicant.cover to the corresponding quoteCover.coverAmount should it exist",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwib9:o,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,27/Jan/22 3:26 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
For family coverTypes persist monthlyBenefit on creation or update of cover in backend,NBJ-1307,44524,,Technical Story,In Progress,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Kevin.Amoa,6149b160fac3ce0069d80d37,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,27/Jan/22 3:04 PM,01/Feb/22 5:28 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As a* consumer of apis
*So that* on family coverTypes I can differentiate between monthly benefit and equivalent sum assured
*I want* on family coverTypes monthly benefit persisted along with commuted value in coverAmount

{panel:bgColor=#deebff}
This story is about persisting monthly benefit and commuted values on family cover types in bankend when supplied by front end
{panel}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,NBJ-1308,NBJ-1312,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* any cover with a coverType of family
*When* creating or updating
*Then* persist application.applicant.cover.monthlyBenefit with monthly benefit given in body of request
*But* set application.applicant.cover.coverAmount empty",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwib9:m,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,27/Jan/22 3:04 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress
Create new Cosmos container - action,NBJ-1306,44523,,Task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,High,Done,mark.thurston@venture1consulting.com,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,Jason Hughes,613f60991370f00069033c68,Jason Hughes,613f60991370f00069033c68,27/Jan/22 2:54 PM,01/Feb/22 9:30 AM,02/Feb/22 6:31 PM,01/Feb/22 9:30 AM,,,,,,,"We’ve added a temp logging solution to the action service for service bus publishing,

To support this the guardian Cosmos Db needs a new container called “action”, it should be configured for a partition key path of /partitionKey.

SIT and onwards will also need the cosmos client configuration for this container added into the app configuration settings for the action service as below;


{noformat}""Cosmos"": {   
  ""ConnectionString"": ""<valid connectionstring>"",   
  ""DatabaseId"": ""guardian"",   
  ""ContainerId"": ""action""
}{noformat}",,Jason Hughes,mark.thurston@venture1consulting.com,,,,,,613f60991370f00069033c68,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01gvf:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,27/Jan/22 2:54 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-27 17:23:46.608,27/Jan/22 5:23 PM;557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96;Done. Testing in Dev,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Provide logging of applicationdecision event prior to Salesforce event publishing to service bus,NBJ-1305,44511,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jon Reynolds,616ee20e2097220071a975d2,Jon Reynolds,616ee20e2097220071a975d2,27/Jan/22 1:45 PM,01/Feb/22 1:44 PM,02/Feb/22 6:31 PM,01/Feb/22 1:44 PM,,,,,,,Include message logging on publishing events to salesforce. This would help diagnose whether the application and decision data sent to SalesForce is correct prior to integration. This would also help with the validity of what is posted during testing,,Jon Reynolds,,,,,,,616ee20e2097220071a975d2,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-125,,,,,,,,,,,,,,,,None,,From discussions with @ant logging could be included prior to salesforce event publishing by creating a decorator. Use the IOC registration to do logging interception so the impact is zero on existing code ,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zjzzzzzy8zw,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,Guardian Sprint 9,,,,,27/Jan/22 1:45 PM,,3.0,,,,,,,,,,,,,,,,James Bartlett,6139c49114e8340071fcda09,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Sprint 8 - Pagination does not work on Dashboard,NBJ-1304,44498,,Bug,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Chris.Hibbert,60cc71a1d5dde800713a2124,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,27/Jan/22 11:04 AM,31/Jan/22 12:41 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,Nathan Punzalan,,,,,,60cc71a1d5dde800713a2124,613f22fdff23ba00715469d1,,,,,,,,,,,,,Hidden from EXL,NBJ-1107,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,27/Jan/22 11:04 AM;nathan.punzalan;image-20220127-110419.png;https://gghltd.atlassian.net/secure/attachment/25442/image-20220127-110419.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: 

Expiry Date not getting displayed on the dashboard.

Steps to Reproduce: 

# Go to dashboad [https://ggh-uwt-api.gghltest.co.uk/dashboard|https://ggh-uwt-api.gghltest.co.uk/dashboard|smart-link] 
# Using the pagination, try to navigate between the pages of In Progress applications

Expected Results:

User can scroll through pages using pagination.

Actual Result: 

Pagination buttons are clickable but they do not do anything (ie user is unable to scroll through pages)

!image-20220127-110419.png|width=1256,height=1195!",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01gvb:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,27/Jan/22 11:04 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-27 11:09:13.488,27/Jan/22 11:09 AM;60cc71a1d5dde800713a2124;[~accountid:613f22fdff23ba00715469d1]  - this is parked development.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Back End - Expiry Date not returned by search results from BFF,NBJ-1303,44496,,Bug,In Progress,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Jason Hughes,613f60991370f00069033c68,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,27/Jan/22 10:59 AM,31/Jan/22 12:40 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,Nathan Punzalan,,,,,,60cc71a1d5dde800713a2124,613f22fdff23ba00715469d1,,,,,,,,,,,,,Hidden from EXL,NBJ-1107,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,27/Jan/22 11:00 AM;nathan.punzalan;exampleResponse2.txt;https://gghltd.atlassian.net/secure/attachment/25441/exampleResponse2.txt,27/Jan/22 11:00 AM;nathan.punzalan;image-20220127-105953.png;https://gghltd.atlassian.net/secure/attachment/25440/image-20220127-105953.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: 

Expiry Date not getting displayed on the dashboard.

Steps to Reproduce: 

# Go to dashboad [https://ggh-uwt-api.gghltest.co.uk/dashboard|https://ggh-uwt-api.gghltest.co.uk/dashboard|smart-link] 
# Send GET request to API endpoint for latest In Progress Applications ({{https://ggh-uwt-api.gghltest.co.uk/api/v1/application/search/latest}})

Expected Results:

Expiry Date should be showing the latest date (ignoring nulls) from objects from API response:

* quote.expiryDate
* application.expiryDate
* application.offerExpiryDate

Actual Result: 

Expiry date is not getting populated.

!image-20220127-105953.png|width=1991,height=1303!

[^exampleResponse2.txt]

",,{},,,,,,NBJ-113,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zi0r,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,27/Jan/22 10:59 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-27 11:23:19.933,27/Jan/22 11:23 AM;60cc71a1d5dde800713a2124;[~accountid:613f60991370f00069033c68] - I think this is also tracking the expiry date search results that [~accountid:6139c49114e8340071fcda09]  has passed to you.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress
Sprint 8 - Get Price button automatically lists Quote as completed when client details is only partially completed,NBJ-1301,44493,,Bug,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Chris.Hibbert,60cc71a1d5dde800713a2124,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,27/Jan/22 10:48 AM,31/Jan/22 12:41 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,Nathan Punzalan,,,,,,60cc71a1d5dde800713a2124,613f22fdff23ba00715469d1,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,27/Jan/22 10:48 AM;nathan.punzalan;image-20220127-104836.png;https://gghltd.atlassian.net/secure/attachment/25439/image-20220127-104836.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: When you fill in the Client details without filling the Title field, when you add a cover and click the Get Price button, it automatically lists Quote as completed and the disables the Quote tab *(note you can still access the Quote tab by clicking Continue in the Client details screen even though Quote tab in Navigation is disabled)*

Steps to Reproduce: 

# Fill in the Client details tab while leaving the Title field blank
# Continue to Quote tab
# Add a cover
# Click Get Price button

Expected Results:

Price is returned and user remains on the Quote tab until hitting the Apply button (or correcting any fields if validation occurs)

Actual Result: 

User is redirected to the Client details tab and the Quote tab in navigation is disabled. (Please see note above)

!image-20220127-104836.png|width=1341,height=1257!",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01gu7:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,27/Jan/22 10:48 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-27 11:12:37.777,27/Jan/22 11:12 AM;60cc71a1d5dde800713a2124;[~accountid:613f22fdff23ba00715469d1] - I’m going to reject pending a fix for [https://gghltd.atlassian.net/browse/NBJ-1300|https://gghltd.atlassian.net/browse/NBJ-1300|smart-link].  The mandatory client details should be mandatory which prevents this scenario.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Sprint 8 - User should not be able to continue from Client Details without the mandatory Title field,NBJ-1300,44492,,Bug,Code Review,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Mike,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,27/Jan/22 10:38 AM,02/Feb/22 2:16 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,Nathan Punzalan,,,,,,60cc71a1d5dde800713a2124,613f22fdff23ba00715469d1,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,27/Jan/22 10:38 AM;nathan.punzalan;image-20220127-103503.png;https://gghltd.atlassian.net/secure/attachment/25438/image-20220127-103503.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: When you fill in the Client details without completing the title field, navigation shows you are on the Client details tab even though you have progressed to the Quote tab.

!image-20220127-103503.png|width=1318,height=1048!

Steps to Reproduce: 

# Fill in the Client details tab while leaving the Title field blank
# Continue to the Quote tab

Expected Results:

User is directed to the Quote tab with the Quote tab showing as the highlighted tab in the navigation.

Actual Result: 

User is directed to the Quote tab however the Client details tab is the highlighted tab shown in the navigation (see screenshot above)",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01jsl:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,27/Jan/22 10:38 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-27 11:11:50.997,27/Jan/22 11:11 AM;60cc71a1d5dde800713a2124;[~accountid:613f22fdff23ba00715469d1] - this is a different bug.  The user shouldnt be able to get to the quote screen unless title is completed.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress
Review Application Status changes - ensure states can be updated,NBJ-1299,44488,,Task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Sam Gamble,610c00d94e8d8d0069a20d6c,Jon Reynolds,616ee20e2097220071a975d2,Jon Reynolds,616ee20e2097220071a975d2,27/Jan/22 10:22 AM,27/Jan/22 1:56 PM,02/Feb/22 6:31 PM,,,,,,,,"Currently there is no control on when an application status is changed. Particular actions explicitly save status without any controls or guards to ensure the status can be saved.

Technical design review could be useful in safe-guarding state changes that we could reuse across the new business journey.

My initial thoughts would be to have a single endpoint with an applicationId in header and required status (in request body?)

The action would load the application and determine if the request status can be updated by ensuring preconditions are met.",,Jon Reynolds,,,,,,,616ee20e2097220071a975d2,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,"As commted by Sam the natural place to implement such a thing is in the ActionService, or perhaps a stand alone StateTransitionService. 

Worth a dev team technical design session",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01gt3:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,27/Jan/22 10:22 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Prevent on risk cases from loading,NBJ-1298,44476,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Low,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,27/Jan/22 9:27 AM,02/Feb/22 2:15 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given*: An application
*When*: the application is in status “Went on Risk”
*Then*: any attempt to load the application is denied",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-113,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01gqf:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,27/Jan/22 9:27 AM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Build policyholder screen,NBJ-1296,44464,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,27/Jan/22 8:35 AM,02/Feb/22 11:36 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"

[https://projects.invisionapp.com/d/main#/console/21777111/463315897/preview|https://projects.invisionapp.com/d/main#/console/21777111/463315897/preview]",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-113,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01k03:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,27/Jan/22 8:35 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Front-End Azure DevOps release auto-deployment,NBJ-1295,44448,,Task,In Progress,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Jason Hughes,613f60991370f00069033c68,Jon Reynolds,616ee20e2097220071a975d2,Jon Reynolds,616ee20e2097220071a975d2,26/Jan/22 5:56 PM,02/Feb/22 11:26 AM,01/Feb/22 8:46 AM,,,,,,,,,,Jason Hughes,Jon Reynolds,,,,,,613f60991370f00069033c68,616ee20e2097220071a975d2,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,Impediment,,,,,,,None,,"Make changes to release pipeline

Inform Front end slack room of auto-deployment changes",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01gk7:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,26/Jan/22 5:56 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-02-02 11:26:02.408,01/Feb/22 9:54 AM;616ee20e2097220071a975d2;[~accountid:60cc71a1d5dde800713a2124] - this will be on Jason’s radar to get auto-release deployments working for Front-end in this sprint,"02/Feb/22 11:26 AM;613f60991370f00069033c68;We need an Azure “Service Connection” to do the deployment to UWT. 
We can’t use the same one as we do for the C# services code as Service Connections are tied to Azure DevOps projects, and the backend and frontend code are in different projects.

Have raised the issue with Gareth.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress
Information Security Checklist,NBJ-1294,44442,,Task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jon Reynolds,616ee20e2097220071a975d2,Jon Reynolds,616ee20e2097220071a975d2,26/Jan/22 4:28 PM,26/Jan/22 4:28 PM,02/Feb/22 6:31 PM,,,,,,,,,,Jon Reynolds,,,,,,,616ee20e2097220071a975d2,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-1288,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01giv:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,26/Jan/22 4:28 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Threat Modelling - STRIDE analysis,NBJ-1293,44441,,Task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jon Reynolds,616ee20e2097220071a975d2,Jon Reynolds,616ee20e2097220071a975d2,26/Jan/22 4:28 PM,26/Jan/22 4:28 PM,02/Feb/22 6:31 PM,,,,,,,,,,Jon Reynolds,,,,,,,616ee20e2097220071a975d2,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-1288,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01gin:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,26/Jan/22 4:28 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Data Flow documentation in the new business journey,NBJ-1292,44440,,Task,In Progress,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,mike hill,5d94816eefc9290c2e625a11,Jon Reynolds,616ee20e2097220071a975d2,Jon Reynolds,616ee20e2097220071a975d2,26/Jan/22 4:27 PM,02/Feb/22 9:17 AM,02/Feb/22 6:31 PM,,,,,,,,How Application Data changes throughout the new business journey.,,Jon Reynolds,,,,,,,616ee20e2097220071a975d2,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-1288,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01gif:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,26/Jan/22 4:27 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress
Level 3 - C4 diagrams for action service endpoints,NBJ-1291,44439,,Task,In Progress,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Jon Reynolds,616ee20e2097220071a975d2,Jon Reynolds,616ee20e2097220071a975d2,Jon Reynolds,616ee20e2097220071a975d2,26/Jan/22 4:25 PM,01/Feb/22 2:33 PM,02/Feb/22 6:31 PM,,,,,,,,,,Jon Reynolds,,,,,,,616ee20e2097220071a975d2,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-1288,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01gi7:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,Guardian Sprint 9,,,,,26/Jan/22 4:25 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress
Architectural Requirements,NBJ-1288,44433,,Epic,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jon Reynolds,616ee20e2097220071a975d2,Jon Reynolds,616ee20e2097220071a975d2,26/Jan/22 4:15 PM,02/Feb/22 8:59 AM,02/Feb/22 6:31 PM,,,,,,,,Deliverables for helping to communicate functional and non-functional requirements,,Jon Reynolds,,,,,,,616ee20e2097220071a975d2,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,ghx-label-14,,Architectural Requirements,To Do,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01ggv:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,26/Jan/22 4:15 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Quotes (both quick and decision) fail for Life decreasing with child CI,NBJ-1287,44432,,Bug,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Highest,,Chris.Hibbert,60cc71a1d5dde800713a2124,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,26/Jan/22 4:09 PM,26/Jan/22 4:12 PM,02/Feb/22 6:31 PM,,,,,,,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* Quotes fail for single applicant applications with a life decreasing cover and ccic

*Business Impact:* showstopper

*Steps to Reproduce:* Create an application with one applicant. Add a life decreasing cover and also ccic. Trigger a quote

*Expected Results:* Quote is returned successfully

*Actual Result:* quote fails with a 500 response

*Version:* ",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01ggn:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,26/Jan/22 4:09 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Smoker help text icon gone missing,NBJ-1286,44429,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,26/Jan/22 4:02 PM,27/Jan/22 12:42 PM,02/Feb/22 6:31 PM,27/Jan/22 12:42 PM,,Foundation Release,,,,,,,Chris.Hibbert,James Bartlett,,,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,26/Jan/22 4:02 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;Screenshot 2022-01-26 at 15.55.52.png;https://gghltd.atlassian.net/secure/attachment/25403/Screenshot+2022-01-26+at+15.55.52.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* <Outline of the problem observed>

*Business Impact:* Low/none

*Steps to Reproduce:* select an answer on the ‘*Are you a smoker?*' field and then tab away

*Expected Results:* The next selected element is on the next on-screen question

*Actual Result:* The next selected element is an invisible element next to the ‘*Are you a smoker?*' field

!Screenshot 2022-01-26 at 15.55.52.png|width=537,height=95!



*Version:* ",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01gfz:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,26/Jan/22 4:02 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-26 16:09:17.978,26/Jan/22 4:09 PM;60cc71a1d5dde800713a2124;[~accountid:6139c49114e8340071fcda09] - worth refreshing your screen?  This is probably the help text icon,27/Jan/22 12:42 PM;60cc71a1d5dde800713a2124;Its Alive\!\!\!\!,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Experian Bank Wizard - Investigate how to use,NBJ-1285,44425,,Task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Jon Reynolds,616ee20e2097220071a975d2,Jon Reynolds,616ee20e2097220071a975d2,Jon Reynolds,616ee20e2097220071a975d2,26/Jan/22 3:22 PM,31/Jan/22 4:46 PM,02/Feb/22 6:31 PM,31/Jan/22 4:46 PM,,,,,,,"Isolated timeboxed work to review the current implementation of Experian Bank Wizard used in NBJ1.

Review how easy to consume current services vs internal development effort to consume Experian Bank Wizard Api directly",,Jon Reynolds,,,,,,,616ee20e2097220071a975d2,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,31/Jan/22 2:28 PM;ug:117ea4bb-8992-4456-92e8-f3d84c2d6b41;ExperianBankWizard implementation.png;https://gghltd.atlassian.net/secure/attachment/25518/ExperianBankWizard+implementation.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-767,,,,,,,,,,,,,,,,None,,"reviewed the current NBJ1 code base to understand how bank validation currently happens

!ExperianBankWizard implementation.png|width=1683,height=1307!

Here is a sequence diagram of the current moving parts involved ",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01gf3:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,Guardian Sprint 9,,,,,26/Jan/22 3:22 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,31/Jan/22 4:44 PM;616ee20e2097220071a975d2;From analysis I will be reviewing the current implementation with [~accountid:5e183e85c578120daca5bc7b] and [~accountid:5d94816eefc9290c2e625a11] in refinement meeting tomorrow with [~accountid:60cc71a22bd21400692fd2af] . Need to decide the best course of action with respect to validating bank account details prior to go-live,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
"Sprint 8 - Unable to Activate a Policy if start date is set to ""Now""",NBJ-1284,44422,,Bug,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Chris.Hibbert,60cc71a1d5dde800713a2124,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,26/Jan/22 2:38 PM,31/Jan/22 12:41 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,Nathan Punzalan,,,,,,60cc71a1d5dde800713a2124,613f22fdff23ba00715469d1,,,,,,,,,,,,,Hidden from EXL,NBJ-983,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,26/Jan/22 2:38 PM;nathan.punzalan;image-20220126-143757.png;https://gghltd.atlassian.net/secure/attachment/25399/image-20220126-143757.png,26/Jan/22 2:38 PM;nathan.punzalan;image-20220126-143825.png;https://gghltd.atlassian.net/secure/attachment/25398/image-20220126-143825.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: 

Unable to Activate a Policy if start date is set to ""Now"".

*NOTE: Activating a policy works if you select “In the future - I know the date” and select a date; issue only occurs when you select “Now” as start date.*

Steps to Reproduce: 

# Create and fill application all the way to Set-up
# On the Set-up page, for “*Start date for the policy”* select “*Now*”
# Fill in rest of Set-up if needed and continue
# Click Put policy on force 

Expected Results: 

Policy is activated.

Actual Result:

Validation triggers stating “*You may only activate an application with a policy start date”* even though a policy start date has been set.

!image-20220126-143757.png|width=1216,height=254!

!image-20220126-143825.png|width=1241,height=523!",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01gev:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,26/Jan/22 2:38 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-26 14:57:32.201,"26/Jan/22 2:57 PM;60cc71a1d5dde800713a2124;[~accountid:613f22fdff23ba00715469d1] - this is work in the next sprint, not in scope for NBJ-983",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Change deployment so that the approval email contains the env NUMBER,NBJ-1283,44418,,Task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,mark.thurston@venture1consulting.com,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,mark.thurston@venture1consulting.com,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,mark.thurston@venture1consulting.com,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,26/Jan/22 1:20 PM,27/Jan/22 9:17 AM,02/Feb/22 6:31 PM,27/Jan/22 9:17 AM,,,,,,,"Currently, the email received by the test team contains the environment (SIT, Dev etc) but not the number. This means that they have to scrutinise the actual pipeline to determine the actual number (11, 12 etc.)
The pipeline needs to be amended such that the email contains the number as well.
",,mark.thurston@venture1consulting.com,,,,,,,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,26/Jan/22 1:47 PM;ug:173bb36f-940c-436a-b883-b3fe4f32b5f5;image-20220126-134703.png;https://gghltd.atlassian.net/secure/attachment/25396/image-20220126-134703.png,,,,,,,,,,,,The email received by the test team includes the env number.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01gdz:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,26/Jan/22 1:20 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Jan/22 1:47 PM;557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96;!image-20220126-134703.png|width=540,height=179!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Add api/v1/support to the deployment,NBJ-1282,44417,,Task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,mark.thurston@venture1consulting.com,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,mark.thurston@venture1consulting.com,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,26/Jan/22 12:56 PM,26/Jan/22 1:21 PM,02/Feb/22 6:31 PM,,,,,,,,This API is used to publish the respective versions of each API.,,mark.thurston@venture1consulting.com,,,,,,,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Deployment of the NBJ-Devops pipelines results in the api/v1/support API.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,"# Delete the API in SIT before anything else. (This is needed to prove that it is the deployment that is creating the API and not just a simple “overwrite”.)
# Add the API to the deployment.
# Test to Dev and the SIT 11.",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01gdr:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,26/Jan/22 12:56 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Display salesforce updates on decision screen,NBJ-1281,44387,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Jon Reynolds,616ee20e2097220071a975d2,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,25/Jan/22 9:34 PM,31/Jan/22 11:52 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As an* adviser
*So that* I know what is going on with cases in underwriting
*I want* case events from Salesforce to show on the decision screen

!Screenshot 2022-01-25 at 21.35.49.png|width=1381,height=853!",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,25/Jan/22 9:36 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2022-01-25 at 21.35.49.png;https://gghltd.atlassian.net/secure/attachment/25364/Screenshot+2022-01-25+at+21.35.49.png,,,,,,,,,,,,"*Given*: An application at status underwriting
*When*: Displaying the decision screen
*and*: a life has covers with the decision refer or evidence required
*Then*: salesforce updates are shown on the decision screen with date, time and the update
*and*: the updates are in reverse chronological order (newest at the top)
*and*: only the first 5 alerts are shown

*Given*: An application with more than 5 alerts for a life
*Then*: A “Show more” button is shown
*and*: clicking the button shows all alerts for that life",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-125,,,,,,,,,Impediment,,,,,,,None,,"These messages are created in Salesforce by the Underwriters and stored (mastered) in a Salesforce table. There is then a Unite service (“DashboardMessages”) that runs SOQL directly against the Salesforce table to read the messages for the logged on adviser. 

This service is invoked by the Space Extranet code which in turn displays the messages as shown above.",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwib9:zz9,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,25/Jan/22 9:34 PM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,26/Jan/22 5:02 PM;60cc71a1d5dde800713a2124;[~accountid:610c00d94e8d8d0069a20d6c]  - you need to work on the implementation of this.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Fix typo in Action Service Config key for PolicyService__Uri,NBJ-1280,44386,,Task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Jason Hughes,613f60991370f00069033c68,Jason Hughes,613f60991370f00069033c68,25/Jan/22 8:30 PM,26/Jan/22 12:30 PM,02/Feb/22 6:31 PM,26/Jan/22 12:30 PM,,,,,,,"A bit before 7pm on Tue 25th Jan, Veronika Cole reported that she couldn’t create a new application.

Turned out this was because the *Action Service* not starting up due to a typo in on of the Config keys

*PolicyService_Uri* (one underscore) needs to be changed to *PolicyService__Uri* (two underscores)",,Jason Hughes,mark.thurston@venture1consulting.com,,,,,,613f60991370f00069033c68,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009hzzzvx4,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,25/Jan/22 8:30 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-25 22:16:34.988,25/Jan/22 10:16 PM;557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96;[~accountid:613f60991370f00069033c68] - Good spot. Redeployed with correct App setting to Dev OK. Just finishing SIT….,25/Jan/22 10:17 PM;557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96;Done,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Update Smoker status to Non-smoker on policyactivation if not set,NBJ-1279,44380,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,High,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Jon Reynolds,616ee20e2097220071a975d2,Jon Reynolds,616ee20e2097220071a975d2,25/Jan/22 6:15 PM,28/Jan/22 2:39 PM,02/Feb/22 6:31 PM,28/Jan/22 2:39 PM,,Foundation Release,,,,,,,Antony.Gorman,Jon Reynolds,,,,,,6149b13472728e006f9441d6,616ee20e2097220071a975d2,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,25/Jan/22 6:27 PM;ug:117ea4bb-8992-4456-92e8-f3d84c2d6b41;image-20220125-182621.png;https://gghltd.atlassian.net/secure/attachment/25358/image-20220125-182621.png,25/Jan/22 6:27 PM;ug:117ea4bb-8992-4456-92e8-f3d84c2d6b41;image-20220125-182642.png;https://gghltd.atlassian.net/secure/attachment/25359/image-20220125-182642.png,25/Jan/22 6:27 PM;ug:117ea4bb-8992-4456-92e8-f3d84c2d6b41;image-20220125-182736.png;https://gghltd.atlassian.net/secure/attachment/25357/image-20220125-182736.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: 500 exceptions are raised when invoking policy activation if smoker status not set correctly

Business Impact: Unable to activate policy if smoker not set correctly



Fix - make sure application smoker status is set with the following if null {{""smoker"": ""None in the last 5 years"",}}

Using {{G000153067}} as an example in UAT if application smoker status is omitted from Application object a 500 exception is raised. If smoker status is updated as shown and Policy is activated from API then a successful 201 created response is given and the application status is set to on-risk

!image-20220125-182621.png|width=916,height=628!

!image-20220125-182642.png|width=663,height=455!

!image-20220125-182736.png|width=934,height=674!



NB - Smoking status will be corrected properly next sprint",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zi0jg,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,25/Jan/22 6:15 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-26 07:26:22.068,26/Jan/22 7:26 AM;6149b13472728e006f9441d6;lol. this is a change. its not a bug.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Lock down front end changes to covers - following restricted cover or terms,NBJ-1278,44366,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,25/Jan/22 4:23 PM,02/Feb/22 3:54 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"Banner to say what is going on.

No changes allowed (other than setup)",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-777,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwibl:r,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,25/Jan/22 4:23 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Persist restricted covers from manual underwriting,NBJ-1277,44363,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,25/Jan/22 4:17 PM,28/Jan/22 10:54 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As a* consumer of the apis
*So that* the terms that I am offered reflect the underwriting decision
*I want* restricted cover amount and term decisions to be persisted as part of the manual decision 

{panel:bgColor=#deebff}
This story is about persisting restricted term and cover decisions by cover instance
{panel}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,NBJ-215,NBJ-216,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given:* any *underwritingOutcome.muw* events posted on service bus
*When:* processing event
*Then:* persist muw *applicant*.*underwritingOutcome* in the decision service as per NBJ-819
*And:* including coverLimits if included in *underwritingOutcome*

{noformat}For info only:
| Field            | Value                    |
| id               | cover.id & quoteCover.id |
| termLimit        | term in years            |
| coverAmountLimit | coverAmount offered      |{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-777,,,,,,,,,,,,,,,,None,,[https://gghltd.atlassian.net/wiki/spaces/NP/pages/3129704887/underwritingOutcome+entity#underwritingOutcome-(Salesforce-output)|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3129704887/underwritingOutcome+entity#underwritingOutcome-(Salesforce-output)|smart-link] ,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwibk:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,25/Jan/22 4:17 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Deploy Dev and SIT 12,NBJ-1276,44353,,Task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,mark.thurston@venture1consulting.com,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,mark.thurston@venture1consulting.com,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,mark.thurston@venture1consulting.com,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,25/Jan/22 3:47 PM,26/Jan/22 7:15 PM,02/Feb/22 6:31 PM,26/Jan/22 7:15 PM,,,,,,,We have a blue / green - capability. To avoid interaction with “11” a parallel deployment of “12” has been requested.,,mark.thurston@venture1consulting.com,,,,,,,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Dev 12 and SIT 12 deployed.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,Devops meeting 25/01/2022 requested it ASAP so that the “static” IPs can be passed to UWME to allow them to whitelist.,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01g0v:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,25/Jan/22 3:47 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Jan/22 9:03 AM;557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96;[~accountid:5e183e85c578120daca5bc7b] - FYI, as per yesterday's meeting, I’m in the process of deploying “12”. The L1 stuff is done. Once I have sorted the SQL seq thing, I’ll carry on with the L2 objects for “12” and send you the APIM IPs.",26/Jan/22 11:52 AM;557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96;Doing Level 2 now.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Add discoverable version number to frontend artefact,NBJ-1275,44346,,Task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,25/Jan/22 3:17 PM,26/Jan/22 9:05 AM,02/Feb/22 6:31 PM,26/Jan/22 9:05 AM,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"In a given environment, the current build of the frontend artefact is discoverable over HTTP using:

Request:

{noformat}GET {{apim_bnase_url}}/version{noformat}

Expected response:

{noformat}HTTP 200 OK
text/plain
{{NBJ-Frontend build number}}{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01fzb:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,25/Jan/22 3:17 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Ensure go-live uses underwriting smoker status not entered smoker status,NBJ-1274,44334,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,25/Jan/22 1:22 PM,01/Feb/22 4:28 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As a* consumer of the apis
*So that* the correct smoker status is used when activating
*I want* smokerStatus to be set on go live message from decision

{panel:bgColor=#deebff}
This story is about ensuring when go live is called the smoker status passed is the decision from the rules - SMOKER_GFS
{panel}",,Chris.Hibbert,Jim Houghton,,,,,,60cc71a1d5dde800713a2124,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* any go live request
*When* formulating service request
*Then* ensure that the smokerStatus on the go live request message is set for a given applicant to be that from underwritingOutcome.smokerStatus",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-119,,,,,,,,,,,,,,,,None,,"In sprint 8 the smoker status was defaulted to {{""smoker"": ""None in the last 5 years"",}} if not set correctly during new business journey to enable successful policy activation.

Ensure the smoker status from URE is successfully saved to the Application object model prior to policy activation.

Need to revert change made in [https://gghltd.atlassian.net/browse/NBJ-1279|https://gghltd.atlassian.net/browse/NBJ-1279|smart-link] so that the smoker status is always mapped to SalesForceApplication with a valid smoker status.",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwibi:0i,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,25/Jan/22 1:22 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-02-01 16:28:29.587,01/Feb/22 4:28 PM;60cc71a22bd21400692fd2af;[~accountid:60cc71a1d5dde800713a2124] - do we want to ensure correct smoker status used in quote?,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Remove smoking from applicant data model,NBJ-1272,44332,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,25/Jan/22 1:21 PM,02/Feb/22 4:32 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As an* API user
*So that* I can enter my clients smoker status correctly
*I want* the smoking attribute removed from the applicant model",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,NBJ-1257,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given*: An applicant
*Then*: smoking no longer exists on the applicant model
*and*: the smoker from underwriting is used for TriggerQuote (SMOKER_GFS)
*and:* the smoker entered by the applicant is used on the quote document
*and:* the smoker following underwriting is used for TriggerDecisionQuote (SMOKER_GFS)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,"Remove {{public Smoker? Smoking { get; set; }}} and {{public enum Smoker}} from Applicant Dtos.Models and Models of the following services:

{{Guardian.Services.ApplicationService}}

{{Guardian.Services.PolicyService}}

{{Guardian.Services.ActionService}}

{{Guardian.Services.BackendForFrontEnd}} - FIX unit test

Remove dependencies and mappings on these properties/enums.

Update client versions.",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwias:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,25/Jan/22 1:21 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 12:51 PM;60cc71a1d5dde800713a2124;[~accountid:60cc71a22bd21400692fd2af] - to update for using the decision so that manual uw is also covered.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Change Client Details UI to ask Guardian Smoker question (3-part) not the Yes/No,NBJ-1271,44331,,Story,Code Review,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Mike,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,25/Jan/22 1:20 PM,02/Feb/22 8:29 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As an* adviser
*So that* I can enter my clients smoker status correctly
*I want* the guardian question to be asked rather than the underwriteme one",,Chris.Hibbert,Mike,,,,,,60cc71a1d5dde800713a2124,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,,,,,,,,,,,,,Hidden from EXL,NBJ-1272,NBJ-1257,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28/Jan/22 2:14 PM;ug:40c0a037-60a5-47d1-812c-a831d94ce168;Screenshot 2022-01-28 at 14.10.07.png;https://gghltd.atlassian.net/secure/attachment/25492/Screenshot+2022-01-28+at+14.10.07.png,,,,,,,,,,,,"*Given*: An application
*When*: Entering data on the client screen
*Then*: The guardian smoker question is asked instead of the existing Yes/No smoker question

question text: What best describes your use of tobacco or nicotine replacement products?
answer options:

# None in the last 5 years
# None in the last 12 months
# I have used tobacco or replacement products in the last 12 months

helptext: Tobacco products include cigarettes, cigars and pipes. Nicotine replacement products include patches, electronic cigarettes, chewing gum, lozenges, inhalers and sprays.

*and*: The Yes/No question is not asked


*Given*: An application
*When*: The smoking question has been answered and applicant submitted
*Then*: The URE is updated with the final answer to the SMOKING_GFS question
*and*: the applicant is updated with the smoker answer",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,Impediment,,,,,,,None,,"Note value is persisted against applicant.smoker

* None in the last 5 years
* None in the last 12 months
* I have used tobacco or replacement products in the last 12 months",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01gie:x,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,Guardian Sprint 9,,,,,25/Jan/22 1:20 PM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-28 14:14:10.011,27/Jan/22 8:14 AM;60cc71a1d5dde800713a2124;[~accountid:60cc71a22bd21400692fd2af]  - this will need a rules update in UWT.  Also - can you confirm the name of the Guardian smoking question in the URE?,"28/Jan/22 2:14 PM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;Hi [~accountid:60cc71a1d5dde800713a2124] Should this still show the UW smoker questions below or will these be removed as part of AC2?

!Screenshot 2022-01-28 at 14.10.07.png|width=1236,height=602!","28/Jan/22 2:43 PM;60cc71a1d5dde800713a2124;@mike - the extra smoker questions will go as part of AC2
Please note: I need to confirm with [~accountid:60cc71a22bd21400692fd2af]  the name of the smoker question in the URE.  GFSSMOKER is my guess.","28/Jan/22 2:48 PM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;Thanks [~accountid:60cc71a1d5dde800713a2124] - so I’ll send the answers to the new set of smoker questions to UW under the name GFSSMOKER → possible answers {{Smoker}}, {{Last5Years}}, {{Last12Months}}","28/Jan/22 3:52 PM;60cc71a1d5dde800713a2124;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] - question is called SMOKING_GFS

NONE_LAST_5_YEARS - None in the last 5 years

NONE_LAST_12_MONTHS - None in the last 12 months

CURRENT - I have used tobacco or replacement products in the last 12 months",01/Feb/22 1:58 PM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;Hi [~accountid:60cc71a1d5dde800713a2124] - Should the SMOKING_GFS smoker question come back in the UW request with the \['CLIENT_DETAILS'] tag and displayed with the other UW questions on the client details page?,"01/Feb/22 2:08 PM;60cc71a1d5dde800713a2124;[~accountid:60cc71a22bd21400692fd2af] - can you add to UWT rules?  

[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5]  - it wont be on a CLIENT_DETAILS tag to be displayed, it will be like gender in that it needs to be passed to the URE but is hardcoded as a question in the front end.",,,,,,,,,,,,,,,,,,,,,,,,,In Progress
Update application status enum to change all states,NBJ-1270,44330,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,25/Jan/22 1:14 PM,01/Feb/22 1:01 PM,02/Feb/22 6:31 PM,01/Feb/22 1:00 PM,,Foundation Release,,,,,"* Create Quote
* Quote
* Apply
* Underwriting
* Decision
* Went on Risk

*This needs a change to an enum that will impact all microservices, clients and consumers.*",,Antony.Gorman,James Bartlett,Sam Gamble,,,,,6149b13472728e006f9441d6,6139c49114e8340071fcda09,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given*: An application
*Then*: The application states used across all services are

* Create Quote
* Quote
* Apply
* Underwriting
* Decision
* Went on Risk

*and*: the capitalisation is as above",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-119,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwiau:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,25/Jan/22 1:14 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-25 15:06:31.986,"25/Jan/22 3:06 PM;6149b13472728e006f9441d6;[~accountid:60cc71a1d5dde800713a2124] [~accountid:610c00d94e8d8d0069a20d6c] [~accountid:616ee20e2097220071a975d2] I think this needs a bit more thought. I couldn’t find the enum defined on the common data model but did find a page on state transitions here [Application and Applicant States - NBJ Project - Confluence (atlassian.net)|https://gghltd.atlassian.net/wiki/spaces/NP/pages/2953183549/Application+and+Applicant+States] .

The state labels here all vary a bit from what we have in the system and this list is missing two we have in system (pre-quote and not-taken-up) and the system enum is missing Create Quote from that wiki page.

I can change this single enum value as request but then it will be out of step of the others and we still have a bunch missing etc.

I’ll come back to this once everyone has has a chance to give their thoughts - ta.","29/Jan/22 2:03 PM;610c00d94e8d8d0069a20d6c;From a data modelling perspective, some of these statuses aren’t quite right - namely “Create Quote” and “Went on Risk”.

*Went on Risk*
The definition of a status is a description of the what a thing is now, not what it was or will be. That immediately excludes statuses in the past and future tense.

In NBJ 2.0 we are modelling both statuses of things and facts about things, so I’m keen to ensure these concepts remain distinct and clearly defined. An entity’s status covers the present, facts cover all the previous states of the entity over time.

A fact is an assertion about something coupled with proof, so the status “Went on Risk” is an assertion missing the proof (the timestamp of when this happened and a snapshot of the Application state at that moment). Plus, we are actually modelling “Went on Risk” as a fact anyway.

Recommendation: status should be something like “On Risk”, “Live”, “Policy”.

*Create Quote*
This status is modelling when an Application does not have a Quote, so in the user journey this is when:

* A new Application is created; or 
* When a Cover or Applicant change has invalidated a quote and Application.Quote is empty

Recommendation: status should be something like “Pre-quote”, “Unquoted”,  “Unpriced“.","31/Jan/22 1:53 PM;6149b13472728e006f9441d6;this is in UWT but a quick NB is that this borks all the old application data now as the enum strings have all changed. 



I’m leaving it in review as am waiting to see if we should do a migration.",01/Feb/22 1:01 PM;6139c49114e8340071fcda09;API tests have been updated and work with the new statuses,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Create facts when URE decision is triggered,NBJ-1269,44311,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,mike hill,5d94816eefc9290c2e625a11,25/Jan/22 11:28 AM,29/Jan/22 2:04 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As a* Sales MI Team member
*So that* I can analyse sales performance and trends by based upon NBJ2 application events
*I want* a decision fact created when the URE decision is requested",,mike hill,,,,,,,5d94816eefc9290c2e625a11,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* an application
*When* a request for a URE decision is made
*Then* a fact is saved with the state of the application when the request was made

||*fact schema item*||*value*||
|id|Unique id (GUID)|
|calingSystem|NBJ2|
|applicationId|Application reference (e.g. G100000001)|
|eventName|URE_DECISION_TRIGGERED|
|eventCreatedDatetime|UTC timestamp of event|
|partitionKey|Application reference (e.g. G100000001)|
|factType|application|
|contentType|JSON|
|payload|application DTO|



*Given* a request for a URE decision
*When* the URE enquiry is requested
*Then* a fact is saved with the state of the automated underwriting

||*fact schema item*||*value*||
|id|Unique id (GUID)|
|calingSystem|NBJ2|
|applicationId|Application reference (e.g. G100000001)|
|eventName|URE_ENQUIRY_REQUESTED|
|eventCreatedDatetime|UTC timestamp of event|
|partitionKey|Application reference (e.g. G100000001)|
|factType|enquiry|
|contentType|JSON|
|payload|URE enquiry object|

*Given* a request for a URE decision
*When* the decision service responds
*Then* a fact is saved with the decision object

||*fact schema item*||*value*||
|id|Unique id (GUID)|
|calingSystem|NBJ2|
|applicationId|Application reference (e.g. G100000001)|
|eventName|URE_DECISION_CREATED|
|eventCreatedDatetime|UTC timestamp of event|
|partitionKey|Application reference (e.g. G100000001)|
|factType|decision|
|contentType|JSON|
|payload|decision DTO|",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-127,,,,,,,,,,,,,,,,None,,"Build on [https://gghltd.atlassian.net/browse/NBJ-429|https://gghltd.atlassian.net/browse/NBJ-429|smart-link]

Fact service overview - [https://gghltd.atlassian.net/wiki/spaces/NP/pages/3137470507/FactService|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3137470507/FactService|smart-link] 

Fact service schema - [https://gghltd.atlassian.net/wiki/spaces/NP/pages/3168632854/Fact+schema|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3168632854/Fact+schema|smart-link] 

Fact service catalogue - [https://gghltd.atlassian.net/wiki/spaces/NP/pages/3169157139/Fact+Catalogue|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3169157139/Fact+Catalogue|smart-link] 

An example of a decision fact is shown below:

*Note that the payload is the Common Data Format (API output) of the riskDecision*

{noformat}[
    {
        ""id"": ""iisgXJcHStFHDRyFIPU3riOB61xwsl"",
        ""applicationId"": ""G000151459"",
        ""callingSystem"": ""NBJ2"",
        ""eventName"": ""uwwb.applyDecision"",
        ""eventCreatedDatetime"": ""2022-01-25T09:47:30.283"",
        ""partitionKey"": ""G000151459"",
        ""factType"": ""decision"",
        ""payload"": {
            ""applicantId"": ""61f9485d-5061-4f73-9478-d2e70b312055"",
            ""smokerStatus"": ""None in the last 5 years"",
            ""origin"": """",
            ""riskDecisions"": [
                {
                    ""riskType"": ""life"",
                    ""decision"": ""Standard Terms"",
                    ""reasons"": [
                        ""Alcohol_IFA"",
                        ""Build"",
                        ""CV_Risk_Calculator_Life"",
                        ""Client_Details_Build_GFS"",
                        ""Key_Info_IFA"",
                        ""Max_Loading"",
                        ""Non_Medical_Limits"",
                        ""Tobacco_Use""
                    ],
                    ""gioEntitlement"": ""true"",
                    ""disabilityDefinition"": null,
                    ""indicativeDecision"": false,
                    ""upsell"": {
                        ""amount"": 550000,
                        ""allowed"": false
                    },
                    ""postpone"": null,
                    ""evidences"": [],
                    ""exclusions"": [],
                    ""em"": null,
                    ""pm"": null,
                    ""indicative"": false
                }
            ],
            ""underwritingDeclarationMade"": false
        },
        ""_rid"": ""ywgoAK2pJtAxAAAAAAAAAA=="",
        ""_self"": ""dbs/ywgoAA==/colls/ywgoAK2pJtA=/docs/ywgoAK2pJtAxAAAAAAAAAA==/"",
        ""_etag"": ""\""00007cdf-0000-1100-0000-61efc7310000\"""",
        ""_attachments"": ""attachments/"",
        ""_ts"": 1643104049
    }
]{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwib9:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,19/Jan/22 1:24 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Release Management : Tag/Version Specific,NBJ-1268,44309,,Task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,25/Jan/22 10:53 AM,25/Jan/22 10:53 AM,28/Jan/22 2:38 PM,,,,,,,,,,Gareth Hailes,,,,,,,5ed8c4bc4ec4270ba3725b85,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1jzzzi2i,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,25/Jan/22 10:53 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Rename Activation Service to Policy Service,NBJ-1267,44308,,Task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,mark.thurston@venture1consulting.com,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,25/Jan/22 10:52 AM,26/Jan/22 9:29 AM,25/Jan/22 10:53 AM,26/Jan/22 9:29 AM,,,,,,,"The name and scope of the ActivationService doesn’t make sense - activation is an action but not a data entity. Renaming the ActivationService to PolicyService means we can have an endpoint that activates an Application (and turns it into a Policy in Lissia), and the PolicyService can be responsible for all other Policy concerns.

This change needs to be reflected in the devops pipeline.",,Gareth Hailes,mark.thurston@venture1consulting.com,,,,,,5ed8c4bc4ec4270ba3725b85,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Pipeline deploys the service with the new name “policyservice” and the correct App Service settings are deployed.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,"# Pipeline needs changing.
# App Settings need copying (except the Cosmos container ID)
# Create new actionservice param: PolicyService__URL to point to APIM. 
# (No APIM changes expected as the deployement auto-created the APIs based on the App Service name.)

Once working…

# Delete the “activationservice” settings in dev and sit.
# Delete the old “ActivationService__URL” from the action service.
# Delete the old activation services from Dev and SIT (and their respective App Insights and Plans)",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1jzzzi2,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,25/Jan/22 10:52 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-25 15:46:23.671,"25/Jan/22 3:46 PM;557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96;OK, the pipeline and App Config changes are done. 

Tested level 2 in infrastructure branch - PASS",25/Jan/22 4:20 PM;557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96;Had to add in the manually entered APIM API but once done a redeployment worked.,25/Jan/22 4:26 PM;557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96;All 3 “once working…” tasks done in Dev.,25/Jan/22 4:28 PM;557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96;Final check in Dev (in master)….,"25/Jan/22 5:50 PM;557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96;Deployed to SIT.

All 3 “once done.,..” stuff done. 

Over to Sandra,.",,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Align sum assured entry for aci covers with the life / ci covers on quote screen,NBJ-1266,44306,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Lowest,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,25/Jan/22 10:22 AM,02/Feb/22 4:46 PM,02/Feb/22 6:31 PM,,,Parked Stories & Bugs,,,,,"!Screenshot 2022-01-25 at 10.21.56.png|width=1161,height=415!",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,25/Jan/22 10:22 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2022-01-25 at 10.21.56.png;https://gghltd.atlassian.net/secure/attachment/25337/Screenshot+2022-01-25+at+10.21.56.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zwh,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,25/Jan/22 10:22 AM,,1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Allow commission to be edited when no covers exist on the application,NBJ-1265,44305,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Low,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,25/Jan/22 10:18 AM,02/Feb/22 4:46 PM,02/Feb/22 6:31 PM,,,Parked Stories & Bugs,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zsy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,25/Jan/22 10:18 AM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Misc Quote screen updates,NBJ-1264,44304,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,25/Jan/22 10:16 AM,02/Feb/22 9:17 AM,02/Feb/22 6:31 PM,02/Feb/22 9:17 AM,,Foundation Release,,,,,"*As an* adviser
*So that* I know what to do on the Client Details screen
*I want* the screen updated to the latest design

[https://gghltd.atlassian.net/wiki/spaces/NP/pages/3106603011/Screen+Design+Updates|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3106603011/Screen+Design+Updates|smart-link] 



* Commission should be displayed as £0.00 when coming onto the screen.
* “Please start by selecting a cover option:” should be “Please start by adding a cover”
* “Life and Critical Illness Protection” should be “Combined Life and Critical Illness Protection”
* As soon as you make a change to a cover can the button change to “Get price” before exiting?
* “Add Person” should be “Add client”",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given*: An application with no persisted quote
*When*: Displaying the quote screen
*Then*: The commission amount is shown as £0.00
*and*: the link on the life 2 tab to add another client should be “Add client” and not “Add Person” (note lower case c)

*Given*: An application with no covers
*When*: Displaying the quote screen
*Then*: The text displayed about Add cover should be “Please start by adding a cover“ not “Please start by selecting a cover option:”

*Given*: An application with an aci cover
*When*: Displaying the cover
*Then*: The cover name should be “Combined Life and Critical Illness Protection”

*Given*: An application with a quote
*When*: Editing the covers
*Then*: The apply button changes to “Get Price” as soon as you start typing your change",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwie7:zi,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,25/Jan/22 10:16 AM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Update header,NBJ-1263,44303,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,25/Jan/22 10:10 AM,02/Feb/22 11:11 AM,02/Feb/22 6:31 PM,02/Feb/22 11:11 AM,,Foundation Release,,,,,"*As an* adviser
*So that* site navigation is easier
*I want* some links in the header",,Chris.Hibbert,Justin.Smith,Mike,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,25/Jan/22 10:15 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2022-01-25 at 10.14.40.png;https://gghltd.atlassian.net/secure/attachment/25336/Screenshot+2022-01-25+at+10.14.40.png,02/Feb/22 11:11 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220202-111023.png;https://gghltd.atlassian.net/secure/attachment/25581/image-20220202-111023.png,02/Feb/22 11:11 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220202-111119.png;https://gghltd.atlassian.net/secure/attachment/25582/image-20220202-111119.png,,,,,,,,,,"*Given*: An application
*When*: Clicking on Protection Builder in the site header
*Then*: The user is navigated to the dashboard screen

*Given*: An application
*Then*: A link to the dashboard is shown on the far right of the site header

!Screenshot 2022-01-25 at 10.14.40.png|width=1607,height=100!

note: we will add the username in a later story",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01gid:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,Guardian Sprint 9,,,,,25/Jan/22 10:10 AM,,1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-28 11:51:44.425,28/Jan/22 11:07 AM;60cc71a1d5dde800713a2124;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5]  - first AC is missing.,28/Jan/22 11:51 AM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;[~accountid:60cc71a1d5dde800713a2124] Aaaaahhh.. sorry\! ,"02/Feb/22 11:11 AM;618bdfc5fba4d0006ad4853e;This is all automated now.  Had to update the navigation tests as well.

!image-20220202-111023.png|width=536,height=212!

!image-20220202-111119.png|width=1418,height=1044!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Misc Client Details screen updates,NBJ-1262,44302,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,25/Jan/22 10:08 AM,25/Jan/22 10:35 AM,02/Feb/22 6:31 PM,,,,,,,,"*As an* adviser
*So that* I know what to do on the Client Details screen
*I want* the screen updated to the latest design

[https://gghltd.atlassian.net/wiki/spaces/NP/pages/3106603011/Screen+Design+Updates|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3106603011/Screen+Design+Updates|smart-link] 

* Tabbing from radio buttons (E.g. Gender) should take you to the next question. Should function like the height question.
* Tabbing should not take you to help text.
* Date of birth - Is it possible to move the cursor after the / when you’ve typed in the number of digits?
* Dual life approach text weirdly wraps to two lines?
* Adding a blank second client and removing the first doesn’t clear the Last name or Date of birth / age fields.
* Should only be able to continue through the page when you have completed all mandatory questions.
* Waist measurement doesn’t appear selected in the same way as the other questions",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zjzzzzzy8zx,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,25/Jan/22 10:08 AM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Test Data Ids required for Commission Element,NBJ-1261,44301,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,25/Jan/22 9:57 AM,02/Feb/22 11:36 AM,02/Feb/22 6:31 PM,01/Feb/22 11:42 AM,,Foundation Release,,,,,"Can I request for {{data-testids}} for the following element for our automated tests:

* Adjust Commission button on Quote Screen and Decision Screen

!image-20220125-100024.png|width=1237,height=577!

!image-20220125-100047.png|width=1238,height=955!",,Justin.Smith,Nathan Punzalan,,,,,,618bdfc5fba4d0006ad4853e,613f22fdff23ba00715469d1,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,NBJ-1091,,,,,,,,,,NGT-135,,,,,,,,,,25/Jan/22 10:00 AM;nathan.punzalan;image-20220125-100024.png;https://gghltd.atlassian.net/secure/attachment/25335/image-20220125-100024.png,25/Jan/22 10:00 AM;nathan.punzalan;image-20220125-100047.png;https://gghltd.atlassian.net/secure/attachment/25334/image-20220125-100047.png,01/Feb/22 11:41 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220201-111810.png;https://gghltd.atlassian.net/secure/attachment/25563/image-20220201-111810.png,01/Feb/22 11:41 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220201-113932.png;https://gghltd.atlassian.net/secure/attachment/25564/image-20220201-113932.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01gie:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,Guardian Sprint 9,,,,,16/Dec/21 4:07 PM,,1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-28 10:54:29.762,28/Jan/22 10:54 AM;618bdfc5fba4d0006ad4853e;Wait for NBJ-1263,"28/Jan/22 11:24 AM;618bdfc5fba4d0006ad4853e;I’m now seeing - {{data-testid=""lblAdjustCommission""}}

Sorry, not entirely happy with this.  Annoying testers\!  The prefix lbl means label whereas the element is really a link.  I would have preferred something like - {{data-testid=""adjustCommisionLinkBtn""}}.","01/Feb/22 11:41 AM;618bdfc5fba4d0006ad4853e;This looks good 

!image-20220201-111810.png|width=1564,height=988!

I have mentioned to [~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] the {{adjustCommisionLinkBtn}} is missing the 's'.  He will put this in another ticket.  I have updated the quote base page

!image-20220201-113932.png|width=587,height=51!

Closing.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Set preferred billing day on go live message,NBJ-1260,44299,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,25/Jan/22 9:51 AM,29/Jan/22 11:29 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As an* IFA representing a client
*So that* I can select the preferred collection date of my direct debit
*I want* the preferred collection day set on the go live message

{panel:bgColor=#deebff}
This story is about setting the day the client wants the dd to be taken from their bank account
{panel}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* any activation request
*When* activating on Lissia
*Then* for every row created in the ImpPrlBenList, set ImpItmBkaPrlbenBankAccounts.BillingDay to application.preferredCollectionDay",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-119,,,,,,,,,,,,,,,,None,,[https://gghltd.atlassian.net/wiki/spaces/NP/pages/3072229443/WSSGLIVE+-+Request|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3072229443/WSSGLIVE+-+Request|smart-link] ,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwibi:c,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,25/Jan/22 9:51 AM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Misc Contact Details screen updates,NBJ-1259,44298,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,25/Jan/22 9:34 AM,27/Jan/22 4:45 PM,02/Feb/22 6:31 PM,27/Jan/22 4:45 PM,,Foundation Release,,,,,"*As an* adviser
*So that* I know what to do on the Contact Details screen
*I want* the screen updated to the latest design



[https://gghltd.atlassian.net/wiki/spaces/NP/pages/3106603011/Screen+Design+Updates|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3106603011/Screen+Design+Updates|smart-link] 

* Heading should read: ""You're entering personal and sensitive client data in this application. Your terms of business states you have consent from your client to give us their data. Please make sure your client understands we'll handle their data in line with our Customer Privacy Policy."" with the link on Customer Privacy Policy.
* Client name should just read “First name Last name” and not “First name Contact Details”
* Postcode dropdown list should not autopopulate with the first address as this feels like it’s been selected (when it hasn’t)
* Selecting to Enter Address manually should remove the dropdown with the addresses pre-populated. (Could be a windows chrome issue?)
* “Do you want to use the same address as “ should have the first name of the primary applicant populated.
* Button should not be called “Underwrite” should be “Continue”",,Chris.Hibbert,Mike,,,,,,60cc71a1d5dde800713a2124,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given*: An application
*When*: Viewing the contact details screen
*Then*: The page heading should be:

{panel:bgColor=#eae6ff}
You're entering personal and sensitive client data in this application. Your terms of business states you have consent from your client to give us their data. Please make sure your client understands we'll handle their data in line with our Customer Privacy Policy.
{panel}

*and*: Customer Privacy Policy should be a link to [https://guardian1821.co.uk/privacy-policy/|https://guardian1821.co.uk/privacy-policy/|smart-link] 

*Given*: An application
*When*: Viewing the contact details screen
*Then*: the heading for each life’s contact details should be “Firstname Lastname” and not “Firstname’s Contact Details”

*Given*: An application on the contact details screen
*When*: clicking on Find Address
*Then*: the first returned address should not autopopulate the dropdown

*Given:* An application
*When:* Viewing the contact details screen
*Then*: the button at the bottom should be labelled “Continue” not “Underwrite”",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01gib:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,25/Jan/22 9:34 AM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-27 13:30:54.319,27/Jan/22 12:40 PM;60cc71a1d5dde800713a2124;Removing the first name for the use same address question as covered in another ticket,"27/Jan/22 12:41 PM;60cc71a1d5dde800713a2124;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] 

Looks like the button is still labelled “Underwrite”
The first address is also still populated in the dropdown on search",27/Jan/22 1:30 PM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;[~accountid:60cc71a1d5dde800713a2124] this has only just been merged in so not pushed to uwt yet,"27/Jan/22 4:45 PM;60cc71a1d5dde800713a2124;Tested in UWT, all working correctly.",,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
BFF hanging when trying to set isMortgageRelated,NBJ-1258,44296,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Highest,Done,Jason Hughes,613f60991370f00069033c68,Jason Hughes,613f60991370f00069033c68,Jason Hughes,613f60991370f00069033c68,25/Jan/22 9:26 AM,26/Jan/22 8:00 AM,02/Feb/22 6:31 PM,25/Jan/22 1:03 PM,,Foundation Release,,,,,,,Chris.Hibbert,Jason Hughes,,,,,,60cc71a1d5dde800713a2124,613f60991370f00069033c68,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Calling most of the /api/v1/backendforfrontend/application/<property> endpoints caused the BFF to “hang”

eg: 
/api/v1/backendforfrontend/application/isMortgageRelated
/api/v1/backendforfrontend/application/isAdvisedSale",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01fp3:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,25/Jan/22 9:26 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-25 13:03:16.323,25/Jan/22 1:03 PM;60cc71a1d5dde800713a2124;BFF no longer hangs\!,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
SIT - Quote page - Life cover - validation message displayed in error,NBJ-1257,44287,,Bug,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,High,,,,veronika.cole,5dfb48a2d501d70cb60120b4,veronika.cole,5dfb48a2d501d70cb60120b4,24/Jan/22 6:16 PM,01/Feb/22 12:43 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,veronika.cole,,,,,,,5dfb48a2d501d70cb60120b4,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,24/Jan/22 6:14 PM;veronika.cole;SIT - test evidence.docx;https://gghltd.atlassian.net/secure/attachment/25330/SIT+-+test+evidence.docx,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,High,,,,,,,,,,,,,,"Description of Issue: Secondary applicant - validation message displayed in error. No validation should be shown. See the attachment for more details.

Business Impact: Loss of business. ‘Get price’ button disabled. Company reputation.

Steps to Reproduce: Create dual application, data in the attachment.
Error return for client 2.

Expected Results: No validation should be shown.

Actual Result: Validation message shown in error.
'The maximum term to age is 90'

Version: SIT environment

[https://apim-ggh-level2-sit-uksouth-11.azure-api.net/application/G000010102/quote|https://apim-ggh-level2-sit-uksouth-11.azure-api.net/application/G000010102/quote|smart-link] ",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,SIT,,,,,,,,,,,,,,,,,,,,Space-bx,,,,,,,No,,1|hzwib9:zzzy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,24/Jan/22 6:16 PM,,,,,Space Extranet,,,,,,,,,,,NGT-146,,veronika.cole,5dfb48a2d501d70cb60120b4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Add ShortText property to optionLists,NBJ-1256,44286,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,24/Jan/22 5:23 PM,01/Feb/22 2:23 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As an* operational underwriter
*So that* I can easily search option lists
*I want* short text to help me select the correct exclusion or postponement option

{panel:bgColor=#deebff}
This story is about adding short text property to optionList api exposed through APIM
{panel}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,NBJ-640,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* any optionList request through APIM

{{GET /api/v1/underwriting/{applicantId}/optionList/{optionListName}}}

*And* has option.attribute.GFSShortText property
*When* formulating api response
*Then* set option.shortText to option.attribute.GFSShortText from URE response

*Given* any optionList request through APIM

{{GET /api/v1/underwriting/{applicantId}/optionList/{optionListName}}}

*And* does *not* have an option.attribute.GFSShortText property
*When* formulating api response
*Then* set option.shortText to null",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-802,,,,,,,,,,,,,,,,None,,"_Request_

{code:json}GET /api/v1/underwriting/{applicantId}/optionList/{optionListName}{code}

_Response_

{code:json}{
  ""errors"": {},
  ""data"":{
    ""options"":[
      {
        ""code"": ""{optionCode}"",
        ""text"": ""{optionText}"",
        ""shortText"" : ""{GFSShortText}"",
        ...
      },
      {...}
    ]
  }
}{code}

URE request (specifically chosen this api as further stories need to handle aliases)

{code:json}GET /v4/rawOptionList/{branch}/{tag}/{optionListName}{code}

URE response

{code:json}{
  ""name"": ""ExclusionOptions"",
  ""fuzzyThreshold"": 0.3,
  ""locales"": [
	...
  ],
  ""options"": [
    {
      ""name"": ""CIBROVCA"",
      ""aliasesByLocale"": {
        ""IFA_EN_GB"": [
          ""Carcinoma-in-situ of the breast, breast cancer and ovarian cancer are removed as insured conditions""
        ]
      },
      ""categories"": [],
      ""tags"": [],
      ""attributes"": {
       ...,
        ""GFSShortText"" : ""Shorter version than insurerText""
      }
    },
    ...
  ]
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwib9:yi,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,24/Jan/22 5:23 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
The manual decision saved to cosmos does not have display friendly string values for Risk and Decision Type,NBJ-1255,44280,,Bug,Code Delivered,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Antony.Gorman,6149b13472728e006f9441d6,Jon Reynolds,616ee20e2097220071a975d2,Jon Reynolds,616ee20e2097220071a975d2,24/Jan/22 2:50 PM,31/Jan/22 12:29 PM,02/Feb/22 6:31 PM,,,,,,,,,,James Bartlett,Jon Reynolds,,,,,,6139c49114e8340071fcda09,616ee20e2097220071a975d2,,,,,,,,,,,,,Hidden from EXL,NBJ-819,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,24/Jan/22 2:53 PM;ug:117ea4bb-8992-4456-92e8-f3d84c2d6b41;image-20220124-145256.png;https://gghltd.atlassian.net/secure/attachment/25318/image-20220124-145256.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: When persisting the manual underwriting decision the risk and decision types are saved as integer values and not descriptive string values.

!image-20220124-145256.png|width=2262,height=857!",,{},,,,,,NBJ-799,,,,,,,,,Impediment,,,,,,,None,QA / UWT,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01f5y:i,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,Guardian Sprint 9,,,,,24/Jan/22 2:50 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-28 09:46:46.325,"28/Jan/22 9:46 AM;6139c49114e8340071fcda09;(flag) Flag added

cannot yet test as cannot get decisions back from Salesforce",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress
Test Execution for NBJ-1101,NBJ-1254,44278,,Test,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,24/Jan/22 2:49 PM,24/Jan/22 2:49 PM,02/Feb/22 6:31 PM,24/Jan/22 2:49 PM,,,,,,,,,Nathan Punzalan,,,,,,,613f22fdff23ba00715469d1,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01flr:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,24/Jan/22 2:49 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Sprint 8 - TriggerDecision endpoint returning a 400 status when using enquiry that should lead to a Referred decision,NBJ-1253,44249,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Highest,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,24/Jan/22 11:22 AM,31/Jan/22 12:41 PM,02/Feb/22 6:31 PM,24/Jan/22 1:29 PM,,Foundation Release,,,,,,,Nathan Punzalan,,,,,,,613f22fdff23ba00715469d1,,,,,,,,,,,,,,Hidden from EXL,NBJ-1242,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,24/Jan/22 11:22 AM;nathan.punzalan;enquiryRequestRefer.txt;https://gghltd.atlassian.net/secure/attachment/25312/enquiryRequestRefer.txt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: 

TriggerDecision endpoint returning a 400 status when using enquiry that should lead to a Referred decision.

Steps to Reproduce via API: 

# Create Application & applicant
# Patch applicant data
# Add cover
# Update enquiry where it will lead to a referred decision (can use example below)

[^enquiryRequestRefer.txt]

 5. Trigger Decision quote

Expected Results:

User gets a 200 or 201 status returned and application status set to underwriting.

Actual Result: 

User gets a 400 status (bad request). Application Id I used for testing is: {{G000150803}}

{noformat}{
    ""errors"": [
        {
            ""errorMessage"": ""Underwriting session cannot be closed."",
            ""propertyName"": ""Id"",
            ""attemptedValue"": ""ac0b1860-a614-49be-b872-5244c9d7b007""
        }
    ]
}{noformat}",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zi0j2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,24/Jan/22 11:22 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,24/Jan/22 11:24 AM;613f22fdff23ba00715469d1;I have also shared this bug with [~accountid:616ee20e2097220071a975d2] as it blocks testing the bug he recently fixed: [https://gghltd.atlassian.net/browse/NBJ-1242|https://gghltd.atlassian.net/browse/NBJ-1242|smart-link] ,"24/Jan/22 1:29 PM;613f22fdff23ba00715469d1;As discussed with [~accountid:616ee20e2097220071a975d2]  and [~accountid:60cc71a22bd21400692fd2af] , this works as expected as the session I used had some questions that were not answered.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Rename ActivationService to PolicyService,NBJ-1252,44246,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,24/Jan/22 10:31 AM,25/Jan/22 12:05 PM,25/Jan/22 10:52 AM,25/Jan/22 12:05 PM,,Foundation Release,,Sprint_8,,,"The name and scope of the ActivationService doesn’t make sense - activation is an action but not a data entity. Renaming the ActivationService to PolicyService means we can have an endpoint that activates an Application (and turns it into a Policy in Lissia), and the PolicyService can be responsible for all other Policy concerns.",,Antony.Gorman,James Bartlett,Sam Gamble,,,,,6149b13472728e006f9441d6,6139c49114e8340071fcda09,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,Hidden from EXL,NBJ-1135,NBJ-983,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,* There is a PolicyService repo with a PolicyService in it,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zi0ir,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,24/Jan/22 10:31 AM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-24 13:37:40.937,24/Jan/22 1:37 PM;6149b13472728e006f9441d6;[~accountid:557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96] Hey Mark as discussed - for your reference.,25/Jan/22 12:05 PM;6139c49114e8340071fcda09;new endpoint https://\{\{activationsUri}}/api/v1/policy/activate works like a charm - see [https://gghltd.atlassian.net/browse/NBJ-1008|https://gghltd.atlassian.net/browse/NBJ-1008|smart-link] for relevant testing evidence.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
SIT - Can't access Quote document,NBJ-1251,44241,,Bug,In Progress,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Jason Hughes,613f60991370f00069033c68,John.LeQuesne,5db187687b20d80c2a25b574,John.LeQuesne,5db187687b20d80c2a25b574,24/Jan/22 9:41 AM,01/Feb/22 5:31 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,Jason Hughes,John.LeQuesne,Sam Gamble,,,,60cc71a1d5dde800713a2124,613f60991370f00069033c68,5db187687b20d80c2a25b574,610c00d94e8d8d0069a20d6c,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,24/Jan/22 9:41 AM;John.LeQuesne;image-20220124-094101.png;https://gghltd.atlassian.net/secure/attachment/25300/image-20220124-094101.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: On the Quote screen, the Quote Document is displayed but it errors when the link is hit

Business Impact: Quote Document isn’t available

Steps to Reproduce: Run a single life quote & hit the Quote Document link

Expected Results: Quote Document is displayed

Actual Result: An error is displayed

Version: SIT on 24 Jan



!image-20220124-094101.png|width=1422,height=800!",,{},,,,,,NBJ-34,,,,,,,,,,,,,,,,None,SIT,,,,,,,,,,,,,,,,,,,,Space-bx,,,,,,,No,,1|hzwif6:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,24/Jan/22 9:41 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-24 15:48:56.398,"24/Jan/22 3:48 PM;60cc71a1d5dde800713a2124;[~accountid:610c00d94e8d8d0069a20d6c]  - one to investigate as not an issue in UWT, so likely environmental.","26/Jan/22 3:15 PM;610c00d94e8d8d0069a20d6c;Tested on SIT-11 just now. This is still an issue - no quote doc.

Example case: [https://apim-ggh-level2-sit-uksouth-11.azure-api.net/application/G100000014/quote|https://apim-ggh-level2-sit-uksouth-11.azure-api.net/application/G100000014/quote|smart-link]  ","01/Feb/22 5:31 PM;613f60991370f00069033c68;We think the issue is due to the services using a hard-coded client id which doesn’t exist in SIT. It didn’t help that Lissia doesn’t tell you if it fails when generating the docs.

We’ve temporarily made this value configurable and I will test it again once everything next gets deployed. In the future the value will be being determined from the authentication related code.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress
"Update policyStartDate on GoLive for ""now"" option on policyStartDateOption",NBJ-1250,44240,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,24/Jan/22 9:37 AM,01/Feb/22 2:41 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As an* API User
*So that* I know when something actually went live easily
*I want* the go live message to use todays date if I have chosen now",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,NGT-343,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given*: An application
*When*: sending the policy to Lissia (Go Live)
*and*: policyStartDateOption is set to now
*Then*: policy activation is allowed
*and*: todays date is used for the activation date in the Go Live messaging
*and*: the application is updated with todays date for the policyStartDate",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-119,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwib9:zzzz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,24/Jan/22 9:37 AM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Sprint 8 | Decision Tab | Remove 1 of 2 covers and you get a 400 error on remove cover,NBJ-1249,44220,,Bug,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,21/Jan/22 4:51 PM,31/Jan/22 11:29 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Justin.Smith,,,,,,,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-681,,,,,,,,,,21/Jan/22 4:51 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220121-164923.png;https://gghltd.atlassian.net/secure/attachment/25295/image-20220121-164923.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: If you remove 1 cover out of 2 then when mutate remove cover is called there is a 400 error

Business Impact: Medium

Steps to Reproduce: 

# Provide client details, 2 covers, contact details and provide answers to get a standard decision
# Remove 1 of the covers
# The call to trigger quote results in a 400 - \{""errors"":\[\{""errorMessage"":""The JSON value could not be converted to System.Nullable`1\[System.Guid]. Path: $.applicantId | LineNumber: 0 | BytePositionInLine: 45."",""propertyName"":""$.applicantId"",""attemptedValue"":null}]} 
!image-20220121-164923.png|width=1900,height=940!

Expected Results: Cover removed

Actual Result: Cover not removed

Version: N/A",,{},,,,,,,,,,,,,,,,,,,,,,None,QA / UWT,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwifc:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,21/Jan/22 4:51 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Sprint 8 | Decision Tab | Edit cover and get an error due to amount - Get Price button still enabled,NBJ-1248,44219,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,21/Jan/22 4:42 PM,26/Jan/22 8:00 AM,02/Feb/22 6:31 PM,24/Jan/22 3:12 PM,,Foundation Release,,,,,,,Justin.Smith,,,,,,,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-681,,,,,,,,,,21/Jan/22 4:42 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220121-154841.png;https://gghltd.atlassian.net/secure/attachment/25293/image-20220121-154841.png,21/Jan/22 4:42 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220121-154949.png;https://gghltd.atlassian.net/secure/attachment/25294/image-20220121-154949.png,24/Jan/22 3:11 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220124-151101.png;https://gghltd.atlassian.net/secure/attachment/25322/image-20220124-151101.png,24/Jan/22 3:11 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220124-151147.png;https://gghltd.atlassian.net/secure/attachment/25323/image-20220124-151147.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: If I edit the cover amount to an invalid amount for the cover then I get an error but the ‘Get Price’ button is still enabled.

Business Impact: Medium

Steps to Reproduce: 

# Provide client details, cover, contact details and provide answers to get a standard decision
# Modify the amount on the cover to something invalid and get an error
# The ‘Get Price’ is enabled

Quote tab

!image-20220121-154841.png|width=1505,height=1030!

Decision Tab

!image-20220121-154949.png|width=1458,height=955!

Expected Results: ‘Get Price’ should not be enabled as is the case with the Quote tab

Actual Result: ‘Get Price’ is enabled

Version: N/A",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01f5x:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,21/Jan/22 4:42 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Jan/22 3:11 PM;618bdfc5fba4d0006ad4853e;Looks good - 

!image-20220124-151101.png|width=1389,height=468!

!image-20220124-151147.png|width=1200,height=524!

Closing.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Create a new Health Check app that looks at SIT,NBJ-1247,44205,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Jason Hughes,613f60991370f00069033c68,Sam Gamble,610c00d94e8d8d0069a20d6c,Jason Hughes,613f60991370f00069033c68,21/Jan/22 3:14 PM,24/Jan/22 10:29 AM,02/Feb/22 6:31 PM,24/Jan/22 10:29 AM,,Foundation Release,,,,,"We want a simple UI so it is easy to check the status of SIT

We will reuse the existing health app that checks UWT and provide it different config.

*NOTE:* this is will be a quick and simple solution that will be managed by the developer build pipelines and as such it will actually run in the UWT environment.

It is not part of the proper configuration and deploy pipelines. If something more complicated is needed later we will have to think about how to do that.",,Jason Hughes,,,,,,,613f60991370f00069033c68,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01f5r:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,21/Jan/22 11:09 AM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Persist bank details,NBJ-1246,44200,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,21/Jan/22 2:35 PM,28/Jan/22 10:56 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As a* user of the api
*So that* I can persist bank account details provided by an end user
*I want* an api end point to consume and persist bank details provided

{panel:bgColor=#deebff}
This story is about allowing front end to persist bank account details in backend
{panel}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,NBJ-887,NBJ-433,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Scenario* setting applicant bank details with billing address same as mailing address

*Given* any application <singleOrDual>
*And* <name> of bank account
*And* <applicantId>(s) 
*And* <isBankAddressSame>
*And* accountNumber
*And* sortCode
*And* billingDay
*Then* set application.preferredCollectionDay to billingDay provided
*And* set application.<bankAccountOwner> to <name> of bank account provided 
*And* set <application.isBankAddressSame>

{noformat}| isBankAddressSame | application.isBankAddressSame |
| Yes               | true                          |
| No                | false                         |{noformat}

*And* set bankDetails.<accountName>

{noformat}| name      | accountName                                  |
| not Joint | <name>                                       |
| Joint     | applicant[0].firstName applicant[0].lastName |{noformat}

*And* set bankDetails.sortCode to sortCode provided
*And* set bankDetails.accountCode to accountNumber provided
*And <*link> bankDetails to <applicantId>(s) provided
*And* use contactDetails as <billing address> of bankDetails

{noformat}| singleOrDual | name       | isBankAddressSame | billingAddress                                            |
| single       |            | Yes               | applicant[0].contactDetails as billing address            |
| single       |            | No                | insert contactDetails provided and use as billing address |
| dual         | != ""Joint"" | Yes               | applicant[applicantId].contactDetails                     |
| dual         | = ""Joint""  | Yes               | applicant[0].contactDetails                               |
| dual         |            | No                | new address provided as billing address                   |{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-767,,,,,,,,,,,,,,,,None,,[https://gghltd.atlassian.net/wiki/spaces/NP/pages/2809757737/application+entity|https://gghltd.atlassian.net/wiki/spaces/NP/pages/2809757737/application+entity|smart-link] ,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwibi:7,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,21/Jan/22 2:35 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Jan/22 1:51 PM;60cc71a22bd21400692fd2af;[~accountid:616ee20e2097220071a975d2] - review security aspects of this data, e.g. encrypt bank account/ sort code ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
SalesForce messaging - map Adviser ID from quote,NBJ-1245,44195,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,21/Jan/22 1:51 PM,26/Jan/22 7:59 AM,02/Feb/22 6:31 PM,24/Jan/22 9:54 AM,,Foundation Release,,Sprint_8,,,"In the message that goes to SalesForce, the Application.AdviserAtFirmLocationId needs to be mapped from the Quote.",,Justin.Smith,Sam Gamble,,,,,,618bdfc5fba4d0006ad4853e,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,24/Jan/22 9:54 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220124-094824.png;https://gghltd.atlassian.net/secure/attachment/25302/image-20220124-094824.png,,,,,,,,,,,,The {{Quote}} and {{Application}} have the same value for {{AdviserAtFirmLocationId}}.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,"In the ActionService, in SalesForceMappingProfile.cs, map the Application.AdviserAtFirmLocationId from the Quote.AdviserAtFirmLocationId:

{noformat}...

CreateMap<Applicant, SalesForceApplicant>(MemberList.Source)
  .ForMember(dest => dest.AdviserAtFirmLocationId, opt => opt.MapFrom(source => source.Quote.AdviserAtFirmLocationId))

...{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01f3r:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,21/Jan/22 1:51 PM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-24 09:54:12.217,"24/Jan/22 9:54 AM;618bdfc5fba4d0006ad4853e;I looked at the quote and can see the following quote {{AdviserAtFirmLocationId}} value - 

!image-20220124-094824.png|width=538,height=188!

I then looked at the underwriting start message to salesforce and it contains the following the same {{AdviserAtFirmLocationId}} at application level-

{noformat}{
  ""id"": ""13c01476-6b45-4c17-8126-d50331fa1b91"",
  ""eventType"": ""nbj.underwriting.start"",
  ""eventTime"": ""2022-01-24T09:41:56.7124728+00:00"",
  ""dataVersion"": ""1.0"",
  ""data"": {
    ""application"": {
      ""id"": ""G000150797"",
      ""isMortgageRelated"": false,
      ""adviserAtFirmLocationId"": ""a0r0E000004pFFfQAM"",{noformat}

It is the same for the decision message to salesforce

{noformat}{
  ""id"": ""db395c3f-f8a9-4119-a098-cf78e51ca525"",
  ""eventType"": ""nbj.applicant.ureDecision"",
  ""eventTime"": ""2022-01-24T09:51:25.5061847+00:00"",
  ""dataVersion"": ""1.0"",
  ""data"": {
    ""application"": {
      ""id"": ""G000150797"",
      ""isMortgageRelated"": false,
      ""offerCreationDate"": ""2022-01-24T00:00:00+00:00"",
      ""offerExpiryDate"": ""2022-02-23T00:00:00+00:00"",
      ""adviserAtFirmLocationId"": ""a0r0E000004pFFfQAM"",{noformat}

Closing.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Add children into go live message,NBJ-1244,44183,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,21/Jan/22 11:46 AM,28/Jan/22 12:18 PM,02/Feb/22 6:31 PM,28/Jan/22 12:18 PM,,Foundation Release,,,,,"*As an* adviser or api consumer
*So that* I can activate my applications
*I want* an activation service that includes Child CI covers, includes any specified children

{panel:bgColor=#deebff}
This story is about ensuring Child Details is included in the go live message:
{panel}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Scenario* including children in go live message

*Given* any go live message
*And* contains Child Ci cover
*And* contains children
*When* formulating go live message
*Then* immediately following the main benLine row in ImpCliCpr for the Child Ci, create rows *foreach* child specified in application.applicant.children named on the Child Ci   

{noformat}| Lissia Go Live row.field                          | Value                                                                                      | 
| ImpItmCprQrefWebService.BenLine                   | childCover.id                                                                              |
| ImpItmCprPrlProductLines.PrlId                     | RIDCCIL for childCover.coverType = ""Level"", RIDCCI for childCover.coverType = ""Increasing"" |
| ImpItmCprTypeCliPolRelationships.Type             | 19                                                                                         |
| ImpItmCliClients.Name                             | application.child.lastName                                                                 |
| ImpItmCliClients.FirstName                        | application.child.firstName                                                                |
| ImpItmCliClients.DateOfBirth                      | application.child.dateOfBirth                                                              |{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-119,,,,,,,,,,,,,,,,None,,"Request

{noformat}POST /api/v1/activate{noformat}

Body

{noformat}{
  ""application"": {
    ""applicants"": [
      {
        ""covers"": [...,
          ""riders""[
            """"
          ]
        ]
        ...
      },
      {...}
    ],
    ""children"": [
      {
        ""id"": <guid>,
        ""firstName"": """",
        ""lastName"": """",
        ""dateOfBirth"": utc datetimestamp
      },
      {...}
    ],
    ""quote"":{
      ""applicants"": [
        {
          ...
          ""covers"": [ 
            ...,
            ""riders""[
              {
                
              }
            ]
          ],
          
        },
        {...}
      ]
    }
  }
}{noformat}

Lissia Go Live Request

{code:xml}

<wss:Wssglivecall>
		<WssgliveImport command="""" clientId="""" clientPassword="""" nextLocation="""" exitState="""" dialect="""">
			<ImpGrpPrq/>
			<ImpGrpPcr>
				<row>
					...
				</row>
			</ImpGrpPcr>
			<ImpPolPolicies>
				<DateOfApplication/>
				<DateOfCommencement/>
				<Currency/>
			</ImpPolPolicies>
			<ImpGrpPas>
				<row>
					...
					<!-- Parent Benefit -->
					...
				</row>
				<row>
					...
				</row>
			</ImpGrpPas>
			<ImpCliCpr>
				<row>
					...
					<!-- parent cover -->
				</row>
				<row>
					<!-- Type 4 linking applicant to Child CI benifit line -->
				</row>
				<row>
					<ImpItmCprPclPolicyCvgLives>
						<AgeRating/>
						<AddnFactor/>
						<AddnRpm/>
						<RatingReason/>
						<RatingTerm/>
						<UnderwriterRiskCategory/>
						<MaxCeaseAge/>
					</ImpItmCprPclPolicyCvgLives>
					<ImpItmCprQrefWebService>
						<BenLine>1</BenLine> <!-- childCover.id -->
						<QuoteRef/>
					</ImpItmCprQrefWebService>
					<ImpItmBkaCprBankAccounts>
						<AccountName/>
						<SortCode/>
						<AccountCode/>
						<MandateReference/>
					</ImpItmBkaCprBankAccounts>
					<ImpItmCprPrlProductLines>
						<PrlId>RIDCCIL</PrlId>
					</ImpItmCprPrlProductLines>
					<ImpItmCprTypeCliPolRelationships>
						<TypeNumber/>
						<Type>19</Type> <!-- type 19 for every child details supplied -->
						<PercentageSplit/>
					</ImpItmCprTypeCliPolRelationships>
					<ImpSelCliCprIefSupplied>
						<SelectChar/>
					</ImpSelCliCprIefSupplied>
					<ImpItmClcClientContactDetails>
						<AddressLine1/>
						<AddressLine2/>
						<AddressLine3/>
						<AddressLine4/>
						<Town/>
						<County/>
						<Country/>
						<Postcode/>
						<Fax/>
						<HomePhone/>
						<Email/>
						<HouseNo/>
					</ImpItmClcClientContactDetails>
					<ImpItmCliClients>
						<Name>Child1</Name> <!-- child surname -->
						<OtherFornames/>
						<FirstName>Little</FirstName> <!-- child firstname -->
						<Title/>
						<DateOfBirth>20150101</DateOfBirth> <!-- child dob -->
						<Sex/>
						<Smoker/>
						<Email/>
						<RiskCat/>
						<Salutation/>
						<MobileTelNo/>
						<WorkTelNo/>
						<MaidenName/>
						<Weight/>
						<Height/>
						<MaritalStatus/>
						<Nationality/>
						<CliId>0</CliId>
						<Type/>
						<Bmi/>
						<WaistSize/>
						<Salary/>
						<SalaryCurrency/>
					</ImpItmCliClients>
				</row>
			</ImpCliCpr>
			<ImpGrpPlc>
				<row>
					...
				</row>
			</ImpGrpPlc>
			<ImpPrlpqmWebService>
				<Prlrqm/>
			</ImpPrlpqmWebService>
			<ImpSrvdetailsWebService>
				<Pcdate/>
				<Srvtimings/>
				<ServiceUserid/>
				<RecordImport/>
			</ImpSrvdetailsWebService>
			<ImpPrlBenList>
				<row>
					<!-- parent cover -->
					...
				</row>
				<row>
					...
				</row>
			</ImpPrlBenList>
			<ImpGrpPfd>
				<row>
					...
				</row>
			</ImpGrpPfd>
		</WssgliveImport>
	</wss:Wssglivecall>
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwik1:1q,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,21/Jan/22 11:46 AM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
DecisionService - update deep health check to include Cosmos,NBJ-1243,44180,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Jason Hughes,613f60991370f00069033c68,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,21/Jan/22 11:09 AM,21/Jan/22 3:14 PM,02/Feb/22 6:31 PM,21/Jan/22 3:03 PM,,Foundation Release,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,* call to /health/ready includes the status of Cosmos,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,"Also change the existing Cosmos health checks to check the database and collection connectivity, rather than Cosmos as a whole.",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01f0f:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,21/Jan/22 11:09 AM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Fix Trigger Decision Quote to set application status to underwriting or decision based on quote decisions,NBJ-1242,44179,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Jon Reynolds,616ee20e2097220071a975d2,Jon Reynolds,616ee20e2097220071a975d2,21/Jan/22 10:48 AM,24/Jan/22 1:30 PM,02/Feb/22 6:31 PM,24/Jan/22 1:30 PM,,,,,,,,,Jon Reynolds,Nathan Punzalan,,,,,,616ee20e2097220071a975d2,613f22fdff23ba00715469d1,,,,,,,,,,,,,Hidden from EXL,NBJ-1135,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: Currently after trigger decision quote application status is set at quote

Business Impact:  unable to proceed with Go-live if decision not set correctly",,{},,,,,,NBJ-122,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01ec3:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,21/Jan/22 10:48 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-24 09:53:34.974,"24/Jan/22 9:53 AM;613f22fdff23ba00715469d1;[~accountid:616ee20e2097220071a975d2] , I have tried to test the above however after doing a trigger quote the application status is still set to “quote”.

I also have a have a couple of queries around what is meant by “based on quote decisions”. Can I ask what the outcome would be per quote decision (e.g. standard terms = status set to underwriting etc)? Or does all trigger quotes set the same status?

The application number I used to test is {{G000150798}} where I got standard terms for the trigger quote however status is still set to quote.","24/Jan/22 1:30 PM;613f22fdff23ba00715469d1;As discussed with [~accountid:616ee20e2097220071a975d2] , I was hitting the wrong endpoint. Endpoint used to test this was: 
[https://ggh-uwt-api.gghltest.co.uk/api/v1/actions/TriggerDecisionQuote/\{\{applicationId}}|https://ggh-uwt-api.gghltest.co.uk/api/v1/actions/TriggerDecisionQuote/%7B%7BapplicationId%7D%7D]",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Sprint 8 | Application | Multiple clicks on a answer checkbox is causing errors,NBJ-1241,44175,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,21/Jan/22 10:22 AM,24/Jan/22 9:38 AM,02/Feb/22 6:31 PM,24/Jan/22 9:38 AM,,Foundation Release,,,,,,,Justin.Smith,,,,,,,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Jan/22 10:22 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;Untitled_ Jan 21, 2022 10_21 AM.mp4;https://gghltd.atlassian.net/secure/attachment/25253/Untitled_+Jan+21%2C+2022+10_21+AM.mp4",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: If you click a number of times on an answer on the application tab we are seeing errors stating the answer is not valid.   

Business Impact: Medium

Steps to Reproduce: 

# Add client details, cover, get quote, approve pre-underwriting declaration
# Answer a question on the application form by clicking on it a number of times
# Intermittently we are seeing \[] is not a valid answer for the question.  

Expected Results: No errors should occur for a valid answer

Actual Result: Errors are occurring on the answer when clicking multiple times.  Will attach video evidence.  I think this is the same or a very similar issue to [https://gghltd.atlassian.net/browse/NBJ-1061|https://gghltd.atlassian.net/browse/NBJ-1061|smart-link]. 

!Untitled_ Jan 21, 2022 10_21 AM.mp4|width=1280,height=720!

Version: N/A",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01f5v:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,21/Jan/22 10:22 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,24/Jan/22 9:38 AM;618bdfc5fba4d0006ad4853e;This is all good. Closing.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
ActionService - add new config setting Temp__AdviserAtFirmLocationId,NBJ-1240,44174,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,21/Jan/22 10:20 AM,21/Jan/22 11:33 AM,02/Feb/22 6:31 PM,21/Jan/22 11:33 AM,,,,,,,"The ActionService needs to be configured to use a different AgentId.

||*Setting name*||*Value*||*Service*||
|{{Temp__AdviserAtFirmLocationId}}|{{a0b0E000007TDpiQAG}}|ActionService|",,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01ezb:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,21/Jan/22 10:20 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Update to allow policyStartDateOption to be captured,NBJ-1239,44169,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,High,Done,James Bartlett,6139c49114e8340071fcda09,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,21/Jan/22 9:44 AM,25/Jan/22 1:54 PM,02/Feb/22 6:31 PM,25/Jan/22 1:54 PM,,Foundation Release,,,,,"*As an* API User
*I want* to have a policyStartDateOption available on the application
*So that* I can store what type of start date I have",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,NBJ-435,NBJ-1250,NBJ-1234,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"{color:#ff5630}*Note: policyStartDate is already captured*{color}

*Scenario:* {{policyStartDateOption}}
*Given:* an HTTP request to POST {{/api/v1/backendforfrontend/application/policyStartDate}}

{code:java}{
    ""applicationId"": ""{{applicationId}}"",
    ""policyStartDate"": <dategoeshere>
    ""policyStartDateOption"": ""now | future | dontKnow""
}{code}

*Then:* an HTTP 200 status code is returned
*and*: policyStartDateOption is one of now, future or dontKnow

*Given*: A request to set the policyStartDateOption
*When*: this is set to “now” or “dontKnow”
*Then*: a policyStartDate is optional


*Given*: A request for the application DTO
*Then*: the policyStartDate and policyStartDateOption are included",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-122,,,,,,,,,,,,,,,,None,,"* policyStartDate already done
* Adding policyStartDateOption
* Both will always be set together if you have both",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zi0j4,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,21/Jan/22 9:44 AM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Sprint 8 | Decision Tab | Change cover type on life to family and get price - closing underwriting session results in a 422 error on the backend,NBJ-1238,44131,,Bug,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Chris.Hibbert,60cc71a1d5dde800713a2124,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,20/Jan/22 4:20 PM,30/Jan/22 10:14 PM,02/Feb/22 6:31 PM,,,,,,,,,,Chris.Hibbert,Justin.Smith,,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-681,,,,,,,,,,20/Jan/22 4:20 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220120-161956.png;https://gghltd.atlassian.net/secure/attachment/25241/image-20220120-161956.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: On the decision tab if you change cover type to family and attempt to get price you get a 422 error from closing the underwriting session.

Business Impact: Medium

Steps to Reproduce: 

# Add client details, life cover which is increasing, get quote, answer all questions to get a standard terms response
# On the decision tab change the cover type to family and click on get price
# The underwriting session which is attempted to be closed results in a 422 error {{422 Unprocessable Entity}}
# No new price is returned

Expected Results: New price for the change in cover type

Actual Result: 422 error from closing underwriting session

!image-20220120-161956.png|width=1888,height=941!



Version: N/A",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01epz:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,20/Jan/22 4:20 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-23 16:37:13.054,23/Jan/22 4:37 PM;60cc71a1d5dde800713a2124;This looks to be the incomplete dev under [https://gghltd.atlassian.net/browse/NBJ-757|https://gghltd.atlassian.net/browse/NBJ-757|smart-link] and [https://gghltd.atlassian.net/browse/NBJ-782|https://gghltd.atlassian.net/browse/NBJ-782|smart-link].  Will close for now.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Underwriting Service - interview Q&A - section Additional,NBJ-1237,44120,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,20/Jan/22 3:33 PM,01/Feb/22 2:23 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As an* operational underwriter
*So that* I can understand reason for additional questions
*I want* Additional section name to be appended by alias property

{panel:bgColor=#deebff}
This story is about setting section on the response “Additional - <alias>”
{panel}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,NBJ-640,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* any request for questionsAndAnswers

{noformat}GET api/v1/underwriting/questionsAndAnswers/{applicantId}{noformat}

*When* formulating response
*And* current question/answer has a section = “Additional”
*Then* append the section name to be “Additional - “ + <enquiry.section.enquiryLine.alias>",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-802,,,,,,,,,,,,,,,,None,,"_Request_

{code:json}GET api/v1/underwriting/questionsAndAnswers/{applicantId}{code}

_Return Message_

{code:json}{
  ""data"": {
    ""applicantId"": <guid>,
    ""questions"": [
      {
        ""code"": """",
        ""text"": """",
        ""helpText"": """",
        ""validValues"": ["""",""""],
        ""answers"": ["""",""""],
        ""completedDate"": {utc timestamp},
        ""section"": """",
        ""statuses"": ["""",""""],
      }
    ]
  }
}{code}

_URE Request_

{code:json}/v4/enquiry/history/{enquiryId}{code}

_URE Response_

{code:json}{
  ""enquiryId"": <guid>,
  ""snapShots"": [
    {
      ""snapshotDate"": 1638380196132,
      ...
      ""enquiry"": {
        ...
        ""availableLocales"": [
          ...
        ],
        ...
        ""buckets"": [
          ...
        ],
        ""sections"": [
          {
            ""name"": """",
            ...
            ""enquiryLines"": [
              {
                ""tags"": [""CLIENT_DETAILS"", """"],
                ...
                ""buckets"": [
                  ...
                ]
                ""questions"": [
                  {
                    ""path"": """",
                    ""name"": """",
                    ...
                    ""definition"": {
                      ""text"": """",
                      ""helpText"": """",
                      ""options"": [
                        ...
                      ],
                      ....
                    }
                  }
                },
                {...}
              ]
              ...
            ]
          }
        ],
        ""allAnswers"": {
          ...
        }
      },
      ""answerTimeline"": [
        {
          ""dateAnswered"": 1638380184843,
          ""questionPath"": ""WHICH_GROWTH_IFA"",
          ""answers"": [
            ""Furuncle""
          ],
          ""locale"": ""IFA_EN_GB"",
          ""username"": ""enquiry-shell""
        },
        ...
      ],
      ""priorEnquiries"": [],
      ""subsequentEnquiries"": []
    }
  ]
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwibi:i,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,20/Jan/22 3:33 PM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Handle error state where editing on decision screen leaves you in apply status (questions triggered),NBJ-1236,44119,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,20/Jan/22 3:27 PM,02/Feb/22 4:45 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As an* adviser
*So that* I know what has gone wrong with editing my cover
*I want* an error message displayed on the results screen if I cause new underwriting questions to be triggered",,Chris.Hibbert,Jon Reynolds,,,,,,60cc71a1d5dde800713a2124,616ee20e2097220071a975d2,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,25/Jan/22 11:17 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2022-01-25 at 11.09.54.png;https://gghltd.atlassian.net/secure/attachment/25344/Screenshot+2022-01-25+at+11.09.54.png,,,,,,,,,,,,"*Given*: An application with Covers
*When*: Editing a cover on the decision screen
*and*: causing new underwriting questions to be triggered (URE session isClosable = false)
*Then*: An error message is shown
Heading: Further information required
Text: Please complete the additional underwriting questions required for this amount of cover

!Screenshot 2022-01-25 at 11.09.54.png|width=1368,height=316!

*and*: No decisions or prices are shown
*and*: the total price and commission is shown as £0.00",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-778,,,,,,,,,,,,,,,,None,,"You will now be back at apply state so the decision tab is no longer enabled
When the user navigates away from the decision screen they wont be allowed back until they have completed their URE session.",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwibi:09,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,20/Jan/22 3:27 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-28 15:34:50.024,26/Jan/22 5:12 PM;60cc71a1d5dde800713a2124;[~accountid:616ee20e2097220071a975d2]  and [~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] to have a little design session to work through how the BFF can help.,"28/Jan/22 3:34 PM;616ee20e2097220071a975d2;[~accountid:60cc71a1d5dde800713a2124] - further to technical design session between [~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] , [~accountid:610c00d94e8d8d0069a20d6c]  and myself this morning I have created [https://gghltd.atlassian.net/browse/NBJ-1327|https://gghltd.atlassian.net/browse/NBJ-1327|smart-link] to allow us to manage the navigation enablement logic as a backend concern as we do for determing if page sections are completed or not. 

We believe it is important to determine the UX expected behaviours and workflow in separate tickets for situations like this where applications are in a decision state but the covers are mutated. Once we know the expected scenarios and expected outcomes when covers are mutated to differing cover amounts and terms we can then modifiy the mutate covers orchestration accordingly and make sure the page status’s enablement and completed flags reflect this",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Prevent removing other covers while editing,NBJ-1235,44118,,Story,Code Review,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Mike,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,20/Jan/22 3:25 PM,02/Feb/22 2:41 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As an* adviser
*So that* I dont get myself into a weird application state
*I want* the UI to prevent me removing other covers while editing a cover.",,Chris.Hibbert,Justin.Smith,Mike,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-681,NBJ-1222,,,,,,,,,02/Feb/22 2:16 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220202-141340.png;https://gghltd.atlassian.net/secure/attachment/25590/image-20220202-141340.png,02/Feb/22 2:16 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220202-141440.png;https://gghltd.atlassian.net/secure/attachment/25589/image-20220202-141440.png,,,,,,,,,,,"*Given*: An application with more than 1 cover
*When*: Editing covers on the decision screen
*Then*: the remove buttons on all other covers are removed
*and*: the remove button remains on the cover I am editing

*Given*: An application with more than 1 cover
*When*: I have finished editing my cover and got prices
*Then*: The remove buttons come back",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-122,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwie7:z,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,20/Jan/22 3:25 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-02-02 12:04:42.86,02/Feb/22 12:04 PM;618bdfc5fba4d0006ad4853e;This has done with [https://gghltd.atlassian.net/browse/NBJ-1112|https://gghltd.atlassian.net/browse/NBJ-1112|smart-link].  [~accountid:60cc71a1d5dde800713a2124] just waiting on a release for this.,"02/Feb/22 2:16 PM;618bdfc5fba4d0006ad4853e;So the remove button is removed from the cover not being edited but it is also removed from the cover under edit

!image-20220202-141440.png|width=1417,height=537!

!image-20220202-141340.png|width=1399,height=606!

Also is not sure if this is going to be another story but would be good to have an option to cancel the edit.",02/Feb/22 2:41 PM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;[~accountid:618bdfc5fba4d0006ad4853e] Included the remove button now on the item you’re currently editing.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress
BFF - get UI page statuses,NBJ-1234,44116,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,High,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,20/Jan/22 3:19 PM,01/Feb/22 3:57 PM,02/Feb/22 6:31 PM,28/Jan/22 10:30 AM,,Foundation Release,,,,,"*Problem*

The frontend react app needs to query the status of an application at many points in the user journey. At the moment, the only way to get the status of an application is to get the whole application from {{GET /api/v1/application/{{application_id}}}}. This is a huge over-fetch of data in order to get the application status.

Per tab:

* client Details status
** All applicants have:
*** title, surname, firstname, gender, smoker, date of birth
* quote status
** App has a persisted quote
* Contact Details status
** All applicants have:
*** mandatory address fields
*** email
*** telephone
** Application
*** Mortgage Related
* Application status
** All applicants have closed URE sessions
* Decision status
** in the state decision or underwriting
* Setup status
** Payment details complete
** Advised question
** Start date",,Andy Green,Antony.Gorman,Chris.Hibbert,James Bartlett,Jon Reynolds,Justin.Smith,Sam Gamble,6061ac5d00b79f0070aa4ad3,6149b13472728e006f9441d6,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,616ee20e2097220071a975d2,618bdfc5fba4d0006ad4853e,610c00d94e8d8d0069a20d6c,,,,,,,,Hidden from EXL,NBJ-937,NBJ-938,NBJ-1132,NBJ-1257,NBJ-1321,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given*: A nav status endpoint
*Then*: the overall application status is returned

*Given*: A nav status endpoint
*When*: Calculating a status for each page
*Then*: Each page’s complete/incomplete status is returned based on the following:

||*Page*||*Complete*||*Incomplete*||
|Client Details|All applicants on the application have:
title, surname, firstname, gender, smoker, date of birth|Any applicants missing:
title, surname, firstname, gender, smoker, date of birth|
|Quote|A persisted quote|No persisted quote|
|Contact Details|All applicants have:
mandatory address fields, email, telephone|No applicants have:
mandatory address fields, email, telephone|
|Application|All URE sessions closed|Any open URE sessions|
|Decision|Application in the state decision or underwriting|Application in any other state|
|Setup|Following have been completed:
Payment details complete, Advised question, Start date|Any of these have not been completed:
Payment details complete, Advised question, Start date|",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,"Add new endpoint In the BackEndForFrontendService

*Request*

{noformat}GET /api/v1/backendforfrontend/statuses/{{applicationId}}{noformat}

*Command*

* Load the Application using its ID from the ApplicationService
* Get the Application.status value
* Determine the pageStatuses: 

||*Page*||*Complete*||*Data*||
|Client Details|All applicants on the application have:
title, surname, firstname, gender, smoker, date of birth|application.applicant.title \!= null &&
application.applicant.firstName \!= null &&
application.applicant.lastName \!= null &&
application.applicant.gender \!= null &&
application.applicant.smoker \!= null &&
application.applicant.dateOfBirth \!= null|
|Quote|A persisted quote|application.quote \!= null|
|Contact Details|All applicants have:
mandatory address fields, email, telephone|applicant.contactDetails.phoneNumber \!= null &&
applicant.contactDetails.emailAddress \!= null &&
applicant.contactDetails.address1 \!= null &&
applicant.contactDetails.postcode \!= null|
|Application|All URE sessions closed|application.state = decision or underwriting|
|Decision|Application in the state decision or underwriting|application.state = decision or underwriting|
|Setup|Following have been completed:
Payment details complete, Advised question, Start date|application.paymentStartDateOption
application.paymentStartDate
application.isAdvisedSale
application.bankDetails|

*Response*

{code:json}HTTP 200 OK
{
  ""data"": {
    ""pageStatuses"": [
      { ""name"": ""clientDetails"", ""isComplete"": true | false },
      { ""name"": ""quote"", ""isComplete"": true | false },
      { ""name"": ""contactDetails"", ""isComplete"": true | false },
      { ""name"": ""application"", ""isComplete"": true | false },
      { ""name"": ""decision"", ""isComplete"": true | false },
      { ""name"": ""setup"", ""isComplete"": true | false }
    ],
    ""applicationStatus"": ""Pre-quote | Quote | Apply | Decision | Underwriting | Went on Risk""
  }
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zi0j9,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,20/Jan/22 3:19 PM,,5.0,,,,,,,,,,,,,,,,,,"Note for Client Details it is applicant.smoker not applicant.smoking.

We are going to be changing to use applicant.smoker, so this correct (it means you need to set via the API rather than the UI until the other stories are done).



setup is hardcoded to No as most of the pre-requisites are missing",,,,,,,,,,,,,,,2022-01-24 09:07:06.84,"24/Jan/22 9:07 AM;616ee20e2097220071a975d2;[~accountid:610c00d94e8d8d0069a20d6c] - in readiness for today’s refinement we can get all this information from the Application object itself so this could be directly available from BFF via the Application Service. see quotecovers,quote etc etc from [https://dev.azure.com/guardian1821/NBJ-Microservices/_git/NBJ-ApplicationService?path=/Guardian.Services.ApplicationService/Dtos/Models/Application.cs|https://dev.azure.com/guardian1821/NBJ-Microservices/_git/NBJ-ApplicationService?path=/Guardian.Services.ApplicationService/Dtos/Models/Application.cs]",24/Jan/22 1:39 PM;6149b13472728e006f9441d6;[~accountid:610c00d94e8d8d0069a20d6c] [~accountid:616ee20e2097220071a975d2] for the last one we’re missing data for 3 bits (all but IsAdvisedSale) so was going to hard code it as a no? shout if you prefer it as a yes or should I leave it out until we can answer it fully? ta,24/Jan/22 1:47 PM;616ee20e2097220071a975d2;[~accountid:60cc71a1d5dde800713a2124] - further to [~accountid:6149b13472728e006f9441d6] 's comment below do you agree that we should set \[Setup] to No until we have all the bank/payment details persisted. And if so are there tickets we can link and block this ticket on until this info is available?  ,"24/Jan/22 2:00 PM;60cc71a1d5dde800713a2124;[~accountid:616ee20e2097220071a975d2] - I agree, hardcode as No for now","24/Jan/22 2:46 PM;6061ac5d00b79f0070aa4ad3;[~accountid:60cc71a22bd21400692fd2af] , [~accountid:60cc71a1d5dde800713a2124] , I’ve a few questions / clarifications on this one:

* Quote - I don’t quite know what it means to have a persisted quote, but I think it should only be complete if:
** Client details are complete. I.e. Can’t show complete on here unless client details is also complete.
** No declined or postponed covers remain on the application.
** We have a price for the client details and covers on the app. I.e. We don’t show complete if we have manually edited the client details screen and haven’t re-quoted.
* Contact Details - We will need to take into account children details too (understand that we haven’t got these yet)
* Decision - I don’t think this should be complete if in state of “Underwriting”. 
* Setup - We will need to take into account payout planner capture (understand we haven’t got these yet), that bank details have been verified, the checkbox to confirm they’ve read the details and start date are captured. ","24/Jan/22 3:03 PM;60cc71a1d5dde800713a2124;[~accountid:6061ac5d00b79f0070aa4ad3] 

This is our initial implementation to unblock the front end tickets.  It will be refined over time.

Quote - the scenarios you outline cause the quote to be removed, so it would be shown as incomplete.  Good catch on the declined/postponed, so one to add in for another story
Contact Details - this will need to be a future story as we havent developed any of the childrens stuff yet
Decision - one to discuss
Setup - this will need to be a future story as we havent developed any of the payout planner yet, nor the bank details.","25/Jan/22 1:45 PM;6149b13472728e006f9441d6;NB - we had to switch out smoker for smoking in the client details checks (as the UI is not collecting smoker anymore, NNB this needs thought as it’s required for lissia go live so we do still need it on the model)",25/Jan/22 4:20 PM;6139c49114e8340071fcda09;unable to test as cannot currently set bank account details,25/Jan/22 4:31 PM;60cc71a1d5dde800713a2124;[~accountid:6139c49114e8340071fcda09]  - can you test without bank account details please as these are at least a sprint away.  I am happy to remove from the a/c.,27/Jan/22 10:14 PM;618bdfc5fba4d0006ad4853e;I have done a lot of automation on this ticket but need to double check I have everything as there are lot of scenarios on this.  Not sure how it was a 5.,28/Jan/22 10:30 AM;618bdfc5fba4d0006ad4853e;This looks good to me.  Setup will be covered in [https://gghltd.atlassian.net/browse/NBJ-1321|https://gghltd.atlassian.net/browse/NBJ-1321|smart-link].,,,,,,,,,,,,,,,,,,,,,Done
"New conifg ""AdviserAtFirmLocationId"" for Action Service",NBJ-1233,44106,,Task,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,mark.thurston@venture1consulting.com,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,Jason Hughes,613f60991370f00069033c68,Jason Hughes,613f60991370f00069033c68,20/Jan/22 2:13 PM,21/Jan/22 11:34 AM,02/Feb/22 6:31 PM,,,,,,,,"For the *Action Service* we need a new config item in the deployment pipelines. In SIT the values are

||*key*|Temp__AdviserAtFirmLocationId|
||*value*|a0b0E000007TDpiQAG|",,Jason Hughes,,,,,,,613f60991370f00069033c68,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009hzzzvx9,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,20/Jan/22 2:13 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Persist Documents Section Under applicant or application,NBJ-1232,44074,,Test,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,20/Jan/22 12:19 PM,20/Jan/22 12:29 PM,02/Feb/22 6:31 PM,20/Jan/22 12:28 PM,,,,,,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01edb:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,20/Jan/22 12:19 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Cover Summary beneficiary data structure Menu XML updates ,NBJ-1231,44073,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,mike hill,5d94816eefc9290c2e625a11,Andy Green,6061ac5d00b79f0070aa4ad3,Andy Green,6061ac5d00b79f0070aa4ad3,20/Jan/22 12:17 PM,20/Jan/22 12:18 PM,02/Feb/22 6:31 PM,,,Phase 1 - Menu,,,,,"The XML data structure that the Cover Summary create document request expects for Menu is changing. The format which needs to be provided to the document is as follows:

For Life Covers:

{noformat}  <Beneficiary_Data>
    <Policyno>TL1023351</Policyno>
      <Beneficiary>
        <Beneficiary_Percentage>60</Beneficiary_Percentage>
        <Beneficiary_FirstName>Harry</Beneficiary_FirstName>
        <Beneficiary_LastName>Green</Beneficiary_LastName>
      </Beneficiary>
      <Beneficiary>
        <Beneficiary_Percentage>40</Beneficiary_Percentage>
        <Beneficiary_FirstName>Rory</Beneficiary_FirstName>
        <Beneficiary_LastName>Green</Beneficiary_LastName>
      </Beneficiary>
    </Beneficiary_Data>
    <Beneficiary_Data>
      <Policyno>TL1023352</Policyno>
      <Beneficiary>
        <Beneficiary_Percentage>50</Beneficiary_Percentage>
        <Beneficiary_FirstName>Harry</Beneficiary_FirstName>
        <Beneficiary_LastName>Green</Beneficiary_LastName>
      </Beneficiary>
      <Beneficiary>
        <Beneficiary_Percentage>50</Beneficiary_Percentage>
        <Beneficiary_FirstName>Rory</Beneficiary_FirstName>
        <Beneficiary_LastName>Green</Beneficiary_LastName>
      </Beneficiary>
    </Beneficiary_Data>{noformat}

For ACI Covers:

{noformat}   <Beneficiary_Data_ACI>
      <Policyno>CB1023353</Policyno>
      <Beneficiary>  
        <Beneficiary_Percentage>100</Beneficiary_Percentage>
        <Beneficiary_FirstName>Rory</Beneficiary_FirstName>
        <Beneficiary_LastName>Green</Beneficiary_LastName>
      </Beneficiary>
    </Beneficiary_Data_ACI>
    <Beneficiary_Data_ACI>
      <Policyno>CB1023354</Policyno>
      <Beneficiary>
        <Beneficiary_Percentage>100</Beneficiary_Percentage>
        <Beneficiary_FirstName>Harry</Beneficiary_FirstName>
        <Beneficiary_LastName>Green</Beneficiary_LastName>
      </Beneficiary>
    </Beneficiary_Data_ACI>{noformat}",,Andy Green,,,,,,,6061ac5d00b79f0070aa4ad3,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-772,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01ed3:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,20/Jan/22 12:17 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
ActionService - configure adviserAtFirmLocationId ,NBJ-1230,44068,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Jason Hughes,613f60991370f00069033c68,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,20/Jan/22 11:32 AM,21/Jan/22 3:03 PM,02/Feb/22 6:31 PM,21/Jan/22 3:03 PM,,Foundation Release,,Sprint_8,,,"We haven’t implemented authentication so the system uses a hardcoded {{adviserAtFirmLocationId}} for quoting.

This value need to be configured (in the ActionService) for each environment.",,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-1233,,,,,,,,,,,,,,,,,,,,,,"* When calling TriggerQuote in the ActionService, the configured {{adviserAtFirmLocationId}} is used in the quote request.
* Environments are configured with these values:

||*Env*||*AdviserAtFirmLocationId*||
|UWT|{{a0r0E000004pFFfQAM}}|
|SIT|{{a0b0E000007TDpiQAG}}|",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,"* Add a new config setting {{Temp__AdviserAtFirmLocationId}}
* Use this new config value when constructing quote requests in:
** {{TriggerQuote}}; and
** {{TriggerDecisionQuote}}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01ebz:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,20/Jan/22 11:32 AM,,3.0,,,,,,,,,,,,,,,,,,To test this in UWT just make sure you can still trigger a quote as the value has been moved to config in Azure,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
QI post-pilot link update,NBJ-1228,44064,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Andy Green,6061ac5d00b79f0070aa4ad3,Andy Green,6061ac5d00b79f0070aa4ad3,20/Jan/22 11:16 AM,02/Feb/22 4:44 PM,02/Feb/22 6:31 PM,,,Phase 1 - Menu,,,,,"As an adviser 

I want to be directed to the new NBJ2 QI tool when I click any QI link

So that I can perform a pre-sale enquiry using the appropriate tool

*Note:* The link to QI during the pilot phase will point to the existing (old) QI tool.",,Andy Green,,,,,,,6061ac5d00b79f0070aa4ad3,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Given I’m logged in to the NBJ2 dsahboard

When I click on the Underwriting QI link or the Ask QI button from the NBJ2 dashboard

Then I am navigated to the NBJ2 QI URL",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-1226,,,,,,,,,,,,,,,,None,,This story is to only be implemented when pilot is coming to a close.,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwiha:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,20/Jan/22 11:16 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Add ux setting to only show New Quote button for specific firms (pilot story),NBJ-1227,44063,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,John.LeQuesne,5db187687b20d80c2a25b574,John.LeQuesne,5db187687b20d80c2a25b574,20/Jan/22 10:59 AM,20/Jan/22 10:59 AM,02/Feb/22 6:31 PM,,,,,,,,"*As a* business readiness manager

*I want to* select (at Firm FRN number level) the Advisers who access the new NBJ

*So that* we can roll out the new NBJ to restricted users",,John.LeQuesne,,,,,,,5db187687b20d80c2a25b574,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* an Adviser that belongs to a firm with a Salesforce account record where the UX Settings field contains ‘Pilot’

*When* the Adviser hits ‘New Quote’ on the dashboard

*Then* an NBJ2 new application is started



*Given* an Adviser belongs to a firm with a Salesforce account record where the UX Settings field doesn’t contain ‘Pilot’

*When* the Adviser hits ‘New Quote’ on the dashboard

*Then* an EXL NBJ new application is started",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-129,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01eb3:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,20/Jan/22 10:59 AM,,,,,,,,,,,,,,,,,,,,"As part of this US, there should be a regression test on the existing UX settings for the EXL journey.

If any firm included in the pilot also has other UX Settings (e.g. Primus, Openwork etc), these should also be included in the test cases.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Pilot,NBJ-1226,44062,,Epic,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Andy Green,6061ac5d00b79f0070aa4ad3,Andy Green,6061ac5d00b79f0070aa4ad3,20/Jan/22 10:51 AM,01/Feb/22 9:48 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Andy Green,,,,,,,6061ac5d00b79f0070aa4ad3,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,ghx-label-12,,Pilot,To Do,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,NBJ-148,,,,,,,,,No,,1|i01eav:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,20/Jan/22 10:51 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Provide monthly benefit and commuted value in coverAmount for FIB cases,NBJ-1225,44053,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,20/Jan/22 10:01 AM,31/Jan/22 4:04 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As an* operational underwriter
*So that* I know the FIB monthly benefit and commuted value
*I want* both the monthly benefit populated with the requested monthly benefit and coverAmount populated with commuted value

{panel:bgColor=#deebff}
This story is about providing monthly benefit and coverAmount (commuted value)
{panel}",,Jim Houghton,Jon Reynolds,,,,,,60cc71a22bd21400692fd2af,616ee20e2097220071a975d2,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,NBJ-1032,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Scenario* passing monthlyBenefit and coverAmount on quoteCover and applicant.cover respectively

*Given* any cover with a coverType of family
*When* formulating the body of the request for a salesforce event
*Then* include monthlyBenefit on the applicant.cover
*And* include coverAmount on the applicant.cover
*And* include quoteCover.monthlybenefit
*And* include quoteCover.coverAmount has commuted value",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-125,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwib9:v,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,20/Jan/22 10:01 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-27 15:35:56.122,"27/Jan/22 3:35 PM;616ee20e2097220071a975d2;As discussed and agreed with [~accountid:60cc71a22bd21400692fd2af] , [~accountid:5d94816eefc9290c2e625a11] and [~accountid:5e183e85c578120daca5bc7b] a new monthlybenefit field will save the FiB monthly benefit amount in the application.applicant.cover.monthlybenefit. The commuted value for FiB covers will be calculated as monthly benefit * terms in months * 2/3. This value will be saved to the CoverAmount field in the QuoteCover. Details updated in [https://gghltd.atlassian.net/wiki/spaces/NP/pages/edit-v2/3142746113|https://gghltd.atlassian.net/wiki/spaces/NP/pages/edit-v2/3142746113|smart-link] ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Underwriting Service - Interview Q&A - help text,NBJ-1224,44036,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,19/Jan/22 4:11 PM,26/Jan/22 6:58 PM,02/Feb/22 6:31 PM,26/Jan/22 6:58 PM,,Foundation Release,,,,,"*As an* operational underwriter
*So that* I can see helpText associated with a question
*I want* to be able to provide helpText on the interview Q&A

{panel:bgColor=#deebff}
This story is about adding helpText to the existing data output by the questionaAndAnswers service
{panel}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* a GET api/v1/underwriting/questionsAndAnswers/\{applicantId}
*When* request received
*Then* determine URE enquiryId
*And* request enquiry history from URE; /v4/enquiry/history/\{enquiryId}

_Building on the above_

*Given* successful ure enquiry/history response
*And* each item within each snapshot.answerTimeline
*When*  create a question on the output message
*And* matching snapshot.answerTimeline.questionPath and snapshot.enquiry.sections.enquiryLines.questions.path
*Then* map [snapshot.enquiry.sections.enquiryLines.questions.|http://snapshot.enquiry.sections.enquirylines.questions.name/]definition.helpText to questions.helpText on the service output
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-802,,,,,,,,,,,,,,,,None,,"_Request_

{code:json}GET api/v1/underwriting/{applicantId}/questionsAndAnswers{code}

_Return Message_

{code:json}{
  ""data"": {
    ""applicantId"": <guid>,
    ""questions"": [
      {
        ...
        ""helpText"": ""<snapshot.enquiry.sections.enquiryLines.questions.definition.helpText>""
      }
    ]
  }
}{code}

_URE Request_

{code:json}/v4/enquiry/history/{enquiryId}{code}

_URE Response_

{code:json}{
  ""enquiryId"": <guid>,
  ""snapShots"": [
    {
      ""snapshotDate"": 1638380196132,
      ...
      ""enquiry"": {
        ...
        ""availableLocales"": [
          ...
        ],
        ...
        ""buckets"": [
          ...
        ],
        ""sections"": [
          {
            ""name"": """",
            ...
            ""enquiryLines"": [
              {
                ""tags"": [""CLIENT_DETAILS"", """"],
                ...
                ""questions"": [
                  {
                    ""path"": """",
                    ""name"": """",
                    ...
                    ""definition"": {
                      ""text"": """",
                      ""helpText"": """",
                      ""options"": [
                        ...
                      ],
                      ....
                    }
                  }
                },
                {...}
              ]
              ...
            ]
          }
        ],
        ""allAnswers"": {
          ...
        }
      },
      ""answerTimeline"": [
        {
          ""dateAnswered"": 1638380184843,
          ""questionPath"": ""WHICH_GROWTH_IFA"",
          ""answers"": [
            ""Furuncle""
          ],
          ""locale"": ""IFA_EN_GB"",
          ""username"": ""enquiry-shell""
        },
        ...
      ],
      ""priorEnquiries"": [],
      ""subsequentEnquiries"": []
    }
  ]
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zi0sn,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,19/Jan/22 4:11 PM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Sprint 8 - CCIC cover gets deleted when changing Term or Until (Age) for Parent cover,NBJ-1223,44027,,Bug,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,19/Jan/22 3:08 PM,26/Jan/22 10:23 AM,02/Feb/22 6:31 PM,26/Jan/22 10:23 AM,,Foundation Release,,,,,,,Chris.Hibbert,Nathan Punzalan,,,,,,60cc71a1d5dde800713a2124,613f22fdff23ba00715469d1,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,19/Jan/22 3:08 PM;nathan.punzalan;image-20220119-150803.png;https://gghltd.atlassian.net/secure/attachment/25206/image-20220119-150803.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: 

When you have a parent cover and a CCIC cover, if you change the Term or Until (Age) input for the Parent cover, the CCIC cover gets deleted.

Steps to Reproduce: 

# Go to [https://ggh-uwt-api.gghltest.co.uk/application/G000147043/quote|https://ggh-uwt-api.gghltest.co.uk/application/G000147043/quote|smart-link] 
# Add a parent cover
# Enter valid cover details (including Term or Until (Age)
# Add a CCIC cover
# Change the Term or Until (Age) value

Expected Results: 

Term or Until (Age) value gets edited for both parent and CCIC cover.

Actual Result: 

Term or Until (Age) value gets edited for only parent cover and the CCIC cover gets deleted.

!image-20220119-150803.png|width=1257,height=586!",,{},,,,,,,,,,,,,,,,,,,,,,None,QA / UWT,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01e4f:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,19/Jan/22 3:08 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-25 21:51:01.253,19/Jan/22 3:52 PM;613f22fdff23ba00715469d1;I have retested and issue is no longer occurring.,"21/Jan/22 3:52 PM;613f22fdff23ba00715469d1;[~accountid:60cc71a1d5dde800713a2124] , I have reopened this bug as the issue has started to occur again.",25/Jan/22 9:51 PM;60cc71a1d5dde800713a2124;[~accountid:613f22fdff23ba00715469d1]  - I cannot reproduce this. Do you have reproducible steps I can follow?,"26/Jan/22 9:55 AM;613f22fdff23ba00715469d1;[~accountid:60cc71a1d5dde800713a2124] , I was just able to reproduce this issue using the steps described above. Give me a shout if you want to jump onto a video call to show the issue occurring.","26/Jan/22 10:23 AM;613f22fdff23ba00715469d1;As discussed with [~accountid:60cc71a1d5dde800713a2124] , this issue has already been raised by JLQ so will close this ticket.",,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Dont allow last cover to be removed on decision screen,NBJ-1222,43999,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,19/Jan/22 1:28 PM,25/Jan/22 11:52 AM,02/Feb/22 6:31 PM,25/Jan/22 11:52 AM,,Foundation Release,,,,,"*As an* adviser
*So that* I dont get myself into a weird application state
*I want* the UI to prevent me removing all my covers on the decision screen",,Chris.Hibbert,Justin.Smith,,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-681,,,,,,,,,,25/Jan/22 10:43 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220125-103927.png;https://gghltd.atlassian.net/secure/attachment/25342/image-20220125-103927.png,25/Jan/22 10:43 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220125-104130.png;https://gghltd.atlassian.net/secure/attachment/25341/image-20220125-104130.png,25/Jan/22 10:43 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220125-104234.png;https://gghltd.atlassian.net/secure/attachment/25340/image-20220125-104234.png,,,,,,,,,,"*Given*: An application on the decision screen
*When*: An applicant only has 1 cover remaining
*Then*: No remove cover buttons are available",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-122,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01f5y:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,19/Jan/22 1:28 PM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-25 10:43:05.931,"25/Jan/22 10:43 AM;618bdfc5fba4d0006ad4853e;This is good an I have automated the situation where one cover has no remove button.

I also, went on to automate the case where there are 2 covers.  [~accountid:60cc71a1d5dde800713a2124] Is it now correct that you don’t get the remove button on the cover you are editing?

!image-20220125-103927.png|width=942,height=771!

Also, I do not get the option to cancel the edit.  

[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] is would be really useful to have the data-testids for the different covers like we have on the quotes tab

!image-20220125-104130.png|width=1747,height=930!

!image-20220125-104234.png|width=1718,height=931!",25/Jan/22 11:27 AM;60cc71a1d5dde800713a2124;[~accountid:618bdfc5fba4d0006ad4853e]  - the 2 cover scenario is covered under NBJ-1235,25/Jan/22 11:51 AM;618bdfc5fba4d0006ad4853e;Closing,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Backend validation of allowed changes when in underwriting status,NBJ-1221,43998,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Low,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,19/Jan/22 1:27 PM,01/Feb/22 8:02 AM,02/Feb/22 6:31 PM,,,,,,,,Needs to take into account the CR20 capabilities of internal users.,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-759,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01dxz:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,19/Jan/22 1:27 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Change width of underwriting questions,NBJ-1220,43996,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,19/Jan/22 1:24 PM,02/Feb/22 11:33 AM,02/Feb/22 6:31 PM,02/Feb/22 11:33 AM,,Foundation Release,,,,,"*As an* adviser
*So that* I can more easily seen underwriting question text
*I want* the available space for the question text to be made wider

!Screenshot 2022-01-25 at 10.36.17.png|width=1368,height=962!",,Chris.Hibbert,Jon Reynolds,Justin.Smith,Mike,,,,60cc71a1d5dde800713a2124,616ee20e2097220071a975d2,618bdfc5fba4d0006ad4853e,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,25/Jan/22 10:36 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2022-01-25 at 10.36.17.png;https://gghltd.atlassian.net/secure/attachment/25338/Screenshot+2022-01-25+at+10.36.17.png,31/Jan/22 8:59 AM;ug:40c0a037-60a5-47d1-812c-a831d94ce168;Screenshot 2022-01-31 at 08.57.54.png;https://gghltd.atlassian.net/secure/attachment/25498/Screenshot+2022-01-31+at+08.57.54.png,31/Jan/22 9:14 AM;ug:40c0a037-60a5-47d1-812c-a831d94ce168;Screenshot 2022-01-31 at 09.14.02.png;https://gghltd.atlassian.net/secure/attachment/25502/Screenshot+2022-01-31+at+09.14.02.png,02/Feb/22 11:33 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220202-112925.png;https://gghltd.atlassian.net/secure/attachment/25587/image-20220202-112925.png,02/Feb/22 11:33 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220202-113153.png;https://gghltd.atlassian.net/secure/attachment/25586/image-20220202-113153.png,02/Feb/22 11:33 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220202-113246.png;https://gghltd.atlassian.net/secure/attachment/25588/image-20220202-113246.png,,,,,,,"*Given*: An application 
*When*: Viewing the underwriting pages (Application tab)
*Then*: the width allocated to question text is extended to the 4th stripe in the design shown
*and*: questions outside of underwriting are unaffected (e.g. client details screen underwriting questions)
*and*: layout on any other pages is unaffected",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01gie:i,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,Guardian Sprint 9,,,,,19/Jan/22 1:24 PM,,1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-28 08:35:48.634,28/Jan/22 8:35 AM;616ee20e2097220071a975d2;[~accountid:60cc71a1d5dde800713a2124] - this can’t be with me surely\! I think this was a parting gift from Max. Thx,28/Jan/22 10:20 AM;60cc71a1d5dde800713a2124;[~accountid:6139c4f3e2a0d60069cf8994]  - not enough space left for error messages.,"31/Jan/22 8:59 AM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;Hi [~accountid:60cc71a1d5dde800713a2124] I can see the tiny error message space - is there any particular way the UX/Design want to display them? I’ll speak to the designers.

!Screenshot 2022-01-31 at 09.14.02.png|width=1157,height=355!

!Screenshot 2022-01-31 at 08.57.54.png|width=1169,height=304!","02/Feb/22 11:33 AM;618bdfc5fba4d0006ad4853e;The error message is now below the text box which looks good

!image-20220202-112925.png|width=1367,height=556!

As far as I can see the spacing is good

!image-20220202-113153.png|width=1394,height=859!

Client details looks the same

!image-20220202-113246.png|width=1371,height=744!",,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Save APPLICATION_STATUS_CHANGED fact on any update to application.status,NBJ-1218,43987,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,19/Jan/22 12:35 PM,31/Jan/22 10:03 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As an* application support user
*So that* I can investigate application errors
*I want* all a fact persisted when an application changes status


{panel:bgColor=#deebff}
This story is about persisting a fact whenever an application has a status change
{panel}",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* an application
*When* the application.status is updated
*Then* a fact is persisted after the status change

||*fact schema item*||*value*||
|id|Unique id (GUID)|
|calingSystem|NBJ2|
|applicationId|Application reference (e.g. G100000001)|
|eventName|APPLICATION_STATUS_CHANGED|
|eventCreatedDatetime|UTC timestamp of event|
|partitionKey|Application reference (e.g. G100000001)|
|factType|application|
|contentType|JSON|
|payload|application DTO|",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-127,,,,,,,,,,,,,,,,None,,"Includes protection around the state model

Build on [https://gghltd.atlassian.net/browse/NBJ-429|https://gghltd.atlassian.net/browse/NBJ-429|smart-link]

Fact service overview - [https://gghltd.atlassian.net/wiki/spaces/NP/pages/3137470507/FactService|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3137470507/FactService|smart-link] 

Fact service schema - [https://gghltd.atlassian.net/wiki/spaces/NP/pages/3168632854/Fact+schema|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3168632854/Fact+schema|smart-link] 

Fact service catalogue - [https://gghltd.atlassian.net/wiki/spaces/NP/pages/3169157139/Fact+Catalogue|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3169157139/Fact+Catalogue|smart-link] ",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwib8:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,19/Jan/22 12:35 PM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Add compensating transactions to orchestration,NBJ-1214,43979,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,19/Jan/22 11:35 AM,02/Feb/22 11:16 AM,02/Feb/22 1:51 PM,,,,,Backend_Dev,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00spz:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,19/Jan/22 11:35 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Test Execution for NBJ-933,NBJ-1212,43974,,Test Execution,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,19/Jan/22 11:21 AM,19/Jan/22 11:21 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01dsn:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,19/Jan/22 11:21 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
"Test Stop using ""Undefined"" values in JSON ",NBJ-1211,43965,,Test,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,19/Jan/22 10:59 AM,19/Jan/22 11:23 AM,02/Feb/22 6:31 PM,19/Jan/22 11:15 AM,,,,,,,"Tests *As an* API Consumer
*I want* to see null values instead of “Undefined” when I haven't provided the an answer to property yet
*So that* the data values match the Common Data Model",,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,19/Jan/22 10:59 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/25193/LivingDoc.html,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01dqn:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,19/Jan/22 10:59 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Add Zerobounce to APIM,NBJ-1210,43964,,Task,In Progress,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,mark.thurston@venture1consulting.com,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,mark.thurston@venture1consulting.com,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,mark.thurston@venture1consulting.com,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,19/Jan/22 10:50 AM,02/Feb/22 10:22 AM,02/Feb/22 10:21 AM,,,,,,,,"2 gotchas in the ZeroBounce API

It uses 2 named values: one of the named values is the API key, so this should really be in the key vault",,Gareth Hailes,Jon Reynolds,mark.thurston@venture1consulting.com,,,,,5ed8c4bc4ec4270ba3725b85,616ee20e2097220071a975d2,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-1366,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,Impediment,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01dqf:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,Guardian Sprint 9,,,,,19/Jan/22 10:50 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-02-01 18:12:22.43,"01/Feb/22 6:12 PM;616ee20e2097220071a975d2;[~accountid:5ed8c4bc4ec4270ba3725b85] [~accountid:610c00d94e8d8d0069a20d6c] [~accountid:557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96] [~accountid:5b23a053ba383e0814004f26] - further to DevOps meeting this meeting and, as requested, I have created [https://gghltd.atlassian.net/browse/NBJ-1366|https://gghltd.atlassian.net/browse/NBJ-1366|smart-link] to accomodate the zerobounce changes required to ease the devops burden with managing policies. Just to confirm APIM will still provide an email validation API endpoint called api/v1/validate/email>email=\{email address} but its backend fulfillment will be derived from a new BFF endpoint request (that encapsulates the call to zerobounce) instead of a direct request to zerobounce. Shout if you need clarification.",02/Feb/22 9:26 AM;557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96;[~accountid:5ed8c4bc4ec4270ba3725b85] - No idea how to mark this as blocked\! 🙂 ,02/Feb/22 10:22 AM;5ed8c4bc4ec4270ba3725b85;Work is now dependant on the linked task. [~accountid:60cc71a1d5dde800713a2124] [~accountid:5db187687b20d80c2a25b574] ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress
Document release method to SIT ,NBJ-1209,43963,,Task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,19/Jan/22 10:49 AM,31/Jan/22 12:29 PM,02/Feb/22 6:31 PM,,,,,,,,,,Gareth Hailes,,,,,,,5ed8c4bc4ec4270ba3725b85,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01amt:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,Guardian Sprint 9,,,,,19/Jan/22 10:49 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Set name of UWME ruleset naming and tags in API,NBJ-1208,43961,,Task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Jason Hughes,613f60991370f00069033c68,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,19/Jan/22 10:38 AM,02/Feb/22 10:39 AM,02/Feb/22 1:50 PM,,,,,Backend_Dev,,,,,Gareth Hailes,,,,,,,5ed8c4bc4ec4270ba3725b85,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1jzzzi3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,19/Jan/22 10:38 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Inject SSL cert for authentication uwme as part of APIM deployment,NBJ-1207,43960,,Task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Highest,Done,mark.thurston@venture1consulting.com,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,19/Jan/22 10:38 AM,31/Jan/22 6:16 PM,01/Feb/22 10:58 AM,31/Jan/22 6:16 PM,,,,,,,"uwme has provided three certificates for the corresponding endpoints:

* Guardian *test* - Production environment
** *EndPoint*: https://engine.test.guardian.re.prd.underwriteme.co.uk

* Guardian *integration* - Production environment
** *EndPoint*: https://engine.integration.guardian.re.prd.underwriteme.co.uk

* Guardian *production* - Production environment
** *EndPoint*: https://engine.production.guardian.re.prd.underwriteme.co.uk



Cert needs to be applied to inbound policy ",,Asta Hansen,Gareth Hailes,mark.thurston@venture1consulting.com,,,,,5b23a053ba383e0814004f26,5ed8c4bc4ec4270ba3725b85,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"* Certificate is added to the environment specific keyvault
* Certificate is added to apim from keyvault ref
* UWme proxy api has the certificate referenced in inbound policy
** Example:        <authentication-certificate certificate-id=""uwme-test"" /> 
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01amn:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,Guardian Sprint 9,,,,,19/Jan/22 10:38 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-21 12:12:08.76,20/Jan/22 10:52 AM;5ed8c4bc4ec4270ba3725b85;Agreed to put a manual fix in place to unblock testing with a view to revisit next week,21/Jan/22 12:12 PM;5b23a053ba383e0814004f26;[~accountid:557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96] wondering if I should add the certificates to devops secure files?,"27/Jan/22 9:03 AM;557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96;[~accountid:5b23a053ba383e0814004f26]  [~accountid:5ed8c4bc4ec4270ba3725b85] [~accountid:5e183e85c578120daca5bc7b]  - The pipeline is ready but gets access denied. Specifically, it now creates APIM with a system managed MSI. It then uses that MSI to grab the cert from the KV. All standard stuff. Except… when it runs (or when I run it manually under my context), it throws either “no such MSI” or “access denied”. BUT the problem is NOT the MSI permissions on the KV. It is actually the pipeline permissions reading the MSI itself. IOW, if I grab the cert into APIM using the GUI, it works. Now, the problem is that because I can’t access the MSI (access denied) to investigate, I am rather stuck. What is needed is: my account and the pipeline account both need (at least) Directory Reader to the directory itself. This may fix it, and if not, it’ll certainly mean that I can dig deeper.

I can’t tell you the pipeline user name as (of course) I don’t have access to the directory. But, it is very obvious as it has “nbj-deploy” in the name\!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Set backend url for the APIM UWME proxy to environment specific value,NBJ-1206,43959,,Task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Highest,Done,mark.thurston@venture1consulting.com,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,19/Jan/22 10:37 AM,31/Jan/22 6:16 PM,01/Feb/22 10:58 AM,31/Jan/22 6:16 PM,,,,,,,,,Asta Hansen,Gareth Hailes,mark.thurston@venture1consulting.com,,,,,5b23a053ba383e0814004f26,5ed8c4bc4ec4270ba3725b85,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-1207,,,,,,,,,,,,,,,,,,,,,,"* Guardian *test* - Production environment
** *EndPoint*: [https://engine.test.guardian.re.prd.underwriteme.co.uk|https://engine.test.guardian.re.prd.underwriteme.co.uk]

this endpoint should be applied to any test environments (UAT/SIT)



* Guardian *integration* - Production environment
** *EndPoint*: [https://engine.integration.guardian.re.prd.underwriteme.co.uk|https://engine.integration.guardian.re.prd.underwriteme.co.uk]

this endpoint should be applied to the Accept (preprod) environment



* Guardian *production* - Production environment
** *EndPoint*: [https://engine.production.guardian.re.prd.underwriteme.co.uk|https://engine.production.guardian.re.prd.underwriteme.co.uk]

this endpoint should be applied to the production  environment",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,To ,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01amr:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,Guardian Sprint 9,,,,,19/Jan/22 10:37 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-21 12:15:42.605,20/Jan/22 10:52 AM;5ed8c4bc4ec4270ba3725b85;Agreed to put a manual fix in place to unblock testing with a view to revisit next week,21/Jan/22 12:15 PM;5b23a053ba383e0814004f26;Change done manually ticket updated with requirement,"24/Jan/22 6:19 PM;557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96;[~accountid:5b23a053ba383e0814004f26]  [~accountid:5ed8c4bc4ec4270ba3725b85]  - As we don’t actually have a prod env yet, unless there are any objections, i’ll do:

Your “test” == my “dev”

Your “integration” == my “sit” ?","26/Jan/22 7:19 PM;557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96;[~accountid:5b23a053ba383e0814004f26] To confirm:

“UWT” → sandbox

“Dev” (my “dev” that sits between UWT and SIT) → test

“SIT” (my “dev” that sits between UWT and SIT) → test

“Accept” aka “preprod” → integration

“production” → production","27/Jan/22 8:07 AM;557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96;[~accountid:5b23a053ba383e0814004f26]  [~accountid:5ed8c4bc4ec4270ba3725b85]  - This is done in my “infrastructure” branch. (Essentially a feature branch.) It works nicely. But, as I understand it, the new URLs require certificate auth, i.e. [https://gghltd.atlassian.net/browse/NBJ-1207|https://gghltd.atlassian.net/browse/NBJ-1207|smart-link] . Unfortunately, I am blocked on that. I will explain why in that task. ",,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Restrict application when in underwriting status,NBJ-1205,43957,,Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Mike,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,19/Jan/22 10:09 AM,31/Jan/22 12:55 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As an* adviser
*So that* I know what I am allowed to do
*I want* the UI to prevent me editing the application when I am in the underwriting state",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,NBJ-1143,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given:* An application in underwriting status
*When:* Viewing the decision screen
*Then:* Navigation to any other screen is prevented (nav disabled and no manual navigation allowed - redirected back to decision tab)
*and:* All links to edit or remove a cover are disabled
*and:* The link to add/edit own reference is disabled
*and:* The link to adjust commission is disabled",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-759,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwie7:y,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,17/Jan/22 4:28 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
When accepting post underwriting declaration call orchestration end point,NBJ-1204,43956,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,High,Done,Mike,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,19/Jan/22 10:01 AM,24/Jan/22 4:21 PM,02/Feb/22 6:31 PM,24/Jan/22 4:20 PM,,,,,,,"*As a* user of the front end
*So that* when I accept the underwriting declaration all the correct actions are triggered
*I want* the “Get Decision” button calls the correct orchestration endpoint

{panel:bgColor=#deebff}
This story is about calling the correct orchestration endpoint on the backend when pressing the <<Get decision>> buttont
{panel}",,Chris.Hibbert,Jim Houghton,Jon Reynolds,Mike,,,,60cc71a1d5dde800713a2124,60cc71a22bd21400692fd2af,616ee20e2097220071a975d2,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* any application
*And* an applicant’s underwriting questions are complete
*And* the current page is the Confirmation page
*When* clicking <<Get decision>>
*Then* call the action endpoint



{noformat}POST /api/v1/actions/AcceptUwDeclaration
{
  ""applicationId"": ""{{applicationId}}"",
  ""applicantId"": ""{{applicantId}}""
}{noformat}

{panel:bgColor=#deebff}
This endpoint will close the enquiry, so need to call the closeEnquiry separately
{panel}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-125,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01dtf:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,19/Jan/22 10:01 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-19 16:29:38.861,19/Jan/22 4:29 PM;60cc71a1d5dde800713a2124;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] - Just a heads up on this one.  Its a priority ticket.  [~accountid:60cc71a22bd21400692fd2af]  can provide more details if needed.,20/Jan/22 2:44 PM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;[~accountid:60cc71a1d5dde800713a2124] Whenever I call this endpoint it returns an error. I’ve been speaking with [~accountid:616ee20e2097220071a975d2] and I think we’re going to change the end of UW/Decision to a single request from the f/e. But in short I can’t get this action to work as expected.,"21/Jan/22 5:47 PM;60cc71a1d5dde800713a2124;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5]  - for info, it looks like [https://gghltd.atlassian.net/browse/NBJ-670|https://gghltd.atlassian.net/browse/NBJ-670|smart-link] will be collapsed into the TriggerDecisionQuote call we already make, which will make this ticket unnecessary.  I’ll let you know when 670 is sorted.",21/Jan/22 5:53 PM;616ee20e2097220071a975d2;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] - further to a recent discussion with [~accountid:60cc71a1d5dde800713a2124] the logic for sending underwriting declaration will occur within the triggerdecisionquote endpoint which I will work on Monday coming. ,24/Jan/22 4:21 PM;60cc71a1d5dde800713a2124;No longer required.,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Underwriting Service - Interview Q&A - add snapshot,NBJ-1201,43952,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,19/Jan/22 9:39 AM,26/Jan/22 7:58 PM,02/Feb/22 6:31 PM,26/Jan/22 7:58 PM,,Foundation Release,,,,,"*As an* operational underwriter
*So that* I can see snapshot associated with a question
*I want* to be able to provide snapshot on the interview Q&A

{panel:bgColor=#deebff}
This story is about adding snapshot timestamp to the existing data output by the questionaAndAnswers service
{panel}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* a GET api/v1/underwriting/questionsAndAnswers/\{applicantId}
*When* request received
*Then* determine URE enquiryId
*And* request enquiry history from URE; /v4/enquiry/history/\{enquiryId}

_Building on the above_

*Given* successful ure enquiry/history response
*And* each item within each snapshot.answerTimeline
*When*  create a question on the output message
*Then* map snapshotDate to questions.snapshot on the service output (converting to utc datetimestamp)
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-802,,,,,,,,,,,,,,,,None,,"_Request_

{code:json}GET api/v1/underwriting/{applicantId}/questionsAndAnswers{code}

_Return Message_

{code:json}{
  ""data"": {
    ""applicantId"": <guid>,
    ""questions"": [
      {
        ...
        ""snapshot"": <utc-timestamp>
      }
    ]
  }
}{code}

_URE Request_

{code:json}/v4/enquiry/history/{enquiryId}{code}

_URE Response_

{code:json}{
  ""enquiryId"": <guid>,
  ""snapShots"": [
    {
      ""snapshotDate"": 1638380196132,
      ...
      ""enquiry"": {
        ...
        ""availableLocales"": [
          ...
        ],
        ...
        ""buckets"": [
          ...
        ],
        ""sections"": [
          {
            ""name"": """",
            ...
            ""enquiryLines"": [
              {
                ""tags"": [""CLIENT_DETAILS"", """"],
                ...
                ""questions"": [
                  {
                    ""path"": """",
                    ""name"": """",
                    ...
                    ""definition"": {
                      ""text"": """",
                      ""helpText"": """",
                      ""options"": [
                        ...
                      ],
                      ....
                    }
                  }
                },
                {...}
              ]
              ...
            ]
          }
        ],
        ""allAnswers"": {
          ...
        }
      },
      ""answerTimeline"": [
        {
          ""dateAnswered"": 1638380184843,
          ""questionPath"": ""WHICH_GROWTH_IFA"",
          ""answers"": [
            ""Furuncle""
          ],
          ""locale"": ""IFA_EN_GB"",
          ""username"": ""enquiry-shell""
        },
        ...
      ],
      ""priorEnquiries"": [],
      ""subsequentEnquiries"": []
    }
  ]
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zi0soi,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,19/Jan/22 9:39 AM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Underwriting service - Interview Q&A - order of questions,NBJ-1200,43951,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,19/Jan/22 9:38 AM,01/Feb/22 2:24 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As an* operational underwriter
*So that* I can quickly assess risk on cases referred to manual underwriting
*I want* the order of the question to reflect the order they were displayed to the customer

{panel:bgColor=#deebff}
This story is about primarily ordering the Q&As by the order they were displayed on screen
{panel}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,NBJ-994,,,,,,,,,,,,NBJ-640,,,,,,,,,,,,,,,,,,20/Jan/22 3:12 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;MockUp (87ea1459-cf55-4110-91d5-ff65a0278f65).xlsx;https://gghltd.atlassian.net/secure/attachment/25237/MockUp+%2887ea1459-cf55-4110-91d5-ff65a0278f65%29.xlsx,20/Jan/22 3:04 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;MockUp.xlsx;https://gghltd.atlassian.net/secure/attachment/25234/MockUp.xlsx,,,,,,,,,,,"{panel:bgColor=#deebff}
The order that is achieved needs to be:

* section (matching order they appear within enauiry on enquiryHistory message),
* question ( matching order they appear within section on enquiryHistory message),
* completedDate timestamp in reverse chronological order
{panel}

*Scenario* get enquiryHistory for current applicant

*Given* a GET api/v1/underwriting/questionsAndAnswers/\{applicantId}
*When* request received
*Then* determine URE enquiryId
*And* request enquiry history from URE; /v4/enquiry/history/\{enquiryId}?embed=true

*Scenario* creating questions in the correct order

*Given* enquiryHistory with any number of snapshots
*When* processing enquiryHistory
*Then* for questions with an answer within the section, match question.path with any existing on answerTimeline.questionPath creating a row in an ordered list of<questions> as per established rules below

{noformat}| questions     | Value                        | Comment
| code          | question.path                | only include questions that have matching answers in the answerTimeLine |
| text          | question.definition.text     |                                                                         |
| helpText      | question.definition.helpText | optional, if does not exist set to null                                 |
| validValues   | question.definition.options  | only provide for short and medium lists                                 |
| answers       | answerTimeline.answers       |                                                                         |
| completedDate | answerTimeline.dateAnswered  | convert to utc datetimestamp                                            |
| section       | current section.name         |                                                                         |
| userName      | answeTimeline.username       |                                                                         |
| snapshot      | current snapshot.snapshotDate|                                                                         |{noformat}

*And* for questions *without* an answer within the *latest* snapshot, create a row in an ordered list of<questions> as per established rules below

{noformat}| questions     | Value                        | Comment
| code          | question.path                | only include questions that have matching answers in the answerTimeLine |
| text          | question.definition.text     |                                                                         |
| helpText      | question.definition.helpText | optional, if does not exist set to null                                 |
| validValues   | question.definition.options  | only provide for short and medium lists                                 |
| answers       | null                         |                                                                         |
| completedDate | null                         |                                                                         |
| section       | current section.name         |                                                                         |
| userName      | null                         |                                                                         |
| snapshot      | current snapshot.snapshotDate|                                                                         |{noformat}


*And* ensure the order of the questions output are in the following order:

# section matching the order within enquiry on URE enquiryHistory
# question matching order within section.enquiryLine on URE enquiryHistory 
# completedDate timestamp in reverse chronological order

 *But* do not include questions *with* an answer within the section, without matching answers in the answerTimeline

[^MockUp (87ea1459-cf55-4110-91d5-ff65a0278f65).xlsx]

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-802,,,,,,,,,,,,,,,,None,,"serviceOutput

{noformat}{
  ""data"": {
    ""applicantId"": <guid>,
    ""questions"": [
      {
        ""code"": """",
        ""text"": """",
        ""helpText"": """",
        ""validValues"": ["""",""""],
        ""answers"": ["""",""""],
        ""completedDate"": {utc timestamp},
        ""section"": """",
        ""userName"": """",
        ""snapshot"": <utc timestamp>
      }
    ]
  }
}{noformat}

enquiryHistory

{noformat}{
  ""enquiryId"": ""c4cbe0ab-ae7a-4597-9816-3ec352051833"",
  ""snapshots"": [
    {
      ""snapshotDate"": 1642435807734,
      ""snapshotUsername"": ""enquiry-shell"",
      ""enquiry"": {
        ...,
        ""sections"": [
          {
            ""name"": ""Your Basic Details"",
            ""hasQuestions"": true,
            ...
            ""enquiryLines"": [
              {
                ...,
                ""questions"": [
                  {
                    ""path"": ""PRODUCT"",
                    ...
                    ""answers"": [
                      ""Life""
                    ],
                    ""definition"": {
                      ""type"": ""OPTION_GROUP"",
                      ""text"": ""Products included in the application"",
                      ...,
                      ""options"": [
                        ""Life"",
                        ""Critical Illness"",
                        ""Income Protection"",
                        ""Total Permanent Disability"",
                        ""Waiver of Premium"",
                        ""Alternative Income Protection"",
                        ""Alternative Life"",
                        ""Alternative Critical Illness""
                      ],
                      ...
                    }
                  },
                  ...
                ],
                ""buckets"": [],
                ""staticallyTriggeredLines"": []
              }
            ]
          },
          {
            ...
          }
        ],
        ""allAnswers"": { ...
        }
      },
      ""answerTimeline"": [
        {
          ""dateAnswered"": 1642435720220,
          ""questionPath"": ""PRODUCT"",
          ""answers"": [
            ""Life""
          ],
          ""locale"": ""IFA_EN_GB"",
          ""username"": ""enquiry-shell""
        },
        {
          ...
        },
        ...
      ],
      ""priorEnquiries"": [],
      ""subsequentEnquiries"": []
    },
    {
      ...
    }
  ]
}{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwibj:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,19/Jan/22 9:38 AM,,13.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Set CCIC to coverType level when parent coverType is decreasing or family,NBJ-1198,43946,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,19/Jan/22 9:28 AM,02/Feb/22 4:05 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As an* API user
*So that* the full range of CCIC is available
*I want* the correct coverType used for CCIC",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-1009,,,,,,,,,,,,,,,,,,,,,,"*Given*: A CCIC rider
*When*: copying the parent coverType to the CCIC rider
*Then*: if the parent coverType is decreasing or family then the CCIC coverType used is level",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwib9:zzv,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,19/Jan/22 9:28 AM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Test Underwriting Service - Interview Q&A,NBJ-1197,43940,,Test,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Jan/22 9:19 PM,18/Jan/22 9:21 PM,02/Feb/22 6:31 PM,18/Jan/22 9:21 PM,,,,,,,"Tests *As an* operational underwriter
*So that* I can quickly and efficiently review all questions answered
*I want* to be able to retrieve all the question answered (including historical answers) and filter them based on their status groupings",,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,NBJ-516,18/Jan/22 9:19 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/25189/LivingDoc.html,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-802,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01dmn:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 9:19 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Test Align application data with the Common Data Model,NBJ-1196,43925,,Test,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Jan/22 3:43 PM,18/Jan/22 3:43 PM,02/Feb/22 6:31 PM,,,,,,,,"Tests *As an* API Consumer
*I want* to read application data in the shape and format that is defined in the Common Data Model
*So that* I can have a quiet life",,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,NBJ-932,18/Jan/22 3:43 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/25172/LivingDoc.html,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,QA / UWT,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01djb:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 3:43 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Contact details accept longer telephone numbers than the go-live service will allow,NBJ-1195,43918,,Bug,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Low,,Chris.Hibbert,60cc71a1d5dde800713a2124,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Jan/22 3:13 PM,18/Jan/22 3:29 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,James Bartlett,,,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* If an applicant has a telephone number within their contact details that is longer than 12 characters, activation will fail

*Business Impact:* unknown

*Steps to Reproduce:* update an applicant’s telephone number to be longer than 12 characters. Activate the application.

*Expected Results:* activation succeeds OR it is impossible to add a telephone number longer than 12 characters.

*Actual Result:* activation fails

*Version:* ",,{},,,,,,NBJ-119,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01dhz:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 3:13 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-18 15:29:01.947,18/Jan/22 3:29 PM;60cc71a1d5dde800713a2124;Backend validation story not built yet. Front end is fine.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Policyholder tab on dashboard,NBJ-1194,43915,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,18/Jan/22 1:58 PM,31/Jan/22 3:16 PM,02/Feb/22 6:31 PM,31/Jan/22 3:16 PM,,Foundation Release,,,,,"*As an* adviser 
*So that* I can find applications or policies easily
*I want* dashboard screen available to me

!Screenshot 2022-01-18 at 14.01.08.png|width=1658,height=877!",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 2:01 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2022-01-18 at 14.01.08.png;https://gghltd.atlassian.net/secure/attachment/25167/Screenshot+2022-01-18+at+14.01.08.png,,,,,,,,,,,,"*Given*: A user
*When*: On the dashboard screen
*Then:* The panel “Policyholders” can be seen (without any data)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,NBJ-113,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1|i01bsb:ni,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,Guardian Sprint 9,,,,,,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
QI Promo on dashboard screen,NBJ-1193,43914,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Max Silva,6139c4f3e2a0d60069cf8994,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,18/Jan/22 1:58 PM,21/Jan/22 11:21 AM,02/Feb/22 6:31 PM,21/Jan/22 11:21 AM,,Foundation Release,,,,,"*As an* adviser 
*So that* I know the exciting things Guardian have
*I want* a promotion for the QI tool shown to me",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given*: A user
*When*: On the dashboard screen
*Then*: The QI promo is displayed",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,NBJ-113,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1|i01bsb:n,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Local questions in enquiry lines cannot be answered,NBJ-1192,43913,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,High,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Jan/22 1:51 PM,21/Jan/22 9:23 PM,02/Feb/22 6:31 PM,21/Jan/22 9:23 PM,,Foundation Release,,,,,,,James Bartlett,Justin.Smith,,,,,,6139c49114e8340071fcda09,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* _Local_ questions in enquiry lines (questions with a ‘Global’ attribute of *_no_* in the UnderwriteMe rules editor) cannot be answered. 



*Business Impact:* Some apps will be unable to complete



*Steps to Reproduce:*

Answer the following questions:


* Have you lived, worked or travelled outside the UK or European Union in the last 3 years, or do you have any plans to do so in the next year? - *Yes*
* Which of these applies to you? - *I've lived, travelled or worked outside of the UK or EU within the last 3 years*

The new underwriting tab/section appears called ‘Your Travel’. This is an enquiry line called ‘Travel_Past_Where’. It has one {color:#ff5630}*local*{color} question called ‘Travel_WhichCountryPast’. It is impossible to answer this question on-screen.

Looking at the request and response, the front end is using the question *_name_* to specify the answer (Travel_WhichCountryPast) when it should be using the *_path_* (Travel_Past_Where/Travel_WhichCountryPast).



*Expected Results:* Local questions can be answered - in the example, further questions would appear based on the country/countries entered in the Travel_Past_Where/Travel_WhichCountryPast field.

*Actual Result:* The Travel_Past_Where/Travel_WhichCountryPast question cannot be answered

*Version:* unknown",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01cgo:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,18/Jan/22 1:51 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-21 21:22:32.217,21/Jan/22 9:22 PM;618bdfc5fba4d0006ad4853e;This looks the same as [https://gghltd.atlassian.net/browse/NBJ-1117|https://gghltd.atlassian.net/browse/NBJ-1117|smart-link].  Closing as we can provide an answer now.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Default AdviserId in Salesforce Event as environment specific configuration setting,NBJ-1191,43911,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Sam Gamble,610c00d94e8d8d0069a20d6c,Ian.Douglas,5e183e85c578120daca5bc7b,Ian.Douglas,5e183e85c578120daca5bc7b,18/Jan/22 1:07 PM,26/Jan/22 11:51 PM,02/Feb/22 6:31 PM,26/Jan/22 11:51 PM,,,,,,,"*As an* developer or tester
*So that* the Salesforce Sync process works in all environments 
*I want* an the default adviserid sent in the event message to be configurable",,Ian.Douglas,,,,,,,5e183e85c578120daca5bc7b,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* a valid adviser ID for each environment
*And* an agreed application configuration setting name and location
*When* the NBJ2 application is deployed into any environment
*Then* the deployment process must write that adviserId into the app config setting

*Given* a Salesforce Event has been triggered by the NBJ
*And* an environment specific default adviserId has been set
*When* that event has been posted to the Service Bus Application Topic
*Then* the default value of data.application.adviserAtFirmLocationId attribute should correspond to that adviserId",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-800,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01dgv:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 1:07 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Persist Documents Section Under applicant or application,NBJ-1190,43908,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,18/Jan/22 12:11 PM,20/Jan/22 12:32 PM,02/Feb/22 6:31 PM,20/Jan/22 12:32 PM,,Foundation Release,,,,,"*As an* IFA user of NBJ2
*So that* I can access the correct documents
*I want* documents correctly stored against application and applicants

{panel:bgColor=#deebff}
This story is about ensuring documents are stored at the correct level in the application model
{panel}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,NBJ-976,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Scenario* persisting documents

*Given* any <document> generated in the application process
*When* persisting the document
*Then* persist the <document> id within the documents section of the <applicationOrApplicant>

{noformat}| document      | applicationOrApplicant |
| Quote         | application            |
| Q&A           | applicant              |
| SOF           | applicant              |
| Decision      | application            |
| Cover Summary | applicant              |{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-34,,,,,,,,,,,,,,,,None,,"*Adding Document to Applicant* 

PATCH {{https://{host}/api/v1/application/{applicationId}/applicant/{applicantId}/document}}

request payload: 

{noformat}{
   ""documentType"":""cover summary | statement of facts| qa"",
   ""documentId"" : ""{document id}""
}{noformat}



*Compare to adding document to application* (no change)

PATCH {{https://{host}/api/v1/application/{applicationId}/document}}

request payload: 

{noformat}{
   ""documentType"":""quote | decision"",
   ""documentId"" : ""{document id}""
}{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zi0sp,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,18/Jan/22 12:11 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Pass policyNumber from an applicant into CoverSummary as applicantId,NBJ-1189,43907,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,18/Jan/22 12:05 PM,31/Jan/22 11:29 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As an* api user
*So that* I get the correct CoverSummary document
*I want* the policyReference stored on an applicant used as the applicantId in the request",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given*: A request for a coversummary (NBJ-976)
*Then*: the policyReference stored against an applicant is used as the applicantId in the generateCoverSummary request",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-772,,,,,,,,,,,,,,,,None,,"*Action Service*

* Update {{GenerateCoverSummaryDocumentCommandHandler}} command handler
** load application/applicant from the incoming request
** validate that policy reference number exists and pass into {{CreateCoverSummaryDocumentCommand}} command to document service
** replace{{ApplicantPolicyReferenceUntilNbj1188}} placeholder variable with applicant/PolicyReferenceNumber",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwib9:zzr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 12:05 PM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Store returned policyRef from activation service on an applicant as policyNumber,NBJ-1188,43905,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,18/Jan/22 12:05 PM,31/Jan/22 11:29 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As an* api user
*So that* I know the policyReference for an applicant
*I want* the policyReference stored on an applicant following a golive message",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,NBJ-1189,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given*: A successful activation service request
*Then*: the returned policyRef is persisted against each applicant in the application as the policyReference
*and*: the policyReference is available on any subsequent request for the applicant (as part of the application)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-119,,,,,,,,,,,,,,,,None,,"*Action Service*

* Within the ActivateApplication command handler a call is made to activate the application by the PolicyService e.g.
* {{ApiResponseOfActivateQuoteResponse response = await _activate.ActivateQuoteAsync(activateRequest, cancellationToken);}}
* The returned response contains the Policy Reference number (string)
* Need to save this reference number to each applicant in the application
* This can be achieved by extending the OnRisk endpoint within the Application service to accept a policy reference number which can be saved to the polictreferencenumber property in each applicant of the application",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwib9:zzi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 12:05 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Single SessionId for all Salesforce Events,NBJ-1187,43901,,Technical Story,Code Delivered,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Antony.Gorman,6149b13472728e006f9441d6,Ian.Douglas,5e183e85c578120daca5bc7b,Ian.Douglas,5e183e85c578120daca5bc7b,18/Jan/22 11:59 AM,02/Feb/22 3:14 PM,02/Feb/22 6:31 PM,,,,,,,,"*As an* architect 
*So that* the Salesforce Sync operates more efficiently
*I want* an every event from NBJ to Salesforce to use the same SessionId \[ propose “NBJ2” ]",,Ian.Douglas,,,,,,,5e183e85c578120daca5bc7b,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* a Salesforce Event has been triggered by the NBJ
*When* that event has been posted to the Service Bus Application Topic
*Then* the event message should always have a SessionId of “NBJ2” ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01dev:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,18/Jan/22 11:59 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress
ApplicationAndDecisionsAreCorrectForASingleApplicantSingleCoverApplication,NBJ-1186,43885,,Test,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Jan/22 10:55 AM,18/Jan/22 10:55 AM,02/Feb/22 6:31 PM,,,,,Application_and_decisions_are_correct_for_a_single_applicant_single_cover_application,Application_With_Decisions,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,NBJ-1067,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01dbb:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 10:55 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
ApplicationAndDecisionsAreCorrectForASingleApplicantMultipleCoverApplication,NBJ-1185,43884,,Test,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Jan/22 10:55 AM,18/Jan/22 10:55 AM,02/Feb/22 6:31 PM,,,,,Application_and_decisions_are_correct_for_a_single_applicant_multiple_cover_application,Application_With_Decisions,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,NBJ-1067,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01db3:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 10:55 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
ApplicationAndDecisionsAreCorrectForADualApplicantApplication,NBJ-1184,43883,,Test,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Jan/22 10:55 AM,18/Jan/22 10:55 AM,02/Feb/22 6:31 PM,,,,,Application_and_decisions_are_correct_for_a_dual_applicant_application,Application_With_Decisions,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,NBJ-1067,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01dav:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 10:55 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
DecisionStateForSingleApplicantSingleCoverStandardMortgageTrue,NBJ-1183,43880,,Test,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Jan/22 10:22 AM,20/Jan/22 5:04 PM,02/Feb/22 6:31 PM,20/Jan/22 5:04 PM,,,,Decision_state,Decision_state_for_single_applicant_single_cover_standard_mortgage_true,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,NBJ-1057,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01da7:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 10:22 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
DecisionStateForSingleApplicantSingleCoverStandardMortgageFalse,NBJ-1182,43879,,Test,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Jan/22 10:22 AM,20/Jan/22 5:04 PM,02/Feb/22 6:31 PM,20/Jan/22 5:04 PM,,,,Decision_state,Decision_state_for_single_applicant_single_cover_standard_mortgage_false,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,NBJ-1057,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01d9z:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 10:22 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
DecisionStateForSingleApplicantSingleCoverStandard,NBJ-1181,43878,,Test,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Jan/22 10:22 AM,20/Jan/22 5:04 PM,02/Feb/22 6:31 PM,20/Jan/22 5:04 PM,,,,Decision_state,Decision_state_for_single_applicant_single_cover_standard,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,NBJ-1057,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01d9r:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 10:22 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
DecisionStateForSingleApplicantSingleCoverReferMortgageTrue,NBJ-1180,43877,,Test,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Jan/22 10:22 AM,20/Jan/22 5:04 PM,02/Feb/22 6:31 PM,20/Jan/22 5:04 PM,,,,Decision_state,Decision_state_for_single_applicant_single_cover_refer_mortgage_true,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,NBJ-1057,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01d9j:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 10:22 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
DecisionStateForSingleApplicantSingleCoverReferMortgageFalse,NBJ-1179,43876,,Test,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Jan/22 10:22 AM,20/Jan/22 5:04 PM,02/Feb/22 6:31 PM,20/Jan/22 5:04 PM,,,,Decision_state,Decision_state_for_single_applicant_single_cover_refer_mortgage_false,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,NBJ-1057,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01d9b:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 10:22 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
DecisionStateForSingleApplicantSingleCoverPostponeMortgageTrue,NBJ-1178,43875,,Test,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Jan/22 10:22 AM,20/Jan/22 5:04 PM,02/Feb/22 6:31 PM,20/Jan/22 5:04 PM,,,,Decision_state,Decision_state_for_single_applicant_single_cover_postpone_mortgage_true,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,NBJ-1057,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01d93:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 10:22 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
DecisionStateForSingleApplicantSingleCoverPostponeMortgageFalse,NBJ-1177,43874,,Test,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Jan/22 10:22 AM,20/Jan/22 5:03 PM,02/Feb/22 6:31 PM,20/Jan/22 5:03 PM,,,,Decision_state,Decision_state_for_single_applicant_single_cover_postpone_mortgage_false,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,NBJ-1057,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01d8v:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 10:22 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
DecisionStateForSingleApplicantSingleCoverNonStandardMortgageTrue,NBJ-1176,43873,,Test,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Jan/22 10:22 AM,20/Jan/22 5:04 PM,02/Feb/22 6:31 PM,20/Jan/22 5:04 PM,,,,Decision_state,Decision_state_for_single_applicant_single_cover_non_standard_mortgage_true,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,NBJ-1057,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01d8n:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 10:22 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
DecisionStateForSingleApplicantSingleCoverNonStandardMortgageFalse,NBJ-1175,43872,,Test,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Jan/22 10:22 AM,20/Jan/22 5:03 PM,02/Feb/22 6:31 PM,20/Jan/22 5:03 PM,,,,Decision_state,Decision_state_for_single_applicant_single_cover_non_standard_mortgage_false,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,NBJ-1057,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01d8f:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 10:22 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
DecisionStateForSingleApplicantSingleCoverEvidenceMortgageTrue,NBJ-1174,43871,,Test,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Jan/22 10:22 AM,20/Jan/22 5:04 PM,02/Feb/22 6:31 PM,20/Jan/22 5:04 PM,,,,Decision_state,Decision_state_for_single_applicant_single_cover_evidence_mortgage_true,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,NBJ-1057,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01d87:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 10:22 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
DecisionStateForSingleApplicantSingleCoverEvidenceMortgageFalse,NBJ-1173,43870,,Test,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Jan/22 10:22 AM,20/Jan/22 5:04 PM,02/Feb/22 6:31 PM,20/Jan/22 5:04 PM,,,,Decision_state,Decision_state_for_single_applicant_single_cover_evidence_mortgage_false,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,NBJ-1057,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01d7z:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 10:22 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
DecisionStateForSingleApplicantSingleCoverDeclineMortgageTrue,NBJ-1172,43869,,Test,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Jan/22 10:22 AM,20/Jan/22 5:03 PM,02/Feb/22 6:31 PM,20/Jan/22 5:03 PM,,,,Decision_state,Decision_state_for_single_applicant_single_cover_decline_mortgage_true,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,NBJ-1057,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01d7r:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 10:22 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
DecisionStateForSingleApplicantSingleCoverDeclineMortgageFalse,NBJ-1171,43868,,Test,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Jan/22 10:22 AM,20/Jan/22 5:03 PM,02/Feb/22 6:31 PM,20/Jan/22 5:03 PM,,,,Decision_state,Decision_state_for_single_applicant_single_cover_decline_mortgage_false,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,NBJ-1057,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01d7j:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 10:22 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
CloseSessionForDualApplicantsWithStandardForBothApplicantsAndMortgageTrue,NBJ-1170,43867,,Test,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Jan/22 10:22 AM,20/Jan/22 5:04 PM,02/Feb/22 6:31 PM,20/Jan/22 5:04 PM,,,,Close_session_for_dual_applicants_with_standard_for_both_applicants_and_mortgage_true,Decision_state,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,NBJ-1057,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01d7b:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 10:22 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
CloseSessionForDualApplicantsWithStandardForBothApplicantsAndMortgageFalse,NBJ-1169,43866,,Test,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Jan/22 10:22 AM,20/Jan/22 5:04 PM,02/Feb/22 6:31 PM,20/Jan/22 5:04 PM,,,,Close_session_for_dual_applicants_with_standard_for_both_applicants_and_mortgage_false,Decision_state,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,NBJ-1057,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01d73:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 10:22 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
CloseSessionForDualApplicantsWithReferForSecondApplicantAndMortgageTrue,NBJ-1168,43865,,Test,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Jan/22 10:22 AM,20/Jan/22 5:03 PM,02/Feb/22 6:31 PM,20/Jan/22 5:03 PM,,,,Close_session_for_dual_applicants_with_refer_for_second_applicant_and_mortgage_true,Decision_state,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,NBJ-1057,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01d6v:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 10:22 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
CloseSessionForDualApplicantsWithReferForSecondApplicantAndMortgageFalse,NBJ-1167,43864,,Test,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Jan/22 10:22 AM,20/Jan/22 5:03 PM,02/Feb/22 6:31 PM,20/Jan/22 5:03 PM,,,,Close_session_for_dual_applicants_with_refer_for_second_applicant_and_mortgage_false,Decision_state,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,NBJ-1057,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01d6n:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 10:22 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
CloseSessionForDualApplicantsWithReferForFirstApplicantAndMortgageTrue,NBJ-1166,43863,,Test,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Jan/22 10:22 AM,20/Jan/22 5:03 PM,02/Feb/22 6:31 PM,20/Jan/22 5:03 PM,,,,Close_session_for_dual_applicants_with_refer_for_first_applicant_and_mortgage_true,Decision_state,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,NBJ-1057,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01d6f:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 10:22 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
CloseSessionForDualApplicantsWithReferForFirstApplicantAndMortgageFalse,NBJ-1165,43862,,Test,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Jan/22 10:22 AM,20/Jan/22 5:03 PM,02/Feb/22 6:31 PM,20/Jan/22 5:03 PM,,,,Close_session_for_dual_applicants_with_refer_for_first_applicant_and_mortgage_false,Decision_state,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,NBJ-1057,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01d67:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 10:22 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
CloseSessionForDualApplicantsWithPostponeForSecondApplicantAndMortgageTrue,NBJ-1164,43861,,Test,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Jan/22 10:22 AM,20/Jan/22 5:03 PM,02/Feb/22 6:31 PM,20/Jan/22 5:03 PM,,,,Close_session_for_dual_applicants_with_postpone_for_second_applicant_and_mortgage_true,Decision_state,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,NBJ-1057,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01d5z:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 10:22 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
CloseSessionForDualApplicantsWithPostponeForSecondApplicantAndMortgageFalse,NBJ-1163,43860,,Test,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Jan/22 10:22 AM,20/Jan/22 5:03 PM,02/Feb/22 6:31 PM,20/Jan/22 5:03 PM,,,,Close_session_for_dual_applicants_with_postpone_for_second_applicant_and_mortgage_false,Decision_state,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,NBJ-1057,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01d5r:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 10:22 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
CloseSessionForDualApplicantsWithPostponeForFirstApplicantAndMortgageTrue,NBJ-1162,43859,,Test,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Jan/22 10:22 AM,20/Jan/22 5:03 PM,02/Feb/22 6:31 PM,20/Jan/22 5:03 PM,,,,Close_session_for_dual_applicants_with_postpone_for_first_applicant_and_mortgage_true,Decision_state,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,NBJ-1057,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01d5j:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 10:22 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
CloseSessionForDualApplicantsWithPostponeForFirstApplicantAndMortgageFalse,NBJ-1161,43858,,Test,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Jan/22 10:22 AM,20/Jan/22 5:03 PM,02/Feb/22 6:31 PM,20/Jan/22 5:03 PM,,,,Close_session_for_dual_applicants_with_postpone_for_first_applicant_and_mortgage_false,Decision_state,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,NBJ-1057,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01d5b:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 10:22 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
CloseSessionForDualApplicantsWithNon_StandardForSecondApplicantAndMortgageTrue,NBJ-1160,43857,,Test,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Jan/22 10:22 AM,20/Jan/22 5:03 PM,02/Feb/22 6:31 PM,20/Jan/22 5:03 PM,,,,Close_session_for_dual_applicants_with_non-standard_for_second_applicant_and_mortgage_true,Decision_state,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,NBJ-1057,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01d53:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 10:22 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
CloseSessionForDualApplicantsWithNon_StandardForSecondApplicantAndMortgageFalse,NBJ-1159,43856,,Test,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Jan/22 10:22 AM,20/Jan/22 5:03 PM,02/Feb/22 6:31 PM,20/Jan/22 5:03 PM,,,,Close_session_for_dual_applicants_with_non-standard_for_second_applicant_and_mortgage_false,Decision_state,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,NBJ-1057,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01d4v:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 10:22 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
CloseSessionForDualApplicantsWithNon_StandardForFirstApplicantAndMortgageTrue,NBJ-1158,43855,,Test,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Jan/22 10:22 AM,20/Jan/22 5:03 PM,02/Feb/22 6:31 PM,20/Jan/22 5:03 PM,,,,Close_session_for_dual_applicants_with_non-standard_for_first_applicant_and_mortgage_true,Decision_state,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,NBJ-1057,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01d4n:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 10:22 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
CloseSessionForDualApplicantsWithNon_StandardForFirstApplicantAndMortgageFalse,NBJ-1157,43854,,Test,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Jan/22 10:22 AM,20/Jan/22 5:03 PM,02/Feb/22 6:31 PM,20/Jan/22 5:03 PM,,,,Close_session_for_dual_applicants_with_non-standard_for_first_applicant_and_mortgage_false,Decision_state,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,NBJ-1057,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01d4f:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 10:22 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
CloseSessionForDualApplicantsWithEvidenceForSecondApplicantAndMortgageTrue,NBJ-1156,43853,,Test,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Jan/22 10:21 AM,20/Jan/22 5:03 PM,02/Feb/22 6:31 PM,20/Jan/22 5:03 PM,,,,Close_session_for_dual_applicants_with_evidence_for_second_applicant_and_mortgage_true,Decision_state,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,NBJ-1057,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01d47:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 10:21 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
CloseSessionForDualApplicantsWithEvidenceForSecondApplicantAndMortgageFalse,NBJ-1155,43852,,Test,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Jan/22 10:21 AM,20/Jan/22 5:03 PM,02/Feb/22 6:31 PM,20/Jan/22 5:03 PM,,,,Close_session_for_dual_applicants_with_evidence_for_second_applicant_and_mortgage_false,Decision_state,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,NBJ-1057,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01d3z:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 10:21 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
CloseSessionForDualApplicantsWithEvidenceForFirstApplicantAndMortgageTrue,NBJ-1154,43851,,Test,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Jan/22 10:21 AM,20/Jan/22 5:03 PM,02/Feb/22 6:31 PM,20/Jan/22 5:03 PM,,,,Close_session_for_dual_applicants_with_evidence_for_first_applicant_and_mortgage_true,Decision_state,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,NBJ-1057,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01d3r:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 10:21 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
CloseSessionForDualApplicantsWithEvidenceForFirstApplicantAndMortgageFalse,NBJ-1153,43850,,Test,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Jan/22 10:21 AM,20/Jan/22 5:03 PM,02/Feb/22 6:31 PM,20/Jan/22 5:03 PM,,,,Close_session_for_dual_applicants_with_evidence_for_first_applicant_and_mortgage_false,Decision_state,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,NBJ-1057,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01d3j:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 10:21 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
CloseSessionForDualApplicantsWithDeclineForSecondApplicantAndMortgageTrue,NBJ-1152,43849,,Test,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Jan/22 10:21 AM,20/Jan/22 5:03 PM,02/Feb/22 6:31 PM,20/Jan/22 5:03 PM,,,,Close_session_for_dual_applicants_with_decline_for_second_applicant_and_mortgage_true,Decision_state,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,NBJ-1057,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01d3b:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 10:21 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
CloseSessionForDualApplicantsWithDeclineForSecondApplicantAndMortgageFalse,NBJ-1151,43848,,Test,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Jan/22 10:21 AM,20/Jan/22 5:02 PM,02/Feb/22 6:31 PM,20/Jan/22 5:02 PM,,,,Close_session_for_dual_applicants_with_decline_for_second_applicant_and_mortgage_false,Decision_state,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,NBJ-1057,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01d33:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 10:21 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
CloseSessionForDualApplicantsWithDeclineForFirstApplicantAndMortgageTrue,NBJ-1150,43847,,Test,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Jan/22 10:21 AM,20/Jan/22 5:03 PM,02/Feb/22 6:31 PM,20/Jan/22 5:03 PM,,,,Close_session_for_dual_applicants_with_decline_for_first_applicant_and_mortgage_true,Decision_state,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,NBJ-1057,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01d2v:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 10:21 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
CloseSessionForDualApplicantsWithDeclineForFirstApplicantAndMortgageFalse,NBJ-1149,43846,,Test,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Jan/22 10:21 AM,20/Jan/22 5:02 PM,02/Feb/22 6:31 PM,20/Jan/22 5:02 PM,,,,Close_session_for_dual_applicants_with_decline_for_first_applicant_and_mortgage_false,Decision_state,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,NBJ-1057,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01d2n:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 10:21 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Ad-hoc execution for NBJ-1139,NBJ-1147,43840,,Test Execution,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Jan/22 9:42 AM,31/Jan/22 1:57 PM,02/Feb/22 6:31 PM,,,Foundation Release,,api-testing,,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01d1b:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Jan/22 9:42 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Contact details layout has gone wonky,NBJ-1146,43821,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,17/Jan/22 5:28 PM,19/Jan/22 8:02 AM,02/Feb/22 6:31 PM,19/Jan/22 8:02 AM,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,17/Jan/22 5:28 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2022-01-17 at 17.25.52.png;https://gghltd.atlassian.net/secure/attachment/25159/Screenshot+2022-01-17+at+17.25.52.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Medium,,,,,,,,,,,,,,"!Screenshot 2022-01-17 at 17.25.52.png|width=1256,height=1226!

Mostly looks like its the email help text and the add manual address that should be on new lines",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01cx3:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,17/Jan/22 5:28 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,19/Jan/22 8:02 AM;60cc71a1d5dde800713a2124;Layout all sorted.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Update to the right gold colour,NBJ-1144,43817,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,17/Jan/22 5:17 PM,28/Jan/22 10:22 AM,02/Feb/22 6:31 PM,28/Jan/22 10:22 AM,,Foundation Release,,,,,"Gold colour to be updated to the accessible version of gold as per the following invision page:

[https://projects.invisionapp.com/d/main#/console/21777111/462736453/preview|https://projects.invisionapp.com/d/main#/console/21777111/462736453/preview]

Hex: {{#8A714C}} ; RGB {{rgb(132, 113, 76)}}

This change should replace the existing gold colour: 

Hex: {{#85724d}}; RGB {{rgb(177, 149, 106)}}",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given*: NBJ2
*Then*: The gold colour used is updated to the latest specified

[https://projects.invisionapp.com/d/main#/console/21777111/462736453/preview|https://projects.invisionapp.com/d/main#/console/21777111/462736453/preview]

Hex: {{#8A714C}} ; RGB {{rgb(132, 113, 76)}}

This change should replace the existing gold colour:

Hex: {{#85724d}}; RGB {{rgb(177, 149, 106)}}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01gie:r,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,17/Jan/22 5:17 PM,,1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28/Jan/22 10:22 AM;60cc71a1d5dde800713a2124;Tested in UWT - looks correct.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Allow internal users to make changes on applications in manual underwriting,NBJ-1143,43811,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,17/Jan/22 4:28 PM,02/Feb/22 1:26 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Given an application where at least one applicant is in manual underwriting:

An internal user can still CR20 in to make changes such as remove a life.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-759,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01dxv:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,17/Jan/22 4:28 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Front End - Update to handle the new data structure of quote model,NBJ-1142,43769,41641,Sub-task,Code Review,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Mike,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,17/Jan/22 11:06 AM,02/Feb/22 1:56 PM,02/Feb/22 6:31 PM,,,,,,,,,,Chris.Hibbert,Mike,,,,,,60cc71a1d5dde800713a2124,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01clj:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,Guardian Sprint 9,,,,,17/Jan/22 11:06 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-02-02 13:56:03.265,28/Jan/22 3:12 PM;60cc71a1d5dde800713a2124;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5]  - another one to be aware of.  This will certainly break things.,02/Feb/22 1:56 PM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;[~accountid:60cc71a1d5dde800713a2124] I don’t think the F/E is effected by this - as the work has been done to add the updates property ‘riders’ already.,,,,,,,,,,,,,,,,,,,,,,,,,,,,41641,Align quote data with the Common Data Model,In Progress
Front End - fix productType issues,NBJ-1141,43768,41671,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Mike,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,17/Jan/22 10:54 AM,27/Jan/22 7:21 PM,02/Feb/22 6:31 PM,27/Jan/22 7:21 PM,,,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01clb:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,17/Jan/22 10:54 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,27/Jan/22 11:07 AM;60cc71a1d5dde800713a2124;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5]  - a heads up that this might need some front end work to resolve any issues,"27/Jan/22 7:20 PM;60cc71a1d5dde800713a2124;Tested in UI 

[https://ggh-uwt-apim.azure-api.net/api/v1/application/G000158040|https://ggh-uwt-apim.azure-api.net/api/v1/application/G000158040]",,,,,,,,,,,,,,,,,,,,,,,,,,,,41671,Invalid values being used for productType,Done
Front End - ensure this also works on quote/decision screens,NBJ-1140,43767,41672,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,17/Jan/22 10:53 AM,31/Jan/22 2:17 PM,02/Feb/22 6:31 PM,31/Jan/22 2:17 PM,,,,,,,,,Chris.Hibbert,James Bartlett,Justin.Smith,,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01cl3:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,Guardian Sprint 9,,,,,17/Jan/22 10:53 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-27 22:12:58.707,27/Jan/22 11:06 AM;60cc71a1d5dde800713a2124;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5]  - a heads up that this might need some front end work to resolve any issues,27/Jan/22 10:12 PM;618bdfc5fba4d0006ad4853e;Hi [~accountid:60cc71a1d5dde800713a2124] should this sub-task be in code delivered?,"28/Jan/22 8:13 AM;60cc71a1d5dde800713a2124;[~accountid:618bdfc5fba4d0006ad4853e] - I believe so , yes.",31/Jan/22 2:17 PM;6139c49114e8340071fcda09;quick smoke test of the front end and all looks well.,,,,,,,,,,,,,,,,,,,,,,,,,,41672,Invalid values being used for coverType,Done
Determine decision source,NBJ-1138,43762,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Chris.Hibbert,60cc71a1d5dde800713a2124,17/Jan/22 10:02 AM,31/Jan/22 1:26 PM,02/Feb/22 6:31 PM,,,Foundation Release,,Sprint_6,,,"*As an* API User
*So that* I can see the correct decision for an applicant
*I want* the DecisionService to use the Manual Underwiting (MUW) Decision when it exists

{panel:bgColor=#deebff}
Always send an event once a manual UW event received from Salesforce, the decision is persisted and application status has been updated 
{panel}",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Scenario:* applicant has a manual underwriting decision (applicant.status='Manual Decision')
*Given* an applicant with a manual underwriting decision (applicant.status='Manual Decision')
*When* calculating a product decision for the applicant
*Then* the product decision is calculated from the manual underwriting decision

*Scenario:* applicant +does not have+ a manual underwriting decision (applicant.status='STP Decision')
*Given* an applicant without a manual underwriting decision (applicant.status='STP Decision')
*When* calculating a product decision for the applicant
*Then* the product decision is calculated from the UnderwriteMe risk decision",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,NBJ-799,,,,,,,,,,,,,,,,,,"In the DecisionService:

* Manual underwriting decision are stored
* Use one of 2 sources to calc decisions, either the:
** manual writing decision; or
** UnderwriteMe

If an applicant has a manual underwriting decision, use it as the data source when calculating product and quote decisions.",,,,,,,,,,,,,,,,,,,,,,,,,,,,1|hzwie4:f,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,Guardian Sprint 9,,,,,,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Update setup page to ensure payout planner complete for all covers,NBJ-1137,43754,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,16/Jan/22 10:35 AM,02/Feb/22 3:15 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-1135,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-764,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01cif:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,16/Jan/22 10:35 AM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Create activation endpoint for an application,NBJ-1135,43752,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Highest,Done,James Bartlett,6139c49114e8340071fcda09,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,16/Jan/22 10:18 AM,25/Jan/22 4:13 PM,02/Feb/22 6:31 PM,25/Jan/22 4:13 PM,,Foundation Release,,,,,"*As an* api user
*So that* I can activate an application
*I want* an endpoint that will attempt to activate a particular application",,Antony.Gorman,Chris.Hibbert,James Bartlett,,,,,6149b13472728e006f9441d6,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,,,,,,,,,,,,Hidden from EXL,NBJ-983,NBJ-1188,NBJ-1250,,,,,,,,,,,,,,,,,,NBJ-1270,,,,,,,,,,,,,,,,,,,,,,"h3. *Scenario:* only activate an application under certain conditions

*Given*: An {{Application}} in the state: 
  {{Application.Status != ""Decision""}}
  {{Application.PolicyStartDate == null}}
  {{Application.IsAdvisedSale == null}}
*When:* calling the Activation API in the ActionService
  {{POST /api/v1/actions/activateApplication/{{Application.Id}}}}
*Then*: a validation error is returned
*And:* the activation request is aborted

h3. *Scenario:* application data is passed to Lissia

*Given*: An {{Application}} in an activate-able state:
  {{Application.Status == ""Decision""}}
  {{Application.PolicyStartDate != null}}
  {{Application.IsAdvisedSale != null}}
*When:* calling the Activation API in the ActionService
  {{POST /api/v1/actions/activateApplication/{{Application.Id}}}}
*Then*: a new {{Policy}} is created in Lissia using the values in the given {{Application}}
*And:* an {{HTTP 201 Created}} is returned

h3. *Scenario:* update Application status after successfully activation

*Given*: An {{Application}}
*When*: The activation has succeeded
*Then*: the {{Application.Status}} is updated to ""Went on Risk""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-119,,,,,,,,,,,,,,,,None,,"This story is about activating an Application given only the {{applicationId}}.

In the ActionService, add a new endpoint:

*Request*
{{POST /api/v1/actions/activateApplication/{{applicationId}}}}

*Command*

# Retrieve the Application using the {{applicationId}} in the request
# Validate the Application can be activated (see first AC for the rules)
# Call the -ActivationService- *PolicyService* endpoint {{POST /api/v1/policy/activate}}
# Update the Application.Status to “Went on Risk”
# Save the Application

*Response*

{{HTTP 201 Created}}



_Note: in order to activate an Application on Lissia, the bank account details will need to be hardcoded to dummy values._",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih1:li,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,16/Jan/22 10:18 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-18 08:44:23.174,18/Jan/22 8:44 AM;6149b13472728e006f9441d6;[~accountid:60cc71a1d5dde800713a2124] hey - the activate end point returns the policy ids that lissia sends us back - do you want us to do anything with those in here?,"18/Jan/22 8:58 AM;60cc71a1d5dde800713a2124;[~accountid:6149b13472728e006f9441d6] - the returned policy Ids should be persisted on the applicant as policyReference.

If not too much scope creep - OK if I add as an a/c on this ticket?",18/Jan/22 9:23 AM;6149b13472728e006f9441d6;[~accountid:60cc71a1d5dde800713a2124] hey - just took a quick look and it’s a bit more work than I think we can ship with this ticket tbh. currently the activation service doesn’t track applicants against policies so its a few changes in activation and also more in app to persist them etc. if you’re happy adding points here would make it about an 8 I think. up to you.,"18/Jan/22 9:24 AM;60cc71a1d5dde800713a2124;[~accountid:6149b13472728e006f9441d6]  - no problem, I will raise in another ticket.",18/Jan/22 11:42 AM;6149b13472728e006f9441d6;[~accountid:60cc71a1d5dde800713a2124] hi - we don’t save quote underwriting outcomes in the app service were you expecting the action service to build these up by also querying the decision service or is there a gap in the model here? ta,18/Jan/22 12:19 PM;60cc71a1d5dde800713a2124;[~accountid:6149b13472728e006f9441d6] - good catch.  [~accountid:60cc71a22bd21400692fd2af]  - worth a quick chat on this one?,"19/Jan/22 9:16 AM;6149b13472728e006f9441d6;POST {{{actionserice}/api/v1/actions}}/{{activateapplication}}

\{

“applicationid” : “a gref“

}",24/Jan/22 8:07 AM;6149b13472728e006f9441d6;NB - for whoever picks this up - this went back to todo due to gaps in the api leaving applications at the quote status and effectively rendering this end point useless until that gap is fixed.,24/Jan/22 8:41 AM;60cc71a1d5dde800713a2124;NB - [https://gghltd.atlassian.net/browse/NBJ-1242|https://gghltd.atlassian.net/browse/NBJ-1242|smart-link] was added to address the issues with the application status.  This ticket should be good to go now.,"25/Jan/22 8:50 AM;6149b13472728e006f9441d6;There should be no code changes required for this (as the problem was upstream in the other action) - but I’m chasing with Mike P before I show this as code delivered again.



[~accountid:60cc71a1d5dde800713a2124] fyi",25/Jan/22 8:52 AM;6149b13472728e006f9441d6;Mike P has confirmed he’s unblocked on this now.,"25/Jan/22 1:01 PM;6139c49114e8340071fcda09;status was ‘on risk’ - it needs to be ‘Went on Risk’.

Also the status code was 200 rather than 201.



See G000151663 in UWT",25/Jan/22 1:21 PM;6149b13472728e006f9441d6;as discussed. the enum change needs to be a whole other story really. fix for status code is up.,"25/Jan/22 4:13 PM;6139c49114e8340071fcda09;activateApplication calls aren’t
{{/activateApplication/<app ID>}}



instead it’s
{{/activateApplication}}
with a body of
{{{""applicationId"": ""<app ID>""}}}

Confirmed with [~accountid:60cc71a1d5dde800713a2124]  that it’s OK",,,,,,,,,,,,,,,,,,Done
Remove policyStartDate if after the offerExpiryDate,NBJ-1134,43751,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,16/Jan/22 10:16 AM,16/Jan/22 10:17 AM,02/Feb/22 6:31 PM,,,,,,,,Covering the scenario where a user sets the start date before getting terms offered but this is outside the allowed range.,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zjzzzzzy9,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,16/Jan/22 10:16 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Restrict nav for applications in apply state,NBJ-1132,43749,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,15/Jan/22 4:18 PM,28/Jan/22 2:52 PM,02/Feb/22 6:31 PM,26/Jan/22 7:58 PM,,Foundation Release,,,,,"*As an* adviser
*So that* I know where I can navigate when I am in the process of applying
*I want* the navigation to be restricted",,Chris.Hibbert,Justin.Smith,,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-1327,,,,,,,,,,26/Jan/22 7:58 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220126-195730.png;https://gghltd.atlassian.net/secure/attachment/25428/image-20220126-195730.png,,,,,,,,,,,,"*Given*: An application in apply state
*Then*: only the decision tab is disabled
*and*: all other tabs are enabled
*and*: Manually going to a URL for a page that is disabled returns the user to the client details screen",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01bsb:qr,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,15/Jan/22 4:18 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-26 19:58:35.403,"21/Jan/22 3:30 PM;60cc71a1d5dde800713a2124;(flag) Flag added

Blocked for NBJ-1234","26/Jan/22 7:58 PM;618bdfc5fba4d0006ad4853e;Application in apply status

{{   ""status"": ""apply"",}}

only tab not available is decision

!image-20220126-195730.png|width=1691,height=931!

If I try and go to /decision url I’m taken back to /client-details url.  Marking as done.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
persist sameAddressApplicantId on applicant,NBJ-1131,43745,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,15/Jan/22 4:00 PM,27/Jan/22 8:04 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As an* API user
*So that* I can indicate if an address is shared
*I want* to be able to indicate which address details I am using

*sameAddressApplicantId* : ""Holds the applicants. id of the applicant whose contactDetails are shared by this applicant. If set then this not only allows the contactDetails to be looked up (via the referenced ‘other’ applicant), but from this we can also infer that this applicant selected “Same address”"".",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,NBJ-1059,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given*: An applicant
*Then*: sameAddressApplicantId can be set on that applicant
*and*: sameAddressApplicantId stores an applicant id

*Given*: An applicant
*When*: attempting to set the sameAddressApplicantId
*Then*: if the applicant does not exist on this application an error is returned

*Given*: An applicant
*When*: attempting to set the sameAddressApplicantId
*Then*: if the reference is circular (to the same applicant) an error is returned

*Given*: An application
*When*: an applicant is deleted
*Then*:  sameAddressApplicantId is set to null for the remaining applicant

*Given*: A request for the application DTO
*Then*: sameAddressApplicantId is returned as part of the applicant",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwie4:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,15/Jan/22 4:00 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Update review screen to show captured start date,NBJ-1130,43744,,Story,Code Review,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Mike,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,15/Jan/22 3:56 PM,02/Feb/22 2:41 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As an* Adviser
*I want* to be able to see the start date I have chosen on the review screen
*So that* I can make sure its correct

!Screenshot 2022-01-15 at 15.57.48.png|width=1244,height=219!",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15/Jan/22 3:58 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2022-01-15 at 15.57.48.png;https://gghltd.atlassian.net/secure/attachment/25114/Screenshot+2022-01-15+at+15.57.48.png,,,,,,,,,,,,"*Given*: An application
*When*: application.policyStartDate is set
*and*: applicationPolicyStartDateOption is set to future
*Then*: This is shown on the review screen as the “Policy start date”

*Given*: An application
*When*: application.policyStartDate is not set
*and*: applicationPolicyStartDateOption is set to now
*Then*:  Todays date is shown on the review screen as the “Policy start date”

*Given*: An application
*When*: application.policyStartDate is not set
*and*: applicationPolicyStartDateOption is set to dontKnow
*Then*:  No date is shown on the review screen

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-766,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01gie:v,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,Guardian Sprint 9,,,,,15/Jan/22 3:56 PM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress
Capture advised sale,NBJ-1129,43743,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,15/Jan/22 3:55 PM,24/Jan/22 4:45 PM,02/Feb/22 6:31 PM,24/Jan/22 4:45 PM,,Foundation Release,,,,,"*As an* Adviser
*I want* to be able to answer the advice question
*So that* I can indicate for compliance reasons whether advice was given to the customer

!Screenshot 2022-01-16 at 10.40.15.png|width=1271,height=234!",,Chris.Hibbert,Justin.Smith,,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,16/Jan/22 10:40 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2022-01-16 at 10.40.15.png;https://gghltd.atlassian.net/secure/attachment/25116/Screenshot+2022-01-16+at+10.40.15.png,24/Jan/22 4:45 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220124-164220.png;https://gghltd.atlassian.net/secure/attachment/25328/image-20220124-164220.png,,,,,,,,,,,"*Given*: An application
*When*: Viewing the setup screen
*Then*: The advice question can be completed
*and*: the answer is persisted against the application (NBJ-758)

*Given*: An application with the advice question completed
*When*: Viewing the setup screen
*Then*: the advice question is prepopulated",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-123,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01bsb:ov,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,15/Jan/22 3:55 PM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-24 16:45:20.536,"24/Jan/22 4:45 PM;618bdfc5fba4d0006ad4853e;This is all good and has been automated and passing

{noformat}Feature: Setup tests

  Setup tests
  
  @SUTest1
  Scenario: Check the sales advice setting on the setup tab
    Given I have an applicant ""MaleOverWeightNonSmoker""
    And I update enquiry for ""FQStandard_uw"" who is applicant ""one""
    And I have ""LPWithTerm"" cover for applicant ""one""
    And I have navigated to the ""quote"" tab 
    And I triggered a quote 
    And I added contact details ""ContactDetailsOne""
    And I have navigated to the ""application"" tab
    When I click on the application continue button
    And I navigate to the test enquiry line tab
    And I click on the enquiry tab continue button
    And I click on the confirm get decision button
    And I click on the setup policy button
    Then the sales advice is ""null"" on the application
    When I select ""Yes"" for sales advice
    Then the sales advice is ""true"" on the application
    And I select ""No"" for sales advice
    Then the sales advice is ""false"" on the application{noformat}



!image-20220124-164220.png|width=1919,height=969!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Add/Edit child modal,NBJ-1128,43737,,Story,Code Review,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Mike,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,15/Jan/22 3:26 PM,02/Feb/22 1:38 PM,02/Feb/22 6:31 PM,,,Foundation Release,,Sprint_9,,,"*As a* user
*So that* I can provide all the details about my children
*I want* fields to enter their name and date of birth",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,NBJ-1244,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15/Jan/22 3:26 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2022-01-15 at 15.22.19.png;https://gghltd.atlassian.net/secure/attachment/25112/Screenshot+2022-01-15+at+15.22.19.png,15/Jan/22 3:32 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2022-01-15 at 15.29.54.png;https://gghltd.atlassian.net/secure/attachment/25113/Screenshot+2022-01-15+at+15.29.54.png,,,,,,,,,,,"*Given*: A Children’s details section
*When*: the user clicks to “Add a child”
*Then*: A modal is presented that prompts for:

* First name
* Surname
* Date of birth

note: all are mandatory

!Screenshot 2022-01-15 at 15.22.19.png|width=871,height=475!

(ignore title shown above)

*and*: the modal has buttons to save and cancel (as a styled button)
*and*: the modal is called “Child details”

*Given*: A completed date of birth
*Then*: the current age is shown afterwards (same as Client Details screen)

*Given*: a completed child modal window
*When*: the user clicks save
*Then*: the child details are shown on the contact details screen in the Child Details section
*and*: the child is shown with edit and remove buttons

!Screenshot 2022-01-15 at 15.29.54.png|width=1261,height=467!

*Given*: a children’s details
*When*: clicking the edit button
*Then*: the modal is shown again and the children’s details can be edited",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,NBJ-765,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1|hzwie7:zx,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress
Delete child from application,NBJ-1127,43736,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,15/Jan/22 3:25 PM,01/Feb/22 8:08 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,NBJ-1126,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-765,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zjzzzzzz1i,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15/Jan/22 3:25 PM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Remove a child,NBJ-1126,43735,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,15/Jan/22 3:24 PM,15/Jan/22 3:52 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-765,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01cen:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15/Jan/22 3:24 PM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Save entered children's details,NBJ-1125,43731,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,15/Jan/22 3:15 PM,15/Jan/22 3:32 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-765,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01cdr:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15/Jan/22 3:15 PM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Cover unborn children,NBJ-1124,43730,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,15/Jan/22 3:15 PM,02/Feb/22 3:13 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-765,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01cdj:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15/Jan/22 3:15 PM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
SIT - start application ID gen sequence at G100000000,NBJ-1123,43723,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Highest,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,14/Jan/22 4:59 PM,31/Jan/22 9:20 AM,24/Jan/22 6:30 PM,26/Jan/22 12:28 PM,,Foundation Release,,,,,,,mark.thurston@venture1consulting.com,Sam Gamble,,,,,,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,24/Jan/22 6:17 PM;ug:173bb36f-940c-436a-b883-b3fe4f32b5f5;image-20220124-181741.png;https://gghltd.atlassian.net/secure/attachment/25331/image-20220124-181741.png,,,,,,,,,,,,"When a new application is created, it’s ID starts with “G1”.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,"Need to recreate the application ID sequence in SQL Server in SIT.

This is the new SQL script:

{code:sql}IF NOT EXISTS(SELECT * FROM sys.schemas WHERE name = N'nbj')
EXEC('CREATE SCHEMA nbj')
GO
​
IF NOT EXISTS(SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[nbj].[application_id_seq]'))
CREATE SEQUENCE nbj.application_id_seq
    AS [int]
    START WITH 100000000
    INCREMENT BY 1
    MINVALUE 0
    MAXVALUE 2147483647
    CACHE
GO
​
SET ANSI_NULLS ON
GO
​
SET QUOTED_IDENTIFIER ON
GO
​
IF NOT EXISTS(SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[nbj].[uspNextApplicationId]'))
BEGIN
EXEC('
CREATE PROCEDURE nbj.uspNextApplicationId
AS
BEGIN
SET NOCOUNT ON;
SELECT NEXT VALUE FOR nbj.application_id_seq;
END
')
END
GO{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1jzzzi1,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,14/Jan/22 4:59 PM,,0.0,,,,,,,,,,,,,,,,,,"Testing evidence:

!image-20220124-181741.png|width=716,height=517!",,,,,,,,,,,,,,,2022-01-24 17:29:45.369,24/Jan/22 5:29 PM;557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96;Done - testing in Dev.,"24/Jan/22 6:17 PM;557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96;[~accountid:610c00d94e8d8d0069a20d6c] [~accountid:5ed8c4bc4ec4270ba3725b85]  - OK, this is done in the dev playpen and seems to work and it is in the master branch (note: strictly speaking the repo didn’t need changing as the SQL was stored in the secure files area; however, I like to keep a copy in the repo as downloading it from the secure files area is a pain\!). To get it into SIT:

# Delete the SQL db in sit (whilst the pipeline may be idempotent, the SQL SP isn’t)
# Do another deploy in dev + sit (master branch) and it should be good to go.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Sprint 7 - CCIC initialCommission and lifetimePremium not being added to the summed totals on the top level quote response data ,NBJ-1122,43715,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,High,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,14/Jan/22 3:49 PM,20/Jan/22 3:35 PM,02/Feb/22 6:31 PM,20/Jan/22 3:35 PM,,Foundation Release,,,,,,,Antony.Gorman,Nathan Punzalan,,,,,,6149b13472728e006f9441d6,613f22fdff23ba00715469d1,,,,,,,,,,,,,Hidden from EXL,NBJ-1065,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,14/Jan/22 3:49 PM;nathan.punzalan;triggerQuoteExample.txt;https://gghltd.atlassian.net/secure/attachment/25105/triggerQuoteExample.txt,19/Jan/22 11:18 AM;nathan.punzalan;triggerQuoteResponse.txt;https://gghltd.atlassian.net/secure/attachment/25194/triggerQuoteResponse.txt,14/Jan/22 3:49 PM;nathan.punzalan;validenquiry.txt;https://gghltd.atlassian.net/secure/attachment/25106/validenquiry.txt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: 

The total sums for initialCommission and lifetimePremium shown on a triggerQuote response with a parent and CCIC cover attached only take into account the values of the parent cover.

Steps to Reproduce via API: 

# Create application & applicant
# Patch applicant info
# Add parent cover (e.g. life cover)
# Add CCIC cover
# Update enquiry with valid enquiry request (example below)

[^validenquiry.txt]

6. Call triggerQuote endpoint 

Expected Results: 

The top level quote response data includes the childCover totals in the summed (taken from NBJ-1065):

* initialCommission
* lifetimePremium
* premium

Actual Result:

All CCIC individual values and summed premium value are shown as expected however at the top level response data, the summed values for initialCommission and lifetimePremium are not including the relevant CCIC values. See example below:

[^triggerQuoteExample.txt]

Top level summed values should show as:

""initialCommission"": 603.97,
""premium"": 26.49,
""lifetimePremium"": 4,768.2,

However actual values show as:

""initialCommission"": 563.16,
""premium"": 26.49,
""lifetimePremium"": 4446.0,

Example G-application No used for testing: {{G000120864}}

To see actual response call hit endpoint: {{https://ggh-uwt-api.gghltest.co.uk/api/v1/actions/TriggerQuote/G000120864}}",,{},,,,,,NBJ-118,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zi0ii,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,Guardian Sprint 8,,,,,14/Jan/22 3:49 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-20 14:31:54.204,"19/Jan/22 11:18 AM;613f22fdff23ba00715469d1;[~accountid:6149b13472728e006f9441d6] , I have retested using same steps as above and summed values now show as expected however the lifeTimePremium for the applicant within the data.quoteApplicants.quoteCovers.lifeTimePremium now adds the Rider lifetimePremium (ie data.quoteApplicants.quoteCovers.lifeTimePremium = Applicant Lifetime Premium + Rider Lifetime Premium) which before this object only included the Applicant Lifetime Premium and not the rider which is in line with how other attributes within data.quoteApplicants.quoteCovers behave (e.g. data.quoteApplicants.quoteCovers.premium only includes applicant premium and rider premium.



The data.lifeTimePremium object is the attribute that includes both applicant Lifetime Premium and Rider Lifetime Premium.

See example triggerQuote response below:

[^triggerQuoteResponse.txt]

Expected values:

data.lifeTimePremium = Applicant Lifetime Premium + Rider Lifetime Premium = 4768.20

data.quoteApplicants.quoteCovers.lifeTimePremium = Applicant Lifetime Premium = 4446.0

data.quoteApplicants.quoteCovers.riders.lifeTimePremium = Rider Lifetime Premium = 322.20

Actual values:

data.lifeTimePremium = 4768.20

data.quoteApplicants.quoteCovers.lifeTimePremium = 4768.20

data.quoteApplicants.quoteCovers.riders.lifeTimePremium = 322.20","20/Jan/22 2:31 PM;6149b13472728e006f9441d6;Eventually tracked this down to automapper doing some dumb things by default (it was grabbing data from a calculated method due to a naming convention it looks for, massive PIA to find) should be ok in push for this.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
UWME Whitelisting,NBJ-1121,43702,,Task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,14/Jan/22 12:56 PM,18/Jan/22 11:19 AM,02/Feb/22 6:31 PM,,,,,,,,"UWME requires IP whitelisting for environments to be able to access.

In the event of new or redeployed environments we will need to contact support for whitelisting.

We should investigate options for providing a fixed ip for environments or a suitable workaround.",,Gareth Hailes,,,,,,,5ed8c4bc4ec4270ba3725b85,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1jzzzi4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,14/Jan/22 12:56 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Sprint 7 | Contact details - Add second client and address details are lost for first client,NBJ-1120,43674,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Low,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,13/Jan/22 9:43 PM,21/Jan/22 9:08 PM,02/Feb/22 6:31 PM,21/Jan/22 9:08 PM,,Foundation Release,,,,,,,Justin.Smith,,,,,,,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Jan/22 9:44 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;Untitled_ Jan 13, 2022 9_28 PM.mp4;https://gghltd.atlassian.net/secure/attachment/25053/Untitled_+Jan+13%2C+2022+9_28+PM.mp4",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: Add second client and address details are lost for first client

Business Impact: Low

Steps to Reproduce: 

# Enter client details for applicant one
# Add a cover and get a quote
# Continue to contact details
# Enter address details
# Go back to client details and add applicant two
# Add a cover and get a quote
# Continue to contact details and applicant one’s address is lost

Expected Results: Applicant one’s address disappears

Actual Result: Expecting applicant one address details to be on contact details

Version: N/A

Attaching video for evidence",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01bsb:i,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,13/Jan/22 9:43 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,21/Jan/22 9:08 PM;618bdfc5fba4d0006ad4853e;This looks good now.  Closing.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Reasons and reasonText lists do not match in some cases,NBJ-1119,43662,,Bug,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Low,,Jim Houghton,60cc71a22bd21400692fd2af,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,13/Jan/22 3:52 PM,02/Feb/22 10:17 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,James Bartlett,Jim Houghton,,,,,,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Jan/22 3:49 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;Ci_STANDARD_Tpd_DECLINE.json;https://gghltd.atlassian.net/secure/attachment/25047/Ci_STANDARD_Tpd_DECLINE.json,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* If (for example) a CI cover is non-standard because the TPD is declined, but otherwise standard, the reasons list from both the product and quote decisions just contains “Non_Standard_Decisions“.

It has no reference to the enquiry lines that actually caused the issue. However, the reasonText list is related to the ‘real’ enquiry lines, so the two are out of sync.

*Business Impact:* unknown at present

*Steps to Reproduce:*

* Create an application with a single applicant and one CI cover
* Update the underwriting so that the CI is standard and the TPD is declined (see attached payload)
* Get either a product or quote decision



*Expected Results:* the reasons list contains “Non_Standard_Decisions” and the reasons from the TPD exclusions

*Actual Result:* the reasons list just contains “Non_Standard_Decisions”

*Version:* unknown",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,QA / UWT,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwib9:zzy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Jan/22 3:52 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Quote decision: misleading reasonText messages are displayed for CI with exclusions,NBJ-1118,43660,,Bug,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Jim Houghton,60cc71a22bd21400692fd2af,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,13/Jan/22 2:59 PM,25/Jan/22 2:43 PM,02/Feb/22 6:31 PM,,,Parked Stories & Bugs,,,,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Jan/22 3:39 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;Ci_EXCLUSION_hasDiscount.json;https://gghltd.atlassian.net/secure/attachment/25045/Ci_EXCLUSION_hasDiscount.json,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* If a quote decision is requested for an applicant with CI cover that has an exclusion with an associated discount, there are two contradictory messages returned in the reasonText:


{quote}""reasonText"": \[

                    ""We've increased the premium on Critical Illness Protection because of your ."",

                    ""Because of the limitation to your cover, we’ve reduced the premium.""

                ],

{quote}



*Business Impact:* Confusing to advisors; likely to result in calls to Guardian.

*Steps to Reproduce:*

* Create an application with a single applicant
* Add a CI cover
* Update the underwriting as per the attached payload
* request a quote decision for the applicant



*Expected Results:* The reasonText only displays the message

""Because of the limitation to your cover, we’ve reduced the premium.""

Any message about increasing the premium should only be triggered by loadings. If both loadings and exclusions are present some other text should be displayed.



*Actual Result:* The reasonText displays the messages

""Because of the limitation to your cover, we’ve reduced the premium.""

and

""We've increased the premium on Critical Illness Protection because of your ."",



*Version:* unknown",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,QA / UWT,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01dgz:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Jan/22 2:59 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Sprint 7 | I can select a value but is not enter in the text box on the additional/your travel tabs ,NBJ-1117,43659,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,13/Jan/22 2:31 PM,26/Jan/22 7:59 AM,02/Feb/22 6:31 PM,21/Jan/22 9:01 PM,,Foundation Release,,,,,,,Chris.Hibbert,Justin.Smith,Mike,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,21/Jan/22 12:44 PM;ug:40c0a037-60a5-47d1-812c-a831d94ce168;Screenshot 2022-01-21 at 12.38.59.png;https://gghltd.atlassian.net/secure/attachment/25281/Screenshot+2022-01-21+at+12.38.59.png,21/Jan/22 12:44 PM;ug:40c0a037-60a5-47d1-812c-a831d94ce168;Screenshot 2022-01-21 at 12.39.05.png;https://gghltd.atlassian.net/secure/attachment/25280/Screenshot+2022-01-21+at+12.39.05.png,21/Jan/22 12:44 PM;ug:40c0a037-60a5-47d1-812c-a831d94ce168;Screenshot 2022-01-21 at 12.39.19.png;https://gghltd.atlassian.net/secure/attachment/25282/Screenshot+2022-01-21+at+12.39.19.png,13/Jan/22 2:31 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220113-142857.png;https://gghltd.atlassian.net/secure/attachment/25042/image-20220113-142857.png,13/Jan/22 2:31 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220113-142941.png;https://gghltd.atlassian.net/secure/attachment/25043/image-20220113-142941.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: I can select a value but is not enter in the text box on the additional/your travel tabs.  *As Mike has advised in his comment below this is an issue with API not populating the answer.*

Business Impact: Medium

Steps to Reproduce: 

# Enter client details. select a cover, get a quote, enter contact details
# Fill in the application tabs and answer all questions
# Answer a question to cause your travel tab.  Lifestyle tab select ‘Yes’ to ‘Have you lived, worked or travelled outside the UK or European Union in the last 3 years, or do you have any plans to do so in the next year?’
# Answer a question on General Health to cause additional tab.  On the question - *Have any of these applied to you in the last 3 years? You don't need to include things you've already told us about* select *I've taken or been prescribed treatment for 4 weeks or more* and enter hjhgfj to *What condition(s) have required treatment for 4 weeks or more?*
# On the travel tab or additional tab try and select a value.  The value is not taken and put in the text box.
# !image-20220113-142857.png|width=1011,height=729!
!image-20220113-142941.png|width=1037,height=583!



Expected Results: Should be able to select a value and it is taken and entered in the text box

Actual Result: You select the value but nothing happens

Version: N/A",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01cab:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,Guardian Sprint 8,,,,,13/Jan/22 2:31 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-21 12:44:16.454,"21/Jan/22 12:44 PM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;[~accountid:618bdfc5fba4d0006ad4853e] [~accountid:60cc71a1d5dde800713a2124]  this is a bug in the API not populating this specific question answer with the answer sent in the payload. It works for the other typeahead multi choice questions I’ve tried. This one doesn’t seem to put the answer in the question object.
*1. F/E Sends answer:*

!Screenshot 2022-01-21 at 12.39.05.png|width=1417,height=1137!

*2. API returns answer in AllAnswers:*

!Screenshot 2022-01-21 at 12.38.59.png|width=1417,height=1137!

*3. API doesn’t populate answer in the question*

!Screenshot 2022-01-21 at 12.39.19.png|width=1417,height=1137!",21/Jan/22 5:14 PM;618bdfc5fba4d0006ad4853e;Thanks [~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] .  I will convert to this an API bug then.,21/Jan/22 5:29 PM;60cc71a1d5dde800713a2124;[~accountid:618bdfc5fba4d0006ad4853e]  - this should be fixed now.,21/Jan/22 9:01 PM;618bdfc5fba4d0006ad4853e;Looks good.  There is some oddness with when the items are added they seemed to get merged together and then separated.  I can raise minor issue on this.  Closing.,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Exclusion discount cover premium,NBJ-1116,43658,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,13/Jan/22 2:02 PM,29/Jan/22 11:09 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As an* api user
*So that* I can activate an application
*I want* the premium set on the lissia go live activation message to include any exclusion discounts that were previously applied

{panel:bgColor=#deebff}
This story is about setting the correct premium on the Lissia Go Live message for covers with exclusion discounts
{panel}",,Jim Houghton,Jon Reynolds,mike hill,,,,,60cc71a22bd21400692fd2af,616ee20e2097220071a975d2,5d94816eefc9290c2e625a11,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* any activation request
*And* an exclusion discount present on a cover
*When* formulating Lissia go live request
*Then* set ImpPrlBenList.ImpItmPcpPrlbenPolicyPremiums.ModalPremium for the current quoteCover to the  quoteCover.premium - quoteCover.exclusionCover.premium

{panel:bgColor=#deebff}
The quoteCover.exclusionCover.premium will be a negative amount, the result being an increase in the quoteCover.premium
{panel}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-803,,,,,,,,,,,,,,,,None,,"Activation request

{noformat}{
    ...
    ""quote"": {
        ...,
        ""quoteApplicants"": [
            {
                ...,
                ""quoteCovers"": [
                    {
                        ""childCovers"": [
                            ...
                        ],
                       ""exclusionCovers"": [
                          {
                              ...
                              ""premium"": -5.55
                          }
                        ],
                        ...
                        ""premium"": 8.85
                    }
                ],
                ""quoteUnderwritingOutcomes"": [
                    {
                        ""productType"": ""aci"",
                        ...
                        ""quoteExclusions"": [
                           {
                             ""exclusionValue"": 1052,
                             ...
                          },
                          {
                            ""exclusionValue"": 1062,
                            ...
                          }
                        ]
                    },
                    ...
                ],
            }
        ],
    },
}{noformat}

Lissia Go live Request

{noformat}<wss:Wssglivecall>
			<WssgliveImport >
				<ImpGrpPrq/>
				<ImpGrpPcr>
					<row>
						... <!-- all fields empty -->
					</row>
				</ImpGrpPcr>
				<ImpPolPolicies>
					<DateOfApplication/>
					<DateOfCommencement/>
					<Currency/>
				</ImpPolPolicies>
				<ImpGrpPas>
					...
				</ImpGrpPas>
				<ImpCliCpr>
					...
				</ImpCliCpr>
				<ImpGrpPlc>
					...
				</ImpGrpPlc>
				<ImpPrlpqmWebService>
					<Prlrqm/>
				</ImpPrlpqmWebService>
				<ImpSrvdetailsWebService>
					<Pcdate/>
					<Srvtimings/>
					<ServiceUserid/>
					<RecordImport/>
				</ImpSrvdetailsWebService>
				<ImpPrlBenList>
					...
					<row> 
						...
						<ImpItmPcpPrlbenPolicyPremiums> 
							...
							<ModalPremium>25.32</ModalPremium> 
						</ImpItmPcpPrlbenPolicyPremiums>
						...
					</row>
				</ImpPrlBenList>
				<ImpGrpPfd>
					<row>
						... <!-- all fields empty -->
					</row>
				</ImpGrpPfd>
			</WssgliveImport>
		</wss:Wssglivecall>{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwibi:1i,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Jan/22 2:02 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-17 15:48:23.117,"17/Jan/22 3:48 PM;5d94816eefc9290c2e625a11;Hi [~accountid:60cc71a22bd21400692fd2af] - I do not think we need this story for the following reasons:

* We now model (quote):
** quoteCover 
** coverExclusion (child element of quoteCover)
* So as long as we add a ImpPrlBenList row for quoteCover and coverExclusion (this is what we do now) then everything will add up correctly)
* An example is: quote price for a cover is returned from Lissia as say 9.90. When we exit URE, we get an exclusion code of say 1021 which we pass through to Lissia. The decision quote response holds 9.90 for the original cover and adds an exclusion slice for the cover of -1.00 (which we persist as a coverExclusion)
* When we go live we send:
** ImpPrlBenList.row.ImpItmPcpPrlbenPolicyPremiums.ModalPremium = 9.90
** ImpPrlBenList.row.ImpItmPcpPrlbenPolicyPremiums.ModalPremium = -1.00
** Which adds up to the correct 8.90","18/Jan/22 9:35 AM;60cc71a22bd21400692fd2af;[~accountid:5d94816eefc9290c2e625a11] - we will need to catch up on this, because this is not how the current NBJ2 works","18/Jan/22 4:45 PM;5d94816eefc9290c2e625a11;[~accountid:60cc71a22bd21400692fd2af] - caught up with Jim at 16:00 on {{2022-01-18}} and it has been agreed that:

* quote model will contain the data as returned from LISSIA, example:
** quoteCover.premium = 8.90
** quoteCover.coverExclusion.premium = -1.00
* application model will only hold displayable covers with premium adjusted
** cover.premium -7.90   

Note: application model does not hold coverExclusions",26/Jan/22 2:16 PM;616ee20e2097220071a975d2;[~accountid:60cc71a22bd21400692fd2af] - further to independent discussions with [~accountid:5d94816eefc9290c2e625a11]  and [~accountid:616ee20e2097220071a975d2] it has become clear that there is not a need for additional changes to the data model. A QuoteCover.GrossPremium is not required as premium and quotecover exclusions premiums are suffice for quote calculations,"27/Jan/22 3:31 PM;616ee20e2097220071a975d2;As was discussed in meeting today with [~accountid:5d94816eefc9290c2e625a11] , [~accountid:5e183e85c578120daca5bc7b] and [~accountid:60cc71a22bd21400692fd2af]  the QuoteCover.GrossPremium will be added, populated from quote calculations and be persisted for MI reporting if necessary. Details also updated in [https://gghltd.atlassian.net/wiki/spaces/NP/pages/edit-v2/3142746113|https://gghltd.atlassian.net/wiki/spaces/NP/pages/edit-v2/3142746113|smart-link] ",,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Sprint 7 | Smoker status not selected on Your basic details tab,NBJ-1115,43657,,Bug,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,13/Jan/22 1:48 PM,14/Jan/22 10:13 AM,02/Feb/22 6:31 PM,,,,,,,,,,Chris.Hibbert,Justin.Smith,,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Jan/22 1:48 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220113-134717.png;https://gghltd.atlassian.net/secure/attachment/25038/image-20220113-134717.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: Smoker status not selected but we have a green tick on Your basic details tab

Business Impact: Medium

Steps to Reproduce: 

# Enter client details including the mandatory smoker status
# Add a cover, get quote and provide contact details
# Navigate through to ‘Your basic details’ 
# Scroll down and you will see the smoker status is not selected but has a green tick 
!image-20220113-134717.png|width=908,height=146!

Expected Results: Smoker or Non-smoker is selected as per client details

Actual Result: Smoker or Non-smoker is not selected

Version: N/A",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01bxz:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Jan/22 1:48 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-14 10:12:58.481,14/Jan/22 10:12 AM;60cc71a1d5dde800713a2124;Not actually causing an issue and this screen will be hidden (+ this question is getting removed),,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
 offerCreationDate and offerExpiryDate get set if the status is changed to ‘underwriting’,NBJ-1114,43637,,Bug,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Low,,Chris.Hibbert,60cc71a1d5dde800713a2124,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,13/Jan/22 11:31 AM,20/Jan/22 5:00 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* offerCreationDate and offerExpiryDate get set if the status is changed to ‘underwriting’ - this was only expected to happen for the ‘decision’ status.

*Business Impact:* unknown

*Steps to Reproduce:* 

* prepare an application with a single applicant and single life cover
* make the underwriting return a decision of REFER
* Close the underwriting session via action/closeUnderwritingSession



*Expected Results:* offerCreationDate and offerExpiryDate are null on the application

*Actual Result:* offerCreationDate and offerExpiryDate are set to dates as per those defined for the ‘decision’ state change.

*Version:* unknown",,{},,,,,,NBJ-122,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01btj:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Jan/22 11:31 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,20/Jan/22 5:00 PM;6139c49114e8340071fcda09;fixed as part of ongoing work on NBJ-1057,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
IDs of quote messages stored in Cosmos do not match those stored against the application,NBJ-1113,43635,,Bug,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Low,,Chris.Hibbert,60cc71a1d5dde800713a2124,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,13/Jan/22 11:27 AM,31/Jan/22 4:32 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,James Bartlett,Jon Reynolds,,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,616ee20e2097220071a975d2,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* If a quote is requested it is stored on the application with an ID ([data.quote.id|http://data.quote.id]). The corresponding messages in Cosmos reflect the quote as expected but the ID ([quote.id|http://quote.id]) is different to the ID on the application.



For G000113795, I get an ID in the quote response (whch is also stored on the application):

{noformat}{
    ""data"": {
        ""id"": ""e1c35d26-01ea-4f01-8b61-092a6fa25936"",
        ""quoteCreatedDate"": ""2022-01-12T16:53:41.3860296+00:00"",{noformat}



In Cosmos the corresponding requests/responses that share the quoteCreatedDate value have a different ID:

{noformat}""quote"": {
        ""quoteCreatedDate"": ""2022-01-12T16:53:41.3860296+00:00"",
        ""id"": ""c7252809-6272-4424-85c1-b5f150bd2ca7"",{noformat}



*Business Impact:* Minimal, just makes testing a bt harder.

*Steps to Reproduce:* Request a quote/quickquote and compare the response to the messages stored in Cosmos.

*Expected Results:* Quote IDs match

*Actual Result:* Quote IDs do not match

*Version:* unknown",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,QA / UWT,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01bt3:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Jan/22 11:27 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-29 11:34:33.371,29/Jan/22 11:34 AM;60cc71a1d5dde800713a2124;[~accountid:616ee20e2097220071a975d2]  - not sure if this is going to cause any issues.  Thoughts?,31/Jan/22 4:32 PM;616ee20e2097220071a975d2;The fact service will be saving the lissia responses in due course and then the quote document items in Cosmos will be removed permanently. There is no merit in undertaking this investigation if this is the case.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
CRUD on cover should remove quote values and decisions in the UI,NBJ-1112,43631,,Story,Acceptance Testing,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,13/Jan/22 11:19 AM,02/Feb/22 2:09 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As an* adviser
*So that* I know my quote is now invalid
*I want* any premium or commission amounts shown on screen  to be updated",,Justin.Smith,,,,,,,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Jan/22 11:19 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220113-111822.png;https://gghltd.atlassian.net/secure/attachment/25015/image-20220113-111822.png,,,,,,,,,,,,"*Given*: An application with a valid quote
*When*: Editing any value on the quote screen (i.e. before hitting Get Prices)
*Then*: All quote amounts are removed
*and*: all decisions are removed
*and*: the commission total is shown as £0.00
*and*: the premium total is shown as £0.00",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: get a decision for a cover on the quote tab and then add another cover and the decision text for the first appears against the second

Business Impact: medium

Steps to Reproduce: 

# Add a client 
# Add life cover and get standard terms
# Add a second cover and you will see standard terms against this before requesting a decision

Expected Results: Second cover should have no decision text

Actual Result: Second cover has decision text without requesting a price on it

Version: N/A

!image-20220113-111822.png|width=1112,height=987!",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwie7:zr,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,13/Jan/22 11:19 AM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress
Sprint 7 | Quote tab - Zero shown against the client name on a decline decision,NBJ-1111,43629,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Low,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,13/Jan/22 11:04 AM,21/Jan/22 11:38 AM,02/Feb/22 6:31 PM,21/Jan/22 11:38 AM,,Foundation Release,,,,,,,Chris.Hibbert,Justin.Smith,Mike,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Jan/22 11:04 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220113-110229.png;https://gghltd.atlassian.net/secure/attachment/25014/image-20220113-110229.png,14/Jan/22 10:35 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220114-103545.png;https://gghltd.atlassian.net/secure/attachment/25069/image-20220114-103545.png,20/Jan/22 4:55 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220120-165335.png;https://gghltd.atlassian.net/secure/attachment/25245/image-20220120-165335.png,20/Jan/22 4:55 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220120-165502.png;https://gghltd.atlassian.net/secure/attachment/25244/image-20220120-165502.png,21/Jan/22 11:38 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220121-113720.png;https://gghltd.atlassian.net/secure/attachment/25277/image-20220121-113720.png,21/Jan/22 11:38 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220121-113756.png;https://gghltd.atlassian.net/secure/attachment/25276/image-20220121-113756.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,adfas,,,,,,,,,,,,,,,"Description of Issue: Zero is shown against the clients name when a quote is declined

Business Impact: Low

Steps to Reproduce: 

# Add a client that is overweight (200kg), add a life cover and click on get quote
# The cover is declined and a zero value is shown against the clients name

!image-20220113-110229.png|width=1222,height=1000!

Expected Results: I wasn’t expecting a value here

Actual Result: zero is shown

Version: N/A",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01bsb:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,13/Jan/22 11:04 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-19 08:07:54.322,"14/Jan/22 10:35 AM;618bdfc5fba4d0006ad4853e;Also on the decision tab

!image-20220114-103545.png|width=762,height=504!","19/Jan/22 8:07 AM;60cc71a1d5dde800713a2124;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5]  - retested and this isnt fixed, still an issue on both screens.",19/Jan/22 8:35 AM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;[~accountid:60cc71a1d5dde800713a2124] this hasn’t been merged into develop yet. I’ve added it as part of [https://gghltd.atlassian.net/browse/NBJ-1053|https://gghltd.atlassian.net/browse/NBJ-1053|smart-link] which I’ll demo to you this morning as I’m not sure I’m happy yet with the steps to remove the warning.,"20/Jan/22 4:55 PM;618bdfc5fba4d0006ad4853e;The zero isn’t there on the quote tab.  I guess the waring will be picked up in [https://gghltd.atlassian.net/browse/NBJ-1053|https://gghltd.atlassian.net/browse/NBJ-1053|smart-link]

!image-20220120-165335.png|width=1349,height=811!

Unfortunately , it is still there on decision tab

!image-20220120-165502.png|width=1061,height=933!","21/Jan/22 11:38 AM;618bdfc5fba4d0006ad4853e;This looks good now.  Decision tab

!image-20220121-113720.png|width=1897,height=912!

Quote tab

!image-20220121-113756.png|width=1703,height=927!",,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Ensure search results are filtered based on permissions and ownership,NBJ-1110,43627,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,13/Jan/22 10:48 AM,01/Feb/22 8:02 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-113,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01brb:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Jan/22 10:48 AM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Retrieve Marketing alerts and show on dashboard screen,NBJ-1109,43625,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Jon Reynolds,616ee20e2097220071a975d2,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,13/Jan/22 10:46 AM,27/Jan/22 3:23 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As an NBJ* user
*So that* I know what Guardian are up to
*I want* to see any current marketing alerts",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,25/Jan/22 9:30 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2022-01-25 at 21.30.14.png;https://gghltd.atlassian.net/secure/attachment/25362/Screenshot+2022-01-25+at+21.30.14.png,,,,,,,,,,,,"*Given*: NBJ2
*When*: Viewing the dashboard or client details screen
*and*: a marketing alert exists
*Then*: This alert is shown to the user


!Screenshot 2022-01-25 at 21.30.14.png|width=1472,height=537!

* header
* text
* discover more (link)
* posted date",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-113,,,,,,,,,Impediment,,,,,,,None,,As I understand it Mike Pink knows where to get these from\!,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01frv:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Jan/22 10:46 AM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,26/Jan/22 5:03 PM;60cc71a1d5dde800713a2124;[~accountid:610c00d94e8d8d0069a20d6c] - we need to find out where this data is and how it should work,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Filter dashboard service results by status,NBJ-1108,43622,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,13/Jan/22 10:18 AM,02/Feb/22 11:53 AM,02/Feb/22 6:31 PM,,,Foundation Release,,FlexibleSearch,Sprint_8,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,NBJ-113,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1|i01jzf:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Update initial dashboard screen to consume dashboard bff results,NBJ-1107,43621,,Story,Acceptance Testing,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Nathan Punzalan,613f22fdff23ba00715469d1,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,13/Jan/22 10:18 AM,31/Jan/22 12:29 PM,02/Feb/22 6:31 PM,,,Foundation Release,,FlexibleSearch,Sprint_8,,"*As an* adviser 
*So that* I can find applications or policies easily
*I want* the dashboard screen to show the search results",,Chris.Hibbert,Nathan Punzalan,,,,,,60cc71a1d5dde800713a2124,613f22fdff23ba00715469d1,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given*: A user
*When*: Viewing the dashboard screen
*Then*: The “In progress” tab shows the search results returned from the bff

||*Column*||*Data*||
|Client name|applicant 1 name
applicant 2 name (if applicable)|
|Quote created|application.createdDate|
|Expiry date|Expiry Date: the latest date (ignoring nulls) of
* quote.expiryDate
* application.expiryDate
* application.offerExpiryDate|
|Guardian ref|application id|
|Your ref|application.thirdPartyRef|
|Stage|application.status|



*and*: the results are ordered by [http://application.id|http://application.id|smart-link]  desc

*Given*: A set of application results
*When*: the status is underwriting
*Then*: No “Expiry Date” is shown

*Given:* A user viewing the dashboard screen
*Then*: only 10 rows are shown per page
*and:* the user can scroll through pages",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,NBJ-113,,,,,,,,,Impediment,,,,,,,,,"No Pagination data in the bff response.

TestIds",,,,,,,,,,,,,,,,,,,,,,,,,,,,1|i01bsb:o,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,Guardian Sprint 9,,,,,,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-27 11:07:44.68,"27/Jan/22 11:07 AM;613f22fdff23ba00715469d1;[~accountid:60cc71a1d5dde800713a2124]  I have tested and raised bugs where appropriate however I have also noticed that the API used to get the latest applications only gets the latest 20 In Progress applications which is written in the implementation notes for NBJ-1106. 

Is this correct? Or will this API be changed later on to get all In Progress applications (ie will return more than 20 applications in the future)","27/Jan/22 11:10 AM;60cc71a1d5dde800713a2124;[~accountid:613f22fdff23ba00715469d1]  - This is restricted to the first 20 apps.  This will change in future, but the initial implementation is limited.  There is no pagination data returned either, so paging will not work in the UI.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress
Return all existing NBJ2 applications from dashboard service,NBJ-1106,43620,,Technical Story,Code Delivered,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Jason Hughes,613f60991370f00069033c68,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,13/Jan/22 10:18 AM,31/Jan/22 12:29 PM,02/Feb/22 6:31 PM,,,Foundation Release,,FlexibleSearch,Sprint_8,,"*As a* BFF consumer
*So that* I can start to consume the service
*I want* a full list of existing applications to be returned",,Chris.Hibbert,James Bartlett,,,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,,,,,,,,,,,,,Hidden from EXL,NBJ-1107,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given*: A request to the dashboard service in the BFF
*Then*: The following data is returned about all applications

* applicant 1 name
* applicant 2 name (if applicable)
* application.createdDate
* Expiry Date: the latest date (ignoring nulls) of
** quote.expiryDate
** application.expiryDate
** application.offerExpiryDate
* application.id
* application.thirdPartyRef
* application.status

*and*: the results are ordered by application.id desc

*Given*: A set of application results
*When*: the applications.status is not “Underwriting”
*Then*: any applications where the “Expiry Date” above is earlier than today are filtered out of the results (i.e. filter out things where the expiry date has now passed)

*Given*: A set of application results
*When*: the applications.status is “Went on Risk”
*Then*: applications are filtered out of the results",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,NBJ-113,,,,,,,,,,,,,,,,,,"Sam said to put this in the Application Service, limit the number of records being returned and not implement things like paging yet.

Once we have more details on how we want to do the searching in general this will be changed and we will add new endpoints for the BFF which will have more specific objects.",,,,,,,,,,,,,,,,,,,,,,,,,,,,1|hzwih9:zi0q,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,Guardian Sprint 9,,,,,,,5.0,,,,,,,,,,,,,,,,,,If you go to this new endpoint *​/api​/v1​/application​/search​/latest* you will get the 20 latest “progessible” applications.,,,,,,,,,,,,,,,2022-01-21 09:03:33.382,21/Jan/22 9:03 AM;6139c49114e8340071fcda09;Dont think it’s possible to get apps into the ‘Went on Risk’ state yet.,"25/Jan/22 2:15 PM;6139c49114e8340071fcda09;(flagoff) Flag removed

applications can be put on risk now",27/Jan/22 11:15 AM;6139c49114e8340071fcda09;[~accountid:613f60991370f00069033c68] more work required on expiry date as discussed,"27/Jan/22 2:11 PM;60cc71a1d5dde800713a2124;[~accountid:613f60991370f00069033c68]  - as discussed, doesnt look like apps come back when in the apply state.",,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress
Spike searching app data in cosmos,NBJ-1105,43619,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Jason Hughes,613f60991370f00069033c68,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,13/Jan/22 10:18 AM,27/Jan/22 11:16 AM,02/Feb/22 6:31 PM,20/Jan/22 12:57 PM,,Foundation Release,,FlexibleSearch,Sprint_8,,"*As a* developer
*So that* I can better understand the search options
*I want* to spike how to search against a cosmos db",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,NBJ-1303,,,,,,,,,,,,,,,,,,,,,,,"* Azure tools for searching cosmos data?
* Does the lightweight solution work?
* We really dont want to use cognitive search",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,NBJ-113,,,,,,,,,,,,,,,,,,3-4 hours to find a way that isnt monstrously expensive,,,,,,,,,,,,,,,,,,,,,,,,,,,,1|hzwih9:zi0o,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Update commission dialog to use values from StartApplication,NBJ-1102,43616,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,13/Jan/22 10:15 AM,25/Jan/22 9:54 AM,02/Feb/22 6:31 PM,25/Jan/22 9:54 AM,,Foundation Release,,,,,"*As an* adviser
*So that* I know the current commission values in use
*I want* the UI to pre-populate the fields",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given*: An application
*When*: First viewing the commission details dialog
*Then*: The fields are pre-populated using the values from startApplication",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01bsb:pv,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,13/Jan/22 10:15 AM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
StartApplication to return commission values,NBJ-1101,43615,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,13/Jan/22 10:14 AM,24/Jan/22 3:07 PM,02/Feb/22 6:31 PM,24/Jan/22 3:07 PM,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,NBJ-1102,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given:* an HTTP request to POST {{startApplication}}
*Then*: {{initialCommissionSacrificePercentage}} is set to 0
*and*: {{initialIndemnityPercentage}} is set to 100
*and*: both values are returned in the application model from startApplication

{code:json}{
    ""id"": ""<gref>""
    ""initialCommissionSacrificePercentage"": <integer>,
    ""initialIndemnityPercentage"": <integer>    
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih1:lr,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,13/Jan/22 10:14 AM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Add/Update offerCreationDate and offerExpiryDate when app set to decision from Salesforce,NBJ-1100,43585,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,12/Jan/22 5:13 PM,02/Feb/22 11:15 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As an* API User
*I want* to know the date the latest offer was made and when it expires
*So that* I can present the right information to users

Each time an application reaches the decision state, the offerCreateDate is updated.  The offerExpiryDate updates on specific scenarios…

Decision expiry - the Adviser has 30 / 90 days to purchase the covers once a proceedable offer has been returned. If an Adviser chooses to add an additional disclosure or cover, the Decision expiry is unchanged. Post decision immediate cover follows this pattern and you only get 14 days from the first decision.

We retain the 90 day expiry at decision if the mortgage related question is answered Yes. Any changes to the mortgage related question post original decision do not change the expiry date.

As now - if an Adviser adds an additional disclosure which requires manual underwriting, the decision expiry is unchanged when manual underwriting completes unless the expiry is less than 7 days / in the past. In this scenario, it is updated to 7 days from the day the manual underwriting decision is made.",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,NBJ-1057,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given*: an application
*When*: the application state is updated to decision following a salesforce decision
*and*: at least 1 cover is standard or non-standard
*and*: the offerExpiryDate has already been set
*Then*: the offerExpiryDate is set to:

||current offerExpiryDate||new offerExpiryDate||
|< today+7days|today+7days|
|>=today+7days|unchanged|",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-122,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwibe:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,21/Dec/21 5:48 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Quote Response - create exclusionCover,NBJ-1099,43583,,Technical Story,In Progress,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Kevin.Amoa,6149b160fac3ce0069d80d37,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,12/Jan/22 4:45 PM,02/Feb/22 6:03 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As an* api user
*So that* my quote can be discounted due to an excluded or removed condition
*I want* the quote service to calculate the discount applied due to an exclusion

{panel:bgColor=#deebff}
This story is about collecting exclusion covers on a Lissia quote response with an exclusion discount
{panel}",,James Bartlett,Jim Houghton,,,,,,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,NBJ-1020,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 5:58 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;G000166308_quote.json;https://gghltd.atlassian.net/secure/attachment/25598/G000166308_quote.json,,,,,,,,,,,,"{panel:bgColor=#deebff}
Building on functionality delivered in NBJ-235
{panel}

*Scenario* setting exclusionCovers on quote service response

*Given* any quote request containing an exclusion on a productType that attracts an exclusion discount
*And* a successful Lissia quote response
*And* two rows will be returned per benefit line attracting an exclusion discount, one containing the benefit premium and one with negative the amounts, the discount
*When* forming the quote service response message
*Then* create an <exclusion cover> as a child of the quote cover attracting the discount on the quote response, populating the values from the <parent quoteCover> OR the <lissia quote response>

{noformat}| exclusion cover | parentQuoteCover |  lissia quote response                                        |
| productType     | productType      |                                                               |
| coverType       | coverType        |                                                               |
| term            | term             |                                                               |
| toAge           | toAge            |                                                               |
| toAgeTermMonths | toAgeTermMonths  |                                                               |
| coverAmount     |                  | ExpGrpCvgs.row.ExpItmPocCvgsPolicyCoverages.InitialSumAssured |
| premium         |                  | ExpGrpSum2app.row.ExpItmPcpSum2appPolicyPremiums.ModalPremium |{noformat}

{panel:bgColor=#deebff}
The exclusion discount rows in the Lissia message will have matching BenLine values to the rows that relate to the parent cover (i.e. the quoteCover.id)
{panel}

{panel:bgColor=#deebff}
The ExpGrpSum2app.row containing the exclusionCover.premium will have a ExpItmPrltypeDescSum2appWorkspace.Text1 set to U/w
{panel}

{panel:bgColor=#deebff}
The correct row to retrieve the coverAmount from on the Lissia quote response can be identified by the ExpGrpCvgs.row.ExpItmCvgQuoteRefWebService.BenLine matching BenLine and the correct ExpGrpCvgs.row.ExpItmPocCvgsPolicyCoverages.ProductLine based on the <productType> and <coverType> in the table below
{panel}

{noformat}| productType | coverType  | ProductLine |
| ci          | level      | CILUWEX     |
| ci          | increasing | CILUWEX     |
| ci          | decreasing | CIDUWEX     |
| ci          | family     | CIFDUWEX    |
| aci         | level      | ACILUWEX    |
| aci         | increasing | ACILUWEX    |
| aci         | decreasing | ACIDUWEX    |{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-803,,,,,,,,,,,,,,,,None,,"_Service Request_

{code:json}{
  ...
  ""quoteApplicants"": [
    {
      ...
      ""quoteCovers"": [
        {
          ""id"": <guid>,
          ""productType"": ""life | ci | aci | ccic"",
          ""coverType"": ""level | increasing | decreasing | family"",
          ""term"": 3, // not required if toAge specified
          ""toAge"": 65, // not required if term specified
          ""coverAmount"": 100000,
          ....
        },
        { ""..."" },
        { ""..."" }
      ],
      ""quoteUnderwritingOutcomes"": [
        {
          ""productType"": ""life | ci | aci""
          ...
          ""quoteExclusions"": [
            {
              ""isRemoval"": ""true | false"",
              ""exclusionValue"": 1094
            },
            { ""..."" }
          ]
        },
        { ""..."" }
      ]
    }.
    { ... another quoteApplicant ... }
  ]
}{code}



_Service Response_



{code:json}{
  ""quoteReference"": ""G000001234"",
  ""quoteAgeDate"": 20210910 18:00:00,
  ""quoteApplicants"": [
    {
      ""dateOfbirth"": 19711207,
      ""gender"": ""male | female"",
      ""smokerStatus"": ""None in the last 5 years | None in last 12 months | I have used tobacco or replacement products in last 12 months"",
      ""quoteApplicantPremium"": 0.00, //
      ""quoteCovers"": [
        {
          ""id"": <guid>,
          ""productType"": ""life | ci | aci"",
          ""coverType"": ""level | increasing | decreasing | family"",
          ""term"": 3, 
          ""coverAmount"": 100000
          ...
          ""exclusionCovers"":[
           {
             ""productType"": ""ci | aci"", // from parent cover
             ""coverType"": ""level | increasing"", // from parent cover
             ""term"": 13, // from parent cover
             ""toAge"": 55, // from parent cover
             ""toAgeTermMonths"": 407, // from parent cover
             ""coverAmount"": 50000, // Quote response
             ""premium"": -6.57 // Quote Response
           }
          ]
        },
        {
          ...
        }
      ]
    }
  ]
}{code}

*Lissia Quote Request*



{code:xml}<WssquoteImport command="""" clientId="""" clientPassword="""" nextLocation="""" exitState="""" dialect="""">
	<ImpAswcalcqAswcalcq>
		<Comcalclvl>2</Comcalclvl>
		<Pcdate/>
		<Srvtimings/>
		<Usedefaultagent/>
	</ImpAswcalcqAswcalcq>
	<ImpUserUsers>
		<UsrId/>
	</ImpUserUsers>
	<ImpWebserviceWebService>
		<ServiceUserid/>
		<TraceRates/>
		<RecordImport/>
		<Requote/>
		<DiscountActivity/>
		<QuoteCallOrigin/>
	</ImpWebserviceWebService>
	<ImpGrpCvgs>
		<row>
			...
		</row>
	</ImpGrpCvgs>
	<ImpGrpCliCpr>
		<row>
			...
		</row>
	</ImpGrpCliCpr>
	<ImpGrpPas>
		<row>
			...
		</row>
	</ImpGrpPas>
	<ImpGrpPlc>
      <row>
        <ImpItmPlcPolicyCvgLifeConditions>
            <Condition>1094</Condition> <!-- Exclusion attracting discount --> 
            <ApplicabilityDate/>
            <EndOfApplicability/>
            <RateOrValue/>
            <Type/>
        </ImpItmPlcPolicyCvgLifeConditions>
        <ImpItmPlcCprtypeCliPolRelationships>
            <Type>4</Type> -- hard coded
        </ImpItmPlcCprtypeCliPolRelationships>
        <ImpItmPlcPrlProductLines>
            <PrlId>CIL</PrlId> <!-- Product line that exclusion applies to -->
        </ImpItmPlcPrlProductLines>
        <ImpItmPlcQrefWebService>
            <BenLine>G000856616_1_ci_1</BenLine> <!-- BenLine id that exclusion applies to -->
            <QuoteRef>G000856616</QuoteRef> <!-- quoteReference -->
            <Primaryprdid/>
        </ImpItmPlcQrefWebService>
      </row>
	</ImpGrpPlc>
	<ImpPrlrqmWebService>
		<Prlrqm/>
	</ImpPrlrqmWebService>
</WssquoteImport>{code}



Lissia Response

{code:xml}<soap:Envelope xmlns:soap=""http://schemas.xmlsoap.org/soap/envelope/"">
    <soap:Body>
        <ns2:WssquotecallResponse xmlns:ns2=""http://tempuri.org/Wssquote/"">
            <WssquoteExport command="""" exitState=""0"" exitStateType=""3"" exitStateMsg="""">
                <ExpGrpSum2app>
                    <row>
                       ...
                    </row>
                    <row>
                        <ExpItmQuoteRefSum2appWebService>
                            <QuoteRef>G000000001</QuoteRef>
                            <BenLine><!--guid--></BenLine>
                        </ExpItmQuoteRefSum2appWebService>
                        <ExpItmPrltypeDescSum2appWorkspace>
                            <Text1>U/w</Text1>
                        </ExpItmPrltypeDescSum2appWorkspace>
                        ...
                        <ExpItmPcpSum2appPolicyPremiums>
                            <ModalPremium>-1.89</ModalPremium> <!-- quotePremium -->
                            ...
                        </ExpItmPcpSum2appPolicyPremiums>
                    </row>
                    <row>
                        ...
                    </row>
                </ExpGrpSum2app>
                <ExpGrpErrors/>
                <ExpGrpCliCprRtn>
                    ...
                </ExpGrpCliCprRtn>
                <ExpGrpCommissions>
                    ...
                </ExpGrpCommissions>
                <ExpGrpCvgs>
                    <row>
                        ...
                    </row>
                    <row>
                        ...
                        <ExpItmCvgQuoteRefWebService>
                            <QuoteRef>G000000001</QuoteRef>
                            <BenLine><!--guid--></BenLine>
                            ...
                        </ExpItmCvgQuoteRefWebService>
                        <ExpItmPocCvgsPolicyCoverages>
                            ...
                            <ProductLine>CILUWEX     </ProductLine>
                            <InitialSumAssured>5000</InitialSumAssured>
                            ...
                        </ExpItmPocCvgsPolicyCoverages>
                        ...
                    </row>
                </ExpGrpCvgs>
                <ExpGrpPrmSumByref>
                    ...
                </ExpGrpPlcRtn>
                <ExpGrpWarningMsg/>
                <ExpGrpComTot>
                    ...
                </ExpGrpComTot>
                <ExpGrpTotIndemnity/>
                <ExpGrpFsaTot/>
                <ExpGrpPremDetails/>
                <ExpGrpPremDetailsTot/>
            </WssquoteExport>
        </ns2:WssquotecallResponse>
    </soap:Body>
</soap:Envelope>{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i013b6:i,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,Guardian Sprint 9,,,,,12/Jan/22 4:45 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-02-02 15:11:45.937,"02/Feb/22 3:11 PM;6139c49114e8340071fcda09;(flag) Flag added

waiting for feedback from various people","02/Feb/22 6:02 PM;6139c49114e8340071fcda09;[~accountid:6149b160fac3ce0069d80d37] 

I can't see the result of the exclusion in the response at all (see attachment G000166308_quote.json and partitionKey G000166308 in UWT cosmos).

There’s no ""exclusionCovers"" section at all within the quoteCover.

However, the Lissia request/response looks as expected.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress
Sprint 7 | No decision text shown for two applicants and 500 error,NBJ-1098,43567,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,High,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,12/Jan/22 2:36 PM,13/Jan/22 9:58 PM,02/Feb/22 6:31 PM,13/Jan/22 9:58 PM,,,,,,,,,Justin.Smith,,,,,,,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-206,,,,,,,,,,12/Jan/22 2:38 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220112-143630.png;https://gghltd.atlassian.net/secure/attachment/24973/image-20220112-143630.png,12/Jan/22 2:38 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220112-143658.png;https://gghltd.atlassian.net/secure/attachment/24971/image-20220112-143658.png,12/Jan/22 2:38 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220112-143740.png;https://gghltd.atlassian.net/secure/attachment/24972/image-20220112-143740.png,13/Jan/22 9:58 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220113-215843.png;https://gghltd.atlassian.net/secure/attachment/25054/image-20220113-215843.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: Taking over a minute to get a decision, response has trigger decision quote has a 500 error and no cover decision text

Business Impact: Medium

Steps to Reproduce: 

# Create two applicants 
## applicant one - male, non-smoker, weight ok
## applicant two - female, non-smoker, weight ok
# Add Life, CI cover to applicant one
# Add Life and CI cover to applicant two
# Answer no, neithr or none to the underwriting questions
# Use test enquiry line to mark outcome on applicant one life as standard and CI as declined
# Use test enquiry line to mark outcome on applicant two life as standard and CI as declined
# Click on ‘Get Decision' button 
# {{https://ggh-uwt-api.gghltest.co.uk/api/v1/actions/TriggerDecisionQuote/G000116186}} api call is made and it takes 1.1 m for the response to be returned 
# !image-20220112-143630.png|width=1930,height=921!
# I get a 500 error response \{""errors"":\{""type"":""[https://tools.ietf.org/html/rfc7231#section-6.6.1%22,%22title%22:%22An|https://tools.ietf.org/html/rfc7231#section-6.6.1%22,%22title%22:%22An|smart-link]  error occurred while processing your request."",""status"":500,""traceId"":""00-01ec31753a928c01b7654c3e7e1bd5c2-99be32ef8bee9a68-00""}} 
!image-20220112-143658.png|width=1913,height=990!
# The decision with prices are returned but no decision outcomes against the covers
# Azure app insights was complaining about the following - sequence contains no matching element
!image-20220112-143740.png|width=1879,height=981!
[End-to-end transaction details - Microsoft Azure|https://portal.azure.com/#blade/AppInsightsExtension/DetailsV2Blade/ComponentId/%7B%22SubscriptionId%22%3A%22ebf012bf-8dfc-483c-866e-d73fe4712fae%22%2C%22ResourceGroup%22%3A%22ggh-uwt-rg%22%2C%22Name%22%3A%22appi-ggh-uwt-actionservice%22%2C%22LinkedApplicationType%22%3A0%2C%22ResourceId%22%3A%22%252Fsubscriptions%252Febf012bf-8dfc-483c-866e-d73fe4712fae%252FresourceGroups%252Fggh-uwt-rg%252Fproviders%252Fmicrosoft.insights%252Fcomponents%252Fappi-ggh-uwt-actionservice%22%2C%22ResourceType%22%3A%22microsoft.insights%252Fcomponents%22%2C%22IsAzureFirst%22%3Afalse%7D/DataModel/%7B%22eventId%22%3A%22094d9ee4-73b2-11ec-a505-dc9840485ab7%22%2C%22timestamp%22%3A%222022-01-12T14%3A14%3A18.834Z%22%2C%22cacheId%22%3A%227df37407-a71f-4ebc-9c03-91b0d3e1213a%22%2C%22eventTable%22%3A%22exceptions%22%2C%22timeContext%22%3A%7B%22durationMs%22%3A86400000%2C%22endTime%22%3A%222022-01-12T14%3A14%3A52.943Z%22%7D%7D]

Expected Results: The response to be quicker, no 500 error and decision text and icon against each cover

Actual Result: Slow to respond, 500 error and no decision text and icon for each cover

Version: N/A",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih1:l,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,12/Jan/22 2:36 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Jan/22 9:58 PM;618bdfc5fba4d0006ad4853e;This looks all good.  Thanks [~accountid:616ee20e2097220071a975d2] 

!image-20220113-215843.png|width=1870,height=926!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
ActionService - controls the creation of the cover summary document,NBJ-1097,43561,41924,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Jon Reynolds,616ee20e2097220071a975d2,Jon Reynolds,616ee20e2097220071a975d2,Jon Reynolds,616ee20e2097220071a975d2,12/Jan/22 1:34 PM,20/Jan/22 1:35 PM,02/Feb/22 6:31 PM,20/Jan/22 1:35 PM,,,,,,,,,Jon Reynolds,,,,,,,616ee20e2097220071a975d2,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01bdz:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,Guardian Sprint 8,,,,,12/Jan/22 1:34 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Jan/22 8:46 PM;616ee20e2097220071a975d2;(flagoff) Flag removed

flag added to parent story",,,,,,,,,,,,,,,,,,,,,,,,,,,,,41924,Cover Summary - Initial Request,Done
DocumentService - generates the cover summary document,NBJ-1095,43559,41924,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Jon Reynolds,616ee20e2097220071a975d2,Jon Reynolds,616ee20e2097220071a975d2,Jon Reynolds,616ee20e2097220071a975d2,12/Jan/22 1:33 PM,19/Jan/22 11:26 AM,02/Feb/22 6:31 PM,19/Jan/22 11:26 AM,,,,,,,,,Jon Reynolds,,,,,,,616ee20e2097220071a975d2,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,16/Jan/22 5:26 PM;ug:117ea4bb-8992-4456-92e8-f3d84c2d6b41;image-20220116-171942.png;https://gghltd.atlassian.net/secure/attachment/25123/image-20220116-171942.png,16/Jan/22 5:26 PM;ug:117ea4bb-8992-4456-92e8-f3d84c2d6b41;image-20220116-172038.png;https://gghltd.atlassian.net/secure/attachment/25124/image-20220116-172038.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01bdj:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,Guardian Sprint 8,,,,,12/Jan/22 1:33 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Jan/22 5:26 PM;616ee20e2097220071a975d2;[~accountid:5d94816eefc9290c2e625a11] I have the cover summary document generation working locally from the document API service but I have noticed that the policy number in the document is being read from the ClientID in the post sales XML (from Azure function). There is an inconsistency in the case-sensitivity of the post sales XML which may need some attention. Also needed to remove {{<?xml version=""1.0"" encoding=""UTF-8""?>}} from the Company Xml for coversummary whereas top-level xml element was fine in Quote document generation.  Worth a chat between us and planned fix to Lissia or is this document in a state of flux and not worth fixing at this stage?

!image-20220116-171942.png|width=1871,height=778!

!image-20220116-172038.png|width=608,height=431!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,41924,Cover Summary - Initial Request,Done
Post underwriting declaration shown if returning to underwriting post decision,NBJ-1094,43557,37543,Story bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,12/Jan/22 1:14 PM,13/Jan/22 9:54 AM,02/Feb/22 6:31 PM,13/Jan/22 9:54 AM,,,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"If returning to the underwriting section following a decision, you are incorrectly shown the post underwriting declaration and you cannot navigate to the underwriting pages.

#  Add a life
# Add a cover
# Complete underwriting and get a decision
# Navigate back to underwriting

*What should happen*

You should see the first page of underwriting questions",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01bd3:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,12/Jan/22 1:14 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Jan/22 9:54 AM;60cc71a1d5dde800713a2124;Retested and now resolved.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,37543,Easier linear navigation,Done
Update front end to pick up new CCIC quote structure,NBJ-1093,43555,43219,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,12/Jan/22 12:09 PM,14/Jan/22 11:08 AM,02/Feb/22 6:31 PM,14/Jan/22 11:08 AM,,,,,,,"Make sure CCIC appears on quote and decision screens (its a childCover now rather than a cover)

Make sure the premium for CCIC appears on quote and decision screens",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01bcn:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,Guardian Sprint 8,,,,,12/Jan/22 12:09 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,43219,No quote values returned for CCIC,Done
Deploy application ID sequence to SQL Server,NBJ-1092,43550,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,12/Jan/22 11:40 AM,12/Jan/22 11:40 AM,02/Feb/22 6:31 PM,,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01bbj:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,12/Jan/22 11:40 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Test Data Ids required for Decision Text,NBJ-1091,43538,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,12/Jan/22 10:59 AM,25/Jan/22 9:57 AM,02/Feb/22 6:31 PM,13/Jan/22 4:04 PM,,Foundation Release,,,,,"I am currently creating automated tests to check the Decision text and pricing appearing correctly on both the quote and decision screens.  Can I request for {{data-testids}} for all relevant decision text including the following:

||Element||
||*StandardDecision (Quote Screen)*||
||*NonStandardDecision (Quote Screen)*||
||*UnabletoOfferDecision (Quote Screen)*||
||*UnderwritingDecision (Quote Screen)*||
||*Premium Pricing (Specific for cover) (Quote Screen)*||
||*StandardDecision (Decision Screen)*||
||*NonStandardDecision (Decision Screen)*||
||*UnabletoOfferDecision (Decision Screen)*||
||*UnderwritingDecision (Decision Screen)*||
||*Premium Pricing (Specific for applicant) (Decision Screen)*||
||*Premium Pricing (Specific for cover) (Decision Screen)*||

Please see examples below of the quote screen and decision screen where the decision text and pricing appears: 

Quote Screen:

!image-20220112-110925.png|width=797,height=463!

Decision Screen:

!image-20220112-111420.png|width=869,height=579!",,Nathan Punzalan,,,,,,,613f22fdff23ba00715469d1,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,NBJ-1031,,,,,,,,,,,,,,,,,,,,12/Jan/22 11:15 AM;nathan.punzalan;image-20220112-110925.png;https://gghltd.atlassian.net/secure/attachment/24959/image-20220112-110925.png,12/Jan/22 11:15 AM;nathan.punzalan;image-20220112-111420.png;https://gghltd.atlassian.net/secure/attachment/24958/image-20220112-111420.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01b9b:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,16/Dec/21 4:07 PM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Error message not displayed if client age outside 18-65,NBJ-1090,43529,,Bug,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,John.LeQuesne,5db187687b20d80c2a25b574,John.LeQuesne,5db187687b20d80c2a25b574,12/Jan/22 8:44 AM,01/Feb/22 3:10 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,John.LeQuesne,,,,,,,5db187687b20d80c2a25b574,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: If I enter a DoB which makes the client 17 or under or 66 & older, I can hit Continue but (correctly) I don’t move off the screen. However no error message is displayed.

Business Impact: The adivseris unaware of why they can’t continue

Steps to Reproduce: Enter a DoB so the age shows as either 17 or under or 66 or older… 

Expected Results: The error message ‘To qualify, the client must be between 18 and 65’ is displayed

Actual Result: Hitting Continue does nothing and no error message is displayed…

Version: N/A",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,QA / UWT,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01b7b:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,Guardian Sprint 9,,,,,12/Jan/22 8:44 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Sprint 7 | API Issue - isMortgageRelated shouldnt have a default value,NBJ-1089,43516,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Low,Done,Antony.Gorman,6149b13472728e006f9441d6,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,11/Jan/22 4:52 PM,25/Jan/22 9:42 PM,02/Feb/22 6:31 PM,25/Jan/22 9:42 PM,,Foundation Release,,,,,,,Chris.Hibbert,Justin.Smith,Mike,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,21/Jan/22 2:40 PM;ug:40c0a037-60a5-47d1-812c-a831d94ce168;Screenshot 2022-01-21 at 14.36.48.png;https://gghltd.atlassian.net/secure/attachment/25287/Screenshot+2022-01-21+at+14.36.48.png,21/Jan/22 2:40 PM;ug:40c0a037-60a5-47d1-812c-a831d94ce168;Screenshot 2022-01-21 at 14.37.07.png;https://gghltd.atlassian.net/secure/attachment/25286/Screenshot+2022-01-21+at+14.37.07.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: Refresh or visit /contact-details page results in mortgage details being set to 'No'.  A default should not be set.

Business Impact: Low

Steps to Reproduce: 

# Provide client details, add a cover, trigger quote and click on ‘Apply’
# You are taken to the contact-details page and the ‘No’ and ‘Yes’ radio buttons are not set for Mortgage Details
# Refresh the page or manually enter the /contact-details url
# ‘No’ is selected for Mortgage Details

Expected Results: No default should be selected

Actual Result: ‘No’ is selected on refresh direct navigation to contact details page

Version: N/A",,{},,,,,,,,,,,,,,,,,,,,,,None,QA / UWT,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zi0sli,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,11/Jan/22 4:52 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-21 14:40:54.943,"21/Jan/22 2:40 PM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;[~accountid:60cc71a1d5dde800713a2124] [~accountid:618bdfc5fba4d0006ad4853e] 
This looks like the API sets {{isMortgageRelated}} to false by default. When I start an application the response doesn’t have isMortgageRelated so when you first visit the contact details pages it isn’t set. However, if I refresh and call GET {{api/v1/application/G000150712}} then the response has {{isMortgageRelated}} set to false..

Start Application:

!Screenshot 2022-01-21 at 14.36.48.png|width=1232,height=289!

Get Application (without submitting any application information)

!Screenshot 2022-01-21 at 14.37.07.png|width=1243,height=488!","21/Jan/22 2:44 PM;60cc71a1d5dde800713a2124;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] - cools, I’ll flag as a backend issue",25/Jan/22 9:42 PM;60cc71a1d5dde800713a2124;Retested in UWT and works like a charm 👍 ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Quote Response - toAgeTermMonths,NBJ-1088,43515,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,11/Jan/22 4:49 PM,27/Jan/22 1:57 PM,02/Feb/22 6:31 PM,27/Jan/22 1:57 PM,,Foundation Release,,,,,"*As an* api user
*So that* I can go live for a cover specifying toAge with the correct term 
*I want* the quote service to record the toAgeTermMonths from the quote response

{panel:bgColor=#deebff}
This story is all about capturing Lissia calculated terms on the quote response from toAge quotes
{panel}",,James Bartlett,Jim Houghton,,,,,,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,NBJ-1017,,,,,,,,,,,,NBJ-1032,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"{panel:bgColor=#deebff}
Note this story applies to all covers including child covers
{panel}

*Given* any quote containing quoteCovers that have toAge specified
*When* receiving a successful response from Lissia
*Then* *foreach* quoteCover/childCover with a toAge specified map ExpGrpCvgs/row/ExpItmCvgsPolicyCoverages/Term to the corresponding quoteCover/childCover.toAgeTermMonths.  The value from the Lissia quote response needs to be converted from Lissia format to number of months:

e.g. 33.11 means 33 years and 11 months, this is converted using the following calc. 11 + (33 * 12) = 407

*Given* any quote that contains a toAge cover
*When* processing the response
*Then* update the corresponding application.applicant.cover.toAgeTermMonths with the matching quoteCover.toAgeTermMonths or childCover.toAgeTermMonths",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-118,,,,,,,,,,,,,,,,None,,"Lissia Response

{code:xml}	<WssquoteExport command="""" exitState=""0"" exitStateType=""3"" exitStateMsg="""">
		<ExpGrpSum2app>
			...
		</ExpGrpSum2app>
		<ExpGrpErrors/>
		<ExpGrpCliCprRtn>
			...
		</ExpGrpCliCprRtn>
		<ExpGrpCommissions>
			...
		</ExpGrpCommissions>
		<ExpGrpCvgs>
			<row>
				...
				<ExpItmPocCvgsPolicyCoverages>
					...
					<Term>33.11</Term>
					...
					<TermAge>55</TermAge>
	                ...
				</ExpItmPocCvgsPolicyCoverages>
				...
			</row>
			...
		</ExpGrpCvgs>
		<ExpGrpPrmSumByref>
			...
		</ExpGrpPrmSumByref>
		<ExpGrpPlcRtn>
			...
		</ExpGrpPlcRtn>
		<ExpGrpWarningMsg/>
		<ExpGrpComTot>
			...
		</ExpGrpComTot>
		<ExpGrpTotIndemnity/>
		<ExpGrpFsaTot/>
		<ExpGrpPremDetails/>
		<ExpGrpPremDetailsTot/>
	</WssquoteExport>
{code}

Quote Response

{code:json}{
    ...,
    ""quote"": {
        ...,
        ""quoteApplicants"": [
            {
                ...,
                ""quoteCovers"": [
                    {
                        ""childCovers"": [
                            {
                                ""id"": ...,
                                ...,
                                ""toAge"": 55,
                                ""toAgeTermMonths"": 540
                            }
                        ],
                        ...
                        ""toAge"": 55,
                        ""toAgeTermMonths"": 540
                    }
                ],
                ""quoteUnderwritingOutcomes"": [
                    ...
                ]
            }
        ]
    },
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zi0sk,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,11/Jan/22 4:49 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-24 14:57:54.337,"24/Jan/22 2:57 PM;6139c49114e8340071fcda09;[~accountid:6149b160fac3ce0069d80d37] see G323456789 in UWT. The term in the Lissia response message is 12.01, as expected. However, the ‘toAgeTermInMonths’ field on the quote resposne is null.



Also worth pointing out that the description specified ‘toAgeTermMonths’ rather than ‘toAgeTermInMonths’, don’t know if that might be the cause of the issue?","26/Jan/22 6:32 PM;6139c49114e8340071fcda09;[~accountid:6149b160fac3ce0069d80d37] no change I’m afraid - see G323456788 in cosmos quote (there’s no corresponding application, I just used that ref for my testing direct against the quote service).",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
ThirdPartyRef,NBJ-1086,43497,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,11/Jan/22 1:41 PM,26/Jan/22 12:00 PM,02/Feb/22 6:31 PM,26/Jan/22 12:00 PM,,Foundation Release,,,,,"*As an* api user
*So that* I can activate an application
*I want* any third party reference to be set on the Lissia Go Live message

{panel:bgColor=#deebff}
This story is about setting the third party reference on the Lissia Go Live message if there is one
{panel}",,Jim Houghton,Justin.Smith,,,,,,60cc71a22bd21400692fd2af,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,26/Jan/22 12:00 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220126-120023.png;https://gghltd.atlassian.net/secure/attachment/25386/image-20220126-120023.png,,,,,,,,,,,,"*Given* any activation
*And* application.thirdPartyRef is set
*When* formulating the Lissia Go Live request
*Then* set every instance of ImpPrlBenList.row.ImpItmBenPolPolicies.AdditionalId to application.thirdPartyRef",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-119,,,,,,,,,,,,,,,,None,,"Request data

{noformat}""application"":{
  ""thirdPartyRef"": ""POL0001"", //set to application.thirdPartyRef
  ...
}{noformat}

Lissia Go Live Message

{noformat}...
  <ImpPrlBenList>
    ...
    <row>
      ...
      <ImpItmBenPolPolicies>
        ...
        <AdditionalId>POL0001</AdditionalId>
      </ImpItmBenPolPolicies>
    </row>
    ...
  </ImpPrlBenList>
...{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zi0sm,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,11/Jan/22 1:41 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-25 09:43:25.139,25/Jan/22 9:43 AM;618bdfc5fba4d0006ad4853e;Wait for BFF to come back.,"26/Jan/22 12:00 PM;618bdfc5fba4d0006ad4853e;This is all good.  Automation tests written and passing in the pipeline

!image-20220126-120023.png|width=455,height=162!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Enable NBJ system to run locally,NBJ-1085,43495,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Jason Hughes,613f60991370f00069033c68,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,11/Jan/22 12:30 PM,13/Jan/22 10:52 AM,02/Feb/22 6:31 PM,13/Jan/22 10:52 AM,,Foundation Release,,,,,"As a developer
I want to run the NBJ frontend and backend locally on my development machine
So that I can debug errors at the system level - across the front and backend",,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,* The NBJ-Frontend app runs locally using all the backend services,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,"Need to standup a local version of APIM, configure it to use all the local backend services and point the frontend at it.",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01azz:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,11/Jan/22 12:30 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Decisions incorrectly applied at Quote stage,NBJ-1084,43493,,Bug,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,High,,Chris.Hibbert,60cc71a1d5dde800713a2124,John.LeQuesne,5db187687b20d80c2a25b574,John.LeQuesne,5db187687b20d80c2a25b574,11/Jan/22 12:01 PM,01/Feb/22 12:43 PM,02/Feb/22 6:31 PM,,,,,,,,,,Chris.Hibbert,John.LeQuesne,,,,,,60cc71a1d5dde800713a2124,5db187687b20d80c2a25b574,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,11/Jan/22 12:00 PM;John.LeQuesne;Decisions on quote.docx;https://gghltd.atlassian.net/secure/attachment/24926/Decisions+on+quote.docx,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: The decisions & ratings used at Quote stage are incorrect (note there are a number of issues in this)

Business Impact: Incorrect premiums / messages displayed to the Adviser

Steps to Reproduce: See attached document. Start a quote & increase the weight to increase BMI and see how the decision / premium changes

Expected Results: Within attached document

Actual Result: Within attached document

Version: N/A



Specific issues - e.g. for a BMI where only the CI cover should be rated, all covers are showing a message saying the premium has increased but no covers have the increase. ",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space-bx,,,,,,,No,,1|hzwih9:zjzzzzzy,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,11/Jan/22 12:01 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-12 12:07:59.623,"12/Jan/22 12:07 PM;60cc71a1d5dde800713a2124;Looking at the issues in the document:

*Differing loadings*
- UWT is using a development build table rather than the Guardian build table
*Non standard with no loadings*
- UWT rules have the wrap up in the wrong order (development ruleset)
*ACI loadings not calculated correctly*
- These are correct, but different build table so test cases not accurate
*Loadings instead of refer*
- UWT is using a development build table rather than the Guardian build table
*Refer instead of decline*
- UWT is using a development build table rather than the Guardian build table
*Weird exclusion*
- UWT development build table has an exclusion instead of a decline here for testing
*Unusual reason text*
- NBJ-1041 to address in the next sprint (outstanding dev)


Happily, no fundamental issues here, just some confusion over the rules in this early test environment.  We should make sure the rules in use for SIT / UWT envs reflect the Guardian rules (including app form when available)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Ensure quote.expiryDate is passed to quote document request payload,NBJ-1083,43489,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,11/Jan/22 11:21 AM,01/Feb/22 10:55 AM,02/Feb/22 6:31 PM,01/Feb/22 10:55 AM,,Foundation Release,,,,,"*As an* adviser 
*So that* I know the expiry date for my quote
*I want* the quote.expiryDate passed into the quote illustration",,Antony.Gorman,Chris.Hibbert,James Bartlett,Justin.Smith,,,,6149b13472728e006f9441d6,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,618bdfc5fba4d0006ad4853e,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given*: A quote
*When*: the quote document is generated
*Then*: the quote expiry date from the quote is reflected in the document",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-34,,,,,,,,,,,,,,,,None,,"* [https://gghltd.atlassian.net/browse/NBJ-1044|https://gghltd.atlassian.net/browse/NBJ-1044|smart-link] we now set the quote expiry date
* [https://gghltd.atlassian.net/browse/NBJ-421|https://gghltd.atlassian.net/browse/NBJ-421|smart-link] the document will take an expiry date",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zi0st,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,Guardian Sprint 9,,,,,11/Jan/22 11:21 AM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-27 15:28:50.142,27/Jan/22 3:28 PM;6139c49114e8340071fcda09;Looked at the quote doc for G000157884 and the expiry date wasn’t appearing as expected,28/Jan/22 11:27 AM;6149b13472728e006f9441d6;aye. it used an automapping but that doesn't work in the trigger quote action as the quote is new and not on the application graph at the stage its mapped (doh\!). fix is up with a PR.,31/Jan/22 1:46 PM;618bdfc5fba4d0006ad4853e;I spoke to [~accountid:6139c49114e8340071fcda09] on this and he started the auto test.  He just needs to push his changes in then I can pick up the test and hopefully complete. Be good to get exposure to the document tests.,"01/Feb/22 10:55 AM;618bdfc5fba4d0006ad4853e;This is all good.  I have added the test and is passing.

@NBJ-1083
Scenario: Quote expiry date
Given I set up an application from test case StandardSingleApplicantOneLifeCover
And I trigger a quote
And I prepare the quote document request from the application
And I request the quote document
And I retrieve the quote document
When I decode the document to a file
Then the document attribute 'Quote valid until (.+)' equals the expected attribute expiryDate",,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Activation - multiple covers return a 500 on activation,NBJ-1082,43482,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,11/Jan/22 10:04 AM,11/Jan/22 1:45 PM,02/Feb/22 6:31 PM,11/Jan/22 1:45 PM,,,,,,,,,Antony.Gorman,James Bartlett,,,,,,6149b13472728e006f9441d6,6139c49114e8340071fcda09,,,,,,,,,,,,,Hidden from EXL,NBJ-1014,NBJ-1011,,,,,,,,,,,,,,,,,,,,,,,,,,,,,11/Jan/22 10:03 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;activation_request.json;https://gghltd.atlassian.net/secure/attachment/24915/activation_request.json,11/Jan/22 10:03 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;activation_request.xml;https://gghltd.atlassian.net/secure/attachment/24917/activation_request.xml,11/Jan/22 10:03 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;activation_response.json;https://gghltd.atlassian.net/secure/attachment/24914/activation_response.json,11/Jan/22 10:03 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;activation_response.xml;https://gghltd.atlassian.net/secure/attachment/24916/activation_response.xml,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* If an application has more than one cover and it is activated, the activation reponse is a 500 error.

I’ve attached everything in Cosmos for example app G000113668 in UWT.



*Business Impact:* showstopper (if API interactions are correct)

*Steps to Reproduce:* 

* Create an application with one applicant
* Add a Life and CI cover
* update isAdvisedSale to False and policyStartDate to tomorrow
* add contact details
* trigger a quote
* activate the application



*Expected Results:* Activation is successful

*Actual Result:* activation fails with a 500 response. The Lissia error message is 

{quote}EACLI001 : Clients   \[0];   Sorry - The requested item does not exist. \[ EACLI001//Li5.57/WSSGLIVE_A1/ASBPASLST_B6 ]{quote}



*Version:* <Any module or product version if applicable>",,{},,,,,,NBJ-119,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwii8:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,11/Jan/22 10:04 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-11 10:54:33.266,11/Jan/22 10:54 AM;6149b13472728e006f9441d6;we were stubbing the product line value else where in the document with the last set product live value so this broke when multiple covers. am setting it now.,11/Jan/22 1:44 PM;6139c49114e8340071fcda09;see [https://gghltd.atlassian.net/browse/NBJ-1014|https://gghltd.atlassian.net/browse/NBJ-1014|smart-link] for test evidence,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Quick quote screen suggests that TPD is available when a CI cover is declined,NBJ-1081,43454,,Bug,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Jim Houghton,60cc71a22bd21400692fd2af,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,10/Jan/22 10:05 PM,31/Jan/22 11:29 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,James Bartlett,Jim Houghton,,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,10/Jan/22 10:09 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;Screenshot 2022-01-10 at 22.00.52.png;https://gghltd.atlassian.net/secure/attachment/24911/Screenshot+2022-01-10+at+22.00.52.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* Quick quote screen suggests that TPD is available when a CI cover is declined

!Screenshot 2022-01-10 at 22.00.52.png|width=1162,height=300!



*Business Impact:* unknown

*Steps to Reproduce:* Create an application with a single life and two covers - Life and CI.

* Height 1.83
* Weight 142
* DoB 30/10/1995

*Expected Results:* No mention is made of TPD

*Actual Result:* One of the “Underwriting notes” is “We’ll provide total and permanent disability cover based on your own occupation.”

*Version:* ?",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,QA / UWT,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwiev:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,10/Jan/22 10:05 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-11 09:39:42.054,10/Jan/22 10:36 PM;6139c49114e8340071fcda09;may just be an underwriting change required?,11/Jan/22 9:39 AM;60cc71a1d5dde800713a2124;[~accountid:6139c49114e8340071fcda09]  - likely to be a rules fix.  [~accountid:60cc71a22bd21400692fd2af]  to raise with the underwriters.,25/Jan/22 7:18 PM;60cc71a1d5dde800713a2124;[~accountid:60cc71a22bd21400692fd2af] - can you confirm if a rules issue?,"26/Jan/22 9:33 AM;60cc71a22bd21400692fd2af;[~accountid:60cc71a1d5dde800713a2124] - discussed this with JLQ, ideal solution would be to ignore TPD when CI is declined or postponed.  Although I suspect he would be happy with rules fix…. Up to you.","26/Jan/22 9:35 AM;60cc71a1d5dde800713a2124;[~accountid:60cc71a22bd21400692fd2af] - I’m keen to avoid further development, so can we go with a rules fix?",26/Jan/22 3:50 PM;60cc71a22bd21400692fd2af;[https://gghltd.atlassian.net/browse/UR-130|https://gghltd.atlassian.net/browse/UR-130|smart-link] delivers this fix,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Sprint 7 | City & County should be optional on the application contact api but I get a 400 error - city must not be empty,NBJ-1080,43448,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,10/Jan/22 4:32 PM,21/Jan/22 8:56 AM,02/Feb/22 6:31 PM,21/Jan/22 8:56 AM,,Foundation Release,,,,,,,Chris.Hibbert,Justin.Smith,,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: As per the frontend ticket [https://gghltd.atlassian.net/browse/NBJ-913|https://gghltd.atlassian.net/browse/NBJ-913|smart-link] city and county are optional in contact details.  However, they are mandatory on the backend

Business Impact: Medium

Steps to Reproduce: 

# Navigate to the contact details tab 
# Provide no city - just the mandatory fields - email, phone, address line 1 and postcode
# Click on the underwrite button

Expected Results: The application contact api is called and the contact details updated

Actual Result: A 400 - bad request occurs, with the following response - 

\{""errors"":\[\{""errorMessage"":""'City' must not be empty."",""propertyName"":""City"",""attemptedValue"":""""}]}

This is also happening for county if you provide a city

\{""errors"":\[\{""errorMessage"":""'County' must not be empty."",""propertyName"":""County"",""attemptedValue"":""""}]}

# Request URL:
[https://ggh-uwt-api.gghltest.co.uk/api/v1/application/G000112000/applicant/3e1e7e7e-b6c9-4440-a95b-45326eb65e95/contact|https://ggh-uwt-api.gghltest.co.uk/api/v1/application/G000112000/applicant/3e1e7e7e-b6c9-4440-a95b-45326eb65e95/contact]

Version: N/A",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zio,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,10/Jan/22 4:32 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-20 16:33:17.373,"20/Jan/22 4:33 PM;60cc71a1d5dde800713a2124;To confirm

*Then*: the following fields are optional:

* address2
* address3
* city/Name
* county",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Sprint 7 - Quote Decision only shows for the first cover added,NBJ-1079,43440,,Bug,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Chris.Hibbert,60cc71a1d5dde800713a2124,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,10/Jan/22 2:05 PM,10/Jan/22 2:37 PM,02/Feb/22 6:31 PM,,,,,,,,,,Chris.Hibbert,Nathan Punzalan,,,,,,60cc71a1d5dde800713a2124,613f22fdff23ba00715469d1,,,,,,,,,,,,,Hidden from EXL,NBJ-573,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,10/Jan/22 2:05 PM;nathan.punzalan;Capture.PNG;https://gghltd.atlassian.net/secure/attachment/24898/Capture.PNG,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: 

Quote Decision only shows for the first cover added; should show for all covers when Get price button is clicked on.

Steps to Reproduce: 

# Go to [https://ggh-nbj-reactapp.azurewebsites.net/dashboard|https://ggh-nbj-reactapp.azurewebsites.net/dashboard|smart-link] 
# Create application
# Add applicant details
# Add two or more covers
# Fill in valid cover details
# Click Get Price button

Expected Results: 

Quote decision text and price should show for all covers when Get price button is clicked on.

Actual Result: 

Quote decision text and price only shows for the first cover which was added.

!Capture.PNG|width=881,height=328!",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01anz:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,10/Jan/22 2:05 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-10 14:21:38.178,10/Jan/22 2:21 PM;60cc71a1d5dde800713a2124;This is a duplicate of the CI failing to quote issue.,"10/Jan/22 2:30 PM;613f22fdff23ba00715469d1;[~accountid:60cc71a1d5dde800713a2124] , I have retested using ACI instead of CI and it has worked as expected. I will pass off the parent ticket [https://gghltd.atlassian.net/browse/NBJ-573|https://gghltd.atlassian.net/browse/NBJ-573|smart-link] as it sounds like the CI failing to quote is a separate issue.

Is there an open ticket for the CI issue? As I am unable to see it on the board.",10/Jan/22 2:34 PM;60cc71a1d5dde800713a2124;[~accountid:613f22fdff23ba00715469d1] - [https://gghltd.atlassian.net/browse/NBJ-1074|https://gghltd.atlassian.net/browse/NBJ-1074|smart-link] which has just been delivered.  I’ve just tested CI and it quoted fine.,"10/Jan/22 2:37 PM;613f22fdff23ba00715469d1;[~accountid:60cc71a1d5dde800713a2124] , thanks, have also tested it from the front-end and looks good to me, will leave a comment for James if he still needs to test something from an api level.",,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Dual applicant activations error with a 500,NBJ-1078,43435,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Highest,Done,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,10/Jan/22 1:32 PM,11/Jan/22 10:10 AM,02/Feb/22 6:31 PM,11/Jan/22 10:10 AM,,,,,,,,,Antony.Gorman,James Bartlett,,,,,,6149b13472728e006f9441d6,6139c49114e8340071fcda09,,,,,,,,,,,,,Hidden from EXL,NBJ-1014,NBJ-1011,NBJ-1015,NBJ-1016,NBJ-1012,,,,,,,,,,,,,,,,,,,,,,,,,,11/Jan/22 10:10 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/24918/LivingDoc.html,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* An attempt to activate an application with dual applicants errors with a 500 status code.

*Business Impact:* showstopper (if payload is correct)

*Steps to Reproduce:* POST the attached payload to [http://wa-uwt-activationservice.azurewebsites.net/api/v1/activate|http://wa-uwt-activationservice.azurewebsites.net/api/v1/activate]

*Expected Results:* The status code is 201 and policy reference/s are returned

*Actual Result:* the status code is 500

*Version:* unknown",,{},,,,,,NBJ-119,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih1:k,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,10/Jan/22 1:32 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-10 13:55:13.793,10/Jan/22 1:55 PM;6149b13472728e006f9441d6;as per comments on [https://gghltd.atlassian.net/browse/NBJ-119|https://gghltd.atlassian.net/browse/NBJ-119|smart-link] there appears to be an issue with the initial requirements (needs to produce more xml rows than specced). Jim is working on it.,11/Jan/22 7:41 AM;6149b13472728e006f9441d6;requirements were accurate. FIX is in review.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Sprint 7 | Edit reference rather than add own reference for an application with a reference,NBJ-1077,43433,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Lowest,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,10/Jan/22 1:02 PM,24/Jan/22 3:08 PM,02/Feb/22 6:31 PM,24/Jan/22 3:08 PM,,Foundation Release,,,,,,,Chris.Hibbert,Justin.Smith,,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,10/Jan/22 1:02 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220110-125835.png;https://gghltd.atlassian.net/secure/attachment/24894/image-20220110-125835.png,21/Jan/22 9:16 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220121-211513.png;https://gghltd.atlassian.net/secure/attachment/25297/image-20220121-211513.png,24/Jan/22 3:07 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220124-150414.png;https://gghltd.atlassian.net/secure/attachment/25320/image-20220124-150414.png,24/Jan/22 3:07 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220124-150450.png;https://gghltd.atlassian.net/secure/attachment/25319/image-20220124-150450.png,24/Jan/22 3:07 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220124-150551.png;https://gghltd.atlassian.net/secure/attachment/25321/image-20220124-150551.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: On the quote and decision tabs it would be better to say edit own reference if the application already has a reference rather than add own reference.  This would be good to see in the title on the modal as well.

!image-20220110-125835.png|width=1418,height=607!



Business Impact: Minor

Steps to Reproduce: Navigate to the quote or decision tabs and you can see a link to ‘Add new reference’ on an application that already has a reference

Expected Results: It would be better to say ‘Edit new reference’ if an application already has a reference

Actual Result: You see ‘Add own reference’ on an application that already has an application

Version: N/A",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01bsb:l,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,10/Jan/22 1:02 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-23 16:45:22.094,"21/Jan/22 9:16 PM;618bdfc5fba4d0006ad4853e;[~accountid:60cc71a1d5dde800713a2124] should it be - Edit New Reference or something like Edit Own Reference.  Also, when I click on this I get - Add your own reference should this not be Edit your own reference

!image-20220121-211513.png|width=1465,height=837!","23/Jan/22 4:45 PM;60cc71a1d5dde800713a2124;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] 

Link text when a reference exists should be “Edit own reference”

Dialog heading when a reference exists should be “Edit your own reference”","24/Jan/22 3:07 PM;618bdfc5fba4d0006ad4853e;This is all good.  Had to update the tests -

!image-20220124-150450.png|width=680,height=126!

!image-20220124-150414.png|width=656,height=109!

!image-20220124-150551.png|width=1894,height=898!

[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] if you get chance it would be nice to have some data testids for these links - add own reference and edit own reference.  At the moment I’m using contains

{noformat}    clickOnAddOwnReference() {
        cy.contains(""Add own reference"").click()
    }{noformat}

{noformat}    clickOnEditOwnReference() {
        cy.contains(""Edit own reference"").click()
    }{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Add FunctionApp settings to KV via pipeline,NBJ-1076,43432,,Task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,mark.thurston@venture1consulting.com,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,mark.thurston@venture1consulting.com,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,mark.thurston@venture1consulting.com,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,10/Jan/22 11:36 AM,31/Jan/22 12:29 PM,24/Jan/22 3:25 PM,,,,,,,,,,mark.thurston@venture1consulting.com,,,,,,,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Mike’s Function App settings are created in the App Config stores so that they can be read by the Function App instead of being hard coded.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,"Requires the following table of settings to be ported into the new pipelines.

|*Key vault name*|*Secret name*|*App Service setting name*|
|ggh-uwt-kv|azfu-CoverSummaryXml| |
|ggh-sit-kv|azfu-CoverSummaryXml| |
|ggh-uat2-kv|azfu-CoverSummaryXml| |
|ggh-pre-kva|azfu-CoverSummaryXml| |
|ggh-prod-kv|azfu-CoverSummaryXml| |",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01amf:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,Guardian Sprint 8,Guardian Sprint 9,,,,10/Jan/22 11:36 AM,,,,,,,,,,,,,,,,,,,,Will need to be tested by [~accountid:5d94816eefc9290c2e625a11] and / or [~accountid:616ee20e2097220071a975d2] ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Alter ProductService API routes,NBJ-1075,43418,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,10/Jan/22 10:18 AM,14/Jan/22 12:18 PM,02/Feb/22 6:31 PM,13/Jan/22 9:59 AM,,Foundation Release,,Sprint_7,,,"The ProductService API needs to change so it can be added to APIM and fix a bug in SIT.

ProductService routes all fall under /api/v1/application/** but need to be under /api/v1/product/** ",,Chris.Hibbert,Sam Gamble,,,,,,60cc71a1d5dde800713a2124,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"ProductService API is changed to this:

{{POST api/v1/product/validateApplicant}}

{{POST api/v1/product/validateCover}}

instead of this:

{{POST api/v1/application/{applicationId}/applicant}}

{{POST api/v1/application/{applicationId}/applicant}}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,"Note: the ProductService is only used by the ApplicationService.

Make sure to update the ProductService client in the ApplicationService.",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01ajr:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,10/Jan/22 10:18 AM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-13 09:59:52.68,"13/Jan/22 9:59 AM;60cc71a1d5dde800713a2124;Tested validation through the UI in UWT for both applicants and covers

Checked with Sam that SIT is happy.

Closing",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
triggerquote does not return quotes for a ci product if the application has both life and ci,NBJ-1074,43378,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Highest,Done,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,07/Jan/22 5:09 PM,11/Jan/22 1:47 PM,02/Feb/22 6:31 PM,10/Jan/22 8:25 PM,,,,,,,,,James Bartlett,Nathan Punzalan,,,,,,6139c49114e8340071fcda09,613f22fdff23ba00715469d1,,,,,,,,,,,,,Hidden from EXL,NBJ-1014,NBJ-1011,,,,,,,,,,,,,,,,,,,,,,,,,,,,,07/Jan/22 5:07 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;Aci_STANDARD_nonsmoker.json;https://gghltd.atlassian.net/secure/attachment/24874/Aci_STANDARD_nonsmoker.json,07/Jan/22 5:08 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;DefaultCiCover.json;https://gghltd.atlassian.net/secure/attachment/24871/DefaultCiCover.json,07/Jan/22 5:08 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;DefaultContactDetails.json;https://gghltd.atlassian.net/secure/attachment/24873/DefaultContactDetails.json,07/Jan/22 5:08 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;DefaultLifeCover.json;https://gghltd.atlassian.net/secure/attachment/24872/DefaultLifeCover.json,07/Jan/22 5:07 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;Young.json;https://gghltd.atlassian.net/secure/attachment/24875/Young.json,10/Jan/22 8:25 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;fixed_quote_in_application_dto.json;https://gghltd.atlassian.net/secure/attachment/24910/fixed_quote_in_application_dto.json,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* If a quick quote (triggerquote) is called against an application with a single applicant, and that applicant has a life and a ci cover, the quote response only contains a quote for the life product.

See application G000111305 in UWT.



*Business Impact:* probably showstopper if accurate but the case in question was created via the API so may not follow the front end flow.



*Steps to Reproduce:* 

* Create an application via the action service
* update the applicant with the ‘Young’ payload attached (application service)
* update the applicant’s underwriting with the ‘Aci_STANDARD_nonsmoker’ payload (underwriting service)
* add covers from the DefaultLifeCover and DefaultCiCover payloads (action service)
* update isAdvisedSale boolean flag to False (bff service)
* update policyStartDate date to tomorrow (bff service)
* add contact details for the applicant from the DefaultContactDetails payload (application service)
* call triggerquote for the application (action service)



*Expected Results:* triggerquote returns a quote for all covers

*Actual Result:* triggerquote only returns a quote for the life cover

*Version:* unknown",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwifm:t,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,07/Jan/22 5:09 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-10 14:39:49.527,"10/Jan/22 2:39 PM;613f22fdff23ba00715469d1;[~accountid:6139c49114e8340071fcda09] , I have tested this on the front-end as it was related to one of the tickets I was already looking at. Will leave it open for you, just in case you want to test anything on an api level.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Applicant data injection,NBJ-1073,43361,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,07/Jan/22 2:20 PM,01/Feb/22 12:20 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As an* operational underwriter
*So that* key underwriting information is clear in Salesforce
*I want* build information and occupation to be a first class concern on the applicant

{panel:bgColor=#deebff}
This story is about extracting Height, Weight, BMI and occupation etc. from the UW session and injecting into applicant data when available, an enhancement to the application dto - will be initially used by Salesforce
{panel}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,NBJ-1029,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* any application
*When* posting a salesforce event or retrieving applicant data
*Then* foreach applicant get the active enquiry

{noformat}GET /api/v1/underwriting/{applicantId}{noformat}

*Scenario* setting applicant data from ure enquiry

*Given* active enquiry for an applicant
*When* posting salesforce event containing applicant or retrieving applicant data
*Then* set <isHeightMetric> based on the current answer of <HEIGHT_UNITS> on the active enquiry

{code:json}| isHeightMetric | HEIGHT_UNITS |
| null           |              |
| true           | Metric       |
| false          | Imperial     |{code}

*And* set <isWeightMetric> based on the current answer of <WEIGHT_UNITS> on the active enquiry

{code:json}| isWeightMetric | WEIGHT_UNITS |
| null           |              |
| true           | Metric       |
| false          | Imperial     |{code}

*And* set <isWaistMetric> based on the current answer of <WAIST_UNITS> on the active enquiry

{code:json}| isWaistMetric | WAIST_UNITS |
| null          |              |
| true          | Metric       |
| false         | Imperial     |{code}

*And* set the <applicant field > to the answer to the <question> in the active enquiry

{code:json}| applicant field | question   |
| waist           | WAIST_SIZE | 
| occupation      | OCCUPATION |
| dressSize       | DRESS_SIZE |{code}

*And* set the <isExistingCoverLife> based on the current answer to <EXISTING_COVER_LIFE_GFS>

{noformat}| isExistingCoverLife | EXISTING_COVER_LIFE_GFS |
| null                |                         |
| true                | YES                     |
| false               | NO                      |{noformat}

*And* set the <isExistingCoverCi> based on the current answer to <EXISTING_COVER_CI_GFS>

{noformat}| isExistingCoverCi | EXISTING_COVER_CI_GFS |
| null              |                       |
| true              | YES                   |
| false             | NO                    |{noformat}

*And* set the <bmi> field to the max property of the <BMI> bucket on the activeEnquiry



{panel:bgColor=#deebff}
NB if any field is not set or is not present on the active enquiry set its value on the body of the event to null
{panel}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-125,,,,,,,,,,,,,,,,None,,"Update the applicant as part of the [https://gghltd.atlassian.net/wiki/spaces/NP/pages/2809757737/application+entity|https://gghltd.atlassian.net/wiki/spaces/NP/pages/2809757737/application+entity|smart-link] in the dto.


{noformat}""data"": {
    ""application"": {
        ...,
        ""applicants"": [
            {
                ...,
                ""isHeightMetric"": [boolean],
                ""isWeightMetric"": [boolean],
                ""bmi"": 21,
                ""waist"": 75,
                ""isWaistMetric"": [boolean],
                ""occupation"": [string],
                ""dressSize"": [integer],                    
                ""isExistingCoverLife"": [boolean], 
                ""isExistingCoverCi"": [boolean], 
                ...,
            },
            {...}
        ]
    }, ...
}{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwiaq:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,07/Jan/22 2:20 PM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Sprint 7 - Additional text not added to reasonsText from quickQuote service when enquiry for a postponed decision is sent,NBJ-1072,43336,,Bug,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Low,,Jim Houghton,60cc71a22bd21400692fd2af,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,07/Jan/22 12:01 PM,25/Jan/22 2:39 PM,02/Feb/22 6:31 PM,,,Parked Stories & Bugs,,,,,,,Jim Houghton,Nathan Punzalan,,,,,,60cc71a22bd21400692fd2af,613f22fdff23ba00715469d1,,,,,,,,,,,,,Hidden from EXL,NBJ-696,,,,,,,,,,NBJ-1068,,,,,,,,,,,,,,,,,,,,13/Jan/22 11:26 AM;nathan.punzalan;decisionResponse.txt;https://gghltd.atlassian.net/secure/attachment/25019/decisionResponse.txt,07/Jan/22 12:05 PM;nathan.punzalan;enquiryRequest (376efaab-e4ca-4be6-a618-af5ae98c1ed3).txt;https://gghltd.atlassian.net/secure/attachment/24860/enquiryRequest+%28376efaab-e4ca-4be6-a618-af5ae98c1ed3%29.txt,13/Jan/22 11:26 AM;nathan.punzalan;quickQuoteResponse.txt;https://gghltd.atlassian.net/secure/attachment/25018/quickQuoteResponse.txt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: 
Additional text not added to reasonsText from quickQuote service when enquiry for a postponed decision is sent. Additional text added to reasonsText should be: 

“However, we’ll be happy to reassess your situation \[postpone.text].”

Which is based on AC from [https://gghltd.atlassian.net/browse/NBJ-696|https://gghltd.atlassian.net/browse/NBJ-696|smart-link] .

Steps to Reproduce via API:

# Create application&applicant
# Patch applicant details
# Update enquiry with valid answers where a postponed decision would be expected. Example below:

[^enquiryRequest (376efaab-e4ca-4be6-a618-af5ae98c1ed3).txt]

4. Get a full decision (endpoint: \{\{decision_url}}/api/v1/decision/\{\{applicantId}}/product)

5. Get a quickQuote decision (endpoint: \{\{decision_url}}/api/v1/decision/\{\{applicantId}}/quickquote)

Expected Results: 
For postponed quickQuote decision responses, foreach productDecisions.postpones.text add an entry to reasonsText:

However, we’ll be happy to reassess your situation \[postpone.text].

Actual Result: 
Additional text not added to reasonsText from quickQuote service when enquiry for a postponed decision is sent. See examples below of reponses from both full product decision endpoint and quickQuote endpoint:
QuickQuote - 

[^quickQuoteResponse.txt]

Full Decision -

[^decisionResponse.txt]

",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,QA / UWT,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01byz:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,16/Dec/21 4:37 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-12 16:55:53.637,12/Jan/22 4:55 PM;60cc71a22bd21400692fd2af;[~accountid:613f22fdff23ba00715469d1] I have updated ruleset so please retest from scratch with a new URE session…,"12/Jan/22 5:45 PM;613f22fdff23ba00715469d1;[~accountid:60cc71a22bd21400692fd2af] , have retried and still not seeing the additional text in the reasonText for quickQuote. 

The latest build in UWE I can see and have used is the Guardian - Fix Postpone build, and the enquiryID I used for retest is 02da4c8d-e8f7-4d38-9b4a-b044debf2ee9.","13/Jan/22 4:12 PM;60cc71a22bd21400692fd2af;This has been moved to backlog, as is not a priority, I will update with further details",,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Quote fails for ACI cases,NBJ-1071,43335,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,High,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,07/Jan/22 11:44 AM,11/Jan/22 5:38 PM,02/Feb/22 6:31 PM,11/Jan/22 5:38 PM,,,,,,,,,Chris.Hibbert,Jon Reynolds,,,,,,60cc71a1d5dde800713a2124,616ee20e2097220071a975d2,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,10/Jan/22 1:29 PM;ug:117ea4bb-8992-4456-92e8-f3d84c2d6b41;image-20220110-132708.png;https://gghltd.atlassian.net/secure/attachment/24895/image-20220110-132708.png,10/Jan/22 1:29 PM;ug:117ea4bb-8992-4456-92e8-f3d84c2d6b41;image-20220110-132922.png;https://gghltd.atlassian.net/secure/attachment/24896/image-20220110-132922.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Quote looks like it fails 100% of the time if you have ACI or CI in an application.

*Steps to reproduce*

# Add a life (male, 15/09/1976, non-smoker)
# Add an ACI cover to the app (50,000 , level, 10 years)
# Trigger a quote

*No error is returned, just a 0 quote.* ",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwifm:r,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,07/Jan/22 11:44 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-10 13:29:32.8,"10/Jan/22 1:29 PM;616ee20e2097220071a975d2;[~accountid:60cc71a1d5dde800713a2124] Tested locally as part of fix for [https://gghltd.atlassian.net/browse/NBJ-1074|https://gghltd.atlassian.net/browse/NBJ-1074|smart-link] 

!image-20220110-132708.png|width=778,height=769!

rendered Quote:

!image-20220110-132922.png|width=484,height=384!",11/Jan/22 5:38 PM;60cc71a1d5dde800713a2124;Retested and all working again 🙂 ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Sprint 7 - Enquiries that give a postponed decision at quickQuote level are returning a 500 status,NBJ-1070,43331,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,07/Jan/22 10:25 AM,07/Jan/22 11:56 AM,02/Feb/22 6:31 PM,07/Jan/22 11:56 AM,,,,,,,,,Jim Houghton,Nathan Punzalan,,,,,,60cc71a22bd21400692fd2af,613f22fdff23ba00715469d1,,,,,,,,,,,,,Hidden from EXL,NBJ-696,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,07/Jan/22 10:25 AM;nathan.punzalan;enquiryRequest.txt;https://gghltd.atlassian.net/secure/attachment/24846/enquiryRequest.txt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue:

Enquiries that give a postponed decision at quickQuote level are returning a 500 status when calling the quickQuote service. James has built in a way to get a postponed decision at quickQuote level; to achieve this the enquiry must have the following values/attributes: 40 years old, height 1.83 and weight 155

Steps to Reproduce (via API): 

# Add application+applicant
# Patch applicant info
# Add cover
# Update enquiry where applicant is a 40 year old, height 1.83 and weight 155
Example below:

[^enquiryRequest.txt]

   5. Get quickQuote



Expected Results: 

A valid quickQuote response is shown with a decision showing Postponed.

Actual Result: 

quickQuote endpoint throws a 500 status.",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01a1j:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,07/Jan/22 10:25 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-07 11:45:31.537,07/Jan/22 11:45 AM;60cc71a22bd21400692fd2af;[~accountid:613f22fdff23ba00715469d1] - need to add in a postpone duration code for life decision.  I have added please retest,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Update application status on receipt of Salesforce Decision,NBJ-1069,43314,,Technical Story,Code Delivered,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Jason Hughes,613f60991370f00069033c68,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,07/Jan/22 9:33 AM,02/Feb/22 1:58 PM,02/Feb/22 6:31 PM,,,Foundation Release,,Sprint_6,,,"*As a* a manual underwriter
*So that* I am aware in Salesforce the application status
*I want* the application status to be updated based upon the rules here: [https://gghltd.atlassian.net/wiki/spaces/NP/pages/3065839660/DecisionService+-+encapsulating+underwriting+outcomes#Application-Status|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3065839660/DecisionService+-+encapsulating+underwriting+outcomes#Application-Status|smart-link] 

{panel:bgColor=#deebff}
manual underwriting decisions are all risk based decisions within applicant
{panel}",,Chris.Hibbert,Jim Houghton,,,,,,60cc71a1d5dde800713a2124,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,NBJ-842,NBJ-1100,,,,,,,,,,,,,,,,,,,NBJ-215,,,,,,,,,,,,,,,,,,,,,,"*Given* a single life application
*And* receipt of an *underwriting.applicant.decision* message from SalesForce
*When* the manual underwriting decision in the message is saved
*Then* update application.status to Decision

*Given* a dual life application
*And* any *underwriting.applicant.decision* (NBJ-819)
*And* *alternate life* has a Manual Uw decision or a URE STP decision ([i.e.|http://i.e.no] *no* risk decision equal to REFER or EVIDENCE_REQUIRED)
*When* Manual Uw decision successfully persisted
*Then* update application.status to Decision

*Given* a dual life application
*And* any *underwriting.applicant.decision* (NBJ 819)
*And* *alternate life* has *no* Manual Uw decision or a URE non-STP decision ([i.e.|http://i.e.no] risk decision equal to REFER or EVIDENCE_REQUIRED)
*When* Manual Uw decision successfully persisted
*Then* update application.status to Underwriting

*Full rules are defined here:* [https://gghltd.atlassian.net/wiki/spaces/NP/pages/3065839660/DecisionService+-+encapsulating+underwriting+outcomes#Application-Status|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3065839660/DecisionService+-+encapsulating+underwriting+outcomes#Application-Status|smart-link] ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-799,,,,,,,,,,,,,,,,None,,Simply update the application.status on receipt and successful persistence of a manual underwriting decision.,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zi0jd,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,Guardian Sprint 9,,,,,26/Nov/21 5:13 PM,,8.0,,,,,,,,,,,,,,,,,,Test that application.status is set to Decision or Underwriting,,,,,,,,,,,,,,,2022-01-17 09:53:28.448,"17/Jan/22 9:53 AM;60cc71a1d5dde800713a2124;(flag) Flag added

Needs design stuff to happen",21/Jan/22 8:15 AM;60cc71a1d5dde800713a2124;[~accountid:610c00d94e8d8d0069a20d6c]  - Unflagging on the basis that design stuff will happen when the ticket is picked up :),,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress
Sprint 7 - TPD text not returned from quickQuote service when disability definition is set to ACTIVITIES,NBJ-1068,43298,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,06/Jan/22 4:24 PM,10/Jan/22 9:45 AM,02/Feb/22 6:31 PM,10/Jan/22 9:45 AM,,,,,,,,,Jim Houghton,Jon Reynolds,Nathan Punzalan,,,,,60cc71a22bd21400692fd2af,616ee20e2097220071a975d2,613f22fdff23ba00715469d1,,,,,,,,,,,,Hidden from EXL,NBJ-700,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,06/Jan/22 4:29 PM;nathan.punzalan;decisionResponse.txt;https://gghltd.atlassian.net/secure/attachment/24829/decisionResponse.txt,06/Jan/22 4:29 PM;nathan.punzalan;enquiryRequest.txt;https://gghltd.atlassian.net/secure/attachment/24831/enquiryRequest.txt,07/Jan/22 5:44 PM;ug:117ea4bb-8992-4456-92e8-f3d84c2d6b41;image-20220107-174425.png;https://gghltd.atlassian.net/secure/attachment/24876/image-20220107-174425.png,06/Jan/22 4:29 PM;nathan.punzalan;quickQuoteResponse.txt;https://gghltd.atlassian.net/secure/attachment/24830/quickQuoteResponse.txt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: 
TPD text not returned from quickQuote service when disability definition is set to ACTIVITIES

Steps to Reproduce via API:

# Create application&applicant
# Patch applicant details
# Update enquiry with valid answers where user has selected both ci and TPD product and disability definition is set to ACTIVITIES
Example below:

[^enquiryRequest.txt]

   4. Get a full decision (endpoint: \{\{decision_url}}/api/v1/decision/\{\{applicantId}}/product)

   5. Get a quickQuote decision (endpoint: \{\{decision_url}}/api/v1/decision/\{\{applicantId}}/quickquote)

Expected Results: 
Text for TPD product is displayed in both full and quickQuote decision responses.

Actual Result: 
Full decision response shows tdp isIncluded and text and disability definition is set to ACTIVITIES as expected however additional text is not showing on the quickQuote response (expected text shown on [https://gghltd.atlassian.net/browse/NBJ-700|https://gghltd.atlassian.net/browse/NBJ-700]). See examples below:

[^decisionResponse.txt]
[^quickQuoteResponse.txt]

",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i019uf:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,Guardian Sprint 7,,,,,16/Dec/21 4:37 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-07 11:37:14.111,"07/Jan/22 11:37 AM;60cc71a22bd21400692fd2af;[~accountid:616ee20e2097220071a975d2] this issue appears to be purely restricted to DISDEF_TPD.  Basically the max property needs to be repopulated for QuickQuote so that the most significant disability definition is populated based on quick quote contributions.  Significance in the following order with the one at the top being most siginificant:

* Activities
* Own

For completeness, should apply this fix to all buckets with pattern DISDEF_*","07/Jan/22 5:44 PM;616ee20e2097220071a975d2;[~accountid:60cc71a22bd21400692fd2af] [~accountid:613f22fdff23ba00715469d1] - thanks both for your help in reproducing this defect. I have applied the logic (as explained in previous comment) locally and we commit chanegs on Monday but here is the response now 

!image-20220107-174425.png|width=863,height=765!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Get application with current decisions,NBJ-1067,43274,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,06/Jan/22 9:11 AM,18/Jan/22 10:55 AM,02/Feb/22 6:31 PM,10/Jan/22 4:07 PM,,Foundation Release,,Sprint_7,,,The front-end app needs to load an application with its decisions - let’s provide an API endpoint for this.,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,NBJ-957,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,10/Jan/22 4:07 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/24903/LivingDoc.html,,,,,,,,,,,,"*Given* an application with one or two applicants
*When* retrieving the application
*Then* the application is returned
*And* the current product decision for is returned for each applicant",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,"Add route to the Backend for Frontend Service.
_Note to dev: if you reckon this feature should go somewhere else, such as the ActionService, let’s discuss\!_

*Request*

{noformat}GET /api/v1/bff/applicationWithDecisions/{{applicationId}}{noformat}

*Command*

Coordinate calls to get the application and decisions:

* ApplicationService: {{GET /api/v1/application/{{applicationId}}}}
* For each applicant:
** DecisionService: {{GET /api/v1/decision/{{applicantId}}/product}}

*Response*

{code:json}{
  ""data"": {
    ""application"": ... Application DTO ... ,
    ""decisions"": [ 
      ... one ProductDecision DTO per applicant ... 
    ]
  }
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwifm:i,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,06/Jan/22 9:11 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
CCIC not making it into the quote document,NBJ-1066,43222,41612,Story bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,High,Done,Antony.Gorman,6149b13472728e006f9441d6,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,05/Jan/22 3:55 PM,14/Jan/22 9:24 AM,02/Feb/22 6:31 PM,14/Jan/22 9:24 AM,,,,,,,,,Antony.Gorman,Chris.Hibbert,,,,,,6149b13472728e006f9441d6,60cc71a1d5dde800713a2124,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"# Add a life
# Add a life cover
# Add a children’s CI
# Quote - check the quote document

Children’s CI is not being mapped into the quote document correctly.  Currently it doesnt appear at all.  I would suspect its to do with the change in mapping from a cover to being a childCover.",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i019dj:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,05/Jan/22 3:55 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-14 08:49:19.754,13/Jan/22 6:26 PM;60cc71a1d5dde800713a2124;[~accountid:6149b13472728e006f9441d6] - this isnt working in UWT.,14/Jan/22 8:49 AM;6149b13472728e006f9441d6;action service was explicitly not sending child covers to the document service for some reason. have ensure they get mapped into document requests now.,14/Jan/22 9:24 AM;60cc71a1d5dde800713a2124;Retested and now appearing\!,,,,,,,,,,,,,,,,,,,,,,,,,,,41612,Inherit CCIC values from parent cover,Done
No quote values returned for CCIC,NBJ-1065,43219,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Highest,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,05/Jan/22 3:46 PM,20/Jan/22 3:44 PM,02/Feb/22 6:31 PM,20/Jan/22 3:44 PM,,Foundation Release,,,,,"*As an* API User 
*I want* the quote details also returned on childCovers / riders
*So that* I can inform the end user of the premium and commission for the childCover/rider

h4. Current output for a quote with a childCover
{code:json}
quoteApplicants [
  {
    ""id"": ""b8fa7f16-cc0e-41a1-8de8-0a514befaf3f"",
    ""dateOfBirth"": ""1976-09-15T00:00:00"",
    ""gender"": ""male"",
    ""premium"": 14.34,
    ""quoteCovers"": [
      {
        ""id"": ""b5920fc7-a21b-4131-a4c4-a8cadff7abc2"",
        ""coverAmount"": 100000,
        ""childCovers"": [
          {
            ""id"": ""1410a8de-7f3d-4fb2-aa5b-2403362260e3"",
            ""productType"": ""Ccic"",
            ""coverType"": ""Level"",
            ""toAge"": null,
            ""term"": 11,
            ""coverAmount"": 25000
          }
        ],
        ""toAge"": null,
        ""term"": 11,
        ""productType"": ""Life"",
        ""coverType"": ""Level"",
        ""decision"": ""Standard Terms"",
        ""premium"": 9.86,
        ""unloadedPremium"": 9.86,
        ""initialCommission"": 224.81,
        ""initialEarningsPeriod"": 48,
        ""renewalCommission"": 0.25,
        ""lifeTimePremium"": 1301.52
      }
    ],
    ""quoteUnderwritingOutcomes"": [
      {
      // stuff
      }
    ],
    ""quoteDecisionModel"": {
      // stuff
    }
  }
]
{code}

h4. Expected output
{code:json}
quoteApplicants [
  {
    ""id"": ""b8fa7f16-cc0e-41a1-8de8-0a514befaf3f"",
    ""dateOfBirth"": ""1976-09-15T00:00:00"",
    ""gender"": ""male"",
    ""premium"": 14.34,
    ""quoteCovers"": [
      {
        ""id"": ""b5920fc7-a21b-4131-a4c4-a8cadff7abc2"",
        ""coverAmount"": 100000,
        ""childCovers"": [
          {
            ""id"": ""1410a8de-7f3d-4fb2-aa5b-2403362260e3"",
            ""productType"": ""Ccic"",
            ""coverType"": ""Level"",
            ""toAge"": null,
            ""term"": 11,
            ""coverAmount"": 25000,
            ""premium"": 4.48,
            ""unloadedPremium"": 4.48,
            ""initialCommission"": 112.41,
            ""initialEarningsPeriod"": 48,
            ""renewalCommission"": 0.13,
            ""lifeTimePremium"": 591.36
          }
        ],
        ""toAge"": null,
        ""term"": 11,
        ""productType"": ""Life"",
        ""coverType"": ""Level"",
        ""decision"": ""Standard Terms"",
        ""premium"": 9.86,
        ""unloadedPremium"": 9.86,
        ""initialCommission"": 224.81,
        ""initialEarningsPeriod"": 48,
        ""renewalCommission"": 0.25,
        ""lifeTimePremium"": 1301.52
      }
    ],
    ""quoteUnderwritingOutcomes"": [
      {
      // stuff
      }
    ],
    ""quoteDecisionModel"": {
      // stuff
    }
  }
]
{code}",,Chris.Hibbert,Jon Reynolds,,,,,,60cc71a1d5dde800713a2124,616ee20e2097220071a975d2,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,12/Jan/22 2:10 PM;ug:117ea4bb-8992-4456-92e8-f3d84c2d6b41;image-20220112-141011.png;https://gghltd.atlassian.net/secure/attachment/24968/image-20220112-141011.png,,,,,,,,,,,,"*Given:* An application containing a childCover
*When:* A quote is returned 
*Then*: The childCover is populated with the following values returned from the Lissia quote response for the childCover benefit line (the same as for full Covers):
- premium
- unloadedPremium
- initialCommission
- initialEarningsPeriod
- renewalCommission
- lifetimePremium

*Given:* An application containing a childCover
*When:* A quote is returned 
*Then*: The top level quote response data includes the childCover totals in the summed:
- initialCommission
- lifetimePremium
- premium

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"No quote values are returned for CCIC when quoting - so the UI cannot display prices to the adviser

Steps to reproduce:

# Add a life
# Add a life cover
# Add a children’s CI
# Quote

from [https://ggh-uwt-api.gghltest.co.uk/api/v1/actions/TriggerQuote/G000105963|https://ggh-uwt-api.gghltest.co.uk/api/v1/actions/TriggerQuote/G000105963]

{code:json}{
  ""data"": {
    ""id"": ""30257356-04f2-4e68-a1c3-5c6d8f276ed9"",
    ""quoteCreatedDate"": ""2022-01-05T15:23:52.1086202+00:00"",
    ""quoteAgeDate"": ""2022-01-05T00:00:00+00:00"",
    ""adviserAtFirmLocationId"": ""a0r0E000004pFFfQAM"",
    ""initialIndemnityPercentage"": 0,
    ""initialCommissionSacrificePercentage"": 0,
    ""initialCommission"": 1112.64,
    ""premium"": 43.27,
    ""lifetimePremium"": 4977.6,
    ""unloadedPremium"": 0,
    ""discount"": 0,
    ""quoteApplicants"": [
      {
        ""id"": ""da335c66-193a-4ff4-bc32-2ed8656c6556"",
        ""dateOfBirth"": ""1976-09-15T00:00:00"",
        ""gender"": ""male"",
        ""premium"": 43.27,
        ""quoteCovers"": [
          {
            ""id"": ""f143298e-2b70-4b7a-9103-0804f60da6cb"",
            ""coverAmount"": 600000,
            ""childCovers"": [
              {
                ""id"": ""2c32bff4-3f5a-4114-9dda-cf9cffd69976"",
                ""productType"": ""Ccic"",
                ""coverType"": ""Level"",
                ""toAge"": null,
                ""term"": 10,
                ""coverAmount"": 10000
              }
            ],
            ""toAge"": null,
            ""term"": 10,
            ""productType"": ""Life"",
            ""coverType"": ""Level"",
            ""premium"": 41.48,
            ""unloadedPremium"": 41.48,
            ""initialCommission"": 1112.64,
            ""initialEarningsPeriod"": 48,
            ""renewalCommission"": 1.04,
            ""lifeTimePremium"": 4977.6
          }
        ],
        ""quoteUnderwritingOutcomes"": [
          {
            ""productType"": ""life"",
            ""emRating"": null,
            ""permPMRating"": null,
            ""quoteExclusions"": []
          }
        ],
        ""quoteDecisionModel"": {
          ""applicantId"": ""da335c66-193a-4ff4-bc32-2ed8656c6556"",
          ""smokerStatus"": ""None in the last 5 years"",
          ""quoteDecisions"": [
            {
              ""productType"": ""Life"",
              ""emRating"": null,
              ""permPmRating"": null,
              ""decision"": ""Standard Terms"",
              ""decisionText"": ""Standard Terms"",
              ""reasons"": [
                ""Build""
              ],
              ""reasonText"": [
                ""We've offered Life Protection based on our standard premiums.""
              ],
              ""exclusions"": []
            }
          ]
        }
      }
    ]
  }
}{code}

You can see the parent cover has premium and commission values returned (41.48 premium) and the top level quote has a total premium (43.27), but no CCIC premium is returned.  I suspect that this is because of issues with it being a childCover.

Quote needs to return premium and commission values for the CCIC as well as the parent cover.",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwifm:v,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,Guardian Sprint 8,,,,,05/Jan/22 3:46 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-06 10:55:59.62,06/Jan/22 10:55 AM;616ee20e2097220071a975d2;[~accountid:60cc71a1d5dde800713a2124] - further to our conversation just now with Sam let’s introduce this as a user story so we know how to get child cover monetary values from Lissia Quote service,06/Jan/22 11:03 AM;616ee20e2097220071a975d2;[~accountid:60cc71a1d5dde800713a2124] - feel free to reassign back to me once you have this information so I can work on this as a priority,"12/Jan/22 2:09 PM;616ee20e2097220071a975d2;As an example {{curl --location --request POST 'https://ggh-uwt-api.gghltest.co.uk/api/v1/actions/TriggerQuote/G000105963'}}

!image-20220112-141011.png|width=707,height=765!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Sprint 7 | Decline decision - no cover shown and unable to offer terms text not shown on decision tab from a decline,NBJ-1064,43189,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,05/Jan/22 1:59 PM,06/Jan/22 4:05 PM,02/Feb/22 6:31 PM,06/Jan/22 4:05 PM,,,,,,,,,Justin.Smith,,,,,,,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,,Hidden from EXL,NBJ-206,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,05/Jan/22 1:59 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220105-135846.png;https://gghltd.atlassian.net/secure/attachment/24796/image-20220105-135846.png,05/Jan/22 1:59 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220105-135905.png;https://gghltd.atlassian.net/secure/attachment/24795/image-20220105-135905.png,06/Jan/22 4:04 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220106-160449.png;https://gghltd.atlassian.net/secure/attachment/24825/image-20220106-160449.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: No cover is being shown from a decline decision and when it is the ‘unable to offer terms’ text is not shown

Business Impact: ?

Steps to Reproduce: 

# Provide Client Details - Male, non smoker, not overweight
# Select a Life Cover
# Provide Contact Details
# Provide answers to the various questions - no illnesses
# On the General Health tab select the answer - 

_I've taken or been prescribed treatment for 4 weeks or more_ to the question - _Have any of these applied to you in the last 3 years? You don't need to include things you've already told us about_

 6. On the General Health tab enter 

_Test Enquiry Line_ to _What condition(s) have required treatment for 4 weeks or more?_

7. On the Test enquiry line tab select decline against _What decision do you want to apply for Life?_ 

8. Click on get decision

Expected Results: Cover on the decision screen with “Unable to offer terms” icon and text are shown (red icon)

Actual Result: No cover shown or cover shown without Unable to offer terms” icon and text are shown (red icon).  There is also a 500 error occurring on get application.

Version: N/A

!image-20220105-135846.png|width=1797,height=897!

!image-20220105-135905.png|width=1893,height=878!",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwiis:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,05/Jan/22 1:59 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Jan/22 4:04 PM;618bdfc5fba4d0006ad4853e;This looks fixed now.  Probably resolved by fixing the 500 error seen on quote decision

!image-20220106-160449.png|width=1266,height=683!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Underwriting Progress Updates on Decision Screen,NBJ-1063,43177,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,05/Jan/22 11:23 AM,01/Feb/22 12:43 PM,02/Feb/22 6:31 PM,,,,,Sprint_9,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-125,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space-bx,,,,,,,No,,1|i0193j:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,05/Jan/22 11:23 AM,,30.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,26/Jan/22 6:47 PM;60cc71a1d5dde800713a2124;I think this will end up a duplicate of [https://gghltd.atlassian.net/browse/NBJ-1281|https://gghltd.atlassian.net/browse/NBJ-1281|smart-link].  This is in design ready for the next sprint.  I’ll keep an eye on this ticket and delete when appropriate.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Multi-select lists blank all selected options briefly when new option is selected,NBJ-1062,43171,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Low,Done,Nathan Punzalan,613f22fdff23ba00715469d1,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,05/Jan/22 10:23 AM,27/Jan/22 2:16 PM,02/Feb/22 6:31 PM,27/Jan/22 2:16 PM,,Foundation Release,,,,,,,James Bartlett,Mike,Nathan Punzalan,,,,,6139c49114e8340071fcda09,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,613f22fdff23ba00715469d1,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* On a multi-select list (e.g. “Have your birth parents, brothers, or sisters had any of these before they were 65?“) select more than one option. After each selection is made, all selected options are blanked before the question is updated and all selections appear as expected. 

I assume this happens as the front end updates the underwriting session and displays the response.

*Business Impact:* Low but it’s annoying and if the underwriting service is slow it looks bad.

*Steps to Reproduce:* On a multi-select list (e.g. “Have your birth parents, brothers, or sisters had any of these before they were 65?“) select more than one option.

*Expected Results:* Selections should always remain selected, even during an underwriting session update.

*Actual Result:* Selections are removed during underwriting updates

*Version:* unknown",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,QA / UWT,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01bsb:li,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,05/Jan/22 10:23 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-26 09:38:35.717,"26/Jan/22 9:38 AM;613f22fdff23ba00715469d1;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5]  original issue has been fixed however when I select/deselect multiple options at a time, my answers randomly all get deselected. Although the issue happens randomly/intermittently it is quite easy to replicate, steps used:

# For any Multi-select list question, select multiple answers
# Deselect a few answers
# Repeat step 1-2 until you get the defect

Let me know if you need help replicating the issue as I was able to get it to happen quite a few times.
",26/Jan/22 9:48 AM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;Thanks [~accountid:613f22fdff23ba00715469d1] - Probably a race condition for answers being send and received back from the API. I’ll try and replicate and work out a fix.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Sprint 7 | Modify Enquiry Line and seeing errors when selecting and deselecting the decisions,NBJ-1061,43166,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,05/Jan/22 9:13 AM,26/Jan/22 7:59 AM,02/Feb/22 6:31 PM,21/Jan/22 5:11 PM,,Foundation Release,,,,,,,Chris.Hibbert,Justin.Smith,Mike,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-206,,,,,,,,,,"05/Jan/22 9:56 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;Untitled_ Jan 5, 2022 9_50 AM.mp4;https://gghltd.atlassian.net/secure/attachment/24784/Untitled_+Jan+5%2C+2022+9_50+AM.mp4",05/Jan/22 9:12 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-2022-01-05-09-12-15-167.png;https://gghltd.atlassian.net/secure/attachment/24778/image-2022-01-05-09-12-15-167.png,21/Jan/22 3:33 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220121-153337.png;https://gghltd.atlassian.net/secure/attachment/25289/image-20220121-153337.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: Errors are appearing on the enquiry line when I'm trying to select and deselect decisions

Business Impact: ?

Steps to Reproduce: 
1. Provide Client Details
2. Select a Cover
3. Provide Contact Details
4. Provide answers to the various questions - no illnesses
5. On the General Health tab select the answer - _I've taken or been prescribed treatment for 4 weeks or more_ to the question - _Have any of these applied to you in the last 3 years? You don't need to include things you've already told us about_
6. On the General Health tab enter _Test Enquiry Line_ to _What condition(s) have required treatment for 4 weeks or more?_
7. On the Test enquiry line tab select and deselect the _What decision do you want to apply for Life?_ and I'm seeing errors why trying to selecting and deselecting

!image-2022-01-05-09-12-15-167.png|width=200,height=183!

 

Expected Results: No errors to occur when selecting a decision

Actual Result: Errors occurring when selecting and deselecting the decisions

Version: N/A",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01cad:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,Guardian Sprint 8,,,,,05/Jan/22 9:13 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-21 12:50:20.227,"05/Jan/22 9:57 AM;618bdfc5fba4d0006ad4853e;[~accountid:6139c49114e8340071fcda09] anything else to add on this?

FYI [~accountid:60cc71a1d5dde800713a2124] ",21/Jan/22 12:50 PM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;Hi [~accountid:618bdfc5fba4d0006ad4853e] I’ve managed to recreate this. It looks like a race condition when you check and uncheck boxes too quickly before being resolved by the API - I’ll put in a fix to prevent this.,"21/Jan/22 3:33 PM;618bdfc5fba4d0006ad4853e;[~accountid:60cc71a1d5dde800713a2124] it doesn’t look like this is deployed yet. 

!image-20220121-153337.png|width=1048,height=704!","21/Jan/22 3:55 PM;60cc71a1d5dde800713a2124;[~accountid:618bdfc5fba4d0006ad4853e] - sorry, asked for another deploy.  I’ll let you know when done.",21/Jan/22 5:11 PM;618bdfc5fba4d0006ad4853e;This looks good.  Thanks [~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] ,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Update pre-underwriting declaration,NBJ-1060,42820,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,23/Dec/21 10:38 AM,18/Jan/22 11:38 AM,02/Feb/22 6:31 PM,18/Jan/22 11:03 AM,,Foundation Release,,,,,"*As an* advisor 
*I want* the pre-underwriting declaration updated
*So that* I know what the important information is

!Screenshot 2021-12-23 at 10.41.01.png|width=1480,height=876!",,Chris.Hibbert,Justin.Smith,,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,23/Dec/21 10:41 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-23 at 10.41.01.png;https://gghltd.atlassian.net/secure/attachment/24555/Screenshot+2021-12-23+at+10.41.01.png,06/Jan/22 3:15 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220106-151426.png;https://gghltd.atlassian.net/secure/attachment/24821/image-20220106-151426.png,18/Jan/22 11:38 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220118-113852.png;https://gghltd.atlassian.net/secure/attachment/25166/image-20220118-113852.png,,,,,,,,,,"*Given*: An application
*Then*: The pre-underwriting declaration is updated
*and*: the font sizes are correct (given the first paragraph is slightly bigger font size)

{panel:title=Important Message}
Please take care when answering the following questions to make sure they’re accurate. If not, you risk your client’s cover being cancelled or when we assess a claim, you risk us paying a reduced amount or nothing at all.

Your client doesn’t need to tell us the results of genetic test results unless their existing life cover and application(s) total more than £500,000. Above that limit, your client only needs to tell us the result of genetic test(s) for Huntington’s disease. They can choose to tell us about any negative genetic test result which might enable us to offer better terms.
{panel}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i016y7:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,Guardian Sprint 8,,,,,23/Dec/21 10:38 AM,,1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-06 15:15:17.866,"06/Jan/22 3:15 PM;618bdfc5fba4d0006ad4853e;[~accountid:60cc71a1d5dde800713a2124] the text looks fine.  The header is Declaration and not Important Message.

!image-20220106-151426.png|width=950,height=541!

Are you ok with this?

I have updated the automation test with the new text.","06/Jan/22 5:13 PM;60cc71a1d5dde800713a2124;[~accountid:618bdfc5fba4d0006ad4853e]  - no, it should be as specified “Important Message”",06/Jan/22 5:15 PM;618bdfc5fba4d0006ad4853e;Thanks [~accountid:60cc71a1d5dde800713a2124].  ,18/Jan/22 11:03 AM;618bdfc5fba4d0006ad4853e;This is good.  I have updated the automation test.  Closing.,"18/Jan/22 11:38 AM;618bdfc5fba4d0006ad4853e;!image-20220118-113852.png|width=1896,height=880!",,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Same address - handle on screen question for life 2,NBJ-1059,42764,,Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Mike,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,22/Dec/21 10:02 AM,31/Jan/22 1:15 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As an* adviser
*So that* I can tell the system to reuse the other applicants address
*I want* the ‘use same address’ functionality to work",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given*: An application with 2 applicants
*When*: viewing the Contact Details screen
*Then*: for the 2nd applicant we ask the question:
- Do you want to use the same address as <applicant 1 firstname>? Yes/No

*Given*: A 2nd applicant
*When*: The same address question is answered No
*Then*: An address is prompted for applicant 2 (including postcode lookup)
*and*: the entered address is persisted against applicant 2

*Given*: A 2nd applicant
*When*: The same address question is answered Yes or unanswered
*Then*: no address is prompted for the applicant
*and*: sameAddressApplicantId is populated on applicant 2 with applicant 1’s id
*and*: applicant 1’s address is persisted against applicant 2

*Given*: a 2nd applicant
*When*: Hitting continue
*Then*: the full address details are persisted on applicant 2 (regardless of how the same address questions is answered)

*Given*: A 2nd applicant with sameAddressApplicantId populated
*When*: applicant 1’s address is updated
*Then*: applicant 2s persisted address is also updated",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,Impediment,,,,,,,None,,front end will need to set applicant 2’s address - back end on holiday.,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwie7:x,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,22/Dec/21 10:02 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Add prompt on delete of client,NBJ-1058,42761,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,22/Dec/21 9:02 AM,21/Jan/22 9:17 AM,02/Feb/22 6:31 PM,21/Jan/22 9:17 AM,,Foundation Release,,,,,"*As an* advisor 
*I want* a prompt when I am deleting a client
*So that* I dont accidentally do it\!

Add prompt

Are you sure you want to remove this client?",,Chris.Hibbert,Justin.Smith,Mike,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given*: An application with applicants
*When*: The user clicks to remove an applicant
*Then*: The user is prompted “Are you sure you want to remove this client?”
*and*: Clicking Yes will remove the client
*and*: Clicking No will not remove the client",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,* Same dialog style as updated cover delete NBJ-1051,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i016l3:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,Guardian Sprint 8,,,,,22/Dec/21 9:02 AM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-18 14:04:08.574,"18/Jan/22 2:04 PM;618bdfc5fba4d0006ad4853e;This looks good but we could do with some modal data test ids as we are using - 

{noformat}   //Modal
    modalContainer = 'div.MuiModal-root div.MuiBox-root'
    modalYesButton = 'div.MuiModal-root div.MuiBox-root button.MuiButton-containedSizeLarge'
    modalNoButton = 'div.MuiModal-root div.MuiBox-root button.MuiButton-outlinedSizeLarge'
    modalSaveButton = 'div.MuiModal-root div.MuiBox-root button.MuiButton-containedSizeLarge'
    modalCancelButton = 'div.MuiModal-root div.MuiBox-root button.MuiButton-textSizeSmall'{noformat}

for all the modals which isn’t great.  Sorry [~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] any chance you could add these in?","18/Jan/22 3:12 PM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;[~accountid:618bdfc5fba4d0006ad4853e] - going to add the following test ids as all modals are a single component:

{{modalContainer}}
{{modalCancelButton}}
{{modalNoButton}}
{{modalConfirmButton}}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Add/Update offerCreationDate and offerExpiryDate when app set to decision,NBJ-1057,42755,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,21/Dec/21 5:48 PM,20/Jan/22 5:05 PM,02/Feb/22 6:31 PM,20/Jan/22 5:05 PM,,Foundation Release,,,,,"*As an* API User
*I want* to know the date the latest offer was made and when it expires
*So that* I can present the right information to users

Each time an application reaches the decision state, the offerCreateDate is updated.  The offerExpiryDate updates on specific scenarios…

Decision expiry - the Adviser has 30 / 90 days to purchase the covers once a proceedable offer has been returned. If an Adviser chooses to add an additional disclosure or cover, the Decision expiry is unchanged. Post decision immediate cover follows this pattern and you only get 14 days from the first decision.

We retain the 90 day expiry at decision if the mortgage related question is answered Yes. Any changes to the mortgage related question post original decision do not change the expiry date.

As now - if an Adviser adds an additional disclosure which requires manual underwriting, the decision expiry is unchanged when manual underwriting completes unless the expiry is less than 7 days / in the past. In this scenario, it is updated to 7 days from the day the manual underwriting decision is made.",,Chris.Hibbert,James Bartlett,,,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,,,,,,,,,,,,,Hidden from EXL,NBJ-1045,,,,,,,,,,,NBJ-1114,,,,,,,,,,,,,,,,,,,14/Jan/22 1:26 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/25091/LivingDoc.html,,,,,,,,,,,,"*Given*: an application
*When*: the application state is updated to decision
*Then*: the offerCreationDate is set to todays date in UTC

*Given*: an application
*When*: the application state is updated to decision
*and*: at least 1 cover is standard or non-standard
*and*: the offerExpiryDate has not yet been set
*Then*: the offerExpiryDate is set to:

||isMortgageRelated||offerExpiryDate||
|true|today+90days|
|false|today+30days|

*Given*: an application
*When*: the application state is updated to decision following a URE decision
*and*: the offerExpiryDate has already been set
*Then*: the offerExpiryDate is unchanged

*Given*: A request for the application DTO
*Then*: offerExpiryDate and offerCreationDate are included",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-122,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih1:i,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,Guardian Sprint 8,,,,,21/Dec/21 5:48 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-13 11:55:31.9,13/Jan/22 11:55 AM;6139c49114e8340071fcda09;offer expiry date is also set on decline/postpone but [~accountid:60cc71a1d5dde800713a2124]  and [~accountid:6061ac5d00b79f0070aa4ad3]  agreed that was OK.,"14/Jan/22 10:37 AM;6139c49114e8340071fcda09;(flag) Flag added

need NBJ-897 fixed before I test this",14/Jan/22 1:26 PM;6139c49114e8340071fcda09;Can only close off once I’ve done some quick checks on Monday.,"17/Jan/22 4:29 PM;6139c49114e8340071fcda09;Looks like offerCreationDate is not changed if state is changed subsequently to the first decision, but I'm waiting for help to confirm.","18/Jan/22 10:57 AM;60cc71a1d5dde800713a2124;[~accountid:6149b160fac3ce0069d80d37]  - to confirm, the intention of a/c 1 is that hte offerCreationDate is updated to todays date every time the application status is updated to decision.",,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Backend validation of contact details,NBJ-1056,42737,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Low,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,21/Dec/21 1:05 PM,05/Jan/22 11:09 AM,02/Feb/22 6:31 PM,,,,,Sprint_11,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i016fr:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,21/Dec/21 1:05 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Add underwriting panel when in underwriting state,NBJ-1055,42733,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,21/Dec/21 11:49 AM,14/Jan/22 10:35 AM,02/Feb/22 6:31 PM,14/Jan/22 10:35 AM,,Foundation Release,,,,,"*As an* advisor 
*I want* an information panel on the decision screen when I have a referred cover
*So that* I know what the next steps are

!Screenshot 2021-12-21 at 12.45.18.png|width=1246,height=774!

There will be further stories for this, as we establish the data to show here.",,Chris.Hibbert,Justin.Smith,,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,14/Jan/22 10:34 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;NBJ-1055.docx;https://gghltd.atlassian.net/secure/attachment/25067/NBJ-1055.docx,21/Dec/21 12:45 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-21 at 12.45.18.png;https://gghltd.atlassian.net/secure/attachment/24521/Screenshot+2021-12-21+at+12.45.18.png,13/Jan/22 11:56 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220113-114745.png;https://gghltd.atlassian.net/secure/attachment/25027/image-20220113-114745.png,13/Jan/22 11:56 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220113-115532.png;https://gghltd.atlassian.net/secure/attachment/25026/image-20220113-115532.png,13/Jan/22 11:57 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220113-115708.png;https://gghltd.atlassian.net/secure/attachment/25028/image-20220113-115708.png,13/Jan/22 12:09 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220113-120900.png;https://gghltd.atlassian.net/secure/attachment/25029/image-20220113-120900.png,13/Jan/22 8:42 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220113-204227.png;https://gghltd.atlassian.net/secure/attachment/25048/image-20220113-204227.png,13/Jan/22 9:09 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220113-204700.png;https://gghltd.atlassian.net/secure/attachment/25050/image-20220113-204700.png,13/Jan/22 9:09 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220113-210818.png;https://gghltd.atlassian.net/secure/attachment/25049/image-20220113-210818.png,14/Jan/22 10:34 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220114-103215.png;https://gghltd.atlassian.net/secure/attachment/25068/image-20220114-103215.png,,,"AC1

*Given*: An application with a status of underwriting
*When*: Displaying the decision screen
*Then*: the “We’re underwriting your application” panel is shown:

{panel:bgColor=#deebff}
*We're underwriting your application*

We need further information before we can make a decision, see below for the latest underwriting updates.
In the meantime, please check their eligibility for +Immediate Cover+.
{panel}

*and*: Immediate Cover links to [https://adviser.guardian1821.co.uk/immediate-cover/|https://adviser.guardian1821.co.uk/immediate-cover/|smart-link] 

AC2

*Given*: An application with a status of underwriting
*When*: Displaying the underwriting panel
*Then*: each client in the application is listed


AC3
*Given*: A client listed in the underwriting panel
*When*: the client does not have any covers that are referred (refer or evidence)
*and:* the client does not only have declined or postponed covers
*Then*: the “Terms offered - see details below.” note is shown with a tick

AC4

*Given*: A client listed in the underwriting panel
*When*: the client has any covers that are referred (refer or evidence)
*Then*: the “We need further information for John before we make a decision. Once we’ve begun underwriting, progress updates will be displayed here.” text is shown (with no tick)
*and*: the Note box with “We send reminders for GP and Consultant’s reports every week.” is shown",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-122,,,,,,,,,,,,,,,,None,,* Lots of future stories about the underwriting alerts shown,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i015rk:k,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,21/Dec/21 11:49 AM,,5.0,,,,,,,,,,,,,,,,,,"Fake events added to the list for now, so you can see what it looks like.",,,,,,,,,,,,,,,2022-01-13 11:56:56.51,"13/Jan/22 11:56 AM;618bdfc5fba4d0006ad4853e;AC1 is good

!image-20220113-114745.png|width=1559,height=590!

AC2 is good

!image-20220113-115532.png|width=1550,height=950!

AC3 is good 

<will put the screenshot here>



AC4 both underwriting - due to refer.  

!image-20220113-115708.png|width=1550,height=950!

AC4 - 2 Refer and 1 Standard.  Not sure this is correct as I get standard terms on one cover but not on the others.

AC4 states - 

*Given*: A client listed in the underwriting panel
*When: the client has any covers that are referred (refer or evidence)*
*Then*: the “We need further information for John before we make a decision. Once we’ve begun underwriting, progress updates will be displayed here.” text is shown (with no tick)
*and*: the Note box with “We send reminders for GP and Consultant’s reports every week.” is shown

I don’t see this.  [~accountid:60cc71a1d5dde800713a2124] I do get offered a cover but the other 2 I’m referred on.  What should I see here?

!image-20220113-120900.png|width=1616,height=1237!",13/Jan/22 12:55 PM;60cc71a1d5dde800713a2124;[~accountid:618bdfc5fba4d0006ad4853e]  - this is the text that should appear when there are no underwriting alerts.  [~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5]  - whats the easiest way to see this?,13/Jan/22 1:29 PM;618bdfc5fba4d0006ad4853e;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] AC4 failing when there is a standard decision and an underwriting decision.  See comment below.,"13/Jan/22 8:42 PM;618bdfc5fba4d0006ad4853e;AC4 looks good - 

!image-20220113-204227.png|width=915,height=898!

!image-20220113-204700.png|width=695,height=927!

However AC3 doesn’t look correct now. When one client has got a referral and the other hasn’t then I was expecting to get terms (*Then*: the “Terms offered - see details below.” note is shown with a tick) on the client that is ok

!image-20220113-210818.png|width=614,height=833!","14/Jan/22 10:34 AM;618bdfc5fba4d0006ad4853e;I believe this is ok now.

[~accountid:60cc71a1d5dde800713a2124] Postpone and decline have no text to say anything about the outcome just a under able to offer terms.  I guess this is because nothing else can be done with the cover.  The zero premium is also doing weird stuff against the name which I will add to the ticket already raised on the quote tab.



[^NBJ-1055.docx]



!image-20220114-103215.png|width=762,height=504!

Marking as closed.",,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Move child ci parent cover based on declined underwriting decisions,NBJ-1054,42730,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,21/Dec/21 11:08 AM,02/Feb/22 4:47 PM,02/Feb/22 6:31 PM,,,Foundation Release,,Sprint_10,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i016e7:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,21/Dec/21 11:08 AM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Add warning on declined/postponed covers on the quote screen,NBJ-1053,42715,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,20/Dec/21 5:33 PM,21/Jan/22 12:08 PM,02/Feb/22 6:31 PM,21/Jan/22 12:08 PM,,Foundation Release,,,,,"*As an* advisor 
*I want* to know that declined covers need to be removed
*So that* I can update and progress my application

!Screenshot 2021-12-21 at 09.28.45.png|width=1361,height=590!",,Chris.Hibbert,Justin.Smith,Mike,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,21/Dec/21 9:29 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-21 at 09.28.45.png;https://gghltd.atlassian.net/secure/attachment/24516/Screenshot+2021-12-21+at+09.28.45.png,20/Jan/22 5:44 PM;ug:40c0a037-60a5-47d1-812c-a831d94ce168;Screenshot 2022-01-20 at 17.43.20.png;https://gghltd.atlassian.net/secure/attachment/25249/Screenshot+2022-01-20+at+17.43.20.png,20/Jan/22 5:28 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220120-171541.png;https://gghltd.atlassian.net/secure/attachment/25247/image-20220120-171541.png,20/Jan/22 5:28 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220120-171707.png;https://gghltd.atlassian.net/secure/attachment/25248/image-20220120-171707.png,21/Jan/22 12:07 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220121-120638.png;https://gghltd.atlassian.net/secure/attachment/25278/image-20220121-120638.png,21/Jan/22 12:08 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220121-120738.png;https://gghltd.atlassian.net/secure/attachment/25279/image-20220121-120738.png,,,,,,,"*Given*: An application
*When*: the quick quote returns a postponed or declined cover (Unable to offer terms)
*Then*: A top level error message is shown:

Title: Unable to offer terms
Text: Before you can apply, you need to remove any covers where we are unable to offer terms.
*and:* the apply button is disabled
*and*: the continue button on the contact details screen is disabled",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01bsb:p,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,20/Dec/21 5:33 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-20 17:28:42.742,"20/Jan/22 5:28 PM;618bdfc5fba4d0006ad4853e;Hi [~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] if possible it would be good to get the test data ids for the message 

!image-20220120-171541.png|width=1851,height=939!

If not I can use css .MuiAlert-message

Also, I noticed one of our existing tests is failing as can’t find the decline test data id

I think this is something you put in for [~accountid:613f22fdff23ba00715469d1] 

!image-20220120-171707.png|width=1914,height=1024!

Otherwise this actual ticket is fine.","20/Jan/22 5:44 PM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;[~accountid:618bdfc5fba4d0006ad4853e] Adding these for you now - there’s a datatestid for declined here:

!Screenshot 2022-01-20 at 17.43.20.png|width=1581,height=941!","21/Jan/22 12:08 PM;618bdfc5fba4d0006ad4853e;This is all good.  Automation tests updated with the new testids - 

!image-20220121-120638.png|width=566,height=60!

!image-20220121-120738.png|width=1803,height=977!



Closing.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Contact details styling updates,NBJ-1052,42713,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,20/Dec/21 4:46 PM,27/Jan/22 12:44 PM,02/Feb/22 6:31 PM,27/Jan/22 12:44 PM,,Foundation Release,,,,,"*As an* advisor 
*I want* the latest labels on the contact details screen
*So that* I can answer the questions and understand them 



* Update customer privacy policy style on contact details screen
* Change customer labels to be customer name
* “Use postcode lookup” in gold not “Use post code look up” in black
* “Confirm email” not “Confirm email address”
* Address not Add postal address
* Email help text changed
* “Address 1” not “Address One” etc.
* Town/city not Town/City
* Postcode not post code
* Mortgage cover not Mortgage Details
* “Is any of the cover in this application associated to a new or existing mortgage?“ rather than “Are any of the covers related to a new or existing mortgage?”",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given*: An application
*When*: On the contact details page
*Then*: The privacy header reads:

{panel:bgColor=#eae6ff}
You're entering personal and sensitive client data in this application. Your terms of business states you have consent from your client to give us their data. Please make sure your client understands we'll handle their data in line with our +Customer Privacy Policy+.
{panel}

*and*: Customer Privacy Policy is a link to [https://guardian1821.co.uk/privacy-policy/|https://guardian1821.co.uk/privacy-policy/|smart-link] 

*Given*: An application
*When*: On the contact details page
*Then*: the per life contact details sections are labelled with the customer’s full name (e.g. Chris Hibbert rather than Chris’s Contact Details ) (x)
*and*: the address section is labelled “Address” (Not ‘add postal address’) (/)
*and*: the contact details labels are updated to be:

* Confirm email (not Confirm email address) (/)
* Address 1 (not Address One) (/)
* Address 2 (not Address Two) (/)
* Address 3 (not Address Three) (/)
* Town/city (note the lower case c on city) (/)
* Postcode (all one word) (/)

*Given*: An application
*When*: On the contact details page
*Then*: the help text for email addresses reads

{panel:bgColor=#eae6ff}
We'll use this email address to set-up an online account for your client to access their policy details.
{panel}

*Given*: An application with an address entered
*When*: showing the link to re-use the postcode lookup
*Then*: the link should be in gold and labelled “Use postcode lookup” (not ‘use post code look up’) (/)

*Given*: An application
*When*: On the contact details page
*Then*: the heading for the Mortgage related question is “Mortgage cover” (not ‘Mortgage Details’)
and: the question is worded:

{panel:bgColor=#eae6ff}
Is any of the cover in this application associated to a new or existing mortgage?
{panel}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01b7f:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,Guardian Sprint 8,,,,,20/Dec/21 4:46 PM,,1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Jan/22 3:06 PM;60cc71a1d5dde800713a2124;Been marked as deployed, but not seeing any changes in UWT.","13/Jan/22 6:38 PM;60cc71a1d5dde800713a2124;a/c 1 - not done

a/c 2 - part complete

a/c 3 - not done

a/c 4 - complete

a/c 5 - not done","27/Jan/22 12:44 PM;60cc71a1d5dde800713a2124;a/c 1 and a/c 2 now complete
a/c 5 complete

a/c 3 complete",,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
"Change cancel button to ""No"" on delete cover confirmation",NBJ-1051,42712,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,20/Dec/21 4:45 PM,06/Jan/22 1:38 PM,02/Feb/22 6:31 PM,06/Jan/22 1:38 PM,,Foundation Release,,,,,"*As an* advisor 
*I want* a no button on the prompt to delete a cover
*So that* I know how to prevent my cover being deleted 

!Screenshot 2021-12-21 at 09.20.48.png|width=869,height=236!",,Chris.Hibbert,Justin.Smith,Sam Gamble,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,21/Dec/21 9:21 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-21 at 09.20.48.png;https://gghltd.atlassian.net/secure/attachment/24515/Screenshot+2021-12-21+at+09.20.48.png,06/Jan/22 11:29 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220106-112857.png;https://gghltd.atlassian.net/secure/attachment/24818/image-20220106-112857.png,,,,,,,,,,,"*Given*: An application
*When*: displaying the remove cover confirmation dialog
*Then*: there is no cancel dialog button (top right x)
*and*: the available options are “No” and “Yes”",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i016a7:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,20/Dec/21 4:45 PM,,1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-06 11:30:01.387,"06/Jan/22 11:30 AM;618bdfc5fba4d0006ad4853e;Hi [~accountid:6139c4f3e2a0d60069cf8994] is this change in? Looks like we still have the old dialog - 

!image-20220106-112857.png|width=649,height=185!

Maybe it is not fully deployed yet.","06/Jan/22 12:07 PM;618bdfc5fba4d0006ad4853e;Hi [~accountid:610c00d94e8d8d0069a20d6c] looks like I moved this to deployed which was one step to far 🙂 

It isn’t in the environment as yet.  Pushing it back to you and resetting the status.

Thanks",06/Jan/22 1:09 PM;610c00d94e8d8d0069a20d6c;[~accountid:618bdfc5fba4d0006ad4853e] This is deployed now it is,"06/Jan/22 1:38 PM;618bdfc5fba4d0006ad4853e;This is all good.  I have updated the automation tests to -

# Removed the test to cancel modal using the x element
# Click on ‘No’ instead of ‘Cancel’
# Checked modal did not exist after clicking on ‘No’ or ‘Yes’",,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Misc text updates,NBJ-1050,42710,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,20/Dec/21 4:42 PM,07/Jan/22 11:55 AM,02/Feb/22 6:31 PM,07/Jan/22 11:55 AM,,Foundation Release,,,,,"*As an* advisor 
*I want* the latest labels on things
*So that* I can understand what is going on 

* Update “surname” label to “Last name” on quote screen
* Application ref → Guardian ref in summary panel
* Quote Valid Text: → Valid until: in summary panel
* “Thank you for completing the questions for this application. We need further information before we can make a decision in the meantime, please check to see if this client(s) is eligible for immediate cover.” in summary panel on decision screen to be removed.",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given*: An application
*When*: Displaying the client details screen
*Then*: The label for a clients last name is “Last name” (currently “Surname”)

*Given*: An application
*When*: Displaying the summary panel
*Then*: The label for the app reference is “Guardian ref:” (currently “Application ref:”)
*and*: The label for the expiry date is “Valid until:” (currently “Quote Valid Text”)

*Given*: An application
*When*: Displaying the summary panel on the decision screen
*Then*: The “Thank you for completing the questions for this application. We need further information before we can make a decision in the meantime, please check to see if this client(s) is eligible for immediate cover.” text is removed.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i0169r:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,20/Dec/21 4:42 PM,,1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,07/Jan/22 11:55 AM;60cc71a1d5dde800713a2124;Minor text changes (/),,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Show children's CI term/until after adding to app on quote and decision screens,NBJ-1049,42706,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,20/Dec/21 4:34 PM,19/Jan/22 4:07 PM,02/Feb/22 6:31 PM,19/Jan/22 4:07 PM,,Foundation Release,,,,,"*As an* advisor 
*I want* to see the Child CI term
*So that* I know how long it will last

!Screenshot 2021-12-21 at 10.53.57.png|width=1173,height=179!",,Andy Green,Chris.Hibbert,Mike,,,,,6061ac5d00b79f0070aa4ad3,60cc71a1d5dde800713a2124,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,21/Dec/21 10:54 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-21 at 10.53.57.png;https://gghltd.atlassian.net/secure/attachment/24518/Screenshot+2021-12-21+at+10.53.57.png,17/Jan/22 5:53 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2022-01-17 at 17.51.01.png;https://gghltd.atlassian.net/secure/attachment/25161/Screenshot+2022-01-17+at+17.51.01.png,17/Jan/22 5:53 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2022-01-17 at 17.51.56.png;https://gghltd.atlassian.net/secure/attachment/25160/Screenshot+2022-01-17+at+17.51.56.png,,,,,,,,,,"*Given*: A child CI cover
*When*: Displaying the cover on the quote or decision screen
*Then*: The inherited term or until age is displayed read only after the cover amount",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i0168v:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,Guardian Sprint 8,,,,,20/Dec/21 4:34 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-17 17:41:20.572,17/Jan/22 5:23 PM;60cc71a1d5dde800713a2124;Oddly this is coming out in *bold* when it shouldnt be,17/Jan/22 5:41 PM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;[~accountid:60cc71a1d5dde800713a2124] I’ve kept it consistent with the other cover output that’s shown on the decision screen. It’s the same cover item display component.,"17/Jan/22 5:53 PM;60cc71a1d5dde800713a2124;[~accountid:6061ac5d00b79f0070aa4ad3] - I dont think this should be bold on the quote screen.

*Quote Screen:*

!Screenshot 2022-01-17 at 17.51.01.png|width=1163,height=193!

*Decision Screen*

!Screenshot 2022-01-17 at 17.51.56.png|width=1169,height=177!",18/Jan/22 11:32 AM;6061ac5d00b79f0070aa4ad3;I agree. I don’t think it should be bold.,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Update footer,NBJ-1047,42699,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,20/Dec/21 2:49 PM,18/Jan/22 10:46 AM,02/Feb/22 6:31 PM,18/Jan/22 10:46 AM,,Foundation Release,,,,,"*As an* advisor 
*I want* the footer updated
*So that* I have the right phone number and updated text

!Screenshot 2021-12-20 at 16.04.31.png|width=1492,height=396!

Note: Updated telephone number (current one in UWT is wrong) and updated text",,Chris.Hibbert,Justin.Smith,,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,20/Dec/21 4:04 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-20 at 16.04.31.png;https://gghltd.atlassian.net/secure/attachment/24503/Screenshot+2021-12-20+at+16.04.31.png,18/Jan/22 10:46 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220118-104558.png;https://gghltd.atlassian.net/secure/attachment/25163/image-20220118-104558.png,,,,,,,,,,,"*Given*: An application
*Then*: The footer is updated to the latest designs
*and*: the telephone number listed is 0808 133 1821",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i0167j:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,Guardian Sprint 8,,,,,20/Dec/21 2:49 PM,,1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-18 10:46:03.644,05/Jan/22 8:02 AM;60cc71a1d5dde800713a2124;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5]  - reworking this one as the font size looks incorrect to me (too small),"18/Jan/22 10:46 AM;618bdfc5fba4d0006ad4853e;All good.  Have updated automation tests.

!image-20220118-104558.png|width=1165,height=637!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Move client details help text to be on click,NBJ-1046,42698,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,veronika.cole,5dfb48a2d501d70cb60120b4,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,20/Dec/21 2:30 PM,20/Jan/22 9:23 AM,02/Feb/22 6:31 PM,20/Jan/22 9:23 AM,,Foundation Release,,,,,"*As an* advisor 
*I want* the help text on click rather than all the time
*So that* I can easily see the whole screen at a glance

!Screenshot 2021-12-20 at 14.43.14.png|width=1257,height=814!",,Chris.Hibbert,veronika.cole,,,,,,60cc71a1d5dde800713a2124,5dfb48a2d501d70cb60120b4,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,20/Dec/21 2:43 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-20 at 14.43.14.png;https://gghltd.atlassian.net/secure/attachment/24481/Screenshot+2021-12-20+at+14.43.14.png,,,,,,,,,,,,"*Given*: An application
*When*: viewing the client details screen
*Then*: help text for both the gender and smoker question is shown behind a gold (i) icon.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01cae:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,Guardian Sprint 8,,,,,20/Dec/21 2:30 PM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-19 10:01:19.482,17/Jan/22 5:47 PM;60cc71a1d5dde800713a2124;This was only supposed to affect the client details screen - all underwriting questions have also moved to the onclick icon.,19/Jan/22 10:01 AM;5dfb48a2d501d70cb60120b4;Query with BA as neither of the texts matches the requirements [~accountid:6061ac5d00b79f0070aa4ad3] ,19/Jan/22 4:55 PM;60cc71a1d5dde800713a2124;[~accountid:5dfb48a2d501d70cb60120b4] - I spoke to [~accountid:6061ac5d00b79f0070aa4ad3]  about this.  He is going to do a pass through of text on the site in the next week or so and give a list of updated wording to me to raise.  Are you OK to pass this ticket as the wording doesnt impact the functionality?,"20/Jan/22 9:22 AM;5dfb48a2d501d70cb60120b4;Verified in UWT. 
The functionality works as expected - help text displayed on click.

The wording doesn’t match the initial requirement.  
Further review will be carried out and a new ticket will be raised where applicable.  See Chris’s comment below.",,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Update summary panel to show expiry dates,NBJ-1045,42686,,Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Mike,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,20/Dec/21 2:20 PM,31/Jan/22 1:14 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As an* advisor 
*I want* the expiry date relevant to me to be shown in the summary panel
*So that* I know how long I have left to complete the app.

Just to clarify, the “Valid until” date shown on the summary panel is:
offerExpiryDate if it exists, else applicationExpiryDate if it exists , else quoteExpiryDate
So on the decision screen will always be offerExpiryDate or applicationExpiryDate
On the quote screen will be the offerExpiryDate or applicationExpiryDate or quoteExpiryDate depending on progress\!

!Screenshot 2021-12-23 at 10.41.34.png|width=1262,height=196!",,Chris.Hibbert,Jon Reynolds,,,,,,60cc71a1d5dde800713a2124,616ee20e2097220071a975d2,,,,,,,,,,,,,Hidden from EXL,NBJ-1327,,,,,,,,,,,,,,,,,NBJ-1344,,,,,,,,,,,,,23/Dec/21 10:41 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-23 at 10.41.34.png;https://gghltd.atlassian.net/secure/attachment/24556/Screenshot+2021-12-23+at+10.41.34.png,,,,,,,,,,,,"*Given*: an application
*When*: viewing the summary panel
*and*: the validUntilDate from the statuses endpoint is displayed",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,Impediment,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwie7:v,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,Guardian Sprint 9,,,,,20/Dec/21 2:20 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-28 14:32:21.116,04/Jan/22 12:35 PM;60cc71a1d5dde800713a2124;[~accountid:610c00d94e8d8d0069a20d6c]  - have a think about what to do on the BFF for this.,25/Jan/22 9:48 PM;60cc71a1d5dde800713a2124;[~accountid:616ee20e2097220071a975d2] - I’ll assign this to you to have a think about how this should be implemented.  I’ll drop  into the backlog as its been stuck for 3 weeks now.,28/Jan/22 2:32 PM;616ee20e2097220071a975d2;[~accountid:60cc71a1d5dde800713a2124] - completed technical design with Sam and Mike P this morning. Implementation notes have been updated ready for sprint 9,"31/Jan/22 11:58 AM;60cc71a1d5dde800713a2124;Issue split into:
|NBJ-1344|Update back end service to provide validUntilDate|
",,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Set expiryDate when first quote happens,NBJ-1044,42682,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,20/Dec/21 12:37 PM,15/Jan/22 11:51 AM,02/Feb/22 6:31 PM,11/Jan/22 9:12 AM,,Foundation Release,,,,,"*As* an API User
*I want* to have the quoteExpiryDate set on an application after the first quote happens
*So that* I know my expiry periods",,Antony.Gorman,Chris.Hibbert,James Bartlett,,,,,6149b13472728e006f9441d6,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,,,,,,,,,,,,Hidden from EXL,NBJ-1045,,,,,,,,,,,,,,,,,,,,NBJ-1083,,,,,,,,,,10/Jan/22 5:40 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/24908/LivingDoc.html,,,,,,,,,,,,"*Given:* an application 
*When:* a  {{POST {environment}/api/v1/actions/triggerQuote}} first occurs
*and*: a valid quote is returned
*then*: {{expiryDate}} is set to {{quoteAgeDate}} + 30d days (UTC) (on the quote)

*Given*: an application with {{expiryDate}} already set
*Then*: any further request to triggerQuote does not change the date/s stored

*Given*: Any request for the quote DTO
*Then*: {{expiryDate}} is returned",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,* {{quoteExpiryDate}} in the [Common Data Model|https://gghltd.atlassian.net/wiki/spaces/NP/pages/2953674839/Data+Dictionary],,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih1:r,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,20/Dec/21 12:37 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-07 09:31:23.464,"07/Jan/22 9:31 AM;6149b13472728e006f9441d6;[~accountid:60cc71a1d5dde800713a2124] [~accountid:60cc71a22bd21400692fd2af] mini kick off in ticket.

are we talking about quote.expiryDate here? (e.g. not the application.expiryDate) - cheers",07/Jan/22 9:39 AM;60cc71a1d5dde800713a2124;[~accountid:6149b13472728e006f9441d6] - that is correct quote.expiryDate 👍 ,"10/Jan/22 5:41 PM;6139c49114e8340071fcda09;tested this against both triggerquote and triggerdecisionquote. However, signoff will have to wait until tomorrow when I can fully verify that expiry date isn’t changed on a different day",,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Set createdDate when app created,NBJ-1043,42681,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,20/Dec/21 12:28 PM,07/Jan/22 9:32 AM,02/Feb/22 6:31 PM,07/Jan/22 9:32 AM,,Foundation Release,,,,,"*As* an API User
*I want* to have the {{createdDate}} set on an application when it is created
*So that* future downstream systems know the right dates.

Extending [https://gghltd.atlassian.net/browse/NBJ-263|https://gghltd.atlassian.net/browse/NBJ-263|smart-link]  to also set and return the {{createdDate}} on the application",,Chris.Hibbert,Justin.Smith,,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,Hidden from EXL,NBJ-1028,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given*: an HTTP request to POST {{deployment_env}}/api/v1/application
*Then*: an HTTP 201 status code is returned
*And:* the response payload is in the format:

{code:json}{
  ""data"": {
    ""id"": ""APPLICATION_ID_IN_THE_G-REF_FORMAT"", // NBJ-263
    ""createdDate"": ""2021-10-12T00:00:00""
  }
}{code}

*and*: The {{createdDate}} is set to today's date with a time component of 0  (UTC)

*Given*: Any use of the application DTO
*Then*: {{createdDate}} is included",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,* {{createdDate}} in the [Common Data Model|https://gghltd.atlassian.net/wiki/spaces/NP/pages/2953674839/Data+Dictionary],,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih0:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,20/Dec/21 12:28 PM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-06 21:12:28.607,"06/Jan/22 9:12 PM;618bdfc5fba4d0006ad4853e;This looks ok.  I get the createdDate 

{{2022-01-06T00:00:00+00:00}}

I believe it has the timezone +00:00.  The AC mentions with a time component of 0 (UTC).  Are we ok with this as it was not in the example above - {{""createdDate"": ""2021-10-12T00:00:00""}}?

{{""createdDate"": ""2022-01-06T00:00:00+00:00"",}}

I have appended an existing automation test to check this

Scenario: Create an application
When I call the application endpoint
Then the result is 201
And the application ID format is correct
And the response attribute isMortgageRelated is False
And the response attribute status is pre-quote
*And the calculated response attribute createdDate is today*

Failing due to the mismatch.

Message:
Expected string length 19 but was 25. Strings differ at index 19.
Expected: ""2022-01-06T00:00:00""
But was:  ""2022-01-06T00:00:00+00:00""
------------------------------^","07/Jan/22 9:29 AM;60cc71a1d5dde800713a2124;[~accountid:618bdfc5fba4d0006ad4853e] - I think all our dates have the extra timezone data, so thats all good.  I think it came up in planning that the time format is slightly different than I stated. 👍 ",07/Jan/22 9:31 AM;618bdfc5fba4d0006ad4853e;Hi [~accountid:60cc71a1d5dde800713a2124] I do remember it was discussed in planning but couldn’t remember the detail.  Thanks I will close this.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Persist applyDate and expiryDate when apply status set for the first time,NBJ-1042,42679,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,20/Dec/21 12:18 PM,11/Jan/22 9:09 AM,02/Feb/22 6:31 PM,11/Jan/22 9:09 AM,,Foundation Release,,,,,"*As* an API User
*I want* to have the applicationExpiryDate set on an application
*So that* I know how long I have to complete my app",,Chris.Hibbert,James Bartlett,,,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,,,,,,,,,,,,,Hidden from EXL,NBJ-1028,NBJ-1045,,,,,,,,,,,,,,,,,,,,,,,,,,,,,10/Jan/22 6:57 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/24909/LivingDoc.html,,,,,,,,,,,,"*Given:* an application in quote state
*When:* a  {{POST {environment}/api/v1/actions/applyapplication}} first occurs
*and*: the application status is set to apply
*then*: {{applyDate}} is set to today's date (UTC)
*and*: {{expiryDate}} is set to todays date + 30 days (UTC)

*Given*: an application with either {{applyDate}} or {{expiryDate}} already set
*Then*: any further update to set to the apply state does not change the date/s stored

*Given*: Any request for the application DTO
*Then*: {{applyDate}} and {{expiryDate}} are returned",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,"* {{applyDate}} in the [Common Data Model|https://gghltd.atlassian.net/wiki/spaces/NP/pages/2953674839/Data+Dictionary]
* {{expiryDate}} in the [Common Data Model|https://gghltd.atlassian.net/wiki/spaces/NP/pages/2953674839/Data+Dictionary]",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih1:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,20/Dec/21 12:18 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-10 18:58:11.689,10/Jan/22 6:58 PM;6139c49114e8340071fcda09;Will sign off when time-based testing is completed tomorrow,11/Jan/22 9:09 AM;6139c49114e8340071fcda09;hitting applyapplication the next day left the dates unchanged. Adding a new applicant (which also changes the state) and then applying also left the dates unchanged.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Updated Reasons to use more human readable names for conditions - alias,NBJ-1041,42664,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,19/Dec/21 10:04 AM,01/Feb/22 10:44 AM,02/Feb/22 6:31 PM,,,Foundation Release,,Sprint_8,,,"*As an* IFA
*So that* I can understand the reasons for my decisions
*I want* reasons to be more readable

{panel:bgColor=#deebff}
This story is about only providing reasons when appropriate and using a more readable version from the URE message
{panel}",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,UR-69,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* any risk, product or quote decision
*When* populating reasons
*Then* the section.enquiryLine (in the URE message) that the particular part of the decision relates to, then set <reason> based on section.enquiryLine.<section>

{noformat}| section                         | reason                    |
| <not present or empty>          | <no reason added>         |
| <section present and has value> | section.enquiryLine.alias |{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwib9:zzx,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,19/Dec/21 10:04 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Add decision panel when in decision state,NBJ-1040,42642,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,17/Dec/21 5:40 PM,12/Jan/22 2:53 PM,02/Feb/22 6:31 PM,12/Jan/22 2:53 PM,,Foundation Release,,,,,"*As an* advisor 
*I want* a decision panel on the decision screen
*So that* I understand the next steps

!Screenshot 2021-12-20 at 16.56.17.png|width=1257,height=287!",,Chris.Hibbert,Justin.Smith,,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,20/Dec/21 4:56 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-20 at 16.56.17.png;https://gghltd.atlassian.net/secure/attachment/24508/Screenshot+2021-12-20+at+16.56.17.png,12/Jan/22 12:29 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220112-122652.png;https://gghltd.atlassian.net/secure/attachment/24964/image-20220112-122652.png,12/Jan/22 12:29 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220112-122905.png;https://gghltd.atlassian.net/secure/attachment/24963/image-20220112-122905.png,12/Jan/22 12:39 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220112-123857.png;https://gghltd.atlassian.net/secure/attachment/24965/image-20220112-123857.png,12/Jan/22 1:18 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220112-131843.png;https://gghltd.atlassian.net/secure/attachment/24966/image-20220112-131843.png,12/Jan/22 1:47 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220112-134519.png;https://gghltd.atlassian.net/secure/attachment/24967/image-20220112-134519.png,12/Jan/22 2:47 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220112-144640.png;https://gghltd.atlassian.net/secure/attachment/24974/image-20220112-144640.png,12/Jan/22 2:51 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220112-145143.png;https://gghltd.atlassian.net/secure/attachment/24975/image-20220112-145143.png,,,,,"*Given*: An application with an application state of decision
*and*: 1 or more covers is standard or non-standard
*When*: Displaying the results screen
*Then*: a decision info panel is shown at the top of the screen

{panel:bgColor=#eae6ff}
*We've made our decision*

Your client now has +Immediate Cover+ on the terms shown below for 14 days from the decision date, or until the policy starts if this is sooner.
For mortgage-related cover if you don’t yet know an exact cover amount or the policy start date you can extend the 14-day Immediate Cover period up to 90 days. To do this you must confirm the bank details on the Set-up tab within 14 days of the decision date. Once known, return to this tab to enter the exact cover amount, subject to our maximum limits, or to the Set-up tab to provide the start date and complete your application.
{panel}

*and*: Immediate Cover links to [https://adviser.guardian1821.co.uk/immediate-cover/|https://adviser.guardian1821.co.uk/immediate-cover/|smart-link] 

*Given*: An application with an application state of decision
*and*: no covers are standard or non-standard
*When*: Displaying the results screen
*Then*: no decision info panel is displayed (this may change in future stories)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-122,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i015rk:j,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,17/Dec/21 5:40 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-12 12:29:19.32,"12/Jan/22 12:29 PM;618bdfc5fba4d0006ad4853e;This looks ok for standard and non-standard terms

!image-20220112-122652.png|width=1701,height=952!

Automated test for standard terms

!image-20220112-122905.png|width=1892,height=1012!","12/Jan/22 12:39 PM;618bdfc5fba4d0006ad4853e;I put 2 covers in - one standard and one not able to offer terms text still appears

!image-20220112-123857.png|width=1145,height=961!","12/Jan/22 1:18 PM;618bdfc5fba4d0006ad4853e;No text when both not standard or non-standard

!image-20220112-131843.png|width=1549,height=992!","12/Jan/22 1:47 PM;618bdfc5fba4d0006ad4853e;Tried with multiple applicants - 

Applicant 1 - CI - Standard, LP - Declined

Applicant 2 - LCI - Standard

Text appeared but no decision text against the different covers.  I have spoken to [~accountid:613f22fdff23ba00715469d1] about this and will raise a bug.  [https://gghltd.atlassian.net/browse/NBJ-1098|https://gghltd.atlassian.net/browse/NBJ-1098|smart-link] raised.

!image-20220112-134519.png|width=1613,height=998!","12/Jan/22 2:47 PM;618bdfc5fba4d0006ad4853e;The other scenario I didn’t look at was non-standard and declined

!image-20220112-144640.png|width=1564,height=972!

This looks good.  ","12/Jan/22 2:51 PM;618bdfc5fba4d0006ad4853e;Underwriting is ok 

!image-20220112-145143.png|width=1661,height=812!",12/Jan/22 2:53 PM;618bdfc5fba4d0006ad4853e;This looks good. Closing.,,,,,,,,,,,,,,,,,,,,,,,,,Done
Add new documents panel styling,NBJ-1039,42641,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,17/Dec/21 5:38 PM,12/Jan/22 10:01 AM,02/Feb/22 6:31 PM,12/Jan/22 10:01 AM,,Foundation Release,,,,,"*As an* advisor 
*I want* the documents panel to be clear
*So that* I can easily find documents for my application 

!Screenshot 2021-12-20 at 14.49.00.png|width=1270,height=123!",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,20/Dec/21 2:49 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-20 at 14.49.00.png;https://gghltd.atlassian.net/secure/attachment/24485/Screenshot+2021-12-20+at+14.49.00.png,12/Jan/22 10:01 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2022-01-12 at 10.01.17.png;https://gghltd.atlassian.net/secure/attachment/24957/Screenshot+2022-01-12+at+10.01.17.png,,,,,,,,,,,"*Given*: An application
*When*: Showing documents (quote, decision and review screens)
*Then*: Available documents are shown in an document panel (see screenshot)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i015uv:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,17/Dec/21 5:38 PM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Jan/22 10:01 AM;60cc71a1d5dde800713a2124;Styling updated on all screens with docs:



!Screenshot 2022-01-12 at 10.01.17.png|width=1250,height=126!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Add remove life buttons on client details screen,NBJ-1038,42640,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Narendra Haradanahally,5e70e47fa9a7410c3dd1745f,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,17/Dec/21 5:38 PM,19/Jan/22 9:44 AM,02/Feb/22 6:31 PM,19/Jan/22 9:44 AM,,Foundation Release,,,,,"*As an* advisor 
*I want* to be able to remove a life within the application
*So that* only have applicants that will be moving forward with the app

!Screenshot 2021-12-20 at 14.44.16.png|width=1306,height=233!",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-1058,NGT-153,,,,,,,,,20/Dec/21 2:44 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-20 at 14.44.16.png;https://gghltd.atlassian.net/secure/attachment/24483/Screenshot+2021-12-20+at+14.44.16.png,,,,,,,,,,,,"*Given*: An application with 2 clients
*When*: displaying the client details screen
*Then*: after each client details heading, a remove button is shown

*Given*: An application with a single client
*Then*: No remove button is shown

*Given*: An application with 2 clients
*When*: The user clicks to remove a client
*Then*: The client is removed from the application (NBJ-299)
*and*: the “add client button” is shown (NBJ-1037)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i015un:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,Guardian Sprint 8,,,,,17/Dec/21 5:38 PM,,3.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
"Change to new ""Add Client"" button rather than question",NBJ-1037,42639,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Max Silva,6139c4f3e2a0d60069cf8994,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,17/Dec/21 5:36 PM,21/Jan/22 11:21 AM,02/Feb/22 6:31 PM,21/Jan/22 11:21 AM,,Foundation Release,,,,,"*As an* adviser
*So that* adding an additional client is clear
*I want* a nice big add client button

!Screenshot 2021-12-20 at 14.43.43.png|width=1267,height=272!

Note: This is replacing the yes/no question",,Chris.Hibbert,Max Silva,Sam Gamble,,,,,60cc71a1d5dde800713a2124,6139c4f3e2a0d60069cf8994,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-1038,,,,,,,,,,20/Dec/21 2:44 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-20 at 14.43.43.png;https://gghltd.atlassian.net/secure/attachment/24482/Screenshot+2021-12-20+at+14.43.43.png,17/Jan/22 4:10 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2022-01-17 at 16.09.26.png;https://gghltd.atlassian.net/secure/attachment/25140/Screenshot+2022-01-17+at+16.09.26.png,,,,,,,,,,,"*Given*: An application with a single client
*When*: displaying the client details screen
*Then*: the “Do you want to add another client?” box is shown

*Given*: An application with a single client
*When*: the user clicks to add client
*Then*: the 2nd client details are shown
*and*: the add client box is not shown


*Given*: An application with 2 clients
*Then*: no “Do you want to add another client?” box is shown",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i015ul:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,Guardian Sprint 8,,,,,17/Dec/21 5:36 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-12 09:29:46.348,12/Jan/22 9:29 AM;610c00d94e8d8d0069a20d6c;[~accountid:6139c4f3e2a0d60069cf8994] there is a merge conflict and unresolved comment in the PR - can you tak e a look please? [https://dev.azure.com/guardian1821/NBJ-Frontend/_git/NBJ-Frontend/pullrequest/1415|https://dev.azure.com/guardian1821/NBJ-Frontend/_git/NBJ-Frontend/pullrequest/1415],"17/Jan/22 4:10 PM;60cc71a1d5dde800713a2124;The layout isnt right and the words are all wrong:

!Screenshot 2022-01-17 at 16.09.26.png|width=1287,height=236!","21/Jan/22 9:59 AM;60cc71a1d5dde800713a2124;Layout is better, however text is still wrong.  It should be:

With our dual life approach each client will have their own separate policy.  If either client claims the other client’s cover remains in place.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Standard decisions shouldnt show any underwriting notes on the quote screen,NBJ-1034,42618,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Mike,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,17/Dec/21 8:36 AM,17/Dec/21 9:22 AM,02/Feb/22 6:31 PM,17/Dec/21 9:22 AM,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-573,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Standard decisions shouldnt show any underwriting notes on the quote screen.
Currently we are showing underwriting notes, but these should be removed and if standard, only the icon + text next to the premium should show.
Underwriting notes for standard cases should only show on the decision screen.",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwik1:1k,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,17/Dec/21 8:36 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,17/Dec/21 9:22 AM;60cc71a1d5dde800713a2124;Tested - not there on the quote screen and is there on the results screen.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Sprint 6 - TPD text not returned from quickQuote service,NBJ-1033,42603,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,16/Dec/21 4:37 PM,06/Jan/22 4:32 PM,02/Feb/22 6:31 PM,06/Jan/22 4:32 PM,,,,,,,,,Antony.Gorman,Nathan Punzalan,,,,,,6149b13472728e006f9441d6,613f22fdff23ba00715469d1,,,,,,,,,,,,,Hidden from EXL,NBJ-700,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: 
TPD text not returned from quickQuote service; doesn't seem to be supported at the moment.

Steps to Reproduce via API:
# Create application&applicant
# Patch applicant details
# Update enquiry with valid answers where user has selected both ci and TPD product
# Get a quickQuote decision

Expected Results: 
Text for TPD product is displayed in response; main behaviour based on AC shown in NBJ-700

Actual Result: 
Text for TPD product is not displayed in response.",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i015mn:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,Guardian Sprint 7,,,,,16/Dec/21 4:37 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-17 08:23:20.812,"17/Dec/21 8:23 AM;6149b13472728e006f9441d6;[~accountid:60cc71a22bd21400692fd2af] [~accountid:613f22fdff23ba00715469d1] Hey both. I looked into this and discovered it’s down to the filtering that happens in quick quote. The tpd text is driven by the DISDEF_ShortCode buckets when the tpd is included but when we quick quote we don’t get those buckets back.



Please advise how best to proceed with this one. cheers",17/Dec/21 11:24 AM;6149b13472728e006f9441d6;so as dicussed with [~accountid:60cc71a22bd21400692fd2af] and [~accountid:613f22fdff23ba00715469d1] the cause is a little deeper and ultimately is an issue with the fundamentals of the quick quote approach. A new bug will be created for that and linked to this.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Cover Level Data Missing from Event Message,NBJ-1032,42601,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Jim Houghton,60cc71a22bd21400692fd2af,Ian.Douglas,5e183e85c578120daca5bc7b,Ian.Douglas,5e183e85c578120daca5bc7b,16/Dec/21 4:24 PM,20/Jan/22 12:00 PM,02/Feb/22 6:31 PM,20/Jan/22 11:59 AM,,Foundation Release,,,,,,,Chris.Hibbert,Ian.Douglas,Jim Houghton,,,,,60cc71a1d5dde800713a2124,5e183e85c578120daca5bc7b,60cc71a22bd21400692fd2af,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: 

The following cover level attributes are missing from the nbj.underwriting.start event

{code:json}{
""data"": {
    ""application"": {
        ""applicants"": [
            {
            ""covers"": [
                {
                    ""toAge"": [integer], // this is covered in additional stories I think
                    ""toAgeTermMonths"": [integer], // this is covered in additional stories I think
                    ""monthlyBenefit"": [integer]                   
                    }
                ]
            }
            ]
        }
    }
}{code}

Business Impact: 

Salesforce ApplicationCover__c object attributes not populated",,{},,,,,,NBJ-125,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwie3:i,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,16/Dec/21 4:24 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-18 13:40:31.819,"18/Dec/21 1:40 PM;60cc71a1d5dde800713a2124;[~accountid:60cc71a22bd21400692fd2af] - can you have a ponder on this one when back in Jan. We dont persist a monthlyBenefit for FIB, nor do we persist a toAgeTermMonths.  So probably one of: it needs to be changed throughout to do these, or the interface outputs them or the salesforce end is changed.","20/Dec/21 4:06 PM;5e183e85c578120daca5bc7b;[~accountid:60cc71a22bd21400692fd2af] [~accountid:60cc71a1d5dde800713a2124] We have discussed this but just to provide a bit more clarity on the requirement (jog your memory after 2 weeks of RnR …)

At present the monthly amount for FIB is being passed as the cover amount (think this is down to how the Lissia Quote Service works

In Salesforce (again for FIB) we display both the monthly benefit and the cover amount equivalent ( now monthly benefit * Term * 66% I believe ) so whilst we could repeat the calculation it would be better to have it done once to avoid duplication of business logic or risk rounding error discrepancies

Similarly Lissia calculates the term for a “to age” quote, Salesforce displays both term and to age, and don’t want to duplicate the calculation or risk rounding errors.",20/Jan/22 12:00 PM;60cc71a22bd21400692fd2af;[~accountid:5e183e85c578120daca5bc7b] - I have closed as done.  This is because I have alternate stories to deliver this for you,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Test Data Ids required for the footer across the pages,NBJ-1031,42597,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,16/Dec/21 4:07 PM,12/Jan/22 10:59 AM,02/Feb/22 6:31 PM,11/Jan/22 11:24 AM,,Foundation Release,,,,,"So I want to check the elements on the footer across the pages using the test automation script.  These include the following -

||Element||
||lnkTelephone||
||lnkEmail||
||lnkWebChat||
||lnkLinkedIn||
||imgGuardian||
||imgScottishFriendly||
||imgLifeMadeBetter||
||lblCopyRight||
||lblGuardianAppointment||
||lblRegisteredOffice||
||lblNeedHelp||

 !image-2021-12-16-16-06-24-395.png|thumbnail! 

Please can I have test-dataids for these.",,Justin.Smith,Max Silva,,,,,,618bdfc5fba4d0006ad4853e,6139c4f3e2a0d60069cf8994,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,16/Dec/21 4:06 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-2021-12-16-16-06-24-395.png;https://gghltd.atlassian.net/secure/attachment/24438/image-2021-12-16-16-06-24-395.png,07/Jan/22 2:09 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220107-140713.png;https://gghltd.atlassian.net/secure/attachment/24863/image-20220107-140713.png,07/Jan/22 2:09 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220107-140818.png;https://gghltd.atlassian.net/secure/attachment/24864/image-20220107-140818.png,10/Jan/22 1:45 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220110-134116.png;https://gghltd.atlassian.net/secure/attachment/24897/image-20220110-134116.png,10/Jan/22 3:33 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220110-153101.png;https://gghltd.atlassian.net/secure/attachment/24901/image-20220110-153101.png,11/Jan/22 11:24 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220111-112437.png;https://gghltd.atlassian.net/secure/attachment/24925/image-20220111-112437.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i0167n:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,16/Dec/21 4:07 PM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-10 13:31:20.777,"07/Jan/22 2:09 PM;618bdfc5fba4d0006ad4853e;I can seeing the following have been implemented -

||Element|Done|
||lnkTelephone|(x)|
||lnkEmail|(x)|
||lnkWebChat|(x)|
||lnkLinkedIn|(x)|
||imgGuardian|(/)|
||imgScottishFriendly|(/)|
||imgLifeMadeBetter|(/)|
||lblCopyRight|(/)|
||lblGuardianAppointment|(x)|
||lblRegisteredOffice|(/)|
||lblNeedHelp|(/)|

{noformat}    //Footer
    lnkTelephone = ""//*[@id='root']/div/div[3]/div[1]/div/div/a[1]""
    lnkEmail = ""//*[@id='root']/div/div[3]/div[1]/div/div/a[2]""
    lnkWebChat = ""//*[@id='root']/div/div[3]/div[1]/div/div/button""
    lnkLinkedIn = ""//*[@id='root']/div/div[3]/div[1]/div/div/a[3]""    

    imgGuardian = ""[data-testid=imgGuardian]""
    imgScottishFriendly = ""[data-testid=imgScottishFriendly]""
    imgLifeMadeBetter = ""[data-testid=imgLifeMadeBetter]""

    lblNeedHelp = ""[data-testid=lblNeedHelp]""
    lblCopyRight = ""[data-testid=imgScottishFriendly]""
    lblGuardianAppointment = ""//*[@id='root']/div/div[3]/div[2]/div/div/p[2]""
    lblRegisteredOffice = ""[data-testid=lblRegisteredOffice]""
{noformat}



!image-20220107-140713.png|width=1802,height=866!



!image-20220107-140818.png|width=1701,height=944!

Any reason why the other ones were not done?",10/Jan/22 1:31 PM;6139c4f3e2a0d60069cf8994;Justin because they work slightly differently thats all should be resolved other than appointment I cant seem to see where that is located on the footer?,"10/Jan/22 1:45 PM;618bdfc5fba4d0006ad4853e;Hi [~accountid:6139c4f3e2a0d60069cf8994] it looks like 2 elements are missing test data ids on that Guardian text - 

!image-20220110-134116.png|width=1819,height=944!

Appointment is the text 

*Guardian Financial Services Limited is an appointed representative of Scottish Friendly Assurance Society Limited which is authorised by the Prudential Regulation Authority and regulated by the Financial Conduct Authority and Prudential Regulation Authority. Registered office: Scottish Friendly House, 16 Blythswood Square, Glasgow G2 4HJ. Registration number 110002. Guardian Financial Services Limited is registered in England and Wales under number 11115769. Registered office:*

but there is also this text above it

*Guardian Financial Services Limited is an appointed representative of Scottish Friendly Assurance Society Limited. All products are provided by Scottish Friendly.*

Please can we have data testids for both.  Thanks.","10/Jan/22 3:33 PM;618bdfc5fba4d0006ad4853e;Hi [~accountid:6139c4f3e2a0d60069cf8994] sorry to be a pain as it looks loads better but I was wondering as we have the same testid - lblGuardianAppointmnet for different text whether we could get seperate ids on these 

!image-20220110-153101.png|width=1792,height=939!

This would be good.  

{noformat}    lblGuardianAppointed = ""[data-testid=lblGuardianAppointed]""
    lblGuardianAppointedAuthPru = ""[data-testid=lblGuardianAppointedAuthPru] ""
{noformat}

Thanks a lot.","11/Jan/22 11:24 AM;618bdfc5fba4d0006ad4853e;This is all good now.  Thanks Max

!image-20220111-112437.png|width=1738,height=709!

Thanks.",,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Show applicant level total premium on decision screen,NBJ-1030,42595,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,16/Dec/21 3:39 PM,16/Dec/21 5:22 PM,02/Feb/22 6:31 PM,16/Dec/21 5:22 PM,,Foundation Release,,,,,"As an Adviser
I want an applicant level total premium
So that I know how much each life will cost",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,16/Dec/21 3:39 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-16 at 15.36.19.png;https://gghltd.atlassian.net/secure/attachment/24436/Screenshot+2021-12-16+at+15.36.19.png,16/Dec/21 5:22 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-16 at 17.22.09.png;https://gghltd.atlassian.net/secure/attachment/24442/Screenshot+2021-12-16+at+17.22.09.png,,,,,,,,,,,"*Given*: An application
*When*: Showing the decision screen
*Then*: The applicant level total premium should be shown (currently hardcoded to £60.00)



!Screenshot 2021-12-16 at 15.36.19.png|width=1336,height=1016!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-122,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i015kv:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,16/Dec/21 3:39 PM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Dec/21 5:22 PM;60cc71a1d5dde800713a2124;!Screenshot 2021-12-16 at 17.22.09.png|width=1337,height=906!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Applicant Level Data Missing from Event Message,NBJ-1029,42582,,Bug,Acceptance Testing,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Highest,,James Bartlett,6139c49114e8340071fcda09,Ian.Douglas,5e183e85c578120daca5bc7b,Ian.Douglas,5e183e85c578120daca5bc7b,16/Dec/21 1:20 PM,02/Feb/22 6:03 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Antony.Gorman,Ian.Douglas,James Bartlett,Jim Houghton,Jon Reynolds,,,6149b13472728e006f9441d6,5e183e85c578120daca5bc7b,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,616ee20e2097220071a975d2,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 2:39 PM;ug:117ea4bb-8992-4456-92e8-f3d84c2d6b41;SalesForceMappings.xlsx;https://gghltd.atlassian.net/secure/attachment/25592/SalesForceMappings.xlsx,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: 

The following applicant level attributes are missing from the nbj.underwriting.start event

{code:json}""data"": {
    ""application"": {
        ""applicants"": [
            {
                ""status"": [New|Questions Outstanding|Referred to UW|STP Decision|Went on Risk], // stories raised
                ""contactDetails"": { // This should be coming across once populated and enforced
                    ""address1"": [string],
                    ""address2"": [string], //optional
                    ""address3"": [string], //optional                        
                    ""cityName"": [string],
                    ""county"": [string],
                    ""postcode"": [postcode as string],
                    ""emailAddress"": [email as string],
                    ""phoneNumber"": [phone as string]
                },
                ""isHeightMetric"": [boolean],
                ""isWeightMetric"": [boolean],
                ""bmi"": 21,
                ""waist"": 75,
                ""isWaistMetric"": [boolean],
                ""occupation"": [string],
                ""dressSize"": [integer],                    
                ""isExistingCoverLife"": [boolean], //need to agree app. form config. but will come
                ""isExistingCoverCi"": [boolean], //need to agree app. form config. but will come
                ""smokerStatus"": [None in the last 12 months|None in the last 5 years|I have used tobacco or replacement products in the last 12 months] //need to agree app form for source
            } 
        ]
    }
}{code}

Business Impact: 

Salesforce ApplicationMember__c object attributes not updated



*Changes Required (for developer)*

* +SalesForce Changes+
** Replace the existing Application event model to use the Application DTO model object from the ApplicationService client directly. This way any future modifications to the Application object model will be reflected directly in the salesforce event message upon a single update to the client version.
*** ie SalesForceApplication: from Guardian.SalesForce.Events.Models.Application → Guardian.Services.ApplicationService.Client.Application
**  Check current Application object differences between what is in Application client and Salesforce nuget library. Extend the new Application model in SalesForce with addtional properties if necessary ie include {{SourceApplication}} and {{Portal}} 
** From requirement in [https://gghltd.atlassian.net/browse/NBJ-1314|https://gghltd.atlassian.net/browse/NBJ-1314|smart-link] the riskDecisionModel was missing Origin and IsUnderwritingDeclarationMade properties values
** Similar to ApplicationClient Application DTO derive the SalesForce Risk decision model directly from DecisionServiceClient so that any modification to decisons are reflected directly into SalesForce message upon an update to the client version.
*** i.e. SalesForceRiskDecisionModel: from Guardian.SalesForce.Events.Models.RiskDecisionModel → Guardian.Services.DecisionService.Client.RiskDecisionModel 
*** fyi compare salesforce riskdecision event model object to [https://dev.azure.com/guardian1821/NBJ-Microservices/_git/NBJ-SalesForce?path=/Guardian.SalesForce/Events/Models/RiskDecisionModel.cs|https://dev.azure.com/guardian1821/NBJ-Microservices/_git/NBJ-SalesForce?path=/Guardian.SalesForce/Events/Models/RiskDecisionModel.cs]
** Modify Guardian.SalesForce.Events.Data:
*** Replace Decision with underwritingOutcomes collection property
**** each underwritingOutcome is the riskDecisionModel for each applicant in the application
** Rework PublishApplicationDecisionEvent so that it accepts the application and undewritingoutcomes ie(array of applicant risk decision models)
* +Action Service Changes+
** Update TriggerDecisionQuoteCommandHandler.PublishApplicantDecisionsToSalesForce()
*** combine all applicant risk decisions and pass into salesforce PublishApplicationDecisionEvent as a single event and not as 2 separate events as currently.",,{},,,,,,NBJ-125,,,,,,,,,Impediment,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwiam:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,16/Dec/21 1:20 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-20 09:39:29.658,20/Jan/22 9:39 AM;60cc71a22bd21400692fd2af;I have closed this defect as [https://gghltd.atlassian.net/browse/NBJ-1073|https://gghltd.atlassian.net/browse/NBJ-1073|smart-link] covers this,28/Jan/22 11:34 AM;5e183e85c578120daca5bc7b;Have reopened as [https://gghltd.atlassian.net/browse/NBJ-1073|https://gghltd.atlassian.net/browse/NBJ-1073|smart-link] only covers part of the scope of this defect,"31/Jan/22 9:22 AM;60cc71a22bd21400692fd2af;[~accountid:5e183e85c578120daca5bc7b] - Yes the rest should come through as a matter of course.  I will double check with Jon, but 1073 should be to do within its own scope.",31/Jan/22 9:23 AM;60cc71a22bd21400692fd2af;I meant whatever the status was before…,31/Jan/22 1:49 PM;6149b13472728e006f9441d6;[~accountid:5e183e85c578120daca5bc7b] Hey - when you have it can you link to a version of the confluence page with the sales force event shapes and I’ll do it with this story.,31/Jan/22 5:14 PM;5e183e85c578120daca5bc7b;I’m just updating it now … This page but don’t rely on it before tomorrow AM [https://gghltd.atlassian.net/l/c/60e5ciUt|https://gghltd.atlassian.net/l/c/60e5ciUt|smart-link] ,"01/Feb/22 3:37 PM;616ee20e2097220071a975d2;[~accountid:6149b13472728e006f9441d6] - As promised, and as shown in the Changes Required section, here are the changes as I see it for salesforce integration taking on the collective discussions with [~accountid:60cc71a22bd21400692fd2af]  and [~accountid:5e183e85c578120daca5bc7b] over the last few days. Shout if I have missed anything or you need clarification. I will remove ticket [https://gghltd.atlassian.net/browse/NBJ-1314|https://gghltd.atlassian.net/browse/NBJ-1314|smart-link] and mention we are handling the changes in this single ticket",02/Feb/22 2:39 PM;616ee20e2097220071a975d2;[~accountid:60cc71a22bd21400692fd2af] [~accountid:5e183e85c578120daca5bc7b] [~accountid:6149b13472728e006f9441d6] - see attached filtered spreadsheet of the deltas for salesforce integration started by Ant. Following review with Ian just now I have updated to include Jira tickets responsible for this missing properties and a few marked for refinement.,"02/Feb/22 6:03 PM;6139c49114e8340071fcda09;(flag) Flag added

can&#39;t find the logs of the messages - devs are already helping to investigate",,,,,,,,,,,,,,,,,,,,,,,In Progress
Application Level Data Missing from Event Message,NBJ-1028,42571,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Ian.Douglas,5e183e85c578120daca5bc7b,Ian.Douglas,5e183e85c578120daca5bc7b,16/Dec/21 11:43 AM,24/Jan/22 11:35 AM,02/Feb/22 6:31 PM,24/Jan/22 11:35 AM,,Foundation Release,,,,,,,Antony.Gorman,Ian.Douglas,Jon Reynolds,Justin.Smith,,,,6149b13472728e006f9441d6,5e183e85c578120daca5bc7b,616ee20e2097220071a975d2,618bdfc5fba4d0006ad4853e,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,24/Jan/22 11:21 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220124-110625.png;https://gghltd.atlassian.net/secure/attachment/25311/image-20220124-110625.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: 

The following application attributes, which are required by Salesforce, are missing from the event -

{code:json}""data"": {
    ""application"": {
        ""isAdvisedSale"": [boolean],
        ""thirdPartyRef"": [string],
        ""isMortgageRelated"": [boolean],
        ""createdDate"": [date],
        ""applyDate"": [date],
        ""expiryDate"": [date]
    }
}{code}

Business Impact: 

Salesforce application__c object attributes not populated",,{},,,,,,NBJ-125,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih1:m,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,Guardian Sprint 8,,,,,16/Dec/21 11:43 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-06 14:58:49.426,06/Jan/22 2:58 PM;6149b13472728e006f9441d6;just a note to point out that we’ve only just started collecting some of this information this sprint. this will be blocked until is advised sale and third party ref is collected.,"21/Jan/22 5:41 PM;616ee20e2097220071a975d2;Included IsAdvisedSale in latest commit.

fyi - ThirdPartyRef & IsMortgageRelated were included 3 Dec 2021; CreatedDate, ApplyDate and ExpiryDate were added 7th Jan 2022","24/Jan/22 11:21 AM;618bdfc5fba4d0006ad4853e;I can see all the values set here.

!image-20220124-110625.png|width=496,height=588!

thirdPartyRef, isAdvisedSale are not set unless you provide them.  I believe isAdvisedSale will always be set as part of the setup screen [https://gghltd.atlassian.net/browse/NBJ-1129|https://gghltd.atlassian.net/browse/NBJ-1129|smart-link] but would not be in start or decision events.  Marking this as closed.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Type-ahead fields on the front end are calling the UMe underwriting engine directly,NBJ-1027,42569,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,16/Dec/21 11:38 AM,12/Jan/22 5:11 PM,02/Feb/22 6:31 PM,12/Jan/22 5:11 PM,,Foundation Release,,,,,,,Chris.Hibbert,James Bartlett,Mike,,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:*

1. 
Calls to retrieve the possible options for type-ahead questions when the user is typing are made directly to the UnderwwriteMe engine and not the underwriting service:

Actual call: [https://ggh-uwt-underwriteme.gghltest.co.uk/api/underwriteme/stg/proxy/v4/lookupQuestionOption/GUARDIAN/evidence%20for%20refer/TEST_EL/PLRTestEl_PostponeCodeLife/IFA_EN_GB/Unable%20to%20off|https://ggh-uwt-underwriteme.gghltest.co.uk/api/underwriteme/stg/proxy/v4/lookupQuestionOption/GUARDIAN/evidence%20for%20refer/TEST_EL/PLRTestEl_PostponeCodeLife/IFA_EN_GB/Unable%20to%20off]

(should be 

[https://ggh-uwt-api.gghltest.co.uk/api/v1/underwriting/lookupQuestionOption/GUARDIAN/evidence%20for%20refer/PLRTestEl_PostponeCodeLife/Unable|https://ggh-uwt-api.gghltest.co.uk/api/v1/underwriting/lookupQuestionOption/GUARDIAN/evidence%20for%20refer/PLRTestEl_PostponeCodeLife/Unable]

)

2. 
Also, calls for 'local' type-ahead questions have the enquiry line name in the URL which is wrong. In the example above for instance, the URL should not contain 'TEST_EL/'. When the address is updated to call the underwriting service correctly, it should also not include the enquiry line name for 'local' questions.

*Business Impact:* Some questions in the underwriting journey will be impossible to answer on the front end.

*Steps to Reproduce:* trigger test enquiry line on the front end underwriting journey

* Answer 'I've taken or been prescribed treatment for 4 weeks or more' for 'Have any of these applied to you in the last 3 years? You don't need to include things you've already told us about'
* Answer 'test enquiry line' for 'What condition(s) have required treatment for 4 weeks or more?'
* In the 'Test enquiry line' tab, answer 'Postpone' for 'What decision do you want to apply for Life?'
* Type 'unable' in the field for 'What postpone code do you want to apply for Life?'

*Expected Results:* A list of options appears in for the 'What postpone code do you want to apply for Life?' question

*Actual Result:* no options appear for the 'What postpone code do you want to apply for Life?' question

*Version:* unknown",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i015i3:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,16/Dec/21 11:38 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-10 10:54:32.715,"10/Jan/22 10:54 AM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;Hi [~accountid:6139c49114e8340071fcda09] [~accountid:60cc71a1d5dde800713a2124]  - I’m just trying to configure the updated url for typeahead questions. But I’m having trouble replicating the url you added under “should be”:

This is the question object I receive for the question in your example:

{noformat}{
    ""name"": ""PLRTestEl_PostponeCodeLife"",
    ""path"": ""TEST_EL/PLRTestEl_PostponeCodeLife"",
    ""locale"": ""IFA_EN_GB"",
    ""hasAnswer"": false,
    ""isSatisfied"": false,
    ""triggeredLines"": [],
    ""answers"": [],
    ""validationErrors"": {},
    ""definition"": {
        ""type"": ""OPTION_BACKED"",
        ""name"": ""PLRTestEl_PostponeCodeLife"",
        ""text"": ""What postpone code do you want to apply for Life?"",
        ""isMultiValued"": false,
        ""tags"": [],
        ""optionListName"": ""PostponeCodeOptions"",
        ""includedCategories"": [],
        ""excludedCategories"": [],
        ""isStrict"": true,
        ""minSearchChars"": 3
    }
}{noformat}

And the example url you mentioned above:

{noformat}https://ggh-uwt-api.gghltest.co.uk/api/v1/underwriting/lookupQuestionOption/GUARDIAN/evidence%20for%20refer/PLRTestEl_PostponeCodeLife/Unable{noformat}

I went through your steps to reproduce and  I’ve got everything I need in the question object to replicate this except {{evidence%20for%20refer}}
Is there something I’m missing?

Also, all typeaheads use the underwrite me engine (e.g. occupation) so when I make the change it will be for all of them. I just need to match the url you’ve stated but having trouble getting that one part of the url mentioned above. 

Any help would be much appreciated.","10/Jan/22 10:56 AM;6139c49114e8340071fcda09;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5]  - {{evidence%20for%20refer}} is the *_tag_* of the relevant ruleset, which you can get from the applicant’s underwriting session.",10/Jan/22 11:02 AM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;Thanks [~accountid:6139c49114e8340071fcda09]  - got it working now\! Cheers for the pointer\!,12/Jan/22 5:11 PM;60cc71a1d5dde800713a2124;Retested and now looks correct.  Test above works.,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Unloaded premium total for application quote is zero,NBJ-1026,42558,,Bug,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Low,,Chris.Hibbert,60cc71a1d5dde800713a2124,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,16/Dec/21 10:02 AM,16/Dec/21 11:02 AM,02/Feb/22 6:31 PM,,,,,,,,,,Chris.Hibbert,James Bartlett,,,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,16/Dec/21 10:02 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;example_application_with_attached_quote.json;https://gghltd.atlassian.net/secure/attachment/24405/example_application_with_attached_quote.json,16/Dec/21 10:02 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;example_quote_service_response.json;https://gghltd.atlassian.net/secure/attachment/24404/example_quote_service_response.json,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:*

When a quick quote has been triggered for an application, the quote response is stored on the application and is returned as part of a GET to application/{{applicationId}}.

That response has a 'unloadedPremium' node at the application level (which doesn't seem to be generated by the quote service) but that total is zero. 'unloadedPremium' is non-zero at the individual cover level.

I've attached both an application and quote response - not from the same case I'm afraid but hopefully they show the potential issue.

*Business Impact:* If the application unloadedPremium is ever required on-screen then this needs to be fixed

*Steps to Reproduce:* Create an application with just a single applicant and single life cover. Ensure the underwriting results in a STANDARD decision. Make a POST call to triggerQuote

*Expected Results:* 'unloadedPremium' at the application level is non-zero and equals 'premium' at the same level.

*Actual Result:* 'unloadedPremium' at the application level is zero

*Version:* unknown",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i015cn:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,16/Dec/21 10:02 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-16 11:01:59.448,16/Dec/21 11:01 AM;60cc71a1d5dde800713a2124;We arent doing anything with the unloadedpremium total at the moment.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
QuickQuote - An applicant with Life refer and CI decline only gets a quickQuote decision for Life,NBJ-1025,42545,,Bug,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,15/Dec/21 9:23 PM,05/Jan/22 11:50 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:*

If an applicant has:
* both a Life and a CI product, and
* the Life product decision is Manual UW, and
* the CI product decision is Declined

then the quick quote decision only returns a decision for the Life product

*Business Impact:* Potentially cause problems on the front end on the quick quote screen

*Steps to Reproduce:* 
Create an application with one applicant.
DoB: 13/01/1978
Height (metric): 1.83
Weight (metric): 143

Add a Life and a CI product. Call the quickQuote endpoint for the applicant.

*Expected Results:* Both the Life and CI products have a decision

*Actual Result:* Only the Life product has a decision

*Version:* unknown",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwifo:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,15/Dec/21 9:23 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,05/Jan/22 11:50 AM;6139c49114e8340071fcda09;Unable to reproduce now,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
"data.application.sourceApplication should be ""nbj2"" (currently ""spaceBx"")",NBJ-1024,42523,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Ian.Douglas,5e183e85c578120daca5bc7b,Ian.Douglas,5e183e85c578120daca5bc7b,15/Dec/21 7:08 PM,11/Jan/22 11:24 AM,02/Feb/22 6:31 PM,11/Jan/22 11:24 AM,,Foundation Release,,,,,,,Chris.Hibbert,Ian.Douglas,,,,,,60cc71a1d5dde800713a2124,5e183e85c578120daca5bc7b,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue:  Following update of the Common Object Model the wrong value for sourceApplication is being published in the nbj.underwriting.start event 

current:  data.application.sourceApplication: ""spaceBx""
required: data.application.sourceApplication: ""nbj2""

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: On all published events

Expected Results: data.application.sourceApplication: ""nbj2""

Actual Result: data.application.sourceApplication: ""spaceBx""

Version: n/a",,{},,,,,,NBJ-125,,,,,,,,,,,,,,,,None,QA / UWT,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i0154v:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,Guardian Sprint 7,,,,,15/Dec/21 7:08 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-11 11:24:35.666,"11/Jan/22 11:24 AM;60cc71a1d5dde800713a2124;sourceApplication is now now “nbj2”

\{
""id"": ""4b3c63ba-bb6f-48e3-a277-f77fbcf9fd33"",
""eventType"": ""nbj.underwriting.start"",
""eventTime"": ""2022-01-11T09:03:50.73379+00:00"",
""dataVersion"": ""1.0"",
""data"": \{
""application"": \{
""id"": ""G000113188"",
""isMortgageRelated"": true,
""adviserAtFirmLocationId"": ""a0r0E0000073fQ3QAI"",
""sourceApplication"": ""nbj2"",
""quoteAgeDate"": ""2022-01-11T00:00:00+00:00"",
""applicants"": \[
\{
""id"": ""fc25a144-b934-45b3-8c29-fc7761c47d93"",
""title"": ""Mr"",
""firstName"": ""Justin"",
""lastName"": ""Smith"",
""dateOfBirth"": ""1990-01-01T00:00:00"",
""gender"": ""Male"",
""covers"": \[
\{
""id"": ""a13002c6-e541-403b-8f2c-a4f394fd8bea"",
""guardianRefWithSuffix"": ""00000000-0000-0000-0000-000000000000"",
""productType"": ""life"",
""coverType"": ""level"",
""term"": 12,
""coverAmount"": 30000,
""childCovers"": \[]
}
],
""acceptedPreUnderwritingDeclaration"": false
},
\{
""id"": ""794449e9-9ed3-4bda-b138-601d9e81637d"",
""title"": ""Mrs"",
""firstName"": ""Jane"",
""lastName"": ""Smith"",
""dateOfBirth"": ""1990-01-01T00:00:00"",
""gender"": ""Female"",
""covers"": \[
\{
""id"": ""d7b20f4b-ec1d-43ad-9f14-da3f762deb72"",
""guardianRefWithSuffix"": ""00000000-0000-0000-0000-000000000000"",
""productType"": ""life"",
""coverType"": ""level"",
""term"": 12,
""coverAmount"": 30000,
""childCovers"": \[]
}
],
""acceptedPreUnderwritingDeclaration"": false
}
],
""quote"": \{
""id"": ""0377559d-005e-4bc1-a5cf-081ecc88f777"",
""quoteCreatedDate"": ""2022-01-11T09:02:10.0678876+00:00"",
""quoteAgeDate"": ""2022-01-11T00:00:00+00:00"",
""adviserAtFirmLocationId"": ""a0r0E000004pFFfQAM"",
""initialIndemnityPercentage"": 100,
""initialCommissionSacrificePercentage"": 0,
""premium"": 7.26,
""lifetimePremium"": 1045.44,
""unloadedPremium"": 0,
""discount"": 0,
""quoteApplicants"": \[
\{
""id"": ""fc25a144-b934-45b3-8c29-fc7761c47d93"",
""dateOfBirth"": ""1990-01-01T00:00:00"",
""gender"": ""Male"",
""premium"": 3.63,
""quoteCovers"": \[
\{
""id"": ""a13002c6-e541-403b-8f2c-a4f394fd8bea"",
""productType"": ""life"",
""coverType"": ""level"",
""coverAmount"": 30000,
""term"": 12,
""premium"": 3.63,
""unloadedPremium"": 3.63,
""initialCommission"": 82.76,
""initialEarningsPeriod"": 48,
""renewalCommission"": 0.09,
""lifeTimePremium"": 522.72,
""childCovers"": \[]
}
],
""quoteUnderwritingOutcomes"": \[
\{
""productType"": ""life"",
""quoteExclusions"": \[]
}
]
},
\{
""id"": ""794449e9-9ed3-4bda-b138-601d9e81637d"",
""dateOfBirth"": ""1990-01-01T00:00:00"",
""gender"": ""Female"",
""premium"": 3.63,
""quoteCovers"": \[
\{
""id"": ""d7b20f4b-ec1d-43ad-9f14-da3f762deb72"",
""productType"": ""life"",
""coverType"": ""level"",
""coverAmount"": 30000,
""term"": 12,
""premium"": 3.63,
""unloadedPremium"": 3.63,
""initialCommission"": 82.76,
""initialEarningsPeriod"": 48,
""renewalCommission"": 0.09,
""lifeTimePremium"": 522.72,
""childCovers"": \[]
}
],
""quoteUnderwritingOutcomes"": \[
\{
""productType"": ""life"",
""quoteExclusions"": \[]
}
]
}
]
},
""status"": ""apply"",
""createdDate"": ""2022-01-11T00:00:00+00:00"",
""applyDate"": ""2022-01-11T00:00:00+00:00"",
""expiryDate"": ""2022-02-10T00:00:00+00:00""
}
}
}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Decline reason not included in reasonText,NBJ-1023,42522,40509,Story bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,High,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,15/Dec/21 6:56 PM,05/Jan/22 2:11 PM,02/Feb/22 6:31 PM,05/Jan/22 2:11 PM,,,,,,,,,Chris.Hibbert,Jason Hughes,,,,,,60cc71a1d5dde800713a2124,613f60991370f00069033c68,,,,,,,,,,,,,Hidden from EXL,NBJ-213,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Decline reasons are not showing up in the reason text

h4. Example for a declined life cover in UWT

{code:json}
""quoteDecisions"": [
            {
              ""productType"": ""Life"",
              ""emRating"": null,
              ""permPmRating"": null,
              ""decision"": ""Declined"",
              ""decisionText"": ""Unable to offer terms - Decline"",
              ""reasons"": [
                ""Build""
              ],
              ""reasonText"": [
                ""Unfortunately, we’re unable to offer you the Life Protection cover you’ve applied for because of your .""
              ],
              ""exclusions"": []
            }
          ]
{code}

In this example, the reasonText should read ""Unfortunately, we’re unable to offer you the Life Protection cover you’ve applied for because of your Build.""",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i0154n:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,Guardian Sprint 7,,,,,15/Dec/21 6:56 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-17 14:04:55.47,"17/Dec/21 2:04 PM;613f60991370f00069033c68;Showed Jim what the current code was doing for this, which is generating the reason text for NON_STANDARD and DECLINE decisions reason text from the values in the Em and Pm fields.

He said this was fine for NON_STANDARD decisions but for DECLINEs the info should be coming from the Product Decision’s Reasons.

Later noticed that the code was also doing the same for POSTPONEs, need to find out what it should do in that case.

Spoke to Jim again later and confirmed that POSTPONEs should be handled in the same way as DECLINEs",,,,,,,,,,,,,,,,,,,,,,,,,,,,,40509,DecisionService - include descriptive text for decline reasons,Done
Declined covers included in quote,NBJ-1022,42519,39898,Story bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,15/Dec/21 6:44 PM,11/Jan/22 8:53 PM,02/Feb/22 6:31 PM,11/Jan/22 8:53 PM,,,,,,,,,Chris.Hibbert,James Bartlett,Jon Reynolds,,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,616ee20e2097220071a975d2,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Declined covers are being included in the quote request / response from triggerQuote

From the story a/c , all covers with a decision of Declined or Postponed should not be included in quote requests to Lissia and should instead now be returned as if they have a 0.00 premium and 0.00 commission.

If you only have declined / postponed covers, then no quote document should be requested.

h4. Currently returned from a post to triggerQuote with a declined cover

{code:json}{
  ""data"": {
    ""id"": ""280c3703-f686-49ce-867c-c42f4d6d732e"",
    ""quoteCreatedDate"": ""2021-12-15T18:42:47.6949018+00:00"",
    ""quoteAgeDate"": ""2021-12-15T00:00:00+00:00"",
    ""adviserAtFirmLocationId"": ""a0r0E000004pFFfQAM"",
    ""initialIndemnityPercentage"": 0,
    ""initialCommissionSacrificePercentage"": 0,
    ""initialCommission"": 165.24,
    ""premium"": 8.7,
    ""lifetimePremium"": 730.8,
    ""unloadedPremium"": 0,
    ""discount"": 0,
    ""quoteApplicants"": [
      {
        ""id"": ""eb7a2f6f-1ab1-43ed-9289-9486717cec17"",
        ""dateOfBirth"": ""1976-09-15T00:00:00"",
        ""gender"": ""male"",
        ""premium"": 8.7,
        ""quoteCovers"": [
          {
            ""id"": ""3cc1f2d1-d5ab-4cf9-91fb-46ee84a23d17"",
            ""coverAmount"": 100000,
            ""childCovers"": null,
            ""toAge"": null,
            ""term"": 7,
            ""productType"": ""Life"",
            ""coverType"": ""Level"",
            ""premium"": 8.7,
            ""unloadedPremium"": 8.7,
            ""initialCommission"": 165.24,
            ""initialEarningsPeriod"": 34,
            ""renewalCommission"": 0.22,
            ""lifeTimePremium"": 730.8
          }
        ],
        ""quoteUnderwritingOutcomes"": [],
        ""quoteDecisionModel"": {
          ""applicantId"": ""eb7a2f6f-1ab1-43ed-9289-9486717cec17"",
          ""smokerStatus"": ""None in the last 5 years"",
          ""quoteDecisions"": [
            {
              ""productType"": ""Life"",
              ""emRating"": null,
              ""permPmRating"": null,
              ""decision"": ""Declined"",
              ""decisionText"": ""Unable to offer terms - Decline"",
              ""reasons"": [
                ""Build""
              ],
              ""reasonText"": [
                ""Unfortunately, we’re unable to offer you the Life Protection cover you’ve applied for because of your .""
              ],
              ""exclusions"": []
            }
          ]
        }
      }
    ]
  }
}{code}

h4. Mocked up example return from a post to triggerQuote with a declined cover

{code:json}{
  ""data"": {
    ""id"": ""280c3703-f686-49ce-867c-c42f4d6d732e"",
    ""quoteCreatedDate"": ""2021-12-15T18:42:47.6949018+00:00"",
    ""quoteAgeDate"": ""2021-12-15T00:00:00+00:00"",
    ""adviserAtFirmLocationId"": ""a0r0E000004pFFfQAM"",
    ""initialIndemnityPercentage"": 0,
    ""initialCommissionSacrificePercentage"": 0,
    ""initialCommission"": 0,
    ""premium"": 0,
    ""discount"": 0,
    ""quoteApplicants"": [
      {
        ""id"": ""eb7a2f6f-1ab1-43ed-9289-9486717cec17"",
        ""dateOfBirth"": ""1976-09-15T00:00:00"",
        ""gender"": ""male"",
        ""premium"": 0,
        ""quoteCovers"": [
          {
            ""id"": ""3cc1f2d1-d5ab-4cf9-91fb-46ee84a23d17"",
            ""coverAmount"": 100000,
            ""childCovers"": null,
            ""toAge"": null,
            ""term"": 7,
            ""productType"": ""Life"",
            ""coverType"": ""Level"",
            ""decision"": ""Declined"",
            ""premium"": 0,
            ""initialCommission"": 0
          }
        ],
        ""quoteUnderwritingOutcomes"": [],
        ""quoteDecisionModel"": {
          ""applicantId"": ""eb7a2f6f-1ab1-43ed-9289-9486717cec17"",
          ""smokerStatus"": ""None in the last 5 years"",
          ""quoteDecisions"": [
            {
              ""productType"": ""Life"",
              ""emRating"": null,
              ""permPmRating"": null,
              ""decision"": ""Declined"",
              ""decisionText"": ""Unable to offer terms - Decline"",
              ""reasons"": [
                ""Build""
              ],
              ""reasonText"": [
                ""Unfortunately, we’re unable to offer you the Life Protection cover you’ve applied for because of your .""
              ],
              ""exclusions"": []
            }
          ]
        }
      }
    ]
  }
}{code}",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i0153z:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,Guardian Sprint 7,,,,,15/Dec/21 6:44 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-05 09:27:25.86,"05/Jan/22 9:27 AM;616ee20e2097220071a975d2;From discussions with Jim, Chris, Sam and Mike Pink on 4th Jan the following changes will be implemented:

* QuoteCovers will be populated with a decision property
* If a decision for an applicant quote cover has been declined or postponed then that quote cover will be filtered out before any Quote or Document Lissia requests are made.
* As postponed and declined quote covers will not be processed the monetary values ie premiums and commissions will default to zero
* [~accountid:6139c49114e8340071fcda09] [~accountid:613f22fdff23ba00715469d1] fyi","10/Jan/22 10:26 PM;6139c49114e8340071fcda09;[~accountid:616ee20e2097220071a975d2]  There are two scenarios that have different outcomes:


* if two covers exist, one is available and one is declined, the quoteCovers only includes the available cover (see G000113174 in UWT)
* if only one cover exists and it is declined, it is present in quoteCovers (see G000113175 in UWT)

My understanding was that declined covers should still appear in the quote response, just as declined - so the first scenario is incorrect.

fyi [~accountid:60cc71a1d5dde800713a2124] ",11/Jan/22 8:53 PM;6139c49114e8340071fcda09;test evidence attached to NBJ-572,,,,,,,,,,,,,,,,,,,,,,,,,,,39898,Add quickQuote decision into quote request for quote screen,Done
Cover level premiums are white text on grey background,NBJ-1021,42518,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,High,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,15/Dec/21 6:31 PM,17/Dec/21 11:04 AM,02/Feb/22 6:31 PM,17/Dec/21 11:04 AM,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15/Dec/21 6:32 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-15 at 18.30.49.png;https://gghltd.atlassian.net/secure/attachment/24398/Screenshot+2021-12-15+at+18.30.49.png,15/Dec/21 6:32 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-15 at 18.32.02.png;https://gghltd.atlassian.net/secure/attachment/24397/Screenshot+2021-12-15+at+18.32.02.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Cover level premiums are white text on grey background

!Screenshot 2021-12-15 at 18.30.49.png|width=1171,height=209!



Should be black text

!Screenshot 2021-12-15 at 18.32.02.png|width=1158,height=281!",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwik1:1j,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,15/Dec/21 6:31 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Exclusion slices,NBJ-1020,42516,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,15/Dec/21 5:39 PM,29/Jan/22 11:09 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As an* adviser or api consumer
*So that* I can activate an application with exclusion discounts applying to covers and convert to a policy
*I want* the api to take coverExclusions from quoteCovers and create corresponding entries on the GoLive request

{panel:bgColor=#deebff}
This story is about modelling exclusion discounts on Lissia Go Live
{panel}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,NBJ-1116,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Scenario* creating exclusionCover rows on go live message

*Given* any activation request 
*And* contains exclusion discounts
*When* creating the Lissia Go Live message
*Then* in addition to rows for the main benefit add in the following rows to the Go Live message for each exclusionCover

*ImpGrpPas -* set the exclusionCover row <fields> with the following <values>

{noformat}| fields                                            | values                                              |
| ImpItmPasQrefWebService.BenLine                   | parent quoteCover.id                                |
| ImpItmPasPrlbenProductLines.PrlId                 | <see exclusionCover product line rules table below> |
| ImpItmPasPrlbenPolicyAgentShares.<various fields> | as per established rules reflecting parentCover     |
| ImpItmAgtPrlbenAgents.ExternalToken               | as per established rules reflecting parentCover     |{noformat}

*ImpCliCpr* - set the exclusionCover row <fields> with the following <values>

{noformat}| fields                                         | values                                              |
| ImpItmCprPclPolicyCvgLives.<various fields>    | as per established rules reflecting parentCover     |
| ImpItmCprQrefWebService.BenLine                | parent quoteCover.id                                |
| ImpItmBkaCprBankAccounts.<various fields>      | as per established rules reflecting parentCover     |
| ImpItmCprPrlProductLines.PrlId                 | <see exclusionCover product line rules table below> |
| ImpItmCprTypeCliPolRelationships               | Type 4                                              | //only ever a type 4 regardless of single/dual
| ImpItmClcClientContactDetails.<various fields> | as per established rules reflecting parentCover     |
| ImpItmCliClients.<various fields>              | as per established rules reflecting parentCover     |{noformat}

*ImpPrlBenList -* set the exclusionCover row <fields> with the following <values>

{noformat}| fields                                                 | values                                              |
| ImpItmBenPolPolicies.<various fields>                  | as per established rules reflecting parentCover     |
| ImpItmBenQrefWebService.BenLine                        | parent quoteCover.id                                |
| ImpItmBkaPrlbenBankAccounts.<various fields>           | as per established rules reflecting parentCover     |
| ImpItmPcpPrlbenPolicyPremiums.Currency                 | GBP                                                 |
| ImpItmPcpPrlbenPolicyPremiums.Frequency                | 5                                                   |
| ImpItmPcpPrlbenPolicyPremiums.CollectionMethod         | 3                                                   |
| ImpItmPcpPrlbenPolicyPremiums.ModalPremium             | exclusionCover.premium                              |
| ImpItmPcpPrlbenPolicyPremiums.CollectionMethodPremium1 | 3                                                   |
| ImpItmPcpPrlbenPolicyPremiums.CollectionSubMethod      | 1                                                   |
| ImpItmPcpPrlbenPolicyPremiums.BankId                   | 0                                                   |
| ImpItmPocPrlbenPolicyCoverages.InitialSumAssured       | exclusionCover.coverAmount                          |
| ImpItmPocPrlbenPolicyCoverages.Term                    | exclusionCover.term                                 |
| ImpItmPocPrlbenPolicyCoverages.DateOfReqCommencement   | as per established rules reflecting parentCover     |
| ImpItmPocPrlbenPolicyCoverages.ProductLine             | <see exclusionCover product line rules table below> |
| ImpItmPocPrlbenPolicyCoverages.Currency                | GBP                                                 |
| ImpItmPocPrlbenPolicyCoverages.SoldBasis               | 0                                                   |
| ImpItmPocPrlbenPolicyCoverages.QuotationDate           | as per established rules reflecting parentCover     |
| ImpItmPocPrlbenPolicyCoverages.QuotationTime           | as per established rules reflecting parentCover     |
| ImpItmPocPrlbenPolicyCoverages.LivesType               | as per established rules reflecting parentCover     |
| ImpItmPocPrlbenPolicyCoverages.EscOptionAtStart        | always 0 for exclusion discounts                    |
| ImpItmPocPrlbenPolicyCoverages.CreationReason          | 1                                                   |
| ImpItmPcmPrlbenPolicyCommissions.<various fields>      | as per established rules reflecting parentCover     |{noformat}

*exclusionCover product line rules*

{noformat}| productType | coverType  | PrlId    |
| ci          | level      | CILUWEX  |
| ci          | increasing | CILUWEX  |
| ci          | decreasing | CIDUWEX  |
| ci          | family     | CIFDUWEX |
| aci         | level      | ACILUWEX |
| aci         | increasing | ACILUWEX |
| aci         | decreasing | ACIDUWEX |{noformat}



*Scenario* setting exclusion discount codes in the ImpGrpPlc section of the message

*Given* any activation request
*And* contains exclusion discounts
*When* formulating the lissia go live request
*Then* *foreach* quoteCover with a matching quoteUnderwritingOutcomes.quoteExclusion by productType, create a row in ImpGrpPlc  section of the Lissia message:

ImpGrpPlc - set the quoteExclusion row <fields> with the following <values>

{noformat}| fields                                     | values                                         |
| ImpItmPlcPolicyCvgLifeConditions.Condition | quoteExclusion.exclusionValue                  |
| ImpItmPlcCprtypeCliPolRelationships.Type   | 4                                              |
| ImpItmPlcPrlProductLines.PrlId             | <see exclusion product line rules table below> |
| ImpItmPlcQrefWebService.BenLine            | quoteCover.id                                  |{noformat}

*exclusion product line rules*

{noformat}| productType | coverType  | PrlId |
| ci          | level      | CIL   |
| ci          | increasing | CIL   |
| ci          | decreasing | CID   |
| ci          | family     | CIFD  |
| aci         | level      | ACIL  |
| aci         | increasing | ACIL  |
| aci         | decreasing | ACID  |{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-803,,,,,,,,,,,,,,,,None,,"Activation request

{noformat}{
    ...
    ""quote"": {
        ""adviserAtFirmLocationId"": ""a0r0E000004pFFfQAM"",
        ""applicationId"": ""G000113685"",
        ""id"": ""43eb3ed1-ce1f-45f5-8ff0-272100bd0c79"",
        ""initialCommission"": 201.78,
        ""initialCommissionSacrificePercentage"": 0,
        ""initialIndemnityPercentage"": 100,
        ""lifeTimePremium"": 1062,
        ""premium"": 17.81,
        ""quoteAgeDate"": ""2022-01-11T00:00:00+00:00"",
        ""quoteApplicants"": [
            {
                ""dateOfBirth"": ""1978-01-13T00:00:00"",
                ""gender"": ""Male"",
                ""id"": ""58f03030-d463-410b-9ab0-22fb9b99b57c"",
                ""premium"": 17.81,
                ""quoteCovers"": [
                    {
                        ""childCovers"": [
                            ...
                        ],
                       ""exclusionCovers"": [
                          {
                              ""coverAmount"": 50000,
                              ""coverType"": ""Level"",
                              ""id"": ""<guid>"",
                              ""premium"": -5.55,
                              ""productType"": ""aci"",
                              ""term"": ""nn"", //mutuallly exclusive with toAge
                              ""toAge"": ""nn"", //mutuallly exclusive with term
                              ""toAgeTermMonths"": 403 //mutuallly exclusive with term

                          }
                        ],
                        ""coverAmount"": 100000,
                        ""coverType"": ""Level"",
                        ""decision"": ""Standard Terms"",
                        ""id"": ""4ff9fcec-cfe7-4051-a0d8-5d8071a2c75f"",
                        ""initialCommission"": 201.78,
                        ""initialEarningsPeriod"": 48,
                        ""lifeTimePremium"": 1062,
                        ""premium"": 8.85,
                        ""productType"": ""Life"",
                        ""renewalCommission"": 0.22,
                        ""term"": 10,
                        ""unloadedPremium"": 8.85
                    }
                ],
                ""quoteUnderwritingOutcomes"": [
                    {
                        ""productType"": ""aci"",
                        ...
                        ""quoteExclusions"": [
                           {
                             ""exclusionValue"": 1052,
                             ...
                          },
                          {
                            ""exclusionValue"": 1062,
                            ...
                          }
                        ]
                    },
                    ...
                ],
                ""smokerStatus"": ""None in the last 5 years""
            }
        ],
        ""quoteCreatedDate"": ""2022-01-11T10:58:51.6275738+00:00""
    },
    ""requestDuration"": ""00:00:00.9878517"",
    ""sentDateTime"": ""2022-01-11T10:58:51.6280704+00:00""
}{noformat}

Lissia Go live Request

{noformat}<wss:Wssglivecall>
			<WssgliveImport >
				<ImpGrpPrq/>
				<ImpGrpPcr>
					<row>
						... <!-- all fields empty -->
					</row>
				</ImpGrpPcr>
				<ImpPolPolicies>
					<DateOfApplication/>
					<DateOfCommencement/>
					<Currency/>
				</ImpPolPolicies>
				<ImpGrpPas>
					...
					<row> <!-- ACIDUWEX -->
						<ImpSelPasIefSupplied>
							<SelectChar/>
						</ImpSelPasIefSupplied>
						<ImpItmPasQrefWebService>
							<BenLine>1</BenLine> <!-- quoteCover.id -->
							<QuoteRef/>
						</ImpItmPasQrefWebService>
						<ImpItmPasPrlbenProductLines>
							<PrlId>ACIDUWEX</PrlId> <!-- prodLine rules -->
						</ImpItmPasPrlbenProductLines>
						<ImpItmPasPrlbenPolicyAgentShares>
							<Status/>
							<Coverage/>
							<Agent/>
							<PasId/>
							<Percentage>100</Percentage>
							<Type/>
							<SpecificIce/>
							<SacrificeAmount/>
							<SacrificePercent>0</SacrificePercent>
							<PrimaryAgent>1</PrimaryAgent>
							<SacrificeType/>
							<RenewalSacrificePcg/>
						</ImpItmPasPrlbenPolicyAgentShares>
						<ImpItmAgtPrlbenAgents>
							<ExternalToken>a0r0E000004pFFfQAM</ExternalToken>
						</ImpItmAgtPrlbenAgents>
					</row>
				</ImpGrpPas>
				<ImpCliCpr>
					...
					<row> <!-- ACIDUWEX type 4 -->
						<ImpItmCprPclPolicyCvgLives>
							<AgeRating/>
							<AddnFactor>1.00</AddnFactor> <!-- as per parent quoteCover -->
							<AddnRpm/> <!-- as per parent quoteCover -->
							<RatingReason/>
							<RatingTerm/>
							<UnderwriterRiskCategory/>
							<MaxCeaseAge/>
						</ImpItmCprPclPolicyCvgLives>
						<ImpItmCprQrefWebService>
							<BenLine>1</BenLine> <!-- coverExclusion.id -->
							<QuoteRef/>
						</ImpItmCprQrefWebService>
						<ImpItmBkaCprBankAccounts> <!-- as per previously established rules -->
							<AccountName>JLQ FFExclusion</AccountName>
							<SortCode>205132</SortCode>
							<AccountCode>13537846</AccountCode>
							<MandateReference/>
						</ImpItmBkaCprBankAccounts>
						<ImpItmCprPrlProductLines>
							<PrlId>ACIDUWEX</PrlId> <!-- productLine rules -->
						</ImpItmCprPrlProductLines>
						<ImpItmCprTypeCliPolRelationships>
							<TypeNumber/>
							<Type>4</Type> <!-- always type 4 -->
							<PercentageSplit/>
						</ImpItmCprTypeCliPolRelationships>
						<ImpSelCliCprIefSupplied>
							<SelectChar/>
						</ImpSelCliCprIefSupplied>
						<ImpItmClcClientContactDetails> <!-- as per previously established rules -->
							<AddressLine1>1 High Street</AddressLine1>
							<AddressLine2/>
							<AddressLine3/>
							<AddressLine4/>
							<Town>Shrewsbury</Town>
							<County/>
							<Country>GBR</Country>
							<Postcode>WD22 4FF</Postcode>
							<Fax/>
							<HomePhone>07666554433</HomePhone>
							<Email>xyzxyz@icloud.com</Email>
							<HouseNo/>
						</ImpItmClcClientContactDetails>
						<ImpItmCliClients> <!-- as per previously established rules -->
							<Name>Smith</Name>
							<OtherFornames/>
							<FirstName>Stephen</FirstName>
							<Title>Mr</Title>
							<DateOfBirth>19820929</DateOfBirth>
							<Sex>2</Sex>
							<Smoker>3</Smoker>
							<Email>xyzxyz@icloud.com</Email>
							<RiskCat/>
							<Salutation/>
							<MobileTelNo>07666554433</MobileTelNo>
							<WorkTelNo/>
							<MaidenName/>
							<Weight/>
							<Height/>
							<MaritalStatus/>
							<Nationality/>
							<CliId>0</CliId>
							<Type/>
							<Bmi/>
							<WaistSize/>
							<Salary/>
							<SalaryCurrency>GBP</SalaryCurrency>
						</ImpItmCliClients>
					</row>
				</ImpCliCpr>
				<ImpGrpPlc>
					<row> <!-- ACID exclusion discount 1062 -->
						<ImpItmPlcPolicyCvgLifeConditions>
							<Condition>1062</Condition>
							<ApplicabilityDate/>
							<EndOfApplicability/>
							<RateOrValue/>
							<Type/>
						</ImpItmPlcPolicyCvgLifeConditions>
						<ImpItmPlcCprtypeCliPolRelationships>
							<Type>4</Type>
						</ImpItmPlcCprtypeCliPolRelationships>
						<ImpItmPlcPrlProductLines>
							<PrlId>ACID</PrlId>
						</ImpItmPlcPrlProductLines>
						<ImpItmPlcQrefWebService>
							<BenLine>1</BenLine>
							<QuoteRef/>
						</ImpItmPlcQrefWebService>
					</row>
					<row> <!-- ACID exclusion discount 1021 -->
						<ImpItmPlcPolicyCvgLifeConditions>
							<Condition>1021</Condition>
							<ApplicabilityDate/>
							<EndOfApplicability/>
							<RateOrValue/>
							<Type/>
						</ImpItmPlcPolicyCvgLifeConditions>
						<ImpItmPlcCprtypeCliPolRelationships>
							<Type>4</Type>
						</ImpItmPlcCprtypeCliPolRelationships>
						<ImpItmPlcPrlProductLines>
							<PrlId>ACID</PrlId>
						</ImpItmPlcPrlProductLines>
						<ImpItmPlcQrefWebService>
							<BenLine>1</BenLine>
							<QuoteRef/>
						</ImpItmPlcQrefWebService>
					</row>					
					<row> <!-- CID exclusion discount 1021 -->
						<ImpItmPlcPolicyCvgLifeConditions>
							<Condition>1021</Condition>
							<ApplicabilityDate/>
							<EndOfApplicability/>
							<RateOrValue/>
							<Type/>
						</ImpItmPlcPolicyCvgLifeConditions>
						<ImpItmPlcCprtypeCliPolRelationships>
							<Type>4</Type>
						</ImpItmPlcCprtypeCliPolRelationships>
						<ImpItmPlcPrlProductLines>
							<PrlId>CIL</PrlId>
						</ImpItmPlcPrlProductLines>
						<ImpItmPlcQrefWebService>
							<BenLine>2</BenLine>
							<QuoteRef/>
						</ImpItmPlcQrefWebService>
					</row>
				</ImpGrpPlc>
				<ImpPrlpqmWebService>
					<Prlrqm/>
				</ImpPrlpqmWebService>
				<ImpSrvdetailsWebService>
					<Pcdate/>
					<Srvtimings/>
					<ServiceUserid/>
					<RecordImport/>
				</ImpSrvdetailsWebService>
				<ImpPrlBenList>
					...
					<row> <!-- ACIDUWEX -->
						<ImpItmBenStatWebService>
							<StatusChng/>
						</ImpItmBenStatWebService>
						<ImpItmBenPolPolicies> <!-- previously established rules -->
							<PolId/>
							<ReferrerId/>
							<AdditionalId/>
							<Linkage/>
							<AdvisedStatus>3</AdvisedStatus>
							<BeneficiariesStatus>2</BeneficiariesStatus>
						</ImpItmBenPolPolicies>
						<ImpItmBenQrefWebService>
							<BenLine>1</BenLine> <!-- exclusionCover.id -->
							<QuoteRef/>
							<LinkedToPrimary/>
							<ReserveLinkedTo/>
						</ImpItmBenQrefWebService>
						<ImpItmBkaPrlbenBankAccounts> <!-- previously established rules -->
							<BkaId>0</BkaId>
							<Client>0</Client>
							<AccountNo>1</AccountNo>
							<Type>1</Type>
							<AccountName>JLQ FFExclusion</AccountName>
							<SortCode>205132</SortCode>
							<AccountCode>13537846</AccountCode>
							<SupplementaryCode/>
							<BankName/>
							<BankAddress1>1 High Street</BankAddress1>
							<BankAddress2/>
							<CollectionMethod>1</CollectionMethod>
							<Classification/>
							<BillingDay>24</BillingDay>
							<CardExpiryDate/>
							<SeriesNo/>
							<CardType/>
							<MandateExpiryDate/>
							<ClientReference/>
							<MandateReference/>
						</ImpItmBkaPrlbenBankAccounts>
						<ImpItmPcpPrlbenPolicyPremiums> 
							<Currency>GBP</Currency>
							<Frequency>5</Frequency>
							<CollectionMethod>3</CollectionMethod>
							<ModalPremium>-0.32</ModalPremium> <!-- exclusionCover.premium -->
							<CollectionMethodPremium1>3</CollectionMethodPremium1>
							<CollectionSubMethod>1</CollectionSubMethod>
							<BankId>0</BankId>
						</ImpItmPcpPrlbenPolicyPremiums>
						<ImpItmPocPrlbenPolicyCoverages>
							<InitialSumAssured>382.32</InitialSumAssured> <!-- exclusionCover.coverAmount -->
							<Term>24</Term> <!-- exclusionCover.term -->
							<DateOfReqCommencement>20220110</DateOfReqCommencement> <!-- policyStartDate -->
							<ProductLine>ACIDUWEX</ProductLine> <!-- productLine rules -->
							<Currency>GBP</Currency>
							<SoldBasis>0</SoldBasis>
							<CoverLevel/>
							<BenefitBasis/>
							<QuotationDate>20210422</QuotationDate> <!-- quote.quoteAgeDate -->
							<QuotationTime>000000</QuotationTime>
							<Multiplier/>
							<LivesType>7</LivesType>
							<TermAge>0</TermAge>
							<DateOfTermination/>
							<PptAge/>
							<InterestRate/>
							<Valuation/>
							<PttYrs/>
							<DatePremiumTerm/>
							<Coverage/>
							<MajorCoverage/>
							<ProductVersion/>
							<RequestedTerm/>
							<EscOptionAtStart>0</EscOptionAtStart> <!-- always 0 -->
							<CreationReason>1</CreationReason>
						</ImpItmPocPrlbenPolicyCoverages>
						<ImpSelPrlBenIefSupplied>
							<SelectChar/>
						</ImpSelPrlBenIefSupplied>
						<ImpItmPcmPrlbenPolicyCommissions> <!-- as previously established rules -->
							<Style>INDEM</Style>
							<IndemnificationPercent>100</IndemnificationPercent>
						</ImpItmPcmPrlbenPolicyCommissions>
						<ImpItmPpcPrlbenPolicyPremiumChanges>
							<ChangeIndex/>
						</ImpItmPpcPrlbenPolicyPremiumChanges>
					</row>
				</ImpPrlBenList>
				<ImpGrpPfd>
					<row>
						... <!-- all fields empty -->
					</row>
				</ImpGrpPfd>
			</WssgliveImport>
		</wss:Wssglivecall>{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwibi:1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15/Dec/21 5:39 PM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Multiple applicants - multiple benefits,NBJ-1019,42515,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,15/Dec/21 5:15 PM,12/Jan/22 11:37 AM,02/Feb/22 6:31 PM,12/Jan/22 11:37 AM,,Foundation Release,,,,,"*As an* adviser or api consumer
*So that* I can activate my dual applicant, multiple benefit application and convert to an on risk policy
*I want* an activation service

{panel:bgColor=#deebff}
This story is about receiving dual applicant requests with multiple quoteCovers
{panel}",,Antony.Gorman,Jim Houghton,,,,,,6149b13472728e006f9441d6,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,12/Jan/22 11:37 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/24962/LivingDoc.html,,,,,,,,,,,,"*Scenario* Creating a dual life Lissia go live message containing any number of covers

*Given* a multiple applicant application
*And* any number of covers
*When* generating Lissia activation message
*Then* foreach quoteCover within quoteApplicant within quote on the body of the request, create a row within <ImpGrpPas> populating details honouring the functionality from preceeding stories
*And* foreach quoteCover within quoteApplicant within quote on the body of the request, create a row for each applicant within <ImpCliCpr> populating details

_First row_

{panel:bgColor=#deebff}
ImpItmCprTypeCliPolRelationships.Type defines the applicant and cover relationship.  A value of 4 indicates this is a primary relationship with the quoteCover i.e. the applicant that contains the current quoteCover

Any mappings from applicant should therefore be from the applicant containing the quoteCover. 
{panel}

{noformat}| Lissia Go Live row.field                          | Value         | related story    |
| ImpItmCprTypeCliPolRelationships.Type             | 4             |                  |
| ImpItmClcClientContactDetails.<multiple fields>   | as per story  | NBJ-885          |
| ImpItmCliClients.<multiple fields>                | as per story  | NBJ-883, NBJ-885 |          {noformat}

_Second row_

{panel:bgColor=#deebff}
ImpItmCprTypeCliPolRelationships.Type defines the applicant and cover relationship.  A value of 18 indicates this is a secondary life relationship with the quoteCover i.e. the second applicant that does not contains the current quoteCover

Any mappings from applicant should therefore be from the applicant that *does not* contain the quoteCover. 
{panel}

{noformat}| Lissia Go Live row.field                          | Value         | related story    |
| ImpItmCprTypeCliPolRelationships.Type             | 18            |                  |
| ImpItmClcClientContactDetails.<multiple fields>   | as per story  | NBJ-885          |
| ImpItmCliClients.<multiple fields>                | as per story  | NBJ-883, NBJ-885 |          {noformat}

*And* foreach quoteCover within quoteApplicant within quote on the body of the request create a row within <ImpPrlBenList> populating details

{noformat}| Lissia Go Live row.field                                | Value               | 
| ImpItmPocPrlbenPolicyCoverages.LivesType                | 7                   | {noformat}



*Given* a single applicant application
*Then* set ImpPrlBenList.ImpItmPocPrlbenPolicyCoverages.LivesType to 1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-119,,,,,,,,,,,,,,,,None,,"_Service Request_

{noformat}POST /api/v1/activate
{
  ""application""{
    ...,
    ""applicants"": [ .. Applicants DTOs ... ],
    ""quote"": {
      ...
      ""quoteApplicants"": [
        {
          ... QuoteApplicant DTO ...
          ""quoteCovers"": [{""id"": <guid>, ...}]
        }
      ]
    }
  }
}{noformat}

_Service Response_

{noformat}http status code 201{noformat}

{noformat}{
  ""errors"": [],
  ""data"": {
    ... replay request data ...,
    ""policies"": [
      {
         ""reference"": """" //
      }
    ]
  }
}{noformat}

_Go Live Request_

{noformat}<wss:Wssglivecall>
	<WssgliveImport command="""" clientId="""" clientPassword="""" nextLocation="""" exitState="""" dialect="""">
		<ImpGrpPrq/>
		<ImpGrpPcr>
			<row>
				<!-- not used remain all blank -->
			</row>
		</ImpGrpPcr>
		<ImpPolPolicies> 
			<!-- not used remain all blank -->
		</ImpPolPolicies>
		<ImpGrpPas>
			<row> <!-- a row repeated/populated per quoteCover -->
				...
			</row>
			<row>
				...
			</row>
		</ImpGrpPas>
		<ImpCliCpr>
			<row> <!-- a row repeated/populated twice per quoteCover on dual lives -->
				...
				<ImpItmCprTypeCliPolRelationships>
					...
					<Type>4</Type>
					...
				</ImpItmCprTypeCliPolRelationships>
				...
				<ImpItmClcClientContactDetails>
					<AddressLine1>26 DummyData Street</AddressLine1> -- NBJ-885
					<AddressLine2>Townsville</AddressLine2> -- NBJ-885
					<AddressLine3/> -- NBJ-885
					<AddressLine4/> -- not used
					<Town>Castleford</Town> -- NBJ-885 
					<County>West Yorkshire</County> -- NBJ-885
					<Country>GBR</Country> -- hardcoded
					<Postcode>WF10 4AU</Postcode> -- NBJ-885
					<Fax/> -- not used
					<HomePhone>06777333333</HomePhone> -- NBJ-885
					<Email>shaggyhms@gtest1821.co.uk</Email> -- NBJ-885
					<HouseNo/> -- not used
				</ImpItmClcClientContactDetails>
				<ImpItmCliClients>
					<Name>Test</Name> -- NBJ-883
					<OtherFornames/>
					<FirstName>Gynea</FirstName> -- NBJ-883
					<Title>Mrs</Title> -- NBJ-883
					<DateOfBirth>19800108</DateOfBirth> -- NBJ-883
					<Sex>3</Sex> -- NBJ-883
					<Smoker>3</Smoker> -- NBJ-883 
					<Email>shaggyhms@gtest1821.co.uk</Email> -- NBJ-885
					<RiskCat/> -- not used
					<Salutation/> -- not used
					<MobileTelNo>06777333333</MobileTelNo> -- NBJ-885
					<WorkTelNo/> -- not used
					<MaidenName/>
					<Weight/>
					<Height/>
					<MaritalStatus/>
					<Nationality/>
					<CliId>0</CliId> -- set to 0 initially
					<Type/> -- not used
					<Bmi/>
					<WaistSize/>
					<Salary>35000</Salary> -- not used
					<SalaryCurrency>GBP</SalaryCurrency> -- not used
				</ImpItmCliClients>
			</row>
			<row>
				...
			</row>
		</ImpCliCpr>
		<ImpGrpPlc/>
		<ImpPrlpqmWebService>
			<Prlrqm/> -- not used
		</ImpPrlpqmWebService>
		<ImpSrvdetailsWebService>
			<Pcdate/> -- not used
			<Srvtimings/>
			<ServiceUserid/>
			<RecordImport/>
		</ImpSrvdetailsWebService>
		<ImpPrlBenList>
			<row> <!-- a row repeated/populated per quoteCover --> 
				...
				<ImpItmPocPrlbenPolicyCoverages>
					...
					<LivesType>1</LivesType> -- if applicant count 1=1 else 7 - tbd
					...
				</ImpItmPocPrlbenPolicyCoverages>
				...
			</row>
			<row>
				...
			</row>
		</ImpPrlBenList>
		<ImpGrpPfd> -- not used
			<row>
				...
			</row>
		</ImpGrpPfd>
	</WssgliveImport>
</wss:Wssglivecall>{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwifu:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,15/Dec/21 11:50 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-10 13:53:10.404,10/Jan/22 1:53 PM;6149b13472728e006f9441d6;this throws a lissia error (as needs more rows according to Mike H). Jim is looking into the requirements,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Underwriting preamble showing before every question,NBJ-1018,42514,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Sam Gamble,610c00d94e8d8d0069a20d6c,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,15/Dec/21 5:07 PM,16/Dec/21 10:14 AM,02/Feb/22 6:31 PM,16/Dec/21 10:14 AM,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15/Dec/21 5:08 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-15 at 17.06.35.png;https://gghltd.atlassian.net/secure/attachment/24388/Screenshot+2021-12-15+at+17.06.35.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Underwriting preamble is now showing up before every question (rather than the start of every enquiryLine)

!Screenshot 2021-12-15 at 17.06.35.png|width=1392,height=1046!",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwik1:1ji,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,15/Dec/21 5:07 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Converted toAge to term,NBJ-1017,42513,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,15/Dec/21 4:59 PM,01/Feb/22 2:32 PM,02/Feb/22 6:31 PM,01/Feb/22 2:32 PM,,Foundation Release,,Sprint_8,,,"*As an* adviser or api consumer
*So that* I can activate an application with toAge covers and convert to a policy
*I want* the api to take quoteCover.toAgeTermMonths and maps to Lissia go live request

{panel:bgColor=#deebff}
This story removes setting of toAge on go live request as described in [https://gghltd.atlassian.net/browse/NBJ-897|https://gghltd.atlassian.net/browse/NBJ-897|smart-link] and replaces with equivalent term.
{panel}

{panel:bgColor=#deebff}
The story maps toAgeTermMonths to the term on the go Live message as described in [https://gghltd.atlassian.net/browse/NBJ-896|https://gghltd.atlassian.net/browse/NBJ-896|smart-link]
{panel}",,James Bartlett,Jim Houghton,,,,,,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* any application specifying toAge on a quoteCover
*When* generating Lissia go live request 
*Then* ImpPrlBenList.row.ImpItmPocPrlbenPolicyCoverages.TermAge is set to empty (<TermAge/>)
*And* quote.quoteApplicants.quoteCovers.toAgeTermMonths is converted to <Lissia term format>

{panel:bgColor=#deebff}
e.g. 407 is converted to 33.11 (representing 33 years and 11 months).  Divide number of months by 12 and the the remaining months are after the decimal point.
{panel}

*And* ImpPrlBenList.row.ImpItmPocPrlbenPolicyCoverages.Term is set to <Lissia term format>",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-119,,,,,,,,,,,,,,,,None,,"_Service Request_

{noformat}POST /api/v1/activate
{
  ""application"": {
    ""adviserAtFirmLocationId"": """",
    ...
    ""applicants"": [ ... Applicant DTOs ... ],
    ""quote"": {
      ""quoteApplicants"":[
        { 
          ... QuoteApplicant DTO ...
          ""quoteCovers"": [{... ""toAge"": 55, ""toAgeTermMonths"": 407 ...}]
        }
      ]
    }
  }
}{noformat}

_Service Response_

{noformat}http status code 201
{
  errors:[],
  data:{
    ""application"": {
      ...
      ""applicants"": [
      ],
      ""quote"": {
        ...
      }
    },
    ""policies"": [
      {
        ""reference"": """"
      }
    ]
  }
}{noformat}

_Example Lissia Go LIve Request_

{code:json}<wss:Wssglivecall>
	<WssgliveImport command="""" clientId="""" clientPassword="""" nextLocation="""" exitState="""" dialect="""">
		<ImpGrpPrq/>
		<ImpGrpPcr>
			<row>
				...
			</row>
		</ImpGrpPcr>
		<ImpPolPolicies>
			<DateOfApplication/>
			<DateOfCommencement/>
			<Currency/>
		</ImpPolPolicies>
		<ImpGrpPas>
			<row>
				...
			</row>
		</ImpGrpPas>
		<ImpCliCpr>
			<row>
				...
			</row>
		</ImpCliCpr>
		<ImpGrpPlc/>
		<ImpPrlpqmWebService>
			<Prlrqm/>
		</ImpPrlpqmWebService>
		<ImpSrvdetailsWebService>
			...
		</ImpSrvdetailsWebService>
		<ImpPrlBenList>
			<row>
				...>
				<ImpItmPocPrlbenPolicyCoverages>
					...
					<Term>13.11</Term>
					...
				</ImpItmPocPrlbenPolicyCoverages>
				...
			</row>
		</ImpPrlBenList>
		<ImpGrpPfd>
			<row>
				...
			</row>
		</ImpGrpPfd>
	</WssgliveImport>
</wss:Wssglivecall>{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zi0sl,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,Guardian Sprint 9,,,,,15/Dec/21 4:59 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-28 15:17:33.114,28/Jan/22 3:17 PM;6139c49114e8340071fcda09;awaiting feedback from dev,"31/Jan/22 1:52 PM;6139c49114e8340071fcda09;The toAgeTermMonths wasn’t returned by the action service (e.g. triggerdecisionquote) but was by the quote service, so after discussions [~accountid:6149b160fac3ce0069d80d37]  will also make this change outside the quote service.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Advised status,NBJ-1016,42512,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,15/Dec/21 4:58 PM,11/Jan/22 6:03 PM,02/Feb/22 6:31 PM,11/Jan/22 6:02 PM,,Foundation Release,,,,,"*As an* adviser or api consumer
*So that* I can activate my applications
*I want* an activation service that maps isAdvisedSale

{panel:bgColor=#deebff}
This story is about ensuring isAdvisedSale is included in the go live message
{panel}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,11/Jan/22 6:02 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/24951/LivingDoc.html,,,,,,,,,,,,"*Scenario* setting AdvisedStatus on Lissia goLive message based on application.isAdvisedSale in common data format

*Given* any activation request

{noformat}POST /api/v1/activate{noformat}

*When* creating Lissia go live message
*Then* set every instance of ImpPrlBenList.row.ImpItmBenPolPolicies.<AdvisedStatus> based on application.<isAdvisedSale>

{noformat}| isAdvisedSale | AdvisedStatus |
| true          | 3             |
| false         | 2             |{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-119,,,,,,,,,,,,,,,,None,,"Request

{noformat}POST /api/v1/activate{noformat}

Body

{noformat}{
  ""application"": {
    ""isAdvisedSale"": true | false,
    ...
    ""applicants"": [...],
    ""quote"":{
      ""quoteApplicants"": [
        {
          ...
          ""quoteCovers"": [
          ],
          
        },
        {...}
      ]
    }
  }
}{noformat}

_Go Live Request_

{noformat}<wss:Wssglivecall>
	<WssgliveImport command="""" clientId="""" clientPassword="""" nextLocation="""" exitState="""" dialect="""">
		<ImpGrpPrq/>
		<ImpGrpPcr>
			<row>
				<!-- not used remain all blank -->
			</row>
		</ImpGrpPcr>
		<ImpPolPolicies> 
			<!-- not used remain all blank -->
		</ImpPolPolicies>
		<ImpGrpPas>
			<row> <!-- a row repeated/populated per quoteCover -->
				...
			</row>
			<row>
				...
			</row>
		</ImpGrpPas>
		<ImpCliCpr>
			<row> <!-- a row repeated/populated per quoteCover -->
				...
			</row>
			<row>
				...
			</row>
		</ImpCliCpr>
		<ImpGrpPlc/>
		<ImpPrlpqmWebService>
			<Prlrqm/> -- not used
		</ImpPrlpqmWebService>
		<ImpSrvdetailsWebService>
			<Pcdate/> -- not used
			<Srvtimings/>
			<ServiceUserid/>
			<RecordImport/>
		</ImpSrvdetailsWebService>
		<ImpPrlBenList>
			<row> <!-- a row repeated/populated per quoteCover --> 
				...
				<ImpItmBenPolPolicies>
					<AdvisedStatus>3</AdvisedStatus>
					...
				</ImpItmBenPolPolicies>
				...
			</row>
			<row>
				...
			</row>
		</ImpPrlBenList>
		<ImpGrpPfd> -- not used
			<row>
				...
			</row>
		</ImpGrpPfd>
	</WssgliveImport>
</wss:Wssglivecall>{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwifx:r,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,15/Dec/21 4:58 PM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
pm ratings,NBJ-1015,42511,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,15/Dec/21 4:56 PM,11/Jan/22 4:53 PM,02/Feb/22 6:31 PM,11/Jan/22 4:53 PM,,Foundation Release,,,,,"*As an* adviser or api consumer
*So that* I can activate my applications containing covers with pm ratings
*I want* an activation service that recognises the rating within covers

{panel:bgColor=#deebff}
This story is about ensuring pm ratings are included in the go live message
{panel}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* any activation request

{noformat}POST /api/v1/activate{noformat}

*And* application contains quoteCovers with pm ratings
*When* creating the row in ImpCliCpr on the Lissia activation message for a given quoteCover (matching <[quoteCover.id|http://quoteCover.id]> with <BenLine>)
*Then* map the matching quoteUnderwritingOutcome.<pm> by productType to the ImpCliCpr.ImpItmCprPclPolicyCvgLives.<AddRpm> to the result

{noformat}| from body of request                       | on Lissia activation message                  |
| quoteCover.id                        | pm  | BenLine                              | AddRpm |
| 65a7d328-000c-483b-ae88-ab322d1e1396 |     | 65a7d328-000c-483b-ae88-ab322d1e1396 | 0      |
| 65a7d328-000c-483b-978a-ab322d1e1396 | 1   | 65a7d328-000c-483b-978a-ab322d1e1396 | 1      |
| 1de5a701-a7bb-4aea-ae88-bb74b716a0aa | 2   | 1de5a701-a7bb-4aea-ae88-bb74b716a0aa | 2      |
| 3ff97c4e-1908-418a-a21d-5ce62a34c125 | 3   | 3ff97c4e-1908-418a-a21d-5ce62a34c125 | 3      |{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-119,,,,,,,,,,,,,,,,None,,"FYI - pm numbers are always integers

Request

{noformat}POST /api/v1/activate{noformat}

Body

{noformat}{
  ""application"": {
    ""applicants"": [...],
    ""quote"":{
      ""quoteApplicants"": [
        {
          ...
          ""quoteCovers"": [
          ],
          
        },
        {...}
      ]
    }
  }
}{noformat}

_Go Live Request_

{noformat}<wss:Wssglivecall>
	<WssgliveImport command="""" clientId="""" clientPassword="""" nextLocation="""" exitState="""" dialect="""">
		<ImpGrpPrq/>
		<ImpGrpPcr>
			<row>
				<!-- not used remain all blank -->
			</row>
		</ImpGrpPcr>
		<ImpPolPolicies> 
			<!-- not used remain all blank -->
		</ImpPolPolicies>
		<ImpGrpPas>
			<row> <!-- a row repeated/populated per quoteCover -->
				...
			</row>
			<row>
				...
			</row>
		</ImpGrpPas>
		<ImpCliCpr>
			<row> <!-- a row repeated/populated per quoteCover -->
				<ImpItmCprPclPolicyCvgLives>
					...
					<AddRpm>1.00</AddRpm> -- em rating -- tbd
					...
				</ImpItmCprPclPolicyCvgLives>
				...
			</row>
			<row>
				...
			</row>
		</ImpCliCpr>
		<ImpGrpPlc/>
		<ImpPrlpqmWebService>
			<Prlrqm/> -- not used
		</ImpPrlpqmWebService>
		<ImpSrvdetailsWebService>
			<Pcdate/> -- not used
			<Srvtimings/>
			<ServiceUserid/>
			<RecordImport/>
		</ImpSrvdetailsWebService>
		<ImpPrlBenList>
			<row> <!-- a row repeated/populated per quoteCover --> 
				...
			</row>
			<row>
				...
			</row>
		</ImpPrlBenList>
		<ImpGrpPfd> -- not used
			<row>
				...
			</row>
		</ImpGrpPfd>
	</WssgliveImport>
</wss:Wssglivecall>{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwifx:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,15/Dec/21 4:56 PM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
em ratings,NBJ-1014,42510,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,15/Dec/21 4:56 PM,11/Jan/22 1:46 PM,02/Feb/22 6:31 PM,11/Jan/22 1:46 PM,,Foundation Release,,,,,"*As an* adviser or api consumer
*So that* I can activate my applications containing covers with em ratings
*I want* an activation service that recognises the rating within covers

{panel:bgColor=#deebff}
This story is about ensuring em ratings are included in the go live message
{panel}",,Antony.Gorman,James Bartlett,Jim Houghton,,,,,6149b13472728e006f9441d6,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,11/Jan/22 1:46 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/24932/LivingDoc.html,,,,,,,,,,,,"*Given* any activation request

{noformat}POST /api/v1/activate{noformat}

*And* application contains quoteCovers with em ratings
*When* creating the row in ImpCliCpr on the Lissia activation message for a given quoteCover (matching <[quoteCover.id|http://quoteCover.id]> with <BenLine>)
*Then* map the matching quoteUnderwritingOutcome.<em> by productType (transform by dividing by 100 and adding 1), to the ImpCliCpr.ImpItmCprPclPolicyCvgLives.<AddnFactor> to the result

{noformat}| from body of request                       | on Lissia activation message                      |
| quoteCover.id                        | em  | BenLine                              | AddnFactor |
| 65a7d328-000c-483b-ae88-ab322d1e1396 |     | 65a7d328-000c-483b-ae88-ab322d1e1396 | 1.00       |
| 65a7d328-000c-483b-978a-ab322d1e1396 | 50  | 65a7d328-000c-483b-978a-ab322d1e1396 | 1.50       |
| 1de5a701-a7bb-4aea-ae88-bb74b716a0aa | 75  | 1de5a701-a7bb-4aea-ae88-bb74b716a0aa | 1.75       |
| 3ff97c4e-1908-418a-a21d-5ce62a34c125 | 100 | 3ff97c4e-1908-418a-a21d-5ce62a34c125 | 2.00       |
| 9f079746-ec87-42ea-8eb2-2fd206dca87c | 150 | 9f079746-ec87-42ea-8eb2-2fd206dca87c | 2.50       |{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-119,,,,,,,,,,,,,,,,None,,"Request

{noformat}POST /api/v1/activate{noformat}

Body

{noformat}{
  ""application"": {
    ""applicants"": [...],
    ""quote"":{
      ""quoteApplicants"": [
        {
          ...
          ""quoteCovers"": [
          ],
          
        },
        {...}
      ]
    }
  }
}{noformat}

_Go Live Request_

{noformat}<wss:Wssglivecall>
	<WssgliveImport command="""" clientId="""" clientPassword="""" nextLocation="""" exitState="""" dialect="""">
		<ImpGrpPrq/>
		<ImpGrpPcr>
			<row>
				<!-- not used remain all blank -->
			</row>
		</ImpGrpPcr>
		<ImpPolPolicies> 
			<!-- not used remain all blank -->
		</ImpPolPolicies>
		<ImpGrpPas>
			<row> <!-- a row repeated/populated per quoteCover -->
				...
			</row>
			<row>
				...
			</row>
		</ImpGrpPas>
		<ImpCliCpr>
			<row> <!-- a row repeated/populated per quoteCover -->
				<ImpItmCprPclPolicyCvgLives>
					...
					<AddnFactor>1.00</AddnFactor> -- em rating -- tbd
					...
				</ImpItmCprPclPolicyCvgLives>
				...
			</row>
			<row>
				...
			</row>
		</ImpCliCpr>
		<ImpGrpPlc/>
		<ImpPrlpqmWebService>
			<Prlrqm/> -- not used
		</ImpPrlpqmWebService>
		<ImpSrvdetailsWebService>
			<Pcdate/> -- not used
			<Srvtimings/>
			<ServiceUserid/>
			<RecordImport/>
		</ImpSrvdetailsWebService>
		<ImpPrlBenList>
			<row> <!-- a row repeated/populated per quoteCover --> 
				...
			</row>
			<row>
				...
			</row>
		</ImpPrlBenList>
		<ImpGrpPfd> -- not used
			<row>
				...
			</row>
		</ImpGrpPfd>
	</WssgliveImport>
</wss:Wssglivecall>{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwifw:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,15/Dec/21 4:56 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-07 16:15:17.233,07/Jan/22 4:15 PM;6139c49114e8340071fcda09;[~accountid:6149b13472728e006f9441d6] the {{AddnFactor}} field in requests is set to (for example) ‘1' rather than '1.00’. This field should always be to 2 decimal places.,10/Jan/22 8:06 AM;6149b13472728e006f9441d6;[~accountid:6139c49114e8340071fcda09] model gen them to be double and int - have switched to strings to fix.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Childrens CI label text missing from decision screen,NBJ-1013,42509,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Mike,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,15/Dec/21 4:48 PM,17/Dec/21 4:11 PM,02/Feb/22 6:31 PM,17/Dec/21 4:11 PM,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15/Dec/21 4:50 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-15 at 16.47.52.png;https://gghltd.atlassian.net/secure/attachment/24387/Screenshot+2021-12-15+at+16.47.52.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"!Screenshot 2021-12-15 at 16.47.52.png|width=1335,height=1057!

See screenshot - looks like we are missing the labels for Type of Cover and Amount of Cover ",,{},,,,,,NBJ-122,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwik1:1jr,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,15/Dec/21 4:48 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Policy start date,NBJ-1012,42508,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,15/Dec/21 4:40 PM,11/Jan/22 5:53 PM,02/Feb/22 6:31 PM,11/Jan/22 5:53 PM,,Foundation Release,,,,,"*As an* adviser or api consumer
*So that* I can activate my applications
*I want* an activation service that maps start date

{panel:bgColor=#deebff}
This story is about ensuring start date is included in the go live message
{panel}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,11/Jan/22 5:53 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/24950/LivingDoc.html,,,,,,,,,,,,"*Given* any activation request

{noformat}POST /api/v1/activate{noformat}

*When* creating Lissia go live message
*Then* set every instance of <ImpPrlBenList>.<row>.<ImpItmPocPrlbenPolicyCoverages>.<DateOfReqCommencement> to application.policyStartDate in Lissia date format (YYYYMMDD)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-119,,,,,,,,,,,,,,,,None,,"Request

{noformat}POST /api/v1/activate{noformat}

Body

{noformat}{
  ""application"": {
    ""applicants"": [...],
    ""quote"":{
      ""quoteApplicants"": [
        {
          ...
          ""quoteCovers"": [
          ],
          
        },
        {...}
      ]
    }
  }
}{noformat}

_Go Live Request_

{noformat}<wss:Wssglivecall>
	<WssgliveImport command="""" clientId="""" clientPassword="""" nextLocation="""" exitState="""" dialect="""">
		<ImpGrpPrq/>
		<ImpGrpPcr>
			<row>
				<!-- not used remain all blank -->
			</row>
		</ImpGrpPcr>
		<ImpPolPolicies> 
			<!-- not used remain all blank -->
		</ImpPolPolicies>
		<ImpGrpPas>
			<row> <!-- a row repeated/populated per quoteCover -->
				...
			</row>
			<row>
				...
			</row>
		</ImpGrpPas>
		<ImpCliCpr>
			<row> <!-- a row repeated/populated per quoteCover -->
				...
			</row>
			<row>
				...
			</row>
		</ImpCliCpr>
		<ImpGrpPlc/>
		<ImpPrlpqmWebService>
			<Prlrqm/> -- not used
		</ImpPrlpqmWebService>
		<ImpSrvdetailsWebService>
			<Pcdate/> -- not used
			<Srvtimings/>
			<ServiceUserid/>
			<RecordImport/>
		</ImpSrvdetailsWebService>
		<ImpPrlBenList>
			<row> <!-- a row repeated/populated per quoteCover --> 
				...
				<ImpItmPocPrlbenPolicyCoverages>
					<DateOfReqCommencement>YYYYMMDD</DateOfReqCommencement>
					...
				</ImpItmPocPrlbenPolicyCoverages>
				...
			</row>
			<row>
				...
			</row>
		</ImpPrlBenList>
		<ImpGrpPfd> -- not used
			<row>
				...
			</row>
		</ImpGrpPfd>
	</WssgliveImport>
</wss:Wssglivecall>{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwifx:i,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,15/Dec/21 4:40 PM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Single applicant - multiple benefits,NBJ-1011,42458,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,15/Dec/21 11:50 AM,11/Jan/22 1:47 PM,02/Feb/22 6:31 PM,11/Jan/22 1:47 PM,,Foundation Release,,,,,"*As an* adviser or api consumer
*So that* I can activate my multiple benefit application and convert to an on risk policy
*I want* an activation service

{panel:bgColor=#deebff}
This story is about receiving single applicant requests with multiple quoteCovers, there will be multiple applicants in later stories
{panel}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,NBJ-1019,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,11/Jan/22 1:47 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/24933/LivingDoc.html,,,,,,,,,,,,"*Given* a single applicant application
*And* any number of covers
*When* activating include the following
*Then* foreach quoteCover within quoteApplicant within quote on the body of the request create a row within <ImpGrpPas> populating details

{noformat}| Lissia Go Live row.field                          | Value         | 
| ImpItmPasQrefWebService.BenLine                   | quoteCover.id | {noformat}

*And* foreach quoteCover within quoteApplicant within quote on the body of the request create a row within <ImpCliCpr> populating details

{noformat}| Lissia Go Live row.field                          | Value         | 
| ImpItmCprQrefWebService.BenLine                   | quoteCover.id |  {noformat}

*And* foreach quoteCover within quoteApplicant within quote on the body of the request create a row within <ImpPrlBenList> populating details

{noformat}| Lissia Go Live row.field                                | Value               | 
| ImpItmBenQrefWebService.BenLine                         | quoteCover.id       | 
| ImpItmBenQrefWebService.LinkedToPrimary                 |                     |  //removed mapping as causing Lissia issue{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-119,,,,,,,,,,,,,,,,None,,"_Service Request_

{noformat}POST /api/v1/activate
{
  ""application""{
    ...,
    ""applicants"": [ .. Applicants DTOs ... ],
    ""quote"": {
      ...
      ""quoteApplicants"": [
        {
          ... QuoteApplicant DTO ...
          ""quoteCovers"": [{""id"": <guid>, ...}]
        }
      ]
    }
  }
}{noformat}

_Service Response_

{noformat}http status code 201{noformat}

{noformat}{
  ""errors"": [],
  ""data"": {
    ... replay request data ...,
    ""policies"": [
      {
         ""reference"": """" //
      }
    ]
  }
}{noformat}

_Go Live Request_

{noformat}<wss:Wssglivecall>
	<WssgliveImport command="""" clientId="""" clientPassword="""" nextLocation="""" exitState="""" dialect="""">
		<ImpGrpPrq/>
		<ImpGrpPcr>
			<row>
				<!-- not used remain all blank -->
			</row>
		</ImpGrpPcr>
		<ImpPolPolicies> 
			<!-- not used remain all blank -->
		</ImpPolPolicies>
		<ImpGrpPas>
			<row> <!-- a row repeated/populated per quoteCover -->
				<ImpSelPasIefSupplied>
					<SelectChar/>
				</ImpSelPasIefSupplied>
				<ImpItmPasQrefWebService>
					<BenLine>1</BenLine> -- quoteCover.id guid
					<QuoteRef/>
				</ImpItmPasQrefWebService>
				<ImpItmPasPrlbenProductLines>
					<PrlId>ACIL</PrlId> -- done
				</ImpItmPasPrlbenProductLines>
				<ImpItmPasPrlbenPolicyAgentShares>
					<Status/> 
					<Coverage/>
					<Agent/>
					<PasId/>
					<Percentage>100</Percentage> -- hard code to 100
					<Type/>
					<SpecificIce/> 
					<SacrificeAmount/>
					<SacrificePercent>0</SacrificePercent> -- NBJ-901
					<PrimaryAgent>1</PrimaryAgent> -- hard code 1
					<SacrificeType/>
					<RenewalSacrificePcg/>
				</ImpItmPasPrlbenPolicyAgentShares>
				<ImpItmAgtPrlbenAgents>
					<ExternalToken>a0r0E000004rQM5QAM</ExternalToken> -- NBJ-891
				</ImpItmAgtPrlbenAgents>
			</row>
			<row>
				...
			</row>
		</ImpGrpPas>
		<ImpCliCpr>
			<row> <!-- a row repeated/populated per quoteCover -->
				<ImpItmCprPclPolicyCvgLives>
					<AgeRating/> -- not used
					<AddnFactor>1.00</AddnFactor> -- em rating -- tbd
					<AddnRpm>0</AddnRpm> -- pm rating -- tbd
					<RatingReason/>
					<RatingTerm/> 
					<UnderwriterRiskCategory/>
					<MaxCeaseAge/>
				</ImpItmCprPclPolicyCvgLives>
				<ImpItmCprQrefWebService>
					<BenLine>1</BenLine> -- quoteCover.id <guid>
					<QuoteRef/>
				</ImpItmCprQrefWebService>
				<ImpItmBkaCprBankAccounts> -- tbd
					<AccountName>Gynea Test</AccountName>
					<SortCode>205132</SortCode>
					<AccountCode>13537846</AccountCode>
					<MandateReference/>
				</ImpItmBkaCprBankAccounts>
				<ImpItmCprPrlProductLines>
					<PrlId>ACIL</PrlId> -- NBJ-893
				</ImpItmCprPrlProductLines>
				<ImpItmCprTypeCliPolRelationships>
					<TypeNumber/>
					<Type>4</Type> -- type 4, 7 , 18, 19 confluence page -- tbd
					<PercentageSplit/>
				</ImpItmCprTypeCliPolRelationships>
				<ImpSelCliCprIefSupplied>
					<SelectChar/>
				</ImpSelCliCprIefSupplied>
				<ImpItmClcClientContactDetails>
					<AddressLine1>26 DummyData Street</AddressLine1> -- NBJ-885
					<AddressLine2>Townsville</AddressLine2> -- NBJ-885
					<AddressLine3/> -- NBJ-885
					<AddressLine4/> -- not used
					<Town>Castleford</Town> -- NBJ-885 
					<County>West Yorkshire</County> -- NBJ-885
					<Country>GBR</Country> -- hardcoded
					<Postcode>WF10 4AU</Postcode> -- NBJ-885
					<Fax/> -- not used
					<HomePhone>06777333333</HomePhone> -- NBJ-885
					<Email>shaggyhms@gtest1821.co.uk</Email> -- NBJ-885
					<HouseNo/> -- not used
				</ImpItmClcClientContactDetails>
				<ImpItmCliClients>
					<Name>Test</Name> -- NBJ-883
					<OtherFornames/>
					<FirstName>Gynea</FirstName> -- NBJ-883
					<Title>Mrs</Title> -- NBJ-883
					<DateOfBirth>19800108</DateOfBirth> -- NBJ-883
					<Sex>3</Sex> -- NBJ-883
					<Smoker>3</Smoker> -- NBJ-883 
					<Email>shaggyhms@gtest1821.co.uk</Email> -- NBJ-885
					<RiskCat/> -- not used
					<Salutation/> -- not used
					<MobileTelNo>06777333333</MobileTelNo> -- NBJ-885
					<WorkTelNo/> -- not used
					<MaidenName/>
					<Weight/>
					<Height/>
					<MaritalStatus/>
					<Nationality/>
					<CliId>0</CliId> -- set to 0 initially
					<Type/> -- not used
					<Bmi/>
					<WaistSize/>
					<Salary>35000</Salary> -- not used
					<SalaryCurrency>GBP</SalaryCurrency> -- not used
				</ImpItmCliClients>
			</row>
			<row>
				...
			</row>
		</ImpCliCpr>
		<ImpGrpPlc/>
		<ImpPrlpqmWebService>
			<Prlrqm/> -- not used
		</ImpPrlpqmWebService>
		<ImpSrvdetailsWebService>
			<Pcdate/> -- not used
			<Srvtimings/>
			<ServiceUserid/>
			<RecordImport/>
		</ImpSrvdetailsWebService>
		<ImpPrlBenList>
			<row> <!-- a row repeated/populated per quoteCover --> 
				<ImpItmBenStatWebService>
					<StatusChng/> -- not used
				</ImpItmBenStatWebService>
				<ImpItmBenPolPolicies>
					<PolId/>
					<ReferrerId/>
					<AdditionalId/>
					<Linkage/>
					<AdvisedStatus>2</AdvisedStatus> -- based on advised status - tbd
					<BeneficiariesStatus>3</BeneficiariesStatus> -- hard code for now
				</ImpItmBenPolPolicies>
				<ImpItmBenQrefWebService>
					<BenLine>1</BenLine> -- quoteCover.id
					<QuoteRef/> -- not used for now
					<LinkedToPrimary>1</LinkedToPrimary> -- quoteCover.id
					<ReserveLinkedTo/>
				</ImpItmBenQrefWebService>
				<ImpItmBkaPrlbenBankAccounts> -- hard coded
					<BkaId>0</BkaId>
					<Client>0</Client>
					<AccountNo>1</AccountNo>
					<Type>1</Type>
					<AccountName>Gynea Test</AccountName>
					<SortCode>205132</SortCode>
					<AccountCode>13537846</AccountCode>
					<SupplementaryCode/>
					<BankName/>
					<BankAddress1>26 DummyData Street</BankAddress1>
					<BankAddress2>Townsville</BankAddress2>
					<CollectionMethod>1</CollectionMethod>
					<Classification/>
					<BillingDay>1</BillingDay> -- application.preferredCollectionDay
					<CardExpiryDate/>
					<SeriesNo/>
					<CardType/>
					<MandateExpiryDate/>
					<ClientReference/>
					<MandateReference/>
				</ImpItmBkaPrlbenBankAccounts>
				<ImpItmPcpPrlbenPolicyPremiums>
					<Currency>GBP</Currency> -- NBJ-892
					<Frequency>5</Frequency> -- NBJ-892
					<CollectionMethod>3</CollectionMethod> -- NBJ-892
					<ModalPremium>25.81</ModalPremium> -- NBJ-892
					<CollectionMethodPremium1>3</CollectionMethodPremium1> -- NBJ-892
					<CollectionSubMethod>1</CollectionSubMethod> -- NBJ-892
					<BankId>0</BankId>
				</ImpItmPcpPrlbenPolicyPremiums>
				<ImpItmPocPrlbenPolicyCoverages>
					<InitialSumAssured>45000</InitialSumAssured> -- NBJ-895
					<Term>12</Term> -- term or toAge -- more work
					<DateOfReqCommencement>20210928</DateOfReqCommencement> -- application.policyStartDate YYYYMMDD - tbd
					<ProductLine>ACIL</ProductLine> -- NBJ-893
					<Currency>GBP</Currency> -- always GBP
					<SoldBasis>0</SoldBasis> -- hardCode
					<CoverLevel/> -- not used
					<BenefitBasis/> -- not used
					<QuotationDate>20210602</QuotationDate> -- NBJ-895
					<QuotationTime>000000</QuotationTime> -- NBJ-895
					<Multiplier/> -- not used
					<LivesType>1</LivesType> -- if applicant count 1=1 else 7 - tbd
					<TermAge>0</TermAge> -- toAge never send through instead use equivalent term from quote response as above <term>
					<DateOfTermination/> -- not used
					<PptAge/> -- not used
					<InterestRate/>
					<Valuation/>
					<PttYrs/>
					<DatePremiumTerm/>
					<Coverage/>
					<MajorCoverage/>
					<ProductVersion/>
					<RequestedTerm/>
					<EscOptionAtStart>1</EscOptionAtStart> -- NBJ-893
					<CreationReason>1</CreationReason> -- hard coded
				</ImpItmPocPrlbenPolicyCoverages>
				<ImpSelPrlBenIefSupplied>
					<SelectChar/> -- not used
				</ImpSelPrlBenIefSupplied>
				<ImpItmPcmPrlbenPolicyCommissions>
					<Style>INDEM</Style> -- done
					<IndemnificationPercent>100</IndemnificationPercent> -- done
				</ImpItmPcmPrlbenPolicyCommissions>
				<ImpItmPpcPrlbenPolicyPremiumChanges>
					<ChangeIndex/> -- not used
				</ImpItmPpcPrlbenPolicyPremiumChanges>
			</row>
			<row>
				...
			</row>
		</ImpPrlBenList>
		<ImpGrpPfd> -- not used
			<row>
				<ImpSelPfdIefSupplied>
					<SelectChar/>
				</ImpSelPfdIefSupplied>
				<ImpItmPfdPocPolicyCoverages>
					<Coverage/>
					<ProductLine/>
					<Policy/>
				</ImpItmPfdPocPolicyCoverages>
				<ImpItmPfdQrefWebService>
					<BenLine/>
					<QuoteRef/>
				</ImpItmPfdQrefWebService>
				<ImpItmPfdPolicyFundDirections>
					<PfdId>0</PfdId>
					<Fund/>
					<Holding/>
					<Percentage/>
					<Type/>
				</ImpItmPfdPolicyFundDirections>
			</row>
		</ImpGrpPfd>
	</WssgliveImport>
</wss:Wssglivecall>{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwifq:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,15/Dec/21 11:50 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Child Ci,NBJ-1009,42452,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,15/Dec/21 11:37 AM,27/Jan/22 9:37 AM,02/Feb/22 6:31 PM,27/Jan/22 9:37 AM,,Foundation Release,,,,,"*As an* adviser or api consumer
*So that* I can activate my applications
*I want* an activation service that includes Child CI covers

{panel:bgColor=#deebff}
This story is about ensuring Child CI is included in the go live message:
{panel}",,Antony.Gorman,James Bartlett,Jim Houghton,,,,,6149b13472728e006f9441d6,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,26/Jan/22 4:23 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;G000153920.xml;https://gghltd.atlassian.net/secure/attachment/25404/G000153920.xml,,,,,,,,,,,,"*Scenario* creating the child CI components of the Go Live Message

{panel:bgColor=#deebff}
All rows generated for the Child CI cover must immediately follow the rows for the parent cover in the Lissia Go Live Request
{panel}

*Given* any activation request

{noformat}POST /api/v1/activate{noformat}

*And* application has a childCI cover
*And* any number of children specified
*When* creating go live message
*Then* immediately following the parent cover row create *a row* for the Child Ci cover in the ImpGrpPas section of the lissia go live message, mapping from the body of the request to the relevant <Lissia fields>

{noformat}| Lissia Fields                                     | Source                                                                                     | 
| ImpItmPasQrefWebService.BenLine                   | application.quote.applicant.childCover.id                                                  |
| ImpItmPasPrlbenProductLines.PrlId                 | RIDCCIL for childCover.coverType = ""Level"", RIDCCI for childCover.coverType = ""Increasing"" |
| ImpItmPasPrlbenPolicyAgentShares.Percentage       | 100                                                                                        |
| ImpItmPasPrlbenPolicyAgentShares.SacrificePercent | quote.initialCommissionSacrificePercentage                                                 |
| ImpItmPasPrlbenPolicyAgentShares.PrimaryAgent     | 1                                                                                          |
| ImpItmAgtPrlbenAgents.ExternalToken               | quote.adviserAtFirmLocationId                                                              |{noformat}

*And* immediately following the parent cover rows in ImpCliCpr, create rows for Child Ci as per already established conventions    

_for both single and dual life applications_

{panel:bgColor=#deebff}
ImpItmCprTypeCliPolRelationships.Type defines the applicant and cover relationship. A value of 4 indicates this is a primary relationship with the quoteCover i.e. the applicant that contains the current quoteCover

Any mappings from applicant should therefore be from the applicant containing the quoteCover.
{panel}

{noformat}| Lissia Go Live row.field                          | Value         | related story/comment     |
| ImpItmCprPclPolicyCvgLives.AddnFactor             | 1.00          | Always 1.00, never rated  |
| ImpItmCprPclPolicyCvgLives.AddnRpm                |               | Always empty, never rated |
| ImpItmCprQrefWebService.BenLine                   | childCover.id |                           |
| ImpItmBkaCprBankAccounts.<multiple fields>        |               | NBJ-1008                  |
| ImpItmCprPrlProductLine.PrlId                     | RIDCCIL for childCover.coverType = ""Level"", RIDCCI for childCover.coverType = ""Increasing"" |
| ImpItmCprTypeCliPolRelationships.Type             | 4             |                           |
| ImpItmClcClientContactDetails.<multiple fields>   |               | NBJ-885                   |
| ImpItmCliClients.<multiple fields>                |               | NBJ-883, NBJ-885          |          {noformat}

*But* no type 18 row for dual life applications for child ci covers
*And* immediately following the parent cover row include a row for the Child Ci cover in the ImpPrlBenList section of the Lissia go live message

{noformat}| Lissia Go Live row.field                               | Value                                            | related story/comment |
| ImpItmBenPolPolicies.AdvisedStatus                     | 3                                                | NBJ-106		        |   
| ImpItmBenQrefWebService.BenLine                        | childCover.id                                    |						|
| ImpItmBkaPrlbenBankAccounts.<multiple fields>          |                           	                     | NBJ-1008				|
| ImpItmPcpPrlbenPolicyPremiums.Currency                 | GBP                                              |                       |
| ImpItmPcpPrlbenPolicyPremiums.Frequency                | 5                                                |                       |
| ImpItmPcpPrlbenPolicyPremiums.CollectionMethod         | 3                                                |                       |
| ImpItmPcpPrlbenPolicyPremiums.ModalPremium             | quote.applicant.cover.childCover.premium         |                       |
| ImpItmPcpPrlbenPolicyPremiums.CollectionMethodPremium1 | 3                                                |                       |
| ImpItmPcpPrlbenPolicyPremiums.CollectionSubMethod      | 1                                                |                       |
| ImpItmPcpPrlbenPolicyPremiums.BankId                   | 0                                                |                       |
| ImpItmPocPrlbenPolicyCoverages.InitialSumAssured       | quote.applicant.cover.childCover.coverAmount     |                       |
| ImpItmPocPrlbenPolicyCoverages.Term                    |                                                  | NBJ-1017              |
| ImpItmPocPrlbenPolicyCoverages.DateOfReqCommencement   |                                                  | NBJ-1012              |
| ImpItmPocPrlbenPolicyCoverages.PrlId                   | RIDCCIL for childCover.coverType = ""Level"", RIDCCI for childCover.coverType = ""Increasing"" |
| ImpItmPocPrlbenPolicyCoverages.Currency                | GBP                                              |                       |
| ImpItmPocPrlbenPolicyCoverages.SoldBasis               | 0                                                |                       |
| ImpItmPocPrlbenPolicyCoverages.QuotationDate           | quoteAgeDate                                     |                       |
| ImpItmPocPrlbenPolicyCoverages.QuotationTime           | 000000                                           |                       |
| ImpItmPocPrlbenPolicyCoverages.LivesType               | set 1 for single applicant, 7 for dual applicant |                       |
| ImpItmPocPrlbenPolicyCoverages.EscOptionAtStart        | 0                                                |                       |
| ImpItmPocPrlbenPolicyCoverages.CreationReason          | 1                                                |                       |
| ImpItmPcmPrlbenPolicyCommissions.<multiple fields>     |                                                  | NBJ-898               |{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-119,,,,,,,,,,,,,,,,None,,"Request

{noformat}POST /api/v1/activate{noformat}

Body

{noformat}{
  ""application"": {
    ""applicants"": [
      {
        ""covers"": [...,
          ""riders""[
            """"
          ]
        ]
        ...
      },
      {...}
    ],
    ""children"": [
      {
        ""id"": <guid>,
        ""firstName"": """",
        ""lastName"": """",
        ""dateOfBirth"": utc datetimestamp
      },
      {...}
    ],
    ""quote"":{
      ""applicants"": [
        {
          ...
          ""covers"": [ 
            ...,
            ""riders""[
              {
                
              }
            ]
          ],
          
        },
        {...}
      ]
    }
  }
}{noformat}

Lissia Go Live Request

{code:xml}

<wss:Wssglivecall>
		<WssgliveImport command="""" clientId="""" clientPassword="""" nextLocation="""" exitState="""" dialect="""">
			<ImpGrpPrq/>
			<ImpGrpPcr>
				<row>
					...
				</row>
			</ImpGrpPcr>
			<ImpPolPolicies>
				<DateOfApplication/>
				<DateOfCommencement/>
				<Currency/>
			</ImpPolPolicies>
			<ImpGrpPas>
				<row>
					...
					<!-- Parent Benefit -->
					...
				</row>
				<row>
					<ImpSelPasIefSupplied>
						<SelectChar/>
					</ImpSelPasIefSupplied>
					<ImpItmPasQrefWebService>
						<BenLine>1</BenLine> <!-- childCover.id -->
						<QuoteRef/>
					</ImpItmPasQrefWebService>
					<ImpItmPasPrlbenProductLines>
						<PrlId>RIDCCIL</PrlId> <!-- product line rules -->
					</ImpItmPasPrlbenProductLines>
					<ImpItmPasPrlbenPolicyAgentShares>
						<Status/>
						<Coverage/>
						<Agent/>
						<PasId/>
						<Percentage>100</Percentage> <!-- hard coded -->
						<Type/>
						<SpecificIce/>
						<SacrificeAmount/>
						<SacrificePercent>0</SacrificePercent> <!-- quote.initialCommissionSacrificePercentage -->
						<PrimaryAgent>1</PrimaryAgent>
						<SacrificeType/>
						<RenewalSacrificePcg/>
					</ImpItmPasPrlbenPolicyAgentShares>
					<ImpItmAgtPrlbenAgents>
						<ExternalToken>a0r0E000004pFFfQAM</ExternalToken> <!-- quote.adviserAtFirmLocationId -->
					</ImpItmAgtPrlbenAgents>
				</row>
			</ImpGrpPas>
			<ImpCliCpr>
				<row>
					...
					<!-- parent cover -->
				</row>
				<row>
					<ImpItmCprPclPolicyCvgLives>
						<AgeRating/>
						<AddnFactor>1.00</AddnFactor> <!-- always 1.00 --> 
						<AddnRpm/>
						<RatingReason/>
						<RatingTerm/>
						<UnderwriterRiskCategory/>
						<MaxCeaseAge/>
					</ImpItmCprPclPolicyCvgLives>
					<ImpItmCprQrefWebService>
						<BenLine>1</BenLine> <!-- childCover.id -->
						<QuoteRef/>
					</ImpItmCprQrefWebService>
					<ImpItmBkaCprBankAccounts>
						<AccountName>Single-ref Test11</AccountName> <!-- mapped as per NBJ-1008 -->
						<SortCode>205132</SortCode> <!-- mapped as per NBJ-1008 -->
						<AccountCode>13537846</AccountCode> <!-- mapped as per NBJ-1008 -->
						<MandateReference/>
					</ImpItmBkaCprBankAccounts>
					<ImpItmCprPrlProductLines>
						<PrlId>RIDCCIL</PrlId> <!-- product line rules based on parent -->
					</ImpItmCprPrlProductLines>
					<ImpItmCprTypeCliPolRelationships>
						<TypeNumber/>
						<Type>4</Type> <!-- type 4 and for dual life need a type 18 -->
						<PercentageSplit/>
					</ImpItmCprTypeCliPolRelationships>
					<ImpSelCliCprIefSupplied>
						<SelectChar/>
					</ImpSelCliCprIefSupplied>
					<ImpItmClcClientContactDetails>
						<AddressLine1>1 Calendar Hall</AddressLine1> <!-- mapped from contact details NBJ-885 -->
						<AddressLine2/> <!-- mapped from contact details NBJ-885 -->
						<AddressLine3/> <!-- mapped from contact details NBJ-885 -->
						<AddressLine4/>
						<Town>Hayes</Town> <!-- mapped from contact details NBJ-885 -->
						<County>Middlesex</County> <!-- mapped from contact details NBJ-885 -->
						<Country>GBR</Country> <!-- mapped from contact details NBJ-885 -->
						<Postcode>UB31PN</Postcode> <!-- mapped from contact details NBJ-885 -->
						<Fax/>
						<HomePhone>0111111111</HomePhone> <!-- mapped from contact details NBJ-885 -->
						<Email>Truffles@Nestles.com</Email> <!-- mapped from contact details NBJ-885 -->
						<HouseNo/>
					</ImpItmClcClientContactDetails>
					<ImpItmCliClients>
						<Name>Test11</Name> <!-- NBJ-883 --> 
						<OtherFornames/>
						<FirstName>Single-ref</FirstName> <!-- NBJ-883-->
						<Title>mr</Title>
						<DateOfBirth>19900101</DateOfBirth> <!-- mapped from contact details NBJ-885 -->
						<Sex>2</Sex> 
						<Smoker>3</Smoker>
						<Email>Truffles@Nestles.com</Email> <!-- mapped from contact details NBJ-885 -->
						<RiskCat/>
						<Salutation/>
						<MobileTelNo>0111111111</MobileTelNo> <!-- mapped from contact details NBJ-885 -->
						<WorkTelNo/>
						<MaidenName/>
						<Weight/>
						<Height/>
						<MaritalStatus/>
						<Nationality/>
						<CliId>0</CliId> <!-- always 0 -->
						<Type/>
						<Bmi/>
						<WaistSize/>
						<Salary>39500</Salary> <!-- not supplied -->
						<SalaryCurrency>GBP</SalaryCurrency>
					</ImpItmCliClients>
				</row>
				<row>
					<ImpItmCprPclPolicyCvgLives>
						<AgeRating/>
						<AddnFactor/>
						<AddnRpm/>
						<RatingReason/>
						<RatingTerm/>
						<UnderwriterRiskCategory/>
						<MaxCeaseAge/>
					</ImpItmCprPclPolicyCvgLives>
					<ImpItmCprQrefWebService>
						<BenLine>1</BenLine> <!-- childCover.id -->
						<QuoteRef/>
					</ImpItmCprQrefWebService>
					<ImpItmBkaCprBankAccounts>
						<AccountName/>
						<SortCode/>
						<AccountCode/>
						<MandateReference/>
					</ImpItmBkaCprBankAccounts>
					<ImpItmCprPrlProductLines>
						<PrlId>RIDCCIL</PrlId>
					</ImpItmCprPrlProductLines>
					<ImpItmCprTypeCliPolRelationships>
						<TypeNumber/>
						<Type>19</Type> <!-- type 19 for every child details supplied -->
						<PercentageSplit/>
					</ImpItmCprTypeCliPolRelationships>
					<ImpSelCliCprIefSupplied>
						<SelectChar/>
					</ImpSelCliCprIefSupplied>
					<ImpItmClcClientContactDetails>
						<AddressLine1/>
						<AddressLine2/>
						<AddressLine3/>
						<AddressLine4/>
						<Town/>
						<County/>
						<Country/>
						<Postcode/>
						<Fax/>
						<HomePhone/>
						<Email/>
						<HouseNo/>
					</ImpItmClcClientContactDetails>
					<ImpItmCliClients>
						<Name>Child1</Name> <!-- child surname -->
						<OtherFornames/>
						<FirstName>Little</FirstName> <!-- child firstname -->
						<Title/>
						<DateOfBirth>20150101</DateOfBirth> <!-- child dob -->
						<Sex/>
						<Smoker/>
						<Email/>
						<RiskCat/>
						<Salutation/>
						<MobileTelNo/>
						<WorkTelNo/>
						<MaidenName/>
						<Weight/>
						<Height/>
						<MaritalStatus/>
						<Nationality/>
						<CliId>0</CliId>
						<Type/>
						<Bmi/>
						<WaistSize/>
						<Salary/>
						<SalaryCurrency/>
					</ImpItmCliClients>
				</row>
			</ImpCliCpr>
			<ImpGrpPlc>
				<row>
					<ImpItmPlcPolicyCvgLifeConditions>
						<Condition>9999</Condition>
						<ApplicabilityDate/>
						<EndOfApplicability/>
						<RateOrValue/>
						<Type/>
					</ImpItmPlcPolicyCvgLifeConditions>
					<ImpItmPlcCprtypeCliPolRelationships>
						<Type>4</Type>
					</ImpItmPlcCprtypeCliPolRelationships>
					<ImpItmPlcPrlProductLines>
						<PrlId>FICD</PrlId>
					</ImpItmPlcPrlProductLines>
					<ImpItmPlcQrefWebService>
						<BenLine>1</BenLine>
						<QuoteRef/>
					</ImpItmPlcQrefWebService>
				</row>
			</ImpGrpPlc>
			<ImpPrlpqmWebService>
				<Prlrqm/>
			</ImpPrlpqmWebService>
			<ImpSrvdetailsWebService>
				<Pcdate/>
				<Srvtimings/>
				<ServiceUserid/>
				<RecordImport/>
			</ImpSrvdetailsWebService>
			<ImpPrlBenList>
				<row>
					<!-- parent cover -->
					...
				</row>
				<row>
					<ImpItmBenStatWebService>
						<StatusChng/>
					</ImpItmBenStatWebService>
					<ImpItmBenPolPolicies>
						<PolId/>
						<ReferrerId/>
						<AdditionalId/>
						<Linkage/>
						<AdvisedStatus>3</AdvisedStatus> <!-- NBJ-1016 -->
						<BeneficiariesStatus/>
					</ImpItmBenPolPolicies>
					<ImpItmBenQrefWebService>
						<BenLine>1</BenLine> <!-- childCover.id -->
						<QuoteRef/>
						<LinkedToPrimary/>
						<ReserveLinkedTo/>
					</ImpItmBenQrefWebService>
					<ImpItmBkaPrlbenBankAccounts>
						<BkaId>0</BkaId> <!-- always 0 -->
						<Client>0</Client> <!-- always 0 -->
						<AccountNo>1</AccountNo> <!-- always 1 -->
						<Type>1</Type> <!-- always 1 -->
						<AccountName>Single-ref Test11</AccountName> <!-- mapped as per NBJ-1008 -->
						<SortCode>205132</SortCode> <!-- mapped as per NBJ-1008 -->
						<AccountCode>13537846</AccountCode> <!-- mapped as per NBJ-1008 -->
						<SupplementaryCode/>
						<BankName/>
						<BankAddress1>1 Calendar Hall</BankAddress1> <!-- mapped as per NBJ-1008 -->
						<BankAddress2/> <!-- mapped as per NBJ-1008 -->
						<CollectionMethod>1</CollectionMethod> <!-- always 1 -->
						<Classification/>
						<BillingDay>2</BillingDay> <!-- mapped as per NBJ-1008 -->
						<CardExpiryDate/>
						<SeriesNo/>
						<CardType/>
						<MandateExpiryDate/>
						<ClientReference/>
						<MandateReference/>
					</ImpItmBkaPrlbenBankAccounts>
					<ImpItmPcpPrlbenPolicyPremiums>
						<Currency>GBP</Currency> <!-- always GBP -->
						<Frequency>5</Frequency> <!-- always 5 -->
						<CollectionMethod>3</CollectionMethod> <!-- always 3 -->
						<ModalPremium>7.53</ModalPremium> <!-- CCIC.premium -->
						<CollectionMethodPremium1>3</CollectionMethodPremium1> <!-- always 3 -->
						<CollectionSubMethod>1</CollectionSubMethod> <!-- always 1 -->
						<BankId>0</BankId> <!-- alwaya 0 -->
					</ImpItmPcpPrlbenPolicyPremiums>
					<ImpItmPocPrlbenPolicyCoverages>
						<InitialSumAssured>41000</InitialSumAssured> <!-- CCIC sum Assured -->
						<Term>28.0</Term> <!-- NBJ-1017 -->
						<DateOfReqCommencement>20220120</DateOfReqCommencement> <!-- policyStartDate -->
						<ProductLine>RIDCCIL</ProductLine> <!-- product line rules -->
						<Currency>GBP</Currency> <!-- always GBP -->
						<SoldBasis>0</SoldBasis> <!-- always 0 -->
						<CoverLevel/>
						<BenefitBasis/>
						<QuotationDate>20210304</QuotationDate> <!-- quoteAgeDate -->
						<QuotationTime>000000</QuotationTime> <!-- 000000 -->
						<Multiplier/>
						<LivesType>1</LivesType> <!-- set 1 for single applicant, 7 for dual applicant -->
						<TermAge/>
						<DateOfTermination/>
						<PptAge/>
						<InterestRate/>
						<Valuation/>
						<PttYrs/>
						<DatePremiumTerm/>
						<Coverage/>
						<MajorCoverage/>
						<ProductVersion/>
						<RequestedTerm/>
						<EscOptionAtStart>0</EscOptionAtStart> <!-- set to 0 -->
						<CreationReason>1</CreationReason> <!-- set to 1 -->
					</ImpItmPocPrlbenPolicyCoverages>
					<ImpSelPrlBenIefSupplied>
						<SelectChar/>
					</ImpSelPrlBenIefSupplied>
					<ImpItmPcmPrlbenPolicyCommissions>
						<Style>INDEM</Style> <!-- NBJ-898 -->
						<IndemnificationPercent>50</IndemnificationPercent> <!-- NBJ-898 -->
					</ImpItmPcmPrlbenPolicyCommissions>
					<ImpItmPpcPrlbenPolicyPremiumChanges>
						<ChangeIndex/>
					</ImpItmPpcPrlbenPolicyPremiumChanges>
				</row>
			</ImpPrlBenList>
			<ImpGrpPfd>
				<row>
					...
				</row>
			</ImpGrpPfd>
		</WssgliveImport>
	</wss:Wssglivecall>
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zi0si,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,15/Dec/21 11:37 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-26 14:26:36.008,26/Jan/22 2:26 PM;6139c49114e8340071fcda09;[~accountid:6149b13472728e006f9441d6]  the ccic premium isn’t showing in ImpItmPcpPrlbenPolicyPremiums/ModalPremium,26/Jan/22 2:53 PM;6149b13472728e006f9441d6;aye - see the issue - PR is up now.,"26/Jan/22 3:08 PM;6139c49114e8340071fcda09;[~accountid:6149b13472728e006f9441d6] I think ImpItmPocPrlbenPolicyCoverages/Currency is also missing, sorry that this isn’t coming as one block


","26/Jan/22 3:33 PM;6139c49114e8340071fcda09;[~accountid:6149b13472728e006f9441d6]  -ImpItmPocPrlbenPolicyCoverages/Term is the parent’s term,not ccic’s term- ignore this one, I was wrong","26/Jan/22 4:23 PM;6139c49114e8340071fcda09;[~accountid:6149b13472728e006f9441d6] for dual applicant applications, the rows in ImpCliCpr seem to be duplicated for the parent covers. Not sure if this is a bug on this ticket though. I’ve attached G000153920.xml as an example","27/Jan/22 8:10 AM;6149b13472728e006f9441d6;[~accountid:6139c49114e8340071fcda09] it looks to me likes it correctly added a row for every applicant on the application for each ben line (a type 4 row and a type 18 row) and then only added a single parent row for the ccic (a type 4 row).

I suspect your applicants were both Sam Gamble in your inputs (apologies if not, but that’s just how it appears)

for reference se [\[NBJ-1019] Multiple applicants - multiple benefits - Gryphon Group Holdings (atlassian.net)|https://gghltd.atlassian.net/browse/NBJ-1019]","27/Jan/22 9:26 AM;6139c49114e8340071fcda09;[~accountid:6149b13472728e006f9441d6] whelp, thanks for the link, I had forgotten about 1019.",27/Jan/22 9:37 AM;6139c49114e8340071fcda09;the tests that have not yet been run will be available after [https://gghltd.atlassian.net/browse/NBJ-1198|https://gghltd.atlassian.net/browse/NBJ-1198|smart-link] is delivered.,,,,,,,,,,,,,,,,,,,,,,,,Done
Bank Account Details,NBJ-1008,42451,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,15/Dec/21 11:37 AM,25/Jan/22 12:05 PM,02/Feb/22 6:31 PM,25/Jan/22 12:05 PM,,Foundation Release,,,,,"*As an* adviser or api consumer
*So that* I can activate my applications
*I want* an activation service that maps bank account

{panel:bgColor=#deebff}
This story is about ensuring bank account is included in the go live message
{panel}",,Antony.Gorman,James Bartlett,Jim Houghton,,,,,6149b13472728e006f9441d6,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Scenario* setting bank account details on go live messsage

*Given* any activation request

{noformat}POST /api/v1/activate{noformat}

*And* with either *one* of the applicants containing bank details
*When* creating Lissia go live message
*Then* each <*ImpCliCpr.row.ImpItmBkaCprBankAccounts*> on the *Lissia* go live request, map from <*application.bankDetails*> on the *body* of the request

{noformat}| ImpCliCpr.row.ImpItmBkaCprBankAccounts | application.bankDetails |
| AccountName                            | accountName             |
| SortCode                               | sortCode                |
| AccountCode                            | accountCode             |
| MandateReference                       |                         |{noformat}

*And* map the following <input_fields> from the *application.bankDetails* data from the body of the request to every <*ImpPrlBenList/row.ImpItmBkaPrlbenBankAccounts*> in the Lissia go live request 

{code:json}| ImpPrlBenList/row.ImpItmBkaPrlbenBankAccounts | input_fields |
| BkaId                                         | 0            |
| Client                                        | 0            |
| AccountNo                                     | 1            |
| Type                                          | 1            |
| AccountName                                   | accountName  |
| SortCode                                      | sortCode     |
| AccountCode                                   | accountCode  |
| SupplementaryCode                             |              |
| BankName                                      |              |{code}

*And* map the following <input_fields> from the *application.bankDetails.contactDetails* data from the body of the request to every <*ImpPrlBenList/row.ImpItmBkaPrlbenBankAccounts*> in the Lissia go live request 

{noformat}| ImpPrlBenList/row.ImpItmBkaPrlbenBankAccounts | input_fields |
| BankAddress1                                  | address1     |
| BankAddress2                                  | address2     |
| CollectionMethod                              | 1            |
| Classification                                |              |
| BillingDay                                    | 1            | // needs some thought
| CardExpiryDate                                |              |
| SeriesNo                                      |              |
| CardType                                      |              |
| MandateExpiryDate                             |              |
| ClientReference                               |              |
| MandateReference                              |              |{noformat}

{panel:bgColor=#deebff}
The applicantBankDetails can be found against either one of the applicants on a dual life application
{panel}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-119,,,,,,,,,,,,,,,,None,,"Request

{noformat}POST /api/v1/activate{noformat}

Body

{noformat}{
  ""application"": {
         ...
         ""bankDetails"" : { 
           ""accountName"": """",
           ""sortCode"": """",
           ""accountCode"": """",
           ""nameScore"": """",
           ""addressScore"": """",
           ""bankCheckResult"": """"
           ""contactDetails"": {
              ""address1"": """",
              ""address2"": """",
              ""address3"": """",
              ""cityName"": """",
              ""county"": """",
              ""postcode"": """",
              ...
            }
         },
         
      },
      {...}
    ],
    ""quote"":{
      ""quoteApplicants"": [
        {
          ...
          ""quoteCovers"": [ ...
          ],
          
        },
        {...}
      ]
    }
  }
}{noformat}

_Go Live Request_

{noformat}<wss:Wssglivecall>
	<WssgliveImport command="""" clientId="""" clientPassword="""" nextLocation="""" exitState="""" dialect="""">
		<ImpGrpPrq/>
		<ImpGrpPcr>
			<row>
				<!-- not used remain all blank -->
			</row>
		</ImpGrpPcr>
		<ImpPolPolicies> 
			<!-- not used remain all blank -->
		</ImpPolPolicies>
		<ImpGrpPas>
			<row> <!-- a row repeated/populated per quoteCover -->
				...
			</row>
		</ImpGrpPas>
		<ImpCliCpr>
			<row> <!-- a row repeated/populated per client per quoteCover -->
				...
				<ImpItmBkaCprBankAccounts>
					<AccountName>Gynea Test</AccountName>
					<SortCode>205132</SortCode>
					<AccountCode>13537846</AccountCode>
					<MandateReference/>
				</ImpItmBkaCprBankAccounts>
				...
			</row>
			<row>
				...
			</row>
		</ImpCliCpr>
		<ImpGrpPlc/>
		<ImpPrlpqmWebService>
			<Prlrqm/> -- not used
		</ImpPrlpqmWebService>
		<ImpSrvdetailsWebService>
			<Pcdate/> -- not used
			<Srvtimings/>
			<ServiceUserid/>
			<RecordImport/>
		</ImpSrvdetailsWebService>
		<ImpPrlBenList>
			<row> <!-- a row repeated/populated per quoteCover --> 
				...
				<ImpItmBkaPrlbenBankAccounts>
					<BkaId>0</BkaId>
					<Client>0</Client>
					<AccountNo>1</AccountNo>
					<Type>1</Type>
					<AccountName>Gynea Test</AccountName>
					<SortCode>205132</SortCode>
					<AccountCode>13537846</AccountCode>
					<SupplementaryCode/>
					<BankName/>
					<BankAddress1>26 DummyData Street</BankAddress1>
					<BankAddress2>Townsville</BankAddress2>
					<CollectionMethod>1</CollectionMethod>
					<Classification/>
					<BillingDay>1</BillingDay>
					<CardExpiryDate/>
					<SeriesNo/>
					<CardType/>
					<MandateExpiryDate/>
					<ClientReference/>
					<MandateReference/>
				</ImpItmBkaPrlbenBankAccounts>
				...
			</row>
		</ImpPrlBenList>
		<ImpGrpPfd> -- not used
			<row>
				...
			</row>
		</ImpGrpPfd>
	</WssgliveImport>
</wss:Wssglivecall>{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zi0s,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,15/Dec/21 11:37 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-24 15:18:19.003,"24/Jan/22 3:18 PM;6139c49114e8340071fcda09;I can’t see the address1 line come through from the bankDetails. I’ve got the following in my request to activation:
{{{}}
{{ ""accountName"": ""John Smith's account"",}}
{{ ""sortCode"": ""200000"",}}
{{ ""accountCode"": ""55779911"",}}
{{ ""nameScore"": """",}}
{{ ""addressScore"": """",}}
{{ ""bankCheckResult"": """",}}
{{ ""contactDetails"": {}}
{{ ""address1"": ""1 bank road"",}}
{{ ""address2"": ""The bank town"",}}
{{ ""address3"": """",}}
{{ ""cityName"": """",}}
{{ ""county"": """",}}
{{ ""postcode"": """"}}
{{ }}}
{{}}}

but in the message to Lissia there’s no ImpItmBkaPrlbenBankAccounts/BankAddress1 node.",25/Jan/22 7:14 AM;6149b13472728e006f9441d6;gah\! misread the json - should now work (I had them at the application level rather than bank account). PR is in review with the fix.,25/Jan/22 11:57 AM;6139c49114e8340071fcda09;note from testing - fields with no values do not appear in the activation request (e.g. {{Classification}}). This should be fine.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Return quote decisions when triggering decisions,NBJ-1007,42448,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,15/Dec/21 11:31 AM,16/Dec/21 4:14 PM,02/Feb/22 6:31 PM,16/Dec/21 4:14 PM,,Foundation Release,,Sprint_6,,,"As an API User
I want to see the quote decisions that were used to generate a quote
So that I can use the decision and quote data together in my UI",,Chris.Hibbert,James Bartlett,Sam Gamble,,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,Hidden from EXL,NBJ-878,NBJ-573,,,,,,,,,,,,,,,,,,,NBJ-572,,,,,,,,,,16/Dec/21 4:14 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/24439/LivingDoc.html,,,,,,,,,,,,"*Given* an application in a quotable state
*When* triggering a quote
*Then* return the quote and the quote decisions in the response payload",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009em,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,15/Dec/21 11:31 AM,,3.0,,,,,,,,,,,,,,,,,,"* TriggerQuote and TriggerDecisionQuote should now return both:
** Quote values
** Decision Model",,,,,,,,,,,,,,,2021-12-16 12:41:58.921,16/Dec/21 12:41 PM;60cc71a1d5dde800713a2124;[~accountid:6139c49114e8340071fcda09] - I think this also includes the Smoker fix.,16/Dec/21 4:14 PM;6139c49114e8340071fcda09;note - the failure in the attached test results is covered by [https://gghltd.atlassian.net/browse/NBJ-1022|https://gghltd.atlassian.net/browse/NBJ-1022|smart-link] ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Allow user to set isMortgageRelated on the contact details screen,NBJ-1006,42425,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,15/Dec/21 9:36 AM,07/Jan/22 4:22 PM,02/Feb/22 6:31 PM,07/Jan/22 4:22 PM,,Foundation Release,,,,,"

* Persisted against the application
** isMortgageRelated true | false
** NBJ-266",,Chris.Hibbert,Justin.Smith,,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,Hidden from EXL,NBJ-1028,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,07/Jan/22 4:22 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220107-162150.png;https://gghltd.atlassian.net/secure/attachment/24868/image-20220107-162150.png,,,,,,,,,,,,"*Given*: An application
*When*: The mortgage related question is answered
*Then*: The application is updated with the answer",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,POST {{/api/v1/backendforfrontend/application/{{applicationId}}/isMortgageRelated}},,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i015rk:l,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,15/Dec/21 9:36 AM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-07 16:22:06.465,"07/Jan/22 4:22 PM;618bdfc5fba4d0006ad4853e;This is all good and has been automated - 

{noformat}    @CDTest2
    Scenario: Verify the isMortgageRelated flag is updated when answering the mortgage question
      Given I have a ""MaleOverWeightNonSmoker_update"" applicant
      And I update the applicant's underwriting from ""MaleOverWeightNonSmoker_uw""
      And I have ""CIWithTerm"" cover for the applicant
      And I triggered a quote 
      And I have navigated to the ""contact-details"" tab  
      And I click on ""Yes"" for Mortgage Details
      Then the isMortgageRelated flag in the application is updated to true
      When I click on ""No"" for Mortgage Details
      Then the isMortgageRelated flag in the application is updated to false
  {noformat}



!image-20220107-162150.png|width=814,height=867!

Marking as done.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Pre-declaration is not being persisted,NBJ-1005,42404,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,High,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Max Silva,6139c4f3e2a0d60069cf8994,Max Silva,6139c4f3e2a0d60069cf8994,14/Dec/21 8:26 PM,16/Dec/21 9:45 AM,02/Feb/22 6:31 PM,16/Dec/21 9:45 AM,,Foundation Release,,,,,,,Max Silva,,,,,,,6139c4f3e2a0d60069cf8994,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,The predeclaration screen should not appear for either applicant once declared accepted by the applicant upon refresh.,,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i014gn:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,14/Dec/21 8:26 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Set application status after first setup of contact details,NBJ-1004,42376,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,14/Dec/21 3:43 PM,11/Jan/22 10:04 AM,02/Feb/22 6:31 PM,11/Jan/22 10:00 AM,,Foundation Release,,,,,"*As an* Adviser
*I want* the application status correctly set
*So that* I understand where applications are in the process",,Chris.Hibbert,Justin.Smith,,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,11/Jan/22 9:43 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220111-094213.png;https://gghltd.atlassian.net/secure/attachment/24912/image-20220111-094213.png,11/Jan/22 10:00 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220111-095926.png;https://gghltd.atlassian.net/secure/attachment/24913/image-20220111-095926.png,,,,,,,,,,,"*Given*: An application
*When*: The contact details have been completed for both lives
*and*: the mortgage related question has been answered
*and*: the application has a valid quote
*Then*: the continue button is enabled

*Given*: An application
*When*: The continue button is clicked on the contact details screen
*Then*: the application is updated to be in the apply state
*and*: the contact details and mortgage related question are persisted
*and*: the user is navigated to the first screen in the application tab (underwriting)
*and*: the nbj.underwriting.start event is only sent on this first time",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,"{noformat}POST {environment}/api/v1/actions/applyapplication{noformat}

with a request body

{noformat}{
    ""applicationId"": ""{{applicationId}}""
}
{noformat}

* NB applyapplication only sets to apply if app in quote state
* Check that nbj.underwriting.start is only sent on this first instance",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i015ro:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,14/Dec/21 3:43 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-11 09:43:35.529,"11/Jan/22 9:43 AM;618bdfc5fba4d0006ad4853e;So the apply application call is fine when clicking on the ‘Underwrite’ button,

[~accountid:60cc71a1d5dde800713a2124] The bit I’m not sure about and I spoke to [~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] about this is - 

* Check that nbj.underwriting.start is only sent on this first instance

What is this actually referring to as don’t we have the underwriting session from the start application and stepping through the client details tab.  I can see in the network tab the get calls for those underwriting sessions.

!image-20220111-094213.png|width=1896,height=924!

Thanks

Justin ","11/Jan/22 9:50 AM;60cc71a1d5dde800713a2124;[~accountid:618bdfc5fba4d0006ad4853e] 

nbj.underwriting.start is referring to [https://gghltd.atlassian.net/browse/NBJ-654|https://gghltd.atlassian.net/browse/NBJ-654|smart-link] - a backend message sent to salesforce when this event happens.",11/Jan/22 9:53 AM;618bdfc5fba4d0006ad4853e;[~accountid:60cc71a1d5dde800713a2124] oh yeah I remember now.  Let me check that.  I think Ian mention the other day that there were issues with messages getting to salesforce.,"11/Jan/22 10:00 AM;618bdfc5fba4d0006ad4853e;This looks good I can see the application in the application hub 

[https://unitev2-dev.gghltest.co.uk/environments/applicationdatauwt|https://unitev2-dev.gghltest.co.uk/environments/applicationdatauwt|smart-link] 

!image-20220111-095926.png|width=1908,height=997!

The application matches

\{
""id"": ""4b3c63ba-bb6f-48e3-a277-f77fbcf9fd33"",
""eventType"": ""nbj.underwriting.start"",
""eventTime"": ""2022-01-11T09:03:50.73379+00:00"",
""dataVersion"": ""1.0"",
""data"": \{
""application"": \{
""id"": ""G000113188"",
""isMortgageRelated"": true,
""adviserAtFirmLocationId"": ""a0r0E0000073fQ3QAI"",
""sourceApplication"": ""nbj2"",
""quoteAgeDate"": ""2022-01-11T00:00:00+00:00"",
""applicants"": \[
\{
""id"": ""fc25a144-b934-45b3-8c29-fc7761c47d93"",
""title"": ""Mr"",
""firstName"": ""Justin"",
""lastName"": ""Smith"",
""dateOfBirth"": ""1990-01-01T00:00:00"",
""gender"": ""Male"",
""covers"": \[
\{
""id"": ""a13002c6-e541-403b-8f2c-a4f394fd8bea"",
""guardianRefWithSuffix"": ""00000000-0000-0000-0000-000000000000"",
""productType"": ""life"",
""coverType"": ""level"",
""term"": 12,
""coverAmount"": 30000,
""childCovers"": \[]
}
],
""acceptedPreUnderwritingDeclaration"": false
},
\{
""id"": ""794449e9-9ed3-4bda-b138-601d9e81637d"",
""title"": ""Mrs"",
""firstName"": ""Jane"",
""lastName"": ""Smith"",
""dateOfBirth"": ""1990-01-01T00:00:00"",
""gender"": ""Female"",
""covers"": \[
\{
""id"": ""d7b20f4b-ec1d-43ad-9f14-da3f762deb72"",
""guardianRefWithSuffix"": ""00000000-0000-0000-0000-000000000000"",
""productType"": ""life"",
""coverType"": ""level"",
""term"": 12,
""coverAmount"": 30000,
""childCovers"": \[]
}
],
""acceptedPreUnderwritingDeclaration"": false
}
],
""quote"": \{
""id"": ""0377559d-005e-4bc1-a5cf-081ecc88f777"",
""quoteCreatedDate"": ""2022-01-11T09:02:10.0678876+00:00"",
""quoteAgeDate"": ""2022-01-11T00:00:00+00:00"",
""adviserAtFirmLocationId"": ""a0r0E000004pFFfQAM"",
""initialIndemnityPercentage"": 100,
""initialCommissionSacrificePercentage"": 0,
""premium"": 7.26,
""lifetimePremium"": 1045.44,
""unloadedPremium"": 0,
""discount"": 0,
""quoteApplicants"": \[
\{
""id"": ""fc25a144-b934-45b3-8c29-fc7761c47d93"",
""dateOfBirth"": ""1990-01-01T00:00:00"",
""gender"": ""Male"",
""premium"": 3.63,
""quoteCovers"": \[
\{
""id"": ""a13002c6-e541-403b-8f2c-a4f394fd8bea"",
""productType"": ""life"",
""coverType"": ""level"",
""coverAmount"": 30000,
""term"": 12,
""premium"": 3.63,
""unloadedPremium"": 3.63,
""initialCommission"": 82.76,
""initialEarningsPeriod"": 48,
""renewalCommission"": 0.09,
""lifeTimePremium"": 522.72,
""childCovers"": \[]
}
],
""quoteUnderwritingOutcomes"": \[
\{
""productType"": ""life"",
""quoteExclusions"": \[]
}
]
},
\{
""id"": ""794449e9-9ed3-4bda-b138-601d9e81637d"",
""dateOfBirth"": ""1990-01-01T00:00:00"",
""gender"": ""Female"",
""premium"": 3.63,
""quoteCovers"": \[
\{
""id"": ""d7b20f4b-ec1d-43ad-9f14-da3f762deb72"",
""productType"": ""life"",
""coverType"": ""level"",
""coverAmount"": 30000,
""term"": 12,
""premium"": 3.63,
""unloadedPremium"": 3.63,
""initialCommission"": 82.76,
""initialEarningsPeriod"": 48,
""renewalCommission"": 0.09,
""lifeTimePremium"": 522.72,
""childCovers"": \[]
}
],
""quoteUnderwritingOutcomes"": \[
\{
""productType"": ""life"",
""quoteExclusions"": \[]
}
]
}
]
},
""status"": ""apply"",
""createdDate"": ""2022-01-11T00:00:00+00:00"",
""applyDate"": ""2022-01-11T00:00:00+00:00"",
""expiryDate"": ""2022-02-10T00:00:00+00:00""
}
}
}

No contact details but I believe this has been raised in another issue.[https://gghltd.atlassian.net/browse/NBJ-1029|https://gghltd.atlassian.net/browse/NBJ-1029|smart-link] ",11/Jan/22 10:00 AM;618bdfc5fba4d0006ad4853e;Marking as done.,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Sprint 6 - adviserAtFirmLocationId does not match External token shown on Lissia Request,NBJ-1003,42301,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,14/Dec/21 11:38 AM,14/Dec/21 12:50 PM,02/Feb/22 6:31 PM,14/Dec/21 12:50 PM,,,,,,,,,Nathan Punzalan,,,,,,,613f22fdff23ba00715469d1,,,,,,,,,,,,,,Hidden from EXL,NBJ-891,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,14/Dec/21 11:37 AM;nathan.punzalan;image-2021-12-14-11-37-11-641.png;https://gghltd.atlassian.net/secure/attachment/24333/image-2021-12-14-11-37-11-641.png,14/Dec/21 11:37 AM;nathan.punzalan;image-2021-12-14-11-37-53-670.png;https://gghltd.atlassian.net/secure/attachment/24332/image-2021-12-14-11-37-53-670.png,14/Dec/21 11:34 AM;nathan.punzalan;request.txt;https://gghltd.atlassian.net/secure/attachment/24334/request.txt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: 
adviserAtFirmLocationId does not match External token shown on Lissia Request.

Steps to Reproduce: 
# Trigger activation request ({{activation_url}}/api/v1/activate) with valid body  [^request.txt] 
# Go to cosmos to get the Lissia request

Expected Results: 
ImpGrpPas.row.ImpItmAgtPrlbenAgents.ExternalToken from Lissia GoLive request should match application.adviserAtFirmLocationId from activationService request.

Actual Result:
ImpGrpPas.row.ImpItmAgtPrlbenAgents.ExternalToken from Lissia GoLive request does not match application.adviserAtFirmLocationId from activationService request.
 !image-2021-12-14-11-37-11-641.png|thumbnail! 
 !image-2021-12-14-11-37-53-670.png|thumbnail! ",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i013uf:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,14/Dec/21 11:38 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Dec/21 11:47 AM;613f22fdff23ba00715469d1;Misalignment on requirements,[~accountid:6149b13472728e006f9441d6] is looking to get this fixed as a part of [https://gghltd.atlassian.net/browse/NBJ-891|https://gghltd.atlassian.net/browse/NBJ-891|smart-link], will update this ticket once it’s back in test.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Smoke test SIT environment,NBJ-1002,42294,,Task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Sam Gamble,610c00d94e8d8d0069a20d6c,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,14/Dec/21 9:28 AM,21/Jan/22 3:04 PM,02/Feb/22 6:31 PM,21/Jan/22 3:04 PM,,,,,,,,,Gareth Hailes,,,,,,,5ed8c4bc4ec4270ba3725b85,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009hzzzvxi,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,Guardian Sprint 7,Guardian Sprint 8,,,,14/Dec/21 9:28 AM,,,,,,,,,,,,,,,,,,,,"* Level 3:
** Check existence of all microservices, plus app insights
** Check existence of frontend app
*** APIs missing
* Level 2:
** APIM - Validate API using Postman
** Check frontend is accessible
** Check Cosmos for containers - quote, application, underwriting
* Level 1:
** App config
** Key vaults",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Log activation requests and responses in a database,NBJ-1001,42293,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,14/Dec/21 9:13 AM,14/Dec/21 12:51 PM,02/Feb/22 6:31 PM,14/Dec/21 12:51 PM,,Foundation Release,,,,,"As a Tester
I want to read the activation request JSON, XML *and* the response XML and JSON
So that I can determine if the values in the activation messages are correct",,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"* Log all activation requests and responses in Cosmos, in the same way as we do for Quote (see the QuoteService)
* The requests and responses logged are correlated by their applicationId
* The *request* JSON and XML is logged to Cosmos
* The *response* JSON and XML is also logged in Cosmos",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-119,,,,,,,,,,,,,,,,None,,See the QuoteService for the implementation details.,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009hzzzk,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,14/Dec/21 9:13 AM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Underwriting Service - Interview Q&A - Add User that Answered the Question,NBJ-1000,42280,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,13/Dec/21 5:09 PM,26/Jan/22 7:42 PM,02/Feb/22 6:31 PM,26/Jan/22 7:42 PM,,Foundation Release,,Sprint_7,,,"*As an* operational underwriter
*So that* I can see who provided the answer to the question
*I want* to be able to provide username on the interview Q&A

{panel:bgColor=#deebff}
This story is about adding userName to the existing data output by the questionaAndAnswers service
{panel}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,NBJ-640,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* a GET api/v1/underwriting/questionsAndAnswers/\{applicantId}
*When* request received
*Then* determine URE enquiryId
*And* request enquiry history from URE; /v4/enquiry/history/\{enquiryId}

_Building on the above_

*Given* all snapshot.answerTimeline
*When* iterating through each answer within answerTimeline
*And* creating a question row in the service response
*Then* add userName in question mapped from answerTimeline.username",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-802,,,,,,,,,,,,,,,,None,,"_Request_

{code:json}GET api/v1/underwriting/questionsAndAnswers/{applicantId}{code}

_Return Message_

{code:json}{
  ""data"": {
    ""applicantId"": <guid>,
    ""questions"": [
      {
        ""code"": """",
        ""text"": """",
        ""validValues"": ["""",""""],
        ""answers"": ["""",""""],
        ""completedDate"": {utc timestamp},
        ""section"": """",
        ""statuses"": ["""",""""],
        ""userName"": ""enquiry-shell""
      }
    ]
  }
}{code}

_URE Request_

{code:json}/v4/enquiry/history/{enquiryId}{code}

_URE Response_

{code:json}{
  ""enquiryId"": <guid>,
  ""snapShots"": [
    {
      ""snapshotDate"": 1638380196132,
      ...
      ""enquiry"": {
        ...
        ""availableLocales"": [
          ...
        ],
        ...
        ""buckets"": [
          ...
        ],
        ""sections"": [
          {
            ""name"": """",
            ...
            ""enquiryLines"": [
              {
                ""tags"": [""CLIENT_DETAILS"", """"],
                ...
                ""questions"": [
                  {
                    ""path"": """",
                    ""name"": """",
                    ...
                    ""definition"": {
                      ""text"": """",
                      ""helpText"": """",
                      ""options"": [
                        ...
                      ],
                      ....
                    }
                  }
                },
                {...}
              ]
              ...
            ]
          }
        ],
        ""allAnswers"": {
          ...
        }
      },
      ""answerTimeline"": [
        {
          ""dateAnswered"": 1638380184843,
          ""questionPath"": ""WHICH_GROWTH_IFA"",
          ""answers"": [
            ""Furuncle""
          ],
          ""locale"": ""IFA_EN_GB"",
          ""username"": ""enquiry-shell""
        },
        ...
      ],
      ""priorEnquiries"": [],
      ""subsequentEnquiries"": []
    }
  ]
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zi0so,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,26/Oct/21 12:58 PM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Add Application Insights to the APIM Deployment,NBJ-999,42272,,Task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,mark.thurston@venture1consulting.com,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,mark.thurston@venture1consulting.com,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,mark.thurston@venture1consulting.com,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,13/Dec/21 4:30 PM,14/Dec/21 7:46 AM,02/Feb/22 6:31 PM,14/Dec/21 7:46 AM,,,,,,,APIM currently does not deploy App Insights to the APIM - only to the App Services and SB. This needs to be added to the pipeline.,,mark.thurston@venture1consulting.com,,,,,,,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"App Insights for APIM added, using the same analytics workspace as the other services in the same deployment.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i013of:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,13/Dec/21 4:30 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Underwriting Service - Interview Q&A - status Referral Answers,NBJ-995,42266,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,13/Dec/21 4:16 PM,28/Jan/22 10:55 AM,02/Feb/22 6:31 PM,,,Foundation Release,,Sprint_7,,,"*As an* operational underwriter
*So that* I can quickly and efficiently review all questions answered
*I want* to be able to identify answers that led to the referral

{panel:bgColor=#deebff}
This story is about identifying questions that led to a referral, by identifying all enquiryLines with decision Referral and labelling the questions and answers with a status of “Referral Answers”
{panel}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,NBJ-640,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* a GET api/v1/underwriting/questionsAndAnswers/\{applicantId}
*When* request received
*Then* determine URE enquiryId
*And* request enquiry history from URE; /v4/enquiry/history/\{enquiryId}

_Building on the above_

*Scenario* building a list of referral questions

*Given* the enquiry within the most recent snapshot
*When* iterating through each enquiryLine within each section
*Then* identify the enquiryLines (and in turn the section) that contain DECISION_<risk>. max with a value REFER or EVIDENCE_REQUIRED

{noformat}| risk |
| LIFE |
| CI   |
| TPD  |{noformat}

*And* add additional status of *Referral* to each question in the enquiryLine with a status of *Current*
*And* add additional status of *Referral* to each question in triggerQuestions in the enquiryLine with a status of *Current*",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-802,,,,,,,,,,,,,,,,None,,"_Request_

{code:json}GET api/v1/underwriting/questionsAndAnswers/{applicantId}{code}

_Return Message_

{code:json}{
  ""data"": {
    ""applicantId"": <guid>,
    ""questions"": [
      {
        ""code"": """",
        ""text"": """",
        ""validValues"": ["""",""""],
        ""answers"": ["""",""""],
        ""completedDate"": {utc timestamp},
        ""section"": """",
        ""statuses"": ["""",""""],
      }
    ]
  }
}{code}

_URE Request_

{code:json}/v4/enquiry/history/{enquiryId}{code}

_URE Response_

{code:json}{
  ""enquiryId"": <guid>,
  ""snapShots"": [
    {
      ""snapshotDate"": 1638380196132,
      ...
      ""enquiry"": {
        ...
        ""availableLocales"": [
          ...
        ],
        ...
        ""buckets"": [
          ...
        ],
        ""sections"": [
          {
            ""name"": """",
            ...
            ""enquiryLines"": [
              {
                ""tags"": [""CLIENT_DETAILS"", """"],
                ...
                ""buckets"": [
                  ...
                ]
                ""questions"": [
                  {
                    ""path"": """",
                    ""name"": """",
                    ...
                    ""definition"": {
                      ""text"": """",
                      ""helpText"": """",
                      ""options"": [
                        ...
                      ],
                      ....
                    }
                  }
                },
                {...}
              ]
              ...
            ]
          }
        ],
        ""allAnswers"": {
          ...
        }
      },
      ""answerTimeline"": [
        {
          ""dateAnswered"": 1638380184843,
          ""questionPath"": ""WHICH_GROWTH_IFA"",
          ""answers"": [
            ""Furuncle""
          ],
          ""locale"": ""IFA_EN_GB"",
          ""username"": ""enquiry-shell""
        },
        ...
      ],
      ""priorEnquiries"": [],
      ""subsequentEnquiries"": []
    }
  ]
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwibj:r,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,26/Oct/21 12:58 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Underwriting Service - Interview Q&A - status,NBJ-994,42265,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,13/Dec/21 4:16 PM,28/Jan/22 10:55 AM,02/Feb/22 6:31 PM,,,Foundation Release,,Sprint_7,,,"*As an* operational underwriter
*So that* I can quickly and efficiently review all questions answered
*I want* to be able to filter them based on their status groupings of *current* answer",,Jim Houghton,Kevin.Amoa,,,,,,60cc71a22bd21400692fd2af,6149b160fac3ce0069d80d37,,,,,,,,,,,,,Hidden from EXL,NBJ-995,,,,,,,,,,,,NBJ-640,,,,,,,,,,,,,,,,,,17/Jan/22 4:20 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;enquiryHistory_demo.json;https://gghltd.atlassian.net/secure/attachment/25144/enquiryHistory_demo.json,,,,,,,,,,,,"*Given* a GET api/v1/underwriting/\{applicantId}/questionsAndAnswers
*When* request received
*Then* determine URE enquiryId
*And* request enquiry history from URE; /v4/enquiry/history/\{enquiryId}

_Building on the above_

*Given* latest snapshot.enquiry.allAnswers
*And* all snapshot.answerTimeline
*When* iterating through each enquiry.section.enquiryLine.question in *the latest* snapshot
*Then* the *most recent* answer in the answerTimeline with a matching questionPath has a status of *Current*
*And* if any older answers exist their entry in the questions on the service output will have a status of *Changed*

*Given* latest snapshot.enquiry.allAnswers
*And* all snapshot.answerTimeline
*Then* any questions within answerTimeline without a matching question within the current snapshot should be set *Orphaned*",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-802,,,,,,,,,,,,,,,,None,,"_Request_

{code:json}GET api/v1/underwriting/{applicantId}/questionsAndAnswers{code}

_Return Message_

{code:json}{
  ""data"": {
    ""applicantId"": <guid>,
    ""questions"": [
      {
        ""code"": """",
        ""text"": """",
        ""validValues"": ["""",""""],
        ""answers"": ["""",""""],
        ""completedDate"": {utc timestamp},
        ""section"": """",
        ""statuses"": ["""",""""],
      }
    ]
  }
}{code}

_URE Request_

{code:json}/v4/enquiry/history/{enquiryId}{code}

_URE Response_

{code:json}{
  ""enquiryId"": <guid>,
  ""snapShots"": [
    {
      ""snapshotDate"": 1638380196132,
      ...
      ""enquiry"": {
        ...
        ""availableLocales"": [
          ...
        ],
        ...
        ""buckets"": [
          ...
        ],
        ""sections"": [
          {
            ""name"": """",
            ...
            ""enquiryLines"": [
              {
                ""tags"": [""CLIENT_DETAILS"", """"],
                ...
                ""questions"": [
                  {
                    ""path"": """",
                    ""name"": """",
                    ...
                    ""definition"": {
                      ""text"": """",
                      ""helpText"": """",
                      ""options"": [
                        ...
                      ],
                      ....
                    }
                  }
                },
                {...}
              ]
              ...
            ]
          }
        ],
        ""allAnswers"": {
          ...
        }
      },
      ""answerTimeline"": [
        {
          ""dateAnswered"": 1638380184843,
          ""questionPath"": ""WHICH_GROWTH_IFA"",
          ""answers"": [
            ""Furuncle""
          ],
          ""locale"": ""IFA_EN_GB"",
          ""username"": ""enquiry-shell""
        },
        ...
      ],
      ""priorEnquiries"": [],
      ""subsequentEnquiries"": []
    }
  ]
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwibj:i,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,26/Oct/21 12:58 PM,,5.0,,,,,,,,,,,,,,,,,,A snapshot is created each time the underwriting session is ‘closed’ - so a session can have multiple snapshots.,,,,,,,,,,,,,,,,"18/Jan/22 9:11 AM;60cc71a22bd21400692fd2af;[~accountid:6149b160fac3ce0069d80d37] - I have flagged this story, needs more analysis in light of further requirements.  I will rework today.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Cover Summary - Exclusions/Removals ci riskType only (aci and ci products),NBJ-993,42262,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,13/Dec/21 2:59 PM,20/Jan/22 11:54 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As an* api user, adviser and customer
*So that* I understand the policies I have bought
*I want* a cover summary document

This story is about generating a cover summary document with values returned from Lissia.  Replacing the hard coded Interviewdata section with text supplied from the product decision.

{panel:bgColor=#deebff}
_NB - the cover summary is issued per applicant_
{panel}",,Andy Green,Jim Houghton,,,,,,6061ac5d00b79f0070aa4ad3,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* a request for cover summary document in the orchestration service
*And* 'policy.id
*And* applicantId
*And* applicant.covers.policytypes
*When* initially processing
*Then* request policy data from Lissia (as per [NBJ-979])

{noformat}GET /api/CoverSummaryXml?code=<accessToken>&clientId=<policy.id>{noformat}

*And* request product decision

{code:json}POST /api/decision/{applicantId}/product{code}

{noformat}{
  ""policyTypes"":[
    ""aci | ci"",
    ""...""
  ]
}{noformat}

*Scenario* using cover summary xml provided by Lissia with any combination of ci and aci product decisions, add in exclusion text defined in [https://gghltd.atlassian.net/wiki/spaces/NP/pages/3058827339/UW+alerts|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3058827339/UW+alerts|smart-link] 

*Given* coverSummaryXML response from Lissia
*And* products has productType ci and aci only
*And* product has exclusions
*But* ignoring tpd exclusions (i.e. exclusions have a riskType of tpd)
*And* exclusion has anyCombination of <isRemoval>

{noformat}| isRemoval |
| true      |
| false     |{noformat}

*And* exclusion has any combination of <hasDiscount>

{noformat}| hasDiscount |
| true        |
| false       |{noformat}

*When* formulating the coverSummary document request


{noformat}POST /v1/api/document/coverSummary{noformat}

*Then* set based on the productDecision <productType>, and exclusion.<isRemoval> properties, the following <fields> on the Lissia Cover Summary request with the correct <value> in from productDecision.exclusion.text 

{code:json}| productType | isRemoval | field           | Value                          |
| ci          | false     | EXCL_MSG_CI     | productDecision.exclusion.text |
| ci          | true      | REMOVAL_MSG_CI  | productDecision.exclusion.text |
| aci         | false     | EXCL_MSG_ACI    | productDecision.exclusion.text |
| aci         | true      | REMOVAL_MSG_ACI | productDecision.exclusion.text |{code}

*And* set based on the productDecision <productType>, exclusion <isRemoval> and <hasDiscount> properties, the following <fields> on the Lissia Cover Summary request with the correct <value> in from productDecision.exclusion.discountText

{noformat}| productType | isRemoval | hasDiscount | field            | Value                                  |
| ci          | false     | true        | EXCL_PREM_CI     | productDecision.exclusion.discountText |
| ci          | false     | false       | EXCL_PREM_CI     |                                        |
| ci          | true      | true        | REMOVAL_PREM_CI  | productDecision.exclusion.discountText |
| ci          | true      | false       | REMOVAL_PREM_CI  |                                        |
| aci         | false     | true        | EXCL_PREM_ACI    | productDecision.exclusion.discountText |
| aci         | false     | false       | EXCL_PREM_ACI    |                                        |
| aci         | true      | true        | REMOVAL_PREM_ACI | productDecision.exclusion.discountText |
| aci         | true      | false       | REMOVAL_PREM_ACI |                                        |{noformat}

*Given* cover summary document request
*Then* request document
*And* http status 201
*And* output documentId",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-772,,,,,,,,,,,,,,,,None,,"_Request_

{code:json}POST /api/v1/document/coverSummary{code}

_Body_

{code:xml}<Company>
	<DATA>
		...
      <Interviewdata>
        <Details>
          <DECSION_MSG_LIFE>We’ve offered Life Protection cover based on our standard premiums. </DECSION_MSG_LIFE>
          <DECSION_MSG_CI>We’ve offered Critical Illness cover based on our standard premiums. </DECSION_MSG_CI>
          <EXCL_MSG_CI><!-- productDecision.exclusion.text --></EXCL_MSG_CI>
          <EXCL_PREM_MSG_CI><!-- productDecision.exclusion.discountText --></EXCL_PREM_MSG_CI>
          <REMOVAL_MSG_CI><!-- productDecision.exclusion.text --></REMOVAL_MSG_CI>
          <REMOVAL_PREM_MSG_CI><!-- productDecision.exclusion.discountText --></REMOVAL_PREM_MSG_CI>
          <DECSION_MSG_TPD>We’ll provide total and permanent disability cover based on your own occupation.</DECSION_MSG_TPD>
          <EXCL_MSG_TPDO/>
          <EXCL_MSG_TPDA/>
          <EXCL_PREM_MSG_TPDO/>
          <EXCL_PREM_MSG_TPDA/>
          <GIO_LIFE>true</GIO_LIFE>
          <GIO_CI>true</GIO_CI>
          <EXCL_SUM_LIFE/>
          <EXCL_SUM_CI/>
          <EXCL_TERM_LIFE/>
          <EXCL_TERM_CI/>
          <EXCL_ST_LIFE/>
          <EXCL_ST_CI/>
          <DECISION_MSG_FRA/>
          <GIO_ACI>true</GIO_ACI>
          <DECSION_MSG_ACI>We’ve offered Combined Life and Critical Illness cover based on our standard premiums. </DECSION_MSG_ACI>
          <EXCL_MSG_ACI><!-- productDecision.exclusion.text --></EXCL_MSG_ACI>
          <REMOVAL_MSG_ACI><!-- productDecision.exclusion.text --></REMOVAL_MSG_ACI>
          <EXCL_PREM_MSG_ACI><!-- productDecision.exclusion.discountText --></EXCL_PREM_MSG_ACI>
          <REMOVAL_PREM_MSG_ACI><!-- productDecision.exclusion.discountText --></REMOVAL_PREM_MSG_ACI>
          <EXCL_SUM_ACI/>
          <EXCL_TERM_ACI/>
          <EXCL_ST_ACI/>
          <DECISION_STATUS_LIFE>standard</DECISION_STATUS_LIFE>
          <DECISION_STATUS_CI>standard</DECISION_STATUS_CI>
          <DECISION_STATUS_ACI>standard</DECISION_STATUS_ACI>
        </Details>
      </Interviewdata>
		...
	</DATA>
</Company>{code}



_Response_

{code:json}{
  ""data"": {
    ""documentId"": <lissia document id>
  }
}{code}

_Product Decision Request_

{noformat}GET /api/decision/{applicantId}/product{noformat}

_Product Decision Response_

{code:json}{
  ""applicantId"": ""<applicantId>"",
  ...
  ""productDecisions"": [ // one product decision per cover in the applicant's application
    {
      ""productType"": ""life | ci | aci "",
      ""decision"": ""Non standard Terms"",
      ""reasons"": [<list of strings, giving reasons for decision>],
      ...,
      ""exclusions"": [
        {
          ""riskType"": ""Life | Critical Illness | Total Permanent Disability"", -- needs to be mapped from risk
          ""code"": """",
          ""text"": """",
          ""reasons"": ["""", """"],
          ""hasDiscount"": true | false,
          ""discountText"": """",
          ""isRemoval"": ""true | false"" 
        },
        ...
      ],
      ...
    }
  ]    
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zlv,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,10/Dec/21 9:34 AM,,5.0,,,,,,,,,,,,,,,,,,"UW alert text should find its way onto the Cover Summary document [https://gghltd.atlassian.net/wiki/spaces/NP/pages/3058827339/UW+alerts|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3058827339/UW+alerts|smart-link]

Limited to one exclusion and one removal on any cover Summary document.",,,,,,,,,,,,,,,2022-01-20 10:11:02.054,"20/Jan/22 10:11 AM;6061ac5d00b79f0070aa4ad3;[~accountid:60cc71a22bd21400692fd2af] , minor point. should we update the subject / title to say this covers CI and ACI?","20/Jan/22 10:15 AM;6061ac5d00b79f0070aa4ad3;[~accountid:60cc71a22bd21400692fd2af], we have different text for removal and exclusions. As per UW alerts page, how does this reflect on here?

We can have a max of 2 removals and exclusions. This could be made up of:

* 1 exclusion and 1 removal
* 2 removals
* 2 exclusions

If it’s 2 removals or 2 exclusions the intention was to map the second exclusion / removal to the other XML element so that the doc renders nicely. Can we cover this off? ","20/Jan/22 11:30 AM;6061ac5d00b79f0070aa4ad3;[~accountid:60cc71a22bd21400692fd2af], where we give a premium discount off the back of an exclusion or removal, the text includes the same exclusion / removal text. Plus an additional sentence to detail the premium. Is this catered for (sorry, I don’t know these tables v well but thought worth wasking.)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Cover Summary - Exclusions/Removals tpd riskType only,NBJ-992,42259,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,13/Dec/21 2:26 PM,04/Jan/22 10:53 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As an* api user, adviser and customer
*So that* I understand the policies I have bought
*I want* a cover summary document

This story is about generating a cover summary document with values returned from Lissia.  Replacing the hard coded Interviewdata section with text supplied from the product decision.

{panel:bgColor=#deebff}
_NB - the cover summary is issued per applicant_
{panel}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* a request for cover summary document
*And* policy id
*And* applicantId
*And* applicant.covers.productTypes
*When* initially processing
*Then* request policy data from Lissia (as per [NBJ-979])

{noformat}GET /api/CoverSummaryXml?code=<accessToken>&clientId=<policy.id>{noformat}

*And* request product decision

{code:json}POST /api/decision/{applicantId}/product{code}

{noformat}{
  ""productTypes"":[
    ""ci | aci"",
    ""...""
  ]
}{noformat}

*Given* coverSummaryXML response from Lissia
*And* products has productType ci and aci only
*And* productDecision.tpd isIncluded = false
*When* formulating the cover summary document request
*Then* do *not* populate any exclusion or removal <field> on the request

{code:json}| field                 |
| <EXCL_MSG_TPDO/>      |
| <EXCL_MSG_TPDA/>      |
| <EXCL_PREM_MSG_TPDO/> |
| <EXCL_PREM_MSG_TPDA/> |{code}

*Scenario* using cover summary xml provided by Lissia combined with life and aci product decisions, add in exclusion text, defined in [https://gghltd.atlassian.net/wiki/spaces/NP/pages/3058827339/UW+alerts|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3058827339/UW+alerts|smart-link] 

*Given* coverSummaryXML response from Lissia
*And* products has productType ci and aci only
*And* tpd isIncluded = true
*And* tpd has any combination of <disabilityDefinitions>

{noformat}| disabilityDefinition |
| Own                  |
| Activities           |{noformat}

*And* product has tpd exclusions
*But* ignoring ci exclusions (i.e. exclusions have a riskType of ci)
*And* exclusion has isRemoval=false as TPD removals are not supported
*And* exclusion has any combination of <hasDiscount>

{noformat}| hasDiscount |
| true        |
| false       |{noformat}

*When* formulating the cover summary document request
*Then* set based on the <disabliltyDefinition> properties, the following <fields> on the Lissia Cover Summary request with the correct <value> in from productDecision.exclusion.text 

{code:json}| disabilityDefinition | field           | Value                          |
| Own                  | EXCL_MSG_TPDO   | productDecision.exclusion.text |
| Activities           | EXCL_MSG_TPDA   | productDecision.exclusion.text |{code}

*And* set based on the tpd.<disabliltyDefinition> and exclusion.<hasDiscount> properties from the product decision, the following <fields> on the Lissia Cover Summary request with the correct <value> in from productDecision.exclusion.discountText

{code:json}| disabilityDefinition | hasDiscount | field            | Value                                  |
| Own                  | true        | EXCL_PREM_TPDO   | productDecision.exclusion.discountText |
| Own                  | false       | EXCL_PREM_TPDO   |                                        |
| Activities           | true        | EXCL_PREM_TPDA   | productDecision.exclusion.discountText |
| Activities           | false       | EXCL_PREM_TPDA   |                                        |
{code}



*Given* cover summary document request
*Then* request document
*And* http status 201
*And* output documentId",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-772,,,,,,,,,,,,,,,,None,,"_Request_

{code:json}POST /api/v1/document/coverSummary{code}

_Body_

{code:xml}<Company>
	<DATA>
		...
      <Interviewdata>
        <Details>
          <DECSION_MSG_LIFE>We’ve offered Life Protection cover based on our standard premiums. </DECSION_MSG_LIFE>
          <DECSION_MSG_CI>We’ve offered Critical Illness cover based on our standard premiums. </DECSION_MSG_CI>
          <EXCL_MSG_CI/>
          <EXCL_PREM_MSG_CI/>
          <REMOVAL_MSG_CI/>
          <REMOVAL_PREM_MSG_CI/>
          <DECSION_MSG_TPD>We’ll provide total and permanent disability cover based on your own occupation.</DECSION_MSG_TPD>
          <EXCL_MSG_TPDO><!-- productDecision.exclusion.text -->
          <EXCL_MSG_TPDA><!-- productDecision.exclusion.text -->
          <EXCL_PREM_MSG_TPDO><!-- productDecision.exclusion.discountText -->
          <EXCL_PREM_MSG_TPDA><!-- productDecision.exclusion.discountText -->
          <GIO_LIFE>true</GIO_LIFE>
          <GIO_CI>true</GIO_CI>
          <EXCL_SUM_LIFE/>
          <EXCL_SUM_CI/>
          <EXCL_TERM_LIFE/>
          <EXCL_TERM_CI/>
          <EXCL_ST_LIFE/>
          <EXCL_ST_CI/>
          <DECISION_MSG_FRA/>
          <GIO_ACI>true</GIO_ACI>
          <DECSION_MSG_ACI>We’ve offered Combined Life and Critical Illness cover based on our standard premiums. </DECSION_MSG_ACI>
          <EXCL_MSG_ACI/>
          <REMOVAL_MSG_ACI/>
          <EXCL_PREM_MSG_ACI/>
          <REMOVAL_PREM_MSG_ACI/>
          <EXCL_SUM_ACI/>
          <EXCL_TERM_ACI/>
          <EXCL_ST_ACI/>
          <DECISION_STATUS_LIFE>standard</DECISION_STATUS_LIFE>
          <DECISION_STATUS_CI>standard</DECISION_STATUS_CI>
          <DECISION_STATUS_ACI>standard</DECISION_STATUS_ACI>
        </Details>
      </Interviewdata>
		...
	</DATA>
</Company>{code}



_Response_

{code:json}{
  ""data"": {
    ""documentId"": <lissia document id>
  }
}{code}

_Product Decision Request_

{noformat}GET /api/decision/{applicantId}/product{noformat}

_Product Decision Response_

{code:json}{
  ""applicantId"": ""<applicantId>"",
  ...
  ""productDecisions"": [ // one product decision per cover in the applicant's application
    {
      ""productType"": ""life | ci | aci "",
      ""decision"": ""Non standard Terms"",
      ""reasons"": [<list of strings, giving reasons for decision>],
      ...,
      ""exclusions"": [
        {
          ""riskType"": ""Life | Critical Illness | Total Permanent Disability"", -- needs to be mapped from risk
          ""code"": """",
          ""text"": """",
          ""reasons"": ["""", """"],
          ""hasDiscount"": true | false,
          ""discountText"": """",
          ""isRemoval"": ""true | false"" 
        },
        ...
      ],
      ...
    }
  ]    
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zlx,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,10/Dec/21 9:34 AM,,5.0,,,,,,,,,,,,,,,,,,UW alert text should find its way onto the Cover Summary document [https://gghltd.atlassian.net/wiki/spaces/NP/pages/3058827339/UW+alerts|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3058827339/UW+alerts|smart-link],,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Cover Summary - tpd,NBJ-991,42255,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,13/Dec/21 1:56 PM,04/Jan/22 10:53 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As an* api user, adviser and customer
*So that* I understand the policies I have bought
*I want* a cover summary document

This story is about generating a cover summary document with values returned from Lissia.  Replacing the hard coded Interviewdata section with text supplied from the product decision.

{panel:bgColor=#deebff}
_NB - the cover summary is issued per applicant_
{panel}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* a request for cover summary document in the orchestration service
*And* 'policy.id
*And* applicantId
*And* applicant.covers.productTypes
*When* initially processing
*Then* request policy data from Lissia (as per NBJ-979)

{noformat}GET /api/CoverSummaryXml?code=<accessToken>&clientId=<policy.id>{noformat}

*And* request product decision, body productTypes mapped from applicant.coverTypes on request

{noformat}POST /api/decision/{applicantId}/product{noformat}

{noformat}{
  ""productTypes"": [
    ""ci | aci"",
    ""...""
  ]
}{noformat}



*Scenario* using cover summary xml provided by Lissia combined with product decision, add in product decision text for tpd defined in [https://gghltd.atlassian.net/wiki/spaces/NP/pages/3058827339/UW+alerts|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3058827339/UW+alerts|smart-link] 

*Given* coverSummaryXML response from Lissia
*And* products has productType ci and/or aci 
*And* product decisions with any combinations of tpd decisions <isIncluded>, <disabilityDefinition> and <text>

{code:json}| isIncluded     | disabilityDefinition | text                                                                                                                                                                            |
| false          |                      | We’re unable to offer you total and permanent disability, therefore we won’t pay a claim and you won’t be covered for, total and permanent disability as a specified condition. |
| true           | Own                  | We’ll provide total and permanent disability cover based on your own occupation.                                                                                                |
| true           | Activities           | We’re unable to offer you own occupation total and permanent disability.  We will pay a claim if you meet the daily activities or mental incapacity definitions.                |{code}

*When* formulating the coverSummary document request

{noformat}POST /v1/api/document/coverSummary{noformat}

*Then* set the Interviewdata section <DECISION_MSG_TPD> to the corresponding productDecision.tpd.<text> on any of to ci or aci product decisions

*Given* cover summary document request
*Then* request document
*And* http status 201
*And* output documentId",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-772,,,,,,,,,,,,,,,,None,,"_Request_

{code:json}POST /api/v1/document/coverSummary{code}

_Body_

{code:xml}<Company>
	<DATA>
		...
      <Interviewdata>
        <Details>
          <DECSION_MSG_LIFE>We’ve offered Life Protection cover based on our standard premiums. </DECSION_MSG_LIFE>
          <DECSION_MSG_CI>We’ve offered Critical Illness cover based on our standard premiums. </DECSION_MSG_CI>
          <EXCL_MSG_CI/>
          <EXCL_PREM_MSG_CI/>
          <REMOVAL_MSG_CI/>
          <REMOVAL_PREM_MSG_CI/>
          <DECSION_MSG_TPD><!--  productDecision.tpd.text --></DECSION_MSG_TPD>
          <EXCL_MSG_TPDO/>
          <EXCL_MSG_TPDA/>
          <EXCL_PREM_MSG_TPDO/>
          <EXCL_PREM_MSG_TPDA/>
          <GIO_LIFE>true</GIO_LIFE>
          <GIO_CI>true</GIO_CI>
          <EXCL_SUM_LIFE/>
          <EXCL_SUM_CI/>
          <EXCL_TERM_LIFE/>
          <EXCL_TERM_CI/>
          <EXCL_ST_LIFE/>
          <EXCL_ST_CI/>
          <DECISION_MSG_FRA/>
          <GIO_ACI>true</GIO_ACI>
          <DECSION_MSG_ACI>We’ve offered Combined Life and Critical Illness cover based on our standard premiums. </DECSION_MSG_ACI>
          <EXCL_MSG_ACI/>
          <REMOVAL_MSG_ACI/>
          <EXCL_PREM_MSG_ACI/>
          <REMOVAL_PREM_MSG_ACI/>
          <EXCL_SUM_ACI/>
          <EXCL_TERM_ACI/>
          <EXCL_ST_ACI/>
          <DECISION_STATUS_LIFE>standard</DECISION_STATUS_LIFE>
          <DECISION_STATUS_CI>standard</DECISION_STATUS_CI>
          <DECISION_STATUS_ACI>standard</DECISION_STATUS_ACI>
        </Details>
      </Interviewdata>
		...
	</DATA>
</Company>{code}



_Response_

{code:json}{
  ""data"": {
    ""documentId"": <lissia document id>
  }
}{code}

_Product Decision Request_

{noformat}GET /api/decision/{applicantId}/product{noformat}

_Product Decision Response_

{code:json}{
  ""applicantId"": ""<applicantId>"",
  ...,
  ""productDecisions"": [ // one product decision per cover in the applicant's application
    {
      ""productType"": ""ci | aci"",
      ...
      ""tpd"": {
        ""isIncluded"": true | false,
        ""disabilityDefinition"": ""Own | Activites"",
        ""text"": """", // map directly
        ""reasons"": ["""", """"]
      },
      ...
    }
  ]    
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zlr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,10/Dec/21 9:34 AM,,2.0,,,,,,,,,,,,,,,,,,UW alert text should find its way onto the Cover Summary document [https://gghltd.atlassian.net/wiki/spaces/NP/pages/3058827339/UW+alerts|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3058827339/UW+alerts|smart-link],,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Cover Summary - gio entitlement,NBJ-990,42254,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,13/Dec/21 1:44 PM,04/Jan/22 10:53 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As an* api user, adviser and customer
*So that* I understand the policies I have bought
*I want* a cover summary document

This story is about generating a cover summary document with values returned from Lissia.  Replacing the hard coded Interviewdata section with text supplied from the product decision.

{panel:bgColor=#deebff}
_NB - the cover summary is issued per applicant_
{panel}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* a request for cover summary document in the orchestration service
*And* 'policy.id
*And* applicantId
*And* applicant.covers.productTypes
*When* initially processing
*Then* request policy data from Lissia (as per NBJ-979)

{noformat}GET /api/CoverSummaryXml?code=<accessToken>&clientId=<policy.id>{noformat}

*And* request product decision, body productTypes mapped from applicant.coverTypes on request

{noformat}POST /api/decision/{applicantId}/product{noformat}

{noformat}{
  ""productTypes"": [
    ""life | ci | aci"",
    ""...""
  ]
}
{noformat}



*Scenario* using cover summary xml provided by Lissia combined with product decision, add in decision for gio entitlement

*Given* coverSummaryXML response from Lissia
*And* product decisions with any combinations of <gioEntitlement>

{code:json}| gioEntitlement |
| true           |
| false          |{code}

*When* formulating the coverSummary document request

{noformat}POST /v1/document/coverSummary{noformat}

*Then* on the lissia policy data response set the following Interviewdata  section <xml field>s to the correct <gioEntitlement> from the matching product decision (<productType>) 

{code:json}| xml field  | productType | 
| <GIO_LIFE> | life        | 
| <GIO_CI>   | ci          |
| <GIO_ACI>  | aci         |{code}



*Given* cover summary document request
*Then* request document
*And* http status 201
*And* output documentId",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-772,,,,,,,,,,,,,,,,None,,"_Request_

{code:json}POST /api/v1/document/coverSummary{code}

_Body_

{code:xml}<Company>
	<DATA>
		...
      <Interviewdata>
        <Details>
          <DECSION_MSG_LIFE>We’ve offered Life Protection cover based on our standard premiums. </DECSION_MSG_LIFE>
          <DECSION_MSG_CI>We’ve offered Critical Illness cover based on our standard premiums. </DECSION_MSG_CI>
          <EXCL_MSG_CI/>
          <EXCL_PREM_MSG_CI/>
          <REMOVAL_MSG_CI/>
          <REMOVAL_PREM_MSG_CI/>
          <DECSION_MSG_TPD>We’ll provide total and permanent disability cover based on your own occupation.</DECSION_MSG_TPD>
          <EXCL_MSG_TPDO/>
          <EXCL_MSG_TPDA/>
          <EXCL_PREM_MSG_TPDO/>
          <EXCL_PREM_MSG_TPDA/>
          <GIO_LIFE>true</GIO_LIFE>
          <GIO_CI>true</GIO_CI>
          <EXCL_SUM_LIFE/>
          <EXCL_SUM_CI/>
          <EXCL_TERM_LIFE/>
          <EXCL_TERM_CI/>
          <EXCL_ST_LIFE/>
          <EXCL_ST_CI/>
          <DECISION_MSG_FRA/>
          <GIO_ACI>true</GIO_ACI>
          <DECSION_MSG_ACI>We’ve offered Combined Life and Critical Illness cover based on our standard premiums. </DECSION_MSG_ACI>
          <EXCL_MSG_ACI/>
          <REMOVAL_MSG_ACI/>
          <EXCL_PREM_MSG_ACI/>
          <REMOVAL_PREM_MSG_ACI/>
          <EXCL_SUM_ACI/>
          <EXCL_TERM_ACI/>
          <EXCL_ST_ACI/>
          <DECISION_STATUS_LIFE>standard</DECISION_STATUS_LIFE>
          <DECISION_STATUS_CI>standard</DECISION_STATUS_CI>
          <DECISION_STATUS_ACI>standard</DECISION_STATUS_ACI>
        </Details>
      </Interviewdata>
		...
	</DATA>
</Company>{code}

_Response_

{code:json}{
  ""data"": {
    ""documentId"": <lissia document id>
  }
}{code}

_Product Decision Request_

{noformat}GET /api/decision/{applicantId}/product{noformat}

_Product Decision Response_

{code:json}{
  ""applicantId"": ""<applicantId>"",
  ...,
  ""productDecisions"": [ // one product decision per cover in the applicant's application
    {
      ""productType"": ""life | ci | aci "",
      ""gioEntitlement"": true | false,
      ...
    }
  ]    
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zli,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,10/Dec/21 9:34 AM,,2.0,,,,,,,,,,,,,,,,,,UW alert text should find its way onto the Cover Summary document [https://gghltd.atlassian.net/wiki/spaces/NP/pages/3058827339/UW+alerts|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3058827339/UW+alerts|smart-link],,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Sprint 6 - Complete/Incomplete Indicator not showing correctly on Accordions in the Additional screen,NBJ-989,42244,,Bug,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Chris.Hibbert,60cc71a1d5dde800713a2124,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,13/Dec/21 1:06 PM,13/Dec/21 3:20 PM,02/Feb/22 6:31 PM,,,,,,,,,,Nathan Punzalan,,,,,,,613f22fdff23ba00715469d1,,,,,,,,,,,,,,Hidden from EXL,NBJ-642,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Dec/21 1:06 PM;nathan.punzalan;image-2021-12-13-13-06-06-246.png;https://gghltd.atlassian.net/secure/attachment/24293/image-2021-12-13-13-06-06-246.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: 
Complete/Incomplete Indicator not showing correctly on Accordions in the Additional screen.

Steps to Reproduce: 
# Create an application
# Start underwriting questions
# Answer questions to enable the view of the Additional tab (e.g. for Mental health, select Depression as an option)
# Go to Additional tab

Expected Results: 
Each Accordian will have an incomplete or complete indicator with text saying Incomplete or Complete.

Actual Result: 
Each Accordian has an incomplete or complete indicator however text shows either ""underwritingEnquiry......incomplete"" or ""underwritingEnquiry.....complete"" instead of expected text.
 !image-2021-12-13-13-06-06-246.png|thumbnail! 
",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i013if:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Dec/21 1:06 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Sprint 6 | acceptedPreUnderwritingDeclaration is going back to false on applicant 1 when applicant 2 added,NBJ-988,42234,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,13/Dec/21 11:32 AM,16/Dec/21 3:53 PM,02/Feb/22 6:31 PM,16/Dec/21 3:53 PM,,Foundation Release,,,,,,,Antony.Gorman,Chris.Hibbert,Justin.Smith,,,,,6149b13472728e006f9441d6,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,Hidden from EXL,NBJ-810,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Dec/21 11:27 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-2021-12-13-11-27-38-680.png;https://gghltd.atlassian.net/secure/attachment/24290/image-2021-12-13-11-27-38-680.png,13/Dec/21 11:33 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211213-113307.png;https://gghltd.atlassian.net/secure/attachment/24291/image-20211213-113307.png,16/Dec/21 3:53 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211216-155324.png;https://gghltd.atlassian.net/secure/attachment/24437/image-20211216-155324.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue:  Agree to the declaration on applicant one causes acceptedPreUnderwritingDeclaration to be set to true as expected.  Go back to client details and add an another applicant and click continue causes acceptedPreUnderwritingDeclaration to be set back to false for applicant one.

Business Impact: Medium

Steps to Reproduce: 
1. Add applicant one on the client details tab
2. Provide all the details required up to the application tab
3. Click continue on the application tab to confirm the declaration
4. Applicant has the acceptedPreunderwritingDeclaration set to true

!image-2021-12-13-11-27-38-680.png|width=200,height=183!

 
5. Go back to the client details tab and add applicant 2 and click continue
6. The acceptedPreunderwritingDeclaration status gets set back to false

!image-20211213-113307.png|width=933,height=841!


7. On the current browser session you don't get the option to confirm the declaration again
8. If you open a new browser and navigate to the application tab then you are asked to confirm the declaration again

Expected Results: Wasn't expecting acceptedPreunderwritingDeclaration to be asked again for applicant 1

Actual Result: Ask to confirm declaration again after adding an extra applicant but only when i open a new browser session

Version: N/A",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009h9,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,13/Dec/21 11:32 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-13 16:37:14.396,13/Dec/21 4:37 PM;60cc71a1d5dde800713a2124;As an update [~accountid:610c00d94e8d8d0069a20d6c]  has confirmed this is a back-end problem.,"16/Dec/21 12:40 PM;6149b13472728e006f9441d6;[~accountid:618bdfc5fba4d0006ad4853e] hey - have been trying to reproduce this in the BE and have not been able to. 

If I start a new application

Add a single applicant

Accept terms for that applicant

Add a second applicant

Both applicants have accepted flags of true / false as expected

If I subsequently accept terms on the second applicant they’re both true.","16/Dec/21 3:53 PM;618bdfc5fba4d0006ad4853e;[~accountid:6149b13472728e006f9441d6] this does look ok now.  

!image-20211216-155324.png|width=565,height=640!

Closing.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
"DecisionService - URE Quote Decision - restricted to applicant data, setting max decision on number buckets",NBJ-987,42232,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,13/Dec/21 11:08 AM,14/Dec/21 3:07 PM,02/Feb/22 6:31 PM,14/Dec/21 3:07 PM,,Foundation Release,,Decision,Sprint_6,,"*As an* api consumer of the underwriting service
*So that* I can get a decision in the correct format to get prices
*I want* the service to respond with the current smokerStatus and loadings from build",,James Bartlett,Jim Houghton,,,,,,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* any POST /api/v1/decision/\{applicantId}/quickQuote
*Then* Get product decisions as per requested
*And* format response as per [NBJ-605]

_Building on the above_

*Scenario* Determine maximum decision from filtered list of decision bucket contributions foreach risk 

*Given* any POST /api/v1/decision/\{applicantId}/quickQuote
*And* filtered list of bucket contributions, filtered on TAG CLIENT_DETAILS
*And* has DECISION_<risk> buckets
*When* producing filtered list of buckets
*Then* foreach DECISION_<risk> bucket determine the max.value^1^ property

{code:json}| risk |
| LIFE |
| CI   |
| TPD  |{code}

*And* in the max.sources include a deduplicated list of sources for every contribution instance of the max decision",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,"# the max property is determining the most significant decision contribution from the following list.  The higher up the list the more significant the decision.
## DECLINE (highest)
## POSTPONE
## REFER
## EVIDENCE_REQUIRED
## NON_STANDARD
## STANDARD

_Service request_

{code:json}POST /api/v1/decision/{applicantId}/quickQuote{code}

_Body_

{code:json}{
  productTypes:[
    ""life"",
    ""ci"",
    ""aci""
  ]
}{code}

_Service response_

{code:json}{
  data: {  
    ""applicantId"": <applicantId>, 
    ""smokerStatus"": ""smokerStatus"": ""None in the last 5 years | None in last 12 months | I have used tobacco or replacement products in last 12 months"",
    ""quoteUnderwritingOutcomes"": [
      {
        ""productType"": ""life | ci | aci | ccic"",
        ""emRating"": 200,
        ""permPMRating"": 5,
        ""quoteExclusions"": [
          {
            ...
          },
          {...}
      }
    ]
  }
}{code}

_ProductType decision Response_

{code:json}{
  ""applicantId"": ""<applicantId>"",
  ""smokerStatus"": ""<GUARDIAN smoker statuses>"",
  ""productDecisions"": [ // one product decision per cover in the applicant's application
    {
      ""productType"": ""life | ci | aci "",
      ""decision"": ""STANDARD | NON_STANDARD | EVIDENCE_REQUIRED | REFER | POSTPONE | DECLINE"",
      ""indicativeDecision"": ""STANDARD | NON_STANDARD | EVIDENCE_REQUIRED | REFER | POSTPONE | DECLINE"",
      ""reasons"": [<list of strings, giving reasons for decision>],
      ""upsell"": {
        ""isAllowed"": true | false, -- change to true | false
        ""amount"": 100000        
      },
      ""gioEntitlement"": true | false,
      ""tpd"": {
        ""isIncluded"": true | false,
        ""reasons"": ["""", """"]
      },
      ""postpones"": [ -- only present if decision POSTPONE or indicativeDecision POSTPONE
        {
          ""code"": """",
          ""text"": """",
          ""reasons"": ["""", """"]
        },
        ...
      ],
      ""evidences"": [ -- only present if decision EVIDENCE_REQUIRED | REFER
        {
          ""code"": """",
          ""text"": """",
          ""reasons"": ["""", """"]
        },
        ...
      ],
      ""exclusions"": [ -- not present for DECLINE | POSTPONES
        {
          ""riskType"": ""Life | Critical Illness | Total Permanent Disability"", -- needs to be mapped from risk
          ""code"": """",
          ""text"": """",
          ""reasons"": ["""", """"],
          ""hasDiscount"": true | false,
          ""exclusionOrRemoval"": ""exclusion | removal"" // baking all possible answers into the field name?
        },
        ...
      ],
      ""em"": {  -- not present for STANDARD | DECLINE | POSTPONES
        ""totalRating"": 200, // the sum of all individual ratings 
        ""allReasons"": ["""",""""] // all the individual reasons for rating, de-duped
        ""ratings"": [
          {
            ""rating"": 50,
            ""duration"": ""<time_period>"",
            ""reasons"": ["""", """"]
          },
          ...
        ]
      ],
      ""pm"": {  -- not present for STANDARD | DECLINE | POSTPONES
        ""totalRating"": 200, // the sum of all individual ratings 
        ""allReasons"": ["""",""""] // all the individual reasons for rating, de-duped
        ""ratings"": [
          {
            ""rating"": 50,
            ""duration"": ""<time_period>"",
            ""reasons"": ["""", """"]
          },
          ...
        ]
      ]
    }
  ]    
}{code}

_URE data structure_

{noformat}{
  ""enquiryId"": ""8cbfd033-91fe-4d9e-a725-c1f9f657348b"",
  ""branch"": ""GUARDIAN"",
  ""tag"": ""AdditionalSectionNames"",
  ""locale"": ""IFA_EN_GB"",
  ""availableLocales"": [
    ""IFA_EN_GB"",
    ""DIRECT_EN_GB"",
    ""MSM_EN_GB""
  ],
  ""effectiveDate"": 1636329600000,
  ""isVoid"": false,
  ""isSatisfied"": true,
  ""isCloseable"": false,
  ""isOpen"": false,
  ""buckets"": [
      ...
  ],
  ""sections"": [
    {...},
    {
      ""name"": ""Your Tobacco Use"",
      ""isSatisfied"": true,
      ""hasQuestions"": false,
      ""enquiryLines"": [
        {
          ""name"": ""Tobacco_Use"",
          ""path"": ""Tobacco_Use"",
          ""alias"": ""Tobacco Use"",
          ""section"": ""Your Tobacco Use"",
          ""preamble"": ""Please tell us more about your tobacco use"",
          ""rawSection"": ""Your Tobacco Use"",
          ""rawPreamble"": ""Please tell us more about your tobacco use"",
          ""isSatisfied"": true,
          ""hasQuestions"": false,
          ""isWrapUpLine"": false,
          ""isGlobal"": true,
          ""isRoot"": false,
          ""isForced"": false,
          ""tags"": [""CLIENT_DETAILS"", ""...""], //This is the tag you are looking for
          ""triggers"": [
            ""Tobacco Use""
          ],
          ""triggerQuestions"": {},
          ""questions"": [],
          ""buckets"": [
            {
              ""type"": ""OPTION"",
              ""name"": ""DECISION_LIFE"",
              ""contributions"": [
                {
                  ""value"": ""STANDARD"",
                  ""sources"": [
                    ""Tobacco_Use""
                  ]
                }
              ],
              ""min"": {
                ""value"": ""STANDARD"",
                ""sources"": [
                  ""Tobacco_Use""
                ]
              },
              ""max"": {
                ""value"": ""STANDARD"",
                ""sources"": [
                  ""Tobacco_Use""
                ]
              }
            }
          ],
          ""staticallyTriggeredLines"": []
        }
      ]
    },
    {...}
  ],
  ""allAnswers"": {
   ...
  },
  ""debugInfo"": {}
}{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00yd2:r,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,20/Oct/21 9:39 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-14 15:07:50.213,14/Dec/21 3:07 PM;6139c49114e8340071fcda09;test evidence attached to NBJ-606,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Cover Summary - Standard/Non-Standard product decisions,NBJ-986,42223,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,13/Dec/21 10:09 AM,04/Jan/22 10:53 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As an* api user, adviser and customer
*So that* I understand the policies I have bought
*I want* a cover summary document

This story is about generating a cover summary document with values returned from Lissia.  Replacing the hard coded Interviewdata section with text supplied from the product decision.

{panel:bgColor=#deebff}
_NB - the cover summary is issued per applicant_
{panel}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,NBJ-991,NBJ-993,NBJ-992,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* a request for cover summary document through the orchestration service
*And* policy.id
*And* applicantId
*And* applicant.covers.productTypes
*When* initially processing
*Then* request policy data from Lissia (as per NBJ-979)

{noformat}GET /api/CoverSummaryXml?code=<accessToken>&clientId=<policy.id>{noformat}

*And* request product decision, body productTypes mapped from applicant.covers.productTypes

{code:json}POST /api/decision/{applicantId}/product{code}

{noformat}{
  ""productTypes"": [
    ""life | ci | aci"",
    ""...""
  ]
}{noformat}



*Given* any product decision
*And* decision is Postpone or Decline
*When* processing request
*Then* *DO NOT INCLUDE* in Cover Summary document


*Scenario* using cover summary xml provided by Lissia combined with product decision, add in decision wording for standard products, decision wording defined in [https://gghltd.atlassian.net/wiki/spaces/NP/pages/3058827339/UW+alerts|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3058827339/UW+alerts|smart-link].

*Given* coverSummaryXML response from Lissia
*And* product decisions with any combination of Standard and Non-standard overall decisions
*When* formulating the coverSummary document request body

{noformat}POST /v1/api/document/coverSummary{noformat}


*Then* starting with the coverSummaryXML response from Lissia, set the following Interviewdata section <xml field>s to the text descriptions provided in the matching product decision (<productType>) reasonText from the response message:

{code:json}| xml field              | productType |
| <DECSION_MSG_LIFE>     | life        |
| <DECSION_MSG_CI>       | ci          |
| <DECSION_MSG_ACI>      | aci         |{code}

*And* based on productDecision <decision> and <productType> set the <xml field> with the <value> in Interviewdata of coverSummary document request

{code:json}| decision     | productType | xml field              | <value>  |
| Standard     | life        | <DECISION_STATUS_LIFE> | standard |
| Non-standard | life        | <DECISION_STATUS_LIFE> | non      |
| Standard     | ci          | <DECISION_STATUS_CI>   | standard |
| Non-standard | ci          | <DECISION_STATUS_CI>   | non      |
| Standard     | aci         | <DECISION_STATUS_ACI>  | standard |
| Non-standard | aci         | <DECISION_STATUS_ACI>  | non      |{code}



*Given* cover summary document request
*Then* request document
*And* http status 201
*And* output documentId",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-772,,,,,,,,,,,,,,,,None,,"_Request_

{code:json}POST /api/v1/document/coverSummary{code}

_Body_

{code:xml}<Company>
	<DATA>
		...
      <Interviewdata>
        <Details>
          <DECSION_MSG_LIFE><!-- productDecision.reasonText --></DECSION_MSG_LIFE>
          <DECSION_MSG_CI><!-- productDecision.reasonText --></DECSION_MSG_CI>
          <EXCL_MSG_CI/>
          <EXCL_PREM_MSG_CI/>
          <REMOVAL_MSG_CI/>
          <REMOVAL_PREM_MSG_CI/>
          <DECSION_MSG_TPD>We’ll provide total and permanent disability cover based on your own occupation.</DECSION_MSG_TPD>
          <EXCL_MSG_TPDO/>
          <EXCL_MSG_TPDA/>
          <EXCL_PREM_MSG_TPDO/>
          <EXCL_PREM_MSG_TPDA/>
          <GIO_LIFE>true</GIO_LIFE>
          <GIO_CI>true</GIO_CI>
          <EXCL_SUM_LIFE/>
          <EXCL_SUM_CI/>
          <EXCL_TERM_LIFE/>
          <EXCL_TERM_CI/>
          <EXCL_ST_LIFE/>
          <EXCL_ST_CI/>
          <DECISION_MSG_FRA/>
          <GIO_ACI>true</GIO_ACI>
          <DECSION_MSG_ACI><!-- productDecision.reasonText --></DECSION_MSG_ACI>
          <EXCL_MSG_ACI/>
          <REMOVAL_MSG_ACI/>
          <EXCL_PREM_MSG_ACI/>
          <REMOVAL_PREM_MSG_ACI/>
          <EXCL_SUM_ACI/>
          <EXCL_TERM_ACI/>
          <EXCL_ST_ACI/>
          <DECISION_STATUS_LIFE>standard</DECISION_STATUS_LIFE>
          <DECISION_STATUS_CI>standard</DECISION_STATUS_CI>
          <DECISION_STATUS_ACI>standard</DECISION_STATUS_ACI>
        </Details>
      </Interviewdata>
		...
	</DATA>
</Company>
    
{code}

_Response_

{code:json}{
  ""data"": {
    ""documentId"": <lissia document id>
  }
}{code}

_Product Decision Request_

{noformat}GET /api/decision/{applicantId}/product{noformat}

_Product Decision Response_

{code:json}{
  ""applicantId"": ""<applicantId>"",
  ...,
  ""productDecisions"": [ // one product decision per cover in the applicant's application
    {
      ""productType"": ""life | ci | aci "",
      ""decision"": ""Standard | Non-standard"",
      ""reasonText"": """", // used to populate the <DECISION_MSG_...> field
      ""reasons"": [<list of strings, giving reasons for decision>],
      ...
    }
  ]    
}{code}


",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,10/Dec/21 9:34 AM,,5.0,,,,,,,,,,,,,,,,,,UW alert text should find its way onto the Cover Summary document [https://gghltd.atlassian.net/wiki/spaces/NP/pages/3058827339/UW+alerts|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3058827339/UW+alerts|smart-link] ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Typos on the pre-underwriting declaration screen,NBJ-985,42220,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,13/Dec/21 9:17 AM,14/Dec/21 12:13 PM,02/Feb/22 6:31 PM,14/Dec/21 11:58 AM,,Foundation Release,,,,,,,Chris.Hibbert,James Bartlett,Justin.Smith,,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,Hidden from EXL,NBJ-810,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Dec/21 9:17 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;Screenshot 2021-12-13 at 09.12.50.png;https://gghltd.atlassian.net/secure/attachment/24275/Screenshot+2021-12-13+at+09.12.50.png,14/Dec/21 11:58 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-14 at 11.58.19.png;https://gghltd.atlassian.net/secure/attachment/24338/Screenshot+2021-12-14+at+11.58.19.png,14/Dec/21 12:13 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211214-121324.png;https://gghltd.atlassian.net/secure/attachment/24339/image-20211214-121324.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:*
* Declaration is spelled 'Decalaration'
* Extra whitespace before comma in ""when we assess a claim , you risk us""

 !Screenshot 2021-12-13 at 09.12.50.png|thumbnail! 

*Business Impact:* Unprofessional appearance of site

*Steps to Reproduce:* create an application and an applicant. Navigate to the declaration page before underwriting

*Expected Results:*
* Declaration is spelled 'Declaration'
* ""when we assess a claim, you risk us""

*Actual Result:* 
* Declaration is spelled 'Decalaration'
* ""when we assess a claim , you risk us""

*Version:* unknown",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwik1:1i,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,13/Dec/21 9:17 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-14 11:58:37.073,"14/Dec/21 11:58 AM;60cc71a1d5dde800713a2124;!Screenshot 2021-12-14 at 11.58.19.png|width=1367,height=384!","14/Dec/21 12:13 PM;618bdfc5fba4d0006ad4853e;Automation test also passing

!image-20211214-121324.png|width=913,height=584!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Contact details - the address lines are spelled as 'Addess',NBJ-984,42219,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,13/Dec/21 9:11 AM,14/Dec/21 11:57 AM,02/Feb/22 6:31 PM,14/Dec/21 11:57 AM,,Foundation Release,,,,,,,Chris.Hibbert,James Bartlett,,,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Dec/21 9:10 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;Screenshot 2021-12-13 at 09.07.47.png;https://gghltd.atlassian.net/secure/attachment/24274/Screenshot+2021-12-13+at+09.07.47.png,14/Dec/21 11:57 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-14 at 11.57.08.png;https://gghltd.atlassian.net/secure/attachment/24337/Screenshot+2021-12-14+at+11.57.08.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* All address lines on the contact details screen are spelled 'Addess'

*Business Impact:* site looks unprofessional

*Steps to Reproduce:* Set up an application with at least one applicant and go to the contact details screen

*Expected Results:* all address lines are spelled correctly (e.g. ""Address One"")

*Actual Result:* All address lines are spelled with ""Addess""
 !Screenshot 2021-12-13 at 09.07.47.png|thumbnail! 

*Version:* unknown",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwik1:1,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,13/Dec/21 9:11 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-14 11:57:25.002,"14/Dec/21 11:57 AM;60cc71a1d5dde800713a2124;!Screenshot 2021-12-14 at 11.57.08.png|width=1320,height=331!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
"Add trigger for activation service on hitting ""Go Live""",NBJ-983,42210,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Highest,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,12/Dec/21 4:18 PM,28/Jan/22 2:24 PM,02/Feb/22 6:31 PM,26/Jan/22 3:31 PM,,Foundation Release,,,,,"*As a* user
*So that* I can activate an application
*I want* the system to pass the policy to Lissia on hitting “Put policy in force”",,Chris.Hibbert,Jon Reynolds,Mike,,,,,60cc71a1d5dde800713a2124,616ee20e2097220071a975d2,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-1279,NBJ-1324,,,,,,,,,,,,,,,,,,,,,"*Given*: An application
*When*: clicking “Put policy in force” on the review screen
*Then*: the activation endpoint for an application is triggered
*and*: the user navigates to the “thank you” screen",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-766,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01bsb:ox,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,12/Dec/21 4:18 PM,,3.0,,,,,,,,,,,,,,,,,,Please note - Now start date is not in scope.,,,,,,,,,,,,,,,2022-01-24 13:07:09.56,24/Jan/22 1:07 PM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;Hi [~accountid:60cc71a1d5dde800713a2124] - I’ve done the work for this but I always get an error 412 when requesting this endpoint. Is it because the API work is still in progress? I had a complete application with live cover with standard terms.,"24/Jan/22 1:13 PM;60cc71a1d5dde800713a2124;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5]  - I think thats correct, will need [https://gghltd.atlassian.net/browse/NBJ-1135|https://gghltd.atlassian.net/browse/NBJ-1135|smart-link] delivered to enable progress",24/Jan/22 1:14 PM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;[~accountid:60cc71a1d5dde800713a2124] Ah ok\! Thanks I’ll move onto another ticket until that’s done so I can test it all works.,25/Jan/22 5:36 PM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;[~accountid:60cc71a1d5dde800713a2124] still haven’t been able to get a successful response from the endpoint. Working with [~accountid:616ee20e2097220071a975d2] on this and it seems it also related to the null Smoker/Smoking property that we also had an issue with on the bff status endpoint ,25/Jan/22 6:12 PM;616ee20e2097220071a975d2;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] As agreed with [~accountid:60cc71a1d5dde800713a2124] I will raise a ticket tomorrow to preset smoker status to non smoking in policy service if not set. Smoker status will be modified next sprint so we can correct this properly then,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Make documents links available on Finish Screen,NBJ-982,42209,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,12/Dec/21 4:03 PM,12/Dec/21 4:03 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-123,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i013av:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,12/Dec/21 4:03 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Make policy ref back from Lissia available on Finish Screen,NBJ-981,42208,,Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,12/Dec/21 4:03 PM,31/Jan/22 11:29 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As an* adviser
*So that* I know my clients policy reference
*I want* the returned policy reference displayed on the finish screen",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given*: A successful activation service request
*Then*: the returned policyRef is persisted against each applicant in the application as the policyReference
*and*: the policyReference is shown per applicant on the thank you screen",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-123,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwib9:zzzzi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,12/Dec/21 4:03 PM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Labels for the accordion complete/incomplete missing,NBJ-980,42205,40249,Story bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Sam Gamble,610c00d94e8d8d0069a20d6c,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,11/Dec/21 1:28 PM,16/Dec/21 12:02 PM,02/Feb/22 6:31 PM,16/Dec/21 12:02 PM,,,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,11/Dec/21 1:29 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-11 at 13.28.06.png;https://gghltd.atlassian.net/secure/attachment/24270/Screenshot+2021-12-11+at+13.28.06.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: Labels for the accordion complete/incomplete missing (see screenshot)

!Screenshot 2021-12-11 at 13.28.06.png|width=1201,height=766!",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i0139z:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,11/Dec/21 1:28 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,16/Dec/21 10:15 AM;60cc71a1d5dde800713a2124;Missing again…,,,,,,,,,,,,,,,,,,,,,,,,,,,,,40249,Add accordions to Additional screen,Done
Cover Summary - hardcoded standard decision all cover types,NBJ-979,42176,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,10/Dec/21 4:01 PM,04/Jan/22 10:53 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As an* api user, adviser and customer
*So that* I understand the policies I have bought
*I want* a cover summary document

This story is about generating a cover summary document with values returned from Lissia.  Retaining the hard coded Interviewdata section.

{panel:bgColor=#deebff}
_NB - the cover summary is issued per applicant_
{panel}",,Chris.Hibbert,Jim Houghton,,,,,,60cc71a1d5dde800713a2124,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,NBJ-986,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,10/Dec/21 4:01 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;10023563-cover-summary-20211210.pdf;https://gghltd.atlassian.net/secure/attachment/24260/10023563-cover-summary-20211210.pdf,,,,,,,,,,,,"*Given* a request for cover summary document to the orchestration service
*And* a policy.id
*Then* request policy data from Lissia

{noformat}GET /api/CoverSummaryXml?code=<accessToken>&clientId=<policy.id>{noformat}

_Building on above_

*Scenario* using cover summary xml provided by Lissia, add in hard coded Interviewdata section

*Given* coverSummaryXML response from Lissia
*When* formulating the coverSummary document request

{noformat}POST /api/v1/actions/generateCoverSummaryDocument{noformat}


*Then* set the following Interviewdata section values:

{noformat}| xml field              | Value                                                                                  |
| <DECSION_MSG_LIFE>     | We’ve offered Life Protection cover based on our standard premiums.                    |
| <DECSION_MSG_CI>       | We’ve offered Critical Illness cover based on our standard premiums.                   |
| <DECSION_MSG_TPD>      | We’ll provide total and permanent disability cover based on your own occupation.       |
| <GIO_LIFE>             | true                                                                                   |
| <GIO_CI>               | true                                                                                   |
| <GIO_ACI>              | true                                                                                   |
| <DECSION_MSG_ACI>      | We’ve offered Combined Life and Critical Illness cover based on our standard premiums. |
| <DECISION_STATUS_LIFE> | standard                                                                               |
| <DECISION_STATUS_CI>   | standard                                                                               |
| <DECISION_STATUS_ACI>  | standard                                                                               |{noformat}

*Given* cover summary document request
*Then* request document
*And* http status 201
*And* output documentId",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-772,,,,,,,,,Impediment,,,,,,,None,,"_Request_

{code:json}POST /api/v1/document/coverSummary{code}

_Request Body and Lissia CoverSummary request body_

{code:xml}<Company>
	<DATA>
		<POLICY_NO>1887985</POLICY_NO>
		<CLIENT_ID>10004191</CLIENT_ID>
		<TotalAppPremium>62.04</TotalAppPremium>
		<TotPrem_excludingCI>62.04</TotPrem_excludingCI>
		<Lifecover>
			<Details>
				<Policyno>TL1013145</Policyno>
				<Coverage>1</Coverage>
				<Switch>Yes</Switch>
				<SumAssured>1,250</SumAssured>
				<Term>20</Term>
				<Product_Name>Family Income Cover</Product_Name>
				<Date_Of_Termination>17/03/2041</Date_Of_Termination>
				<Anniversary_Date>17/03/2021</Anniversary_Date>
				<Date_Of_Commencement>17/03/2021</Date_Of_Commencement>
				<ProductLineName>Family Income Cover</ProductLineName>
				<ProductLineType>2</ProductLineType>
				<policyType>1</policyType>
				<Modalpremium>£7.30</Modalpremium>
				<Covertype>Family Income Benefit</Covertype>
				<Product>Life Protection</Product>
				<Reserved_Cover>No</Reserved_Cover>
			</Details>
		</Lifecover>
		<CIcover>
			<Details>
				<Policyno>CI1013146</Policyno>
				<Coverage>1</Coverage>
				<Switch>Yes</Switch>
				<SumAssured>98,000</SumAssured>
				<Term>24</Term>
				<Product_Name>Critical Illness</Product_Name>
				<Date_Of_Termination>17/03/2045</Date_Of_Termination>
				<Anniversary_Date>17/03/2021</Anniversary_Date>
				<Date_Of_Commencement>17/03/2021</Date_Of_Commencement>
				<ProductLineName>Critical Illness Level</ProductLineName>
				<ProductLineType>9</ProductLineType>
				<policyType>1</policyType>
				<Modalpremium>£54.74</Modalpremium>
				<Covertype>Level</Covertype>
				<Product>Critical Illness</Product>
				<Reserved_Cover>No</Reserved_Cover>
			</Details>
		</CIcover>
      <Interviewdata>
        <Details>
          <DECSION_MSG_LIFE>We’ve offered Life Protection cover based on our standard premiums. </DECSION_MSG_LIFE>
          <DECSION_MSG_CI>We’ve offered Critical Illness cover based on our standard premiums. </DECSION_MSG_CI>
          <EXCL_MSG_CI/>
          <EXCL_PREM_MSG_CI/>
          <REMOVAL_MSG_CI/>
          <REMOVAL_PREM_MSG_CI/>
          <DECSION_MSG_TPD>We’ll provide total and permanent disability cover based on your own occupation.</DECSION_MSG_TPD>
          <EXCL_MSG_TPDO/>
          <EXCL_MSG_TPDA/>
          <EXCL_PREM_MSG_TPDO/>
          <EXCL_PREM_MSG_TPDA/>
          <GIO_LIFE>true</GIO_LIFE>
          <GIO_CI>true</GIO_CI>
          <EXCL_SUM_LIFE/>
          <EXCL_SUM_CI/>
          <EXCL_TERM_LIFE/>
          <EXCL_TERM_CI/>
          <EXCL_ST_LIFE/>
          <EXCL_ST_CI/>
          <DECISION_MSG_FRA/>
          <GIO_ACI>true</GIO_ACI>
          <DECSION_MSG_ACI>We’ve offered Combined Life and Critical Illness cover based on our standard premiums. </DECSION_MSG_ACI>
          <EXCL_MSG_ACI/>
          <REMOVAL_MSG_ACI/>
          <EXCL_PREM_MSG_ACI/>
          <REMOVAL_PREM_MSG_ACI/>
          <EXCL_SUM_ACI/>
          <EXCL_TERM_ACI/>
          <EXCL_ST_ACI/>
          <DECISION_STATUS_LIFE>standard</DECISION_STATUS_LIFE>
          <DECISION_STATUS_CI>standard</DECISION_STATUS_CI>
          <DECISION_STATUS_ACI>standard</DECISION_STATUS_ACI>
        </Details>
      </Interviewdata>
		<ClientDetails>
			<Details>
				<Salutation>Mr</Salutation>
				<Address1>26 DummyData Street</Address1>
				<Address2>Townsville</Address2>
				<Address3> </Address3>
				<PostCode>WF10 4AU</PostCode>
				<FirstName>JLQ</FirstName>
				<Surname>GENDERSSTEST</Surname>
				<FirstName_Small>JLQ</FirstName_Small>
				<Surname_Small>GenderSSTest</Surname_Small>
				<FirstName_Sentence>Jlq</FirstName_Sentence>
				<Surname_Sentence>Gendersstest</Surname_Sentence>
				<ClientType>0</ClientType>
				<ClientID>10004191</ClientID>
				<Town>Castleford</Town>
				<email>delete.jlq@gtest1821.co.uk</email>
				<PhoneNo>01234567890</PhoneNo>
				<Mobile>01234567890</Mobile>
				<DateOfBirth>27/03/1990</DateOfBirth>
			</Details>
		</ClientDetails>
		<SUBJECT>test</SUBJECT>
		<TotPrem_Life>7.30</TotPrem_Life>
		<TotPrem_ACI>0</TotPrem_ACI>
		<TotSum_CHIDLCI>0</TotSum_CHIDLCI>
		<TotPrem_CI>54.74</TotPrem_CI>
		<DateOfDocumentGeneration>10/12/2021</DateOfDocumentGeneration>
		<Beneficiary_ACI>No</Beneficiary_ACI>
		<QuoteReferenceNo>***TODO***</QuoteReferenceNo>
		<TotPrem_CHILDCI>0</TotPrem_CHILDCI>
		<TotSum_Life>1,250</TotSum_Life>
		<Fractureelig>true</Fractureelig>
		<TotSum_CI>98,000</TotSum_CI>
		<PolicyAnniversary_Date>17 March</PolicyAnniversary_Date>
		<TotSum_ACI>0</TotSum_ACI>
		<Beneficiary_Data/>
		<Beneficiary_Data_ACI/>
	</DATA>
</Company>
    {code}



_Response_

{code:json}{
  ""data"": {
    ""documentId"": <lissia document id>
  }
}{code}

Lissia coverSummary xml response

{noformat}GET /api/CoverSummaryXml?code=<accessToken>&clientId=<policy.id>{noformat}

{noformat}<Company>
	<DATA>
		<POLICY_NO>1887985</POLICY_NO>
		<CLIENT_ID>10004191</CLIENT_ID>
		<TotalAppPremium>62.04</TotalAppPremium>
		<TotPrem_excludingCI>62.04</TotPrem_excludingCI>
		<Lifecover>
			<Details>
				<Policyno>TL1013145</Policyno>
				<Coverage>1</Coverage>
				<Switch>Yes</Switch>
				<SumAssured>1,250</SumAssured>
				<Term>20</Term>
				<Product_Name>Family Income Cover</Product_Name>
				<Date_Of_Termination>17/03/2041</Date_Of_Termination>
				<Anniversary_Date>17/03/2021</Anniversary_Date>
				<Date_Of_Commencement>17/03/2021</Date_Of_Commencement>
				<ProductLineName>Family Income Cover</ProductLineName>
				<ProductLineType>2</ProductLineType>
				<policyType>1</policyType>
				<Modalpremium>£7.30</Modalpremium>
				<Covertype>Family Income Benefit</Covertype>
				<Product>Life Protection</Product>
				<Reserved_Cover>No</Reserved_Cover>
			</Details>
		</Lifecover>
		<CIcover>
			<Details>
				<Policyno>CI1013146</Policyno>
				<Coverage>1</Coverage>
				<Switch>Yes</Switch>
				<SumAssured>98,000</SumAssured>
				<Term>24</Term>
				<Product_Name>Critical Illness</Product_Name>
				<Date_Of_Termination>17/03/2045</Date_Of_Termination>
				<Anniversary_Date>17/03/2021</Anniversary_Date>
				<Date_Of_Commencement>17/03/2021</Date_Of_Commencement>
				<ProductLineName>Critical Illness Level</ProductLineName>
				<ProductLineType>9</ProductLineType>
				<policyType>1</policyType>
				<Modalpremium>£54.74</Modalpremium>
				<Covertype>Level</Covertype>
				<Product>Critical Illness</Product>
				<Reserved_Cover>No</Reserved_Cover>
			</Details>
		</CIcover>
		<Interviewdata>
			<Details>
				<DECSION_MSG_LIFE/>
				<DECSION_MSG_CI/>
				<EXCL_MSG_CI/>
				<EXCL_PREM_MSG_CI/>
				<REMOVAL_MSG_CI/>
				<REMOVAL_PREM_MSG_CI/>
				<DECSION_MSG_TPD/>
				<EXCL_MSG_TPDO/>
				<EXCL_MSG_TPDA/>
				<EXCL_PREM_MSG_TPDO/>
				<EXCL_PREM_MSG_TPDA/>
				<GIO_LIFE/>
				<GIO_CI/>
				<EXCL_SUM_LIFE/>
				<EXCL_SUM_CI/>
				<EXCL_TERM_LIFE/>
				<EXCL_TERM_CI/>
				<EXCL_ST_LIFE/>
				<EXCL_ST_CI/>
				<DECISION_MSG_FRA/>
				<GIO_ACI/>
				<DECSION_MSG_ACI/>
				<EXCL_MSG_ACI/>
				<REMOVAL_MSG_ACI/>
				<EXCL_PREM_MSG_ACI/>
				<REMOVAL_PREM_MSG_ACI/>
				<EXCL_SUM_ACI/>
				<EXCL_TERM_ACI/>
				<EXCL_ST_ACI/>
				<DECISION_STATUS_LIFE/>
				<DECISION_STATUS_CI/>
				<DECISION_STATUS_ACI/>
			</Details>
		</Interviewdata>
		<ClientDetails>
			<Details>
				<Salutation>Mr</Salutation>
				<Address1>26 DummyData Street</Address1>
				<Address2>Townsville</Address2>
				<Address3> </Address3>
				<PostCode>WF10 4AU</PostCode>
				<FirstName>JLQ</FirstName>
				<Surname>GENDERSSTEST</Surname>
				<FirstName_Small>JLQ</FirstName_Small>
				<Surname_Small>GenderSSTest</Surname_Small>
				<FirstName_Sentence>Jlq</FirstName_Sentence>
				<Surname_Sentence>Gendersstest</Surname_Sentence>
				<ClientType>0</ClientType>
				<ClientID>10004191</ClientID>
				<Town>Castleford</Town>
				<email>delete.jlq@gtest1821.co.uk</email>
				<PhoneNo>01234567890</PhoneNo>
				<Mobile>01234567890</Mobile>
				<DateOfBirth>27/03/1990</DateOfBirth>
			</Details>
		</ClientDetails>
		<SUBJECT>test</SUBJECT>
		<TotPrem_Life>7.30</TotPrem_Life>
		<TotPrem_ACI>0</TotPrem_ACI>
		<TotSum_CHIDLCI>0</TotSum_CHIDLCI>
		<TotPrem_CI>54.74</TotPrem_CI>
		<DateOfDocumentGeneration>10/12/2021</DateOfDocumentGeneration>
		<Beneficiary_ACI>No</Beneficiary_ACI>
		<QuoteReferenceNo>***TODO***</QuoteReferenceNo>
		<TotPrem_CHILDCI>0</TotPrem_CHILDCI>
		<TotSum_Life>1,250</TotSum_Life>
		<Fractureelig>true</Fractureelig>
		<TotSum_CI>98,000</TotSum_CI>
		<PolicyAnniversary_Date>17 March</PolicyAnniversary_Date>
		<TotSum_ACI>0</TotSum_ACI>
		<Beneficiary_Data/>
		<Beneficiary_Data_ACI/>
	</DATA>
</Company>{noformat}



Lissia Document Response

{noformat}<soapenv:Envelope xmlns:soapenv=""http://www.w3.org/2003/05/soap-envelope"">
   <soapenv:Header/>
   <soapenv:Body>
      <ns:createDocumentResponse xmlns:ns=""http://service.reporting.webservice.liss.co.uk"">
         <ns:return xsi:type=""ax260:CreateDocumentResponse"" xmlns:ax254=""http://request.reporting.webservice.liss.co.uk/xsd"" xmlns:ax255=""http://request.core.webservice.liss.co.uk/xsd"" xmlns:ax256=""http://domain.core.webservice.liss.co.uk/xsd"" xmlns:ax260=""http://response.reporting.webservice.liss.co.uk/xsd"" xmlns:ax261=""http://response.core.webservice.liss.co.uk/xsd"" xmlns:ax264=""http://domain.reporting.webservice.liss.co.uk/xsd"" xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"">
            <ax261:validationErrors xsi:nil=""true""/>
            <ax260:documentId>157310</ax260:documentId>
         </ns:return>
      </ns:createDocumentResponse>
   </soapenv:Body>
</soapenv:Envelope>{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,10/Dec/21 9:34 AM,,5.0,,,,,,,,,,,,,,,,,,"Ensure the content of the response from GET /api/CoverSummaryXml?code=<accessToken>&clientId=<[http://policy.id|http://policy.id|smart-link] > correctly reflects the policy that has gone live

Example document:

[^10023563-cover-summary-20211210.pdf]



Most likely manual testing as this will all be invalidated by later stories",,,,,,,,,,,,,,,2022-01-04 10:51:05.556,"04/Jan/22 10:51 AM;60cc71a1d5dde800713a2124;(flag) Flag added

[~accountid:60cc71a22bd21400692fd2af] and [~accountid:5d94816eefc9290c2e625a11] to update with more detail re: keyvault",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
DecisionService Decision Text needs changing to support use by client invocation,NBJ-978,42166,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Jon Reynolds,616ee20e2097220071a975d2,Jon Reynolds,616ee20e2097220071a975d2,10/Dec/21 3:08 PM,11/Jan/22 2:24 PM,02/Feb/22 6:31 PM,11/Jan/22 2:24 PM,,,,,,,,,Chris.Hibbert,Jon Reynolds,,,,,,60cc71a1d5dde800713a2124,616ee20e2097220071a975d2,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,10/Dec/21 3:05 PM;ug:117ea4bb-8992-4456-92e8-f3d84c2d6b41;image-2021-12-10-15-04-58-382.png;https://gghltd.atlassian.net/secure/attachment/24257/image-2021-12-10-15-04-58-382.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: The current enum shares similar string values which has caused issues when the distinct enum value needs to be recovered by its string value

Business Impact: DecisionText is currently different to what is specified by business.

As shown in attached image the enum display values were altered to work.

*Expected Values*

||*Decision*||*decisionText*||
|STANDARD|Standard terms|
|NON_STANDARD|Non-standard terms|
|EVIDENCE_REQUIRED|Underwriting required|
|REFER|Underwriting required|
|POSTPONE|Unable to offer terms|
|DECLINE|Unable to offer terms|",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwigm:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,10/Dec/21 3:08 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-07 16:55:10.47,07/Jan/22 4:55 PM;60cc71a1d5dde800713a2124;Setting this back to “To-Do” with the correct values.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Sprint 6 | Switch between metric and imperial causes validation relevant to metric appearing,NBJ-977,42161,,Bug,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Low,,,,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,10/Dec/21 2:36 PM,27/Jan/22 3:23 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,Jim Houghton,Justin.Smith,,,,,60cc71a1d5dde800713a2124,60cc71a22bd21400692fd2af,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,10/Dec/21 2:33 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-2021-12-10-14-33-32-145.png;https://gghltd.atlassian.net/secure/attachment/24255/image-2021-12-10-14-33-32-145.png,10/Dec/21 2:35 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-2021-12-10-14-35-24-549.png;https://gghltd.atlassian.net/secure/attachment/24254/image-2021-12-10-14-35-24-549.png,10/Dec/21 2:36 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-2021-12-10-14-36-03-029.png;https://gghltd.atlassian.net/secure/attachment/24253/image-2021-12-10-14-36-03-029.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: Error relating to metric is showing when selecting imperial

Business Impact: Medium/Low

Steps to Reproduce: 
1. Navigate to the client details tab
2. Enter Male, Smoker, Height 1.8m, Wight 80kg 
3. Get asked for the waist size
4. If I put 99 inchs (max size for imperial) then I get the error 'The maximum answer allowed for this customer is  200'.  I believe this is because the metric maximum value of 200 is considered.  A conversion from 99 goes to 241. 

 !image-2021-12-10-14-35-24-549.png|thumbnail! 

5. This also happens on the other questions.  So 8ft results in - 'The maximum answer allowed for this question is 2.41'

 !image-2021-12-10-14-33-32-145.png|thumbnail! 

This is also the case will min values
 !image-2021-12-10-14-36-03-029.png|thumbnail! 

Expected Results: Error relates to measurement unit

Actual Result: Error does not relate to imperial unit

Version: N/A",,{},,,,,,,,,,,,,,,,,,,,,,None,QA / UWT,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i0130f:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,10/Dec/21 2:36 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-10 14:45:42.919,10/Dec/21 2:45 PM;60cc71a1d5dde800713a2124;[~accountid:60cc71a22bd21400692fd2af]  - my instinct here is to either a) ignore that it will always be wrong for imperial or b) remove the upper/lower validation and deal with it in rules.  I dont think (b) causes too much work for underwriters.  Can you confirm if you agree on the approach?,"10/Dec/21 2:57 PM;60cc71a22bd21400692fd2af;Initially I think we remove the validation altogether in the rules, I will check the rules will still work…. If you want front end validation the upperbound and lowerbound can be supplied in the api so the front end guys can right specific validations based on units supplied.  But that is up to JLQ if he wants that for foundation.","10/Dec/21 3:04 PM;60cc71a1d5dde800713a2124;Cheers [~accountid:60cc71a22bd21400692fd2af]  - I figured that would be too big for foundation given the time pressures, so I do favour the low tech solution.  I’ll check with [~accountid:6061ac5d00b79f0070aa4ad3]  first on his thoughts.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Cover Summary - Initial Request,NBJ-976,41924,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,10/Dec/21 9:34 AM,20/Jan/22 3:57 PM,02/Feb/22 6:31 PM,20/Jan/22 3:57 PM,,Foundation Release,,,,,"*As an* api user, adviser and customer
*So that* I understand the policies I have bought
*I want* a cover summary document

This story is about generating an initial cover summary document with a hard coded document request message.  I will start to vary the values later based on the request. 

{panel:bgColor=#deebff}
_NB - the cover summary is issued per applicant_
_NB - an orchestration service will be responsible for creating the xml body for the coverSummary document request_
_NB - the /document/coverSummary service simply takes its xml body and requests a Lissia coverSummary document with the body xml_
{panel}",,Jim Houghton,Jon Reynolds,,,,,,60cc71a22bd21400692fd2af,616ee20e2097220071a975d2,,,,,,,,,,,,,Hidden from EXL,NBJ-979,NBJ-990,,,,,,,,,,,,,,,,,,,NBJ-1189,,,,,,,,,,10/Dec/21 3:35 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;10023563-cover-summary-20211210.pdf;https://gghltd.atlassian.net/secure/attachment/24258/10023563-cover-summary-20211210.pdf,15/Dec/21 2:36 PM;ug:25aea830-2a92-4e11-af0d-e074adc458e2;hardcoded_cover_summary.xml;https://gghltd.atlassian.net/secure/attachment/24379/hardcoded_cover_summary.xml,,,,,,,,,,,"*Given* a request for a cover summary document (orchestration service)
*Then* request a cover summary document through the coverSummary document service (using hardcoded request body in the Implementation notes)

_Building on above_

*Given* a request for cover summary document

{code:json}POST /api/v1/actions/generateCoverSummaryDocument{code}

*When* requesting document from Lissia
*Then* use xml body supplied in request as body for Lissia document request

*Given* successful response from Lissia
*Then* respond with a http status 201
*And* document id mapped from documentId on Lissia response message

*Given* doumentId from response
*Then* persist on application document section",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-772,,,,,,,,,,,,,,,,None,,"*Requirement*
Generate a new document using data retrieved from Lissia and the DecisionService

*Services affected*

* ActionService - controls the creation of the cover summary document
* DocumentService - generates the cover summary document
* ApplicationService - save the cover summary doc ID within the Documentation section of the applicant - see NBJ-1190

*Implementation summary*

* DocumentService:
** Add a new endpoint generate the cover summary document (need Lissia URI)
* ActionService:
** Retrieve the policy XML from Lissia
*** stubbed response with hardcoded XML attached this ticket: hardcoded_cover_summary.xml
** Generate cover summary document
** Store cover summary document ID on the applicant

*DocumentService*

Request

{noformat}POST /api/v1/document/coverSummary
content-type: application/xml
{{hardcoded_cover_summary.xml}}

{
    ""applicationId"" : ""<application ID>"",
    ""applicantPolicyReferenceNumber"": ""<reference we don't have yet - currently hard-coded to 123456>""
}{noformat}

Response

{noformat}{
  ""data"": {
    ""documentId"": ""<cover summary document ID>""
  }
}{noformat}

*ActionService*

_Request_

{code:json}POST /api/v1/actions/generateCoverSummaryDocument
{
  ""applicationId"": ""{{applicationId}}"",
   ""applicantId"": ""{{applicantId}}""
}{code}

_Response_

{noformat}{
  ""data"": {
    ""documentId"": ""<cover summary document ID>""
  }
}{noformat}

NB policy id is not required as the policy reference number will be obtained from the applicant upon quote activation

*CAVEAT* - Until NBj-1189 is resolved the applicant policyreference number has been hard-coded to {{""123456789""}}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i019uj:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,Guardian Sprint 8,,,,,10/Dec/21 9:34 AM,,13.0,,,,,,,,,,,,,,,,,,"[^10023563-cover-summary-20211210.pdf]

Example document",,,,,,,,,,,,,,,2022-01-18 16:26:26.465,"18/Jan/22 4:26 PM;616ee20e2097220071a975d2;(flag) Flag added

blocked until implementation of NBJ-1190","19/Jan/22 10:55 AM;616ee20e2097220071a975d2;(flagoff) Flag removed

Blocker nbj-1109 now in code review",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Add email help text on the contact details screen,NBJ-975,41802,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,09/Dec/21 10:46 PM,15/Dec/21 5:24 PM,02/Feb/22 6:31 PM,15/Dec/21 5:24 PM,,Foundation Release,,,,,"*As an* adviser
*So that* I can tell my client why an email address is needed
*I want* come help text displayed under the primary email field



!Screenshot 2021-12-09 at 22.47.30.png|width=1348,height=415!",,Chris.Hibbert,Justin.Smith,,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,09/Dec/21 10:48 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-09 at 22.47.30.png;https://gghltd.atlassian.net/secure/attachment/24230/Screenshot+2021-12-09+at+22.47.30.png,15/Dec/21 5:24 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211215-172353.png;https://gghltd.atlassian.net/secure/attachment/24393/image-20211215-172353.png,15/Dec/21 5:24 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211215-172406.png;https://gghltd.atlassian.net/secure/attachment/24394/image-20211215-172406.png,,,,,,,,,,"*Given*: An application
*When*: On the contact details screen
*Then*: Under each primary email address (first applicant or second applicant) we show the text “We’ll use this email address to setup an online account for your client to access their policy documents directly.”",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwik1:1v,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,09/Dec/21 10:46 PM,,1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-15 17:24:13.843,"15/Dec/21 5:24 PM;618bdfc5fba4d0006ad4853e;This looks good.  The text is displayed under the email text box for each applicant 

!image-20211215-172406.png|width=1468,height=671!



!image-20211215-172353.png|width=1502,height=373!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Tab order misses 'Gender' and 'Are you a smoker?' questions when adding a second applicant,NBJ-974,41785,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Lowest,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,09/Dec/21 8:56 PM,17/Jan/22 1:55 PM,02/Feb/22 6:31 PM,17/Jan/22 1:55 PM,,Foundation Release,,,,,,,James Bartlett,Justin.Smith,,,,,,6139c49114e8340071fcda09,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* When tabbing through the fields on the Client Details screen, the 'Gender' and 'Are you a smoker?' fields are missed out for the second applicant.

*Business Impact:* Low/none

*Steps to Reproduce:* Using tab to move between fields on-screen, add a second applicant

*Expected Results:*
* Tabbing from the 'Surname' field should navigate to the 'Gender' field
* Tabbing from the 'Date of birth' field should navigate to the 'Are you a smoker?' field

*Actual Result: *
* Tabbing from the 'Surname' field navigates to the 'Date of birth' field
* Tabbing from the 'Date of birth' field navigates to the 'How tall are you?' field

*Version:* unknown",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i015i5:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,Guardian Sprint 8,,,,,09/Dec/21 8:56 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-17 13:55:07.182,17/Jan/22 1:55 PM;618bdfc5fba4d0006ad4853e;This is all good.  Closing.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
DecisionService - include isUnderwritingDeclarationMade indicator on risk decision,NBJ-973,41702,,Technical Story,Code Delivered,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Antony.Gorman,6149b13472728e006f9441d6,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,09/Dec/21 3:39 PM,31/Jan/22 12:29 PM,02/Feb/22 6:31 PM,,,Foundation Release,,Sprint_8,,,"*As an* api consumer
*So that* I know the source of the decision
*I want* to know if the decision is based on a complete set of questions

{panel:bgColor=#deebff}
This story is intended to set the isUnderwritingDeclarationMade boolean on the risk decision.
{panel}",,Antony.Gorman,Chris.Hibbert,James Bartlett,Jim Houghton,,,,6149b13472728e006f9441d6,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,,,,,,,,,,,Hidden from EXL,NBJ-959,NBJ-966,NBJ-967,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Scenario* mapping the isOpen boolean from the activeEnquiry to the isUnderwritingDeclarationMade boolean on the risk decision response

*Given* request for risk decision 

{code:json}POST /api/v1/decision/{applicantId}{code}

*When* processing
*Then* set <isUnderwritingDeclarationMade> based on <isOpen> on the activeEnquiry response


* {code:json}| isOpen  | isUnderwritingDeclarationMade |
| true    | false                         |
| false   | true                          |{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,Impediment,,,,,,,None,,"Request

{code:json}POST /api/v1/decision/{applicantId}{code}

Response

{code:json}{
  ""data"": {
    ...
    ""isUnderwritingDeclarationMade"": true | false,
    ...
  }
}{code}

URE activeEnquiry

{code:json}{
  ...
  ""isOpen"": true | false,
  ...
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zi0sw,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,Guardian Sprint 9,,,,,09/Dec/21 10:15 AM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-17 10:49:34.507,17/Jan/22 10:49 AM;60cc71a1d5dde800713a2124;[~accountid:60cc71a22bd21400692fd2af]  and [~accountid:5d94816eefc9290c2e625a11]  to rename and UPDATE ALL THE OTHER STORIES,26/Jan/22 11:19 AM;6149b13472728e006f9441d6;[~accountid:60cc71a22bd21400692fd2af] [~accountid:60cc71a1d5dde800713a2124] if we’re returning a manual decision do we still need to set this flag off of the URE session data? ta,26/Jan/22 12:10 PM;60cc71a1d5dde800713a2124;[~accountid:6149b13472728e006f9441d6] - I dont think this needs to be set if its a manual decision.  [~accountid:60cc71a22bd21400692fd2af]  - thoughts?,26/Jan/22 3:34 PM;60cc71a22bd21400692fd2af;[~accountid:6149b13472728e006f9441d6] - on a manual decision just set it always to true….,"28/Jan/22 9:46 AM;6139c49114e8340071fcda09;(flag) Flag added

unable to test this as cannot yet get apps back from Salesforce",,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress
DecisionService - include decision source in underwritingOutcome,NBJ-972,41701,,Technical Story,Code Delivered,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,09/Dec/21 3:20 PM,31/Jan/22 2:22 PM,02/Feb/22 6:31 PM,,,Foundation Release,,Sprint_8,,,"*As an* api consumer
*So that* I know the source of the decision
*I want* to know if the URE provided the underwritingOutcome

This story is intended to set the origin on the underwritingOutcome.

The underwritingOutcome model is shown below:

!image-20220117-160535.png|width=724,height=326!

This is taken from: [https://gghltd.atlassian.net/wiki/spaces/NP/pages/3129704887/underwritingOutcome+entity|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3129704887/underwritingOutcome+entity|smart-link] ",,James Bartlett,Jim Houghton,,,,,,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,NBJ-967,,,,,,,,,,,,,,,,,,,,NBJ-842,,,,,,,,,,17/Jan/22 4:07 PM;Mike.Hill;image-20220117-160535.png;https://gghltd.atlassian.net/secure/attachment/25139/image-20220117-160535.png,,,,,,,,,,,,"*Scenario* setting the decision source on the risk decision response
*Given* a request for risk decision 

{code:json}POST /api/v1/decision/{applicantId}{code}

*When* building the risk decision
*Then* set <origin> based on whether a <manual underwriting decision exists>:

||*Manual decision exists?*||*origin*||
|true|muw|
|false|ure|",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,Impediment,,,,,,,None,,"Request

{code:json}POST /api/v1/decision/{applicantId}{code}

Response

{code:json}{
  ""data"": {
    ""applicantId"": ""G10001234"",
    ""origin"": muw | ure,
    ""smokerStatus"": ""None in the last 5 years""
    ""riskDecisions"": [ // one risk decision per risk element underwritten
    {
    ...
    }
    ]
  }
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zi0k,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,Guardian Sprint 9,,,,,09/Dec/21 10:15 AM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-28 09:45:27.687,"28/Jan/22 9:45 AM;6139c49114e8340071fcda09;(flag) Flag added

unable to get apps back from salesforce yet so half of this ticket is untestable",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress
Applicant status - Went on Risk,NBJ-970,41698,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,09/Dec/21 3:02 PM,02/Feb/22 12:16 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As a* manual underwriting platform
*So that* I know the current underwriting status of an applicant
*I want* to know when the current applicant status is “Went on Risk”

{panel:bgColor=#deebff}
This story is intended to set the underwriting status of an applicant to Went on Risk when the associated application activates, and the covers associated with the applicant are included in the activated policy.
{panel}",,Chris.Hibbert,Jim Houghton,mike hill,,,,,60cc71a1d5dde800713a2124,60cc71a22bd21400692fd2af,5d94816eefc9290c2e625a11,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* request for applicant details for inclusion in a Salesforce event 
*And* current application.status is “Went on Risk”
*And* has any products that went on risk
*When* processing
*Then* set applicant.status “Went on Risk”",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-125,,,,,,,,,,,,,,,,None,,"_Application entity always included in the body of a Salesforce event_

{code:json}{code}

_riskDecision response_

{code:json}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwiba:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,09/Dec/21 10:15 AM,,5.0,,,,,,,,,,,,,,,,,,The table does not contain a full list of possible scenarios. ,,,,,,,,,,,,,,,2021-12-15 14:25:07.922,15/Dec/21 2:25 PM;5d94816eefc9290c2e625a11;[~accountid:60cc71a22bd21400692fd2af] - Above there is a reference to “Went on Risk” and also “Went On Risk“. The correct status is: “Went on Risk“ as per: [https://gghltd.atlassian.net/wiki/spaces/NP/pages/2953183549/Application+and+Applicant+States#Application-State-Transition-Diagram|https://gghltd.atlassian.net/wiki/spaces/NP/pages/2953183549/Application+and+Applicant+States#Application-State-Transition-Diagram|smart-link] please can we update?,"15/Dec/21 2:44 PM;5d94816eefc9290c2e625a11;[~accountid:60cc71a22bd21400692fd2af] At [https://gghltd.atlassian.net/wiki/spaces/NP/pages/3065839660/DecisionService+-+encapsulating+underwriting+outcomes#Response|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3065839660/DecisionService+-+encapsulating+underwriting+outcomes#Response|smart-link] the decision values are:

{{""decision"": ""Standard Terms | Non standard Terms | Additional Evidence | Manual UW | Postponed | Declined""}}

But above we have:

{{""decision"": ""STANDARD | NON_STANDARD | EVIDENCE_REQUIRED | REFER | POSTPONE | DECLINE""}}

And in the Data Dictionary we have:

* Declined
* Postponed
* Manual uw
* Additional evidence
* Non-standard terms
* Standard terms

Please can we align with the Data dictionary?","02/Feb/22 12:16 PM;60cc71a1d5dde800713a2124;(flagoff) Flag removed

[~accountid:60cc71a22bd21400692fd2af] - ensure that [~accountid:5e183e85c578120daca5bc7b] reviews following any update.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Agree Build and Deploy Pipeline Integration Strategy,NBJ-968,41691,,Task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,mark.thurston@venture1consulting.com,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,mark.thurston@venture1consulting.com,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,09/Dec/21 2:46 PM,05/Jan/22 10:42 AM,02/Feb/22 6:31 PM,,,,,,,,"Currently there is a set of build pipelines triggered by CI (commits). There is also a set of provision  deploy pipelines _currently_ triggered manually. 

The two might need to be interlinked (on the assumption that the latter will not remain manually triggered). 

There are many options for how to do this but before developing a solution, we need to agree on what, ideally, should happen. Examples are: a new build of _any_ microservice causes an update of a _pre-existing_ release. Or, only certain microservices cause an update. Or, a new build of _any_ microservice causes a new release (i.e. a new environment). Or, as stated above, keep them de-linked.",,mark.thurston@venture1consulting.com,,,,,,,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"* A decision on the requirement.

NOTE: The solution to _how_ the requirement will be met is not part of this task.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1jzzzi9,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,09/Dec/21 2:46 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Applicant status - STP Decision or Manual Decision,NBJ-967,41690,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,09/Dec/21 2:43 PM,02/Feb/22 9:40 AM,28/Jan/22 9:15 AM,,,Foundation Release,,,,,"*As a* manual underwriting platform
*So that* I know the current underwriting status of an applicant
*I want* to know when the current applicant status is “STP Decision” and “Manual Decision”

{panel:bgColor=#deebff}
This story is intended to set the underwriting status of an applicant to STP Decision or Manual Decision when the isUnderwritingDeclarationMade  is true (URE activeEnquiry is closed) and there is an STP decision from URE or Salesforce.  Further stories will expand the functionality and vary the status.
{panel}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"{panel:bgColor=#deebff}
This is particularly required for Salesforce events, also included in common data model
{panel}

*Given* request for application dto
*When* processing
*Then* request current applicant risk decision

{code:json}GET /api/v1/decision/{applicantId}{code}



*Scenario* determining an applicant.status or “STP Decision” or “Manual Decision”

*Given* applicant risk decision
*And* isUnderwritingDeclarationMade = true in risk decision
*and* underwriting session isClosed = true
*And* *_none of the_* <risk.decision>s are REFER or EVIDENCE_REQUIRED
*When* responding with applicant.status
*Then* set <applicant.status> based on risk decision property of <origin>

{code:json}| origin                     | applicant.status   |
| auto                       | STP Decision       |
| manual                     | Manual Decision    |{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-125,,,,,,,,,,,,,,,,None,,"[https://gghltd.atlassian.net/wiki/spaces/NP/pages/2809757737/application+entity|https://gghltd.atlassian.net/wiki/spaces/NP/pages/2809757737/application+entity|smart-link] 

_Application entity always included in the body of a Salesforce event_

{code:json}""application"": {
  ...
  ""applicants"": [
    {
      ...
      ""status"": ""STP Decision | Manual Decision"",
      ...
    },
    {...}
  ]
}{code}

_riskDecision response_

{code:json}{
  ""data"": {
    ...
    ""isIndicative"": ""false"",
    ""origin"": ""muw | ure"",
    ""riskDecisions"": [
      {
        ""riskType"": ""life | ci | tpd"",
        ""decision"": ""STANDARD | NON_STANDARD | EVIDENCE_REQUIRED | REFER | POSTPONE | DECLINE"",
        ...
      },
      {...}
    ]
  }
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zi0ui,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,Guardian Sprint 9,,,,,09/Dec/21 10:15 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Applicant status - Referred to Underwriting,NBJ-966,41685,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,09/Dec/21 1:37 PM,02/Feb/22 9:37 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As a* manual underwriting platform
*So that* I know the current underwriting status of an applicant
*I want* to know when the current applicant status is “Referred to Underwriting”

{panel:bgColor=#deebff}
This story is intended to set the underwriting status of an applicant to Referred to Underwriting when the isUnderwritingDeclarationMade on the risk decision is true (URE activeEnquiry is closed), there is a refer decision and no manualUW decision exists.  Further stories will expand the functionality and vary the status.
{panel}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"{panel:bgColor=#deebff}
This is particularly required for Salesforce events and is part of common data model
{panel}

*Given* request for application dto 
*When* processing
*Then* request current applicant risk decision

{code:json}GET /api/v1/decision/{applicantId}{code}



*Scenario* determining an applicant.status of “Referred to Underwriting”

*Given* applicant risk decision
*And* isUnderwritingDeclarationMade = true in risk decision
*and* URE session isClosed = true
*And* *_any_* <risk.decision> is REFER or EVIDENCE_REQUIRED
*When* responding with applicant.status
*Then* set application.status to “Referred to UW”",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-125,,,,,,,,,,,,,,,,None,,"[https://gghltd.atlassian.net/wiki/spaces/NP/pages/2809757737/application+entity|https://gghltd.atlassian.net/wiki/spaces/NP/pages/2809757737/application+entity|smart-link] 

_Application entity always included in the body of a Salesforce event_

{code:json}""application"": {
  ...
  ""applicants"": [
    {
      ...
      ""status"": ""Referred to UW"",
      ...
    },
    {...}
  ]
}{code}

_riskDecision response_

{code:json}{
  ""data"": {
    ...
    ""isUnderwritingDeclarationMade"": ""true"",
    ""riskDecisions"": [
      {
        ""riskType"": ""life | ci | tpd"",
        ""decision"": ""STANDARD | NON_STANDARD | EVIDENCE_REQUIRED | REFER | POSTPONE | DECLINE"",
        ...
      },
      {...}
    ]
  }
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zi0u,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,Guardian Sprint 9,,,,,09/Dec/21 10:15 AM,,5.0,,,,,,,,,,,,,,,,,,"It is important to note that the only decision that will be expected from TPD is STANDARD, NON_STANDARD and DECLINE.  The restricted TPD decision types is controlled from the URE, so the code should expect that it could get an EVIDENCE_REQUIRED or REFER decision from any risk type.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Invalid values being used for coverType,NBJ-965,41672,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,mike hill,5d94816eefc9290c2e625a11,mike hill,5d94816eefc9290c2e625a11,09/Dec/21 11:07 AM,31/Jan/22 12:43 PM,02/Feb/22 6:31 PM,31/Jan/22 12:43 PM,,Foundation Release,,,,,,,Antony.Gorman,Chris.Hibbert,mike hill,,,,,6149b13472728e006f9441d6,60cc71a1d5dde800713a2124,5d94816eefc9290c2e625a11,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: When viewing the quote JSON, it can be seen that the coverType field has value ""Level"", the valid values to be used are defined here: [https://gghltd.atlassian.net/wiki/spaces/NP/pages/2966618135|https://gghltd.atlassian.net/wiki/spaces/NP/pages/2966618135|smart-link]

(should be lowercase)

Business Impact: Minimal

Steps to Reproduce: Any invocation of the quote JSON

Expected Results: The coverType field should use defined values

Actual Result: {{""coverType"": ""Level"",}}

Version: quote v1.2 (Refer to: [https://gghltd.atlassian.net/wiki/spaces/NP/pages/2954264661/quote+v1.2|https://gghltd.atlassian.net/wiki/spaces/NP/pages/2954264661/quote+v1.2|smart-link] )",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,QA / UWT,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zix,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,Guardian Sprint 9,,,,,09/Dec/21 11:07 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-11 09:40:33.735,11/Jan/22 9:40 AM;60cc71a1d5dde800713a2124;[~accountid:5d94816eefc9290c2e625a11] - can you update with detail?  Looks like Jira has swallowed up your description.,11/Jan/22 3:44 PM;5d94816eefc9290c2e625a11;Thanks (again) [~accountid:60cc71a1d5dde800713a2124] 🙂 ,26/Jan/22 2:17 PM;6149b13472728e006f9441d6;[~accountid:5d94816eefc9290c2e625a11] do you mean when viewing quotes from the quote service? thanks,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Invalid values being used for productType,NBJ-964,41671,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Antony.Gorman,6149b13472728e006f9441d6,mike hill,5d94816eefc9290c2e625a11,mike hill,5d94816eefc9290c2e625a11,09/Dec/21 11:02 AM,27/Jan/22 7:20 PM,02/Feb/22 6:31 PM,27/Jan/22 7:20 PM,,Foundation Release,,,,,,,Chris.Hibbert,mike hill,,,,,,60cc71a1d5dde800713a2124,5d94816eefc9290c2e625a11,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: When viewing the quote JSON, it can be seen that the productType field has value ""Life"", the valid values to be used are defined here: [https://gghltd.atlassian.net/wiki/spaces/NP/pages/2966618135|https://gghltd.atlassian.net/wiki/spaces/NP/pages/2966618135|smart-link] 

Should be lowercase

Business Impact: Minimal

Steps to Reproduce: Any invocation of the quote JSON

Expected Results: The productType field should use defined values

Actual Result: ""productType"": ""Life"",

Version: quote v1.1",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,QA / UWT,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:ziy,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,09/Dec/21 11:02 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-27 19:20:36.519,"27/Jan/22 7:20 PM;60cc71a1d5dde800713a2124;[https://ggh-uwt-apim.azure-api.net/api/v1/application/G000158040|https://ggh-uwt-apim.azure-api.net/api/v1/application/G000158040]

Tested by taking a case through for each of the productTypes and verifying the values.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Add children to review screen view,NBJ-963,41668,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,09/Dec/21 10:34 AM,09/Dec/21 10:35 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-765,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00zzr:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,09/Dec/21 10:34 AM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Persist children against an application,NBJ-962,41667,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,09/Dec/21 10:33 AM,02/Feb/22 3:12 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,NBJ-1125,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-765,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zjzzzzzz19,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,09/Dec/21 10:33 AM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Build initial payout planner controls,NBJ-961,41666,,Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Lowest,,Mike,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,09/Dec/21 10:33 AM,31/Jan/22 12:56 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As a* user
*So that* I can complete my application beneficiaries
*I want* to be able to complete the payout planner

!Screenshot 2022-01-16 at 10.58.16.png|width=1238,height=1520!",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,16/Jan/22 10:58 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2022-01-16 at 10.58.16.png;https://gghltd.atlassian.net/secure/attachment/25117/Screenshot+2022-01-16+at+10.58.16.png,16/Jan/22 11:28 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2022-01-16 at 11.22.20.png;https://gghltd.atlassian.net/secure/attachment/25120/Screenshot+2022-01-16+at+11.22.20.png,16/Jan/22 11:28 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2022-01-16 at 11.23.39.png;https://gghltd.atlassian.net/secure/attachment/25119/Screenshot+2022-01-16+at+11.23.39.png,16/Jan/22 11:28 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2022-01-16 at 11.25.18.png;https://gghltd.atlassian.net/secure/attachment/25118/Screenshot+2022-01-16+at+11.25.18.png,,,,,,,,,"*Given*: An application
*Then*: the Payout Planner section is only visible if at least 1 applicant is visible

*Given*: An application with covers
*Then*: applicants are only visible on the Payout Planner if they have at least 1 visible cover

*Given*: An application with covers
*Then*: covers are only visible on the Payout Planner if

||*application status*||*Rules*||
|not Decision|The cover has a coverType of life or aci|
|Decision|The cover has a coverType of life or aci
and the cover decision must be either standard or non-standard|

*and*: ci covers never show



*Given*: A visible Payout Planner section
*Then*: The heading is

{panel:bgColor=#deebff}
Payout Planner
{panel}

*and*: The text shown is

{panel:bgColor=#eae6ff}
*Nominate death beneficiaries*
Giving us beneficiary details means we can pay death benefits quickly after a claim. Your client’s *cover summary* will include the beneficiaries they nominate today. They can update them anytime by calling us. You won't be able to choose Payout Planner when the policy is in force. You can set up a trust, which overrides Payout Planner, at any time in the future.
{panel}



*Given*: An applicant visible in the Payout Planner section
*Then*: the applicant full name is shown
*and*: A payout planner control per visible cover is shown


!Screenshot 2022-01-16 at 11.22.20.png|width=1158,height=309!

*and*: the Use Payout Planner yes/no can be set
*and*: the cover name, cover type, cover amount 
*and*: term is shown as XX years
*and*: toAge is shown as Until age XX

*Given*: A payout planner control
*When*: The cover is aci
*Then*: On click helptext is shown after the cover name

{panel:bgColor=#eae6ff}
You can’t nominate beneficiaries for the critical illness element of any cover.
{panel}

!Screenshot 2022-01-16 at 11.23.39.png|width=1163,height=126!

*Given*: A payout planner control
*When*: The use payout planner question is set to No on an aci cover
*Then*: The following text is shown


{panel:bgColor=#eae6ff}
By selecting no, I confirm my client doesn’t want to use Payout Planner for the life element of Combined Life and Critical Illness Protection. They understand without Payout Planner, a trust or any other legal alternative, any life payout may be delayed while waiting for probate to be granted.
{panel}

!Screenshot 2022-01-16 at 11.25.18.png|width=1123,height=186!

*Given*: A payout planner control
*When*: The use payout planner question is set to No on a life cover
*Then*: The following text is shown


{panel:bgColor=#eae6ff}
By selecting no, I confirm my client doesn’t want to use Payout Planner for Life Protection. They understand without Payout Planner, a trust or any other legal alternative, any life payout may be delayed while waiting for probate to be granted.
{panel}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-764,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwie7:zv,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,09/Dec/21 10:33 AM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Persist beneficiaries against a cover,NBJ-960,41665,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,09/Dec/21 10:32 AM,14/Dec/21 6:21 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-764,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00zz3:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,09/Dec/21 10:32 AM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Applicant status - Questions Outstanding,NBJ-959,41660,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,09/Dec/21 10:15 AM,02/Feb/22 9:35 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*As a* manual underwriting platform
*So that* I know the current underwriting status of an applicant
*I want* to know when the current applicant status is “Questions Outstanding”

{panel:bgColor=#deebff}
This story is intended to set the underwriting status of an applicant to Questions Outstanding when the isUnderwritingDeclarationMade is false on the risk decision (URE activeEnquiry isOpen).  Further stories will expand the functionality and vary the status.
{panel}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"{panel:bgColor=#deebff}
Note this is required for Salesforce event, and should be included in application common data model
{panel}

*Given* request for application dto 
*When* processing
*Then* request current applicant risk decision

{code:json}GET /api/v1/decision/{applicantId}{code}

*Given* applicant risk decision
*And* isUnderwritingDeclarationMade on the risk decision is set to false (URE session isOpen=true)
*When* responding with applicant.status
*Then* set applicant.status on response to “Questions Outstanding”",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-125,,,,,,,,,,,,,,,,None,,"{color:#ff5630}*Kick off with Jim*{color}

[https://gghltd.atlassian.net/wiki/spaces/NP/pages/2809757737/application+entity|https://gghltd.atlassian.net/wiki/spaces/NP/pages/2809757737/application+entity|smart-link] 

_Application entity always included in the body of a Salesforce event_

{noformat}""application"": {
  ...
  ""applicants"": [
    {
      ...
      ""status"": ""Questions Outstanding"",
      ...
    },
    {...}
  ]
}{noformat}

_riskDecision response_

{noformat}{
  ""data"": {
    ...
    ""isUnderwritingDeclarationMade"": true,
    ...
  }
}
{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zi0t,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,Guardian Sprint 9,,,,,09/Dec/21 10:15 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Invalid values being used for gender,NBJ-958,41651,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,mike hill,5d94816eefc9290c2e625a11,mike hill,5d94816eefc9290c2e625a11,09/Dec/21 9:28 AM,01/Feb/22 2:40 PM,02/Feb/22 6:31 PM,01/Feb/22 2:40 PM,,Foundation Release,,,,,,,Carl.Randall,Chris.Hibbert,James Bartlett,mike hill,,,,61ea78899d17400069fc9cbd,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,5d94816eefc9290c2e625a11,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,26/Jan/22 2:40 PM;ug:21e817fa-f877-4647-8cec-84d4a386b2de;image-20220126-141822.png;https://gghltd.atlassian.net/secure/attachment/25401/image-20220126-141822.png,26/Jan/22 2:40 PM;ug:21e817fa-f877-4647-8cec-84d4a386b2de;image-20220126-144030.png;https://gghltd.atlassian.net/secure/attachment/25400/image-20220126-144030.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: When viewing the application JSON or quote JSON, it can be seen that the gender field has value “Male”, the valid values (refer to: [https://gghltd.atlassian.net/wiki/spaces/NP/pages/2953674839/Data+Dictionary|https://gghltd.atlassian.net/wiki/spaces/NP/pages/2953674839/Data+Dictionary|smart-link] ) are “male” and “female” (and null where not defined)

Business Impact: Minimal

Steps to Reproduce: Any invocation of the application JSON or quote JSON

Expected Results: The gender field should use lower case values as stated in: [https://gghltd.atlassian.net/wiki/spaces/NP/pages/2953674839/Data+Dictionary|https://gghltd.atlassian.net/wiki/spaces/NP/pages/2953674839/Data+Dictionary|smart-link] 

Actual Result: ""gender"": ""Male""

Version: application v1.2, quote v1.1",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,QA / UWT,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:ziu,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,Guardian Sprint 9,,,,,09/Dec/21 9:28 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-11 09:41:25.985,11/Jan/22 9:41 AM;60cc71a1d5dde800713a2124;[~accountid:5d94816eefc9290c2e625a11]  - another one where Jira has done a number on your description.,11/Jan/22 1:17 PM;5d94816eefc9290c2e625a11;Thanks [~accountid:60cc71a1d5dde800713a2124] - updated now. Please can you review?,11/Jan/22 1:45 PM;60cc71a1d5dde800713a2124;👍 ,"26/Jan/22 2:40 PM;61ea78899d17400069fc9cbd;Application Service:

!image-20220126-144030.png|width=504,height=330!



Quote Service:

!image-20220126-141822.png|width=565,height=272!",01/Feb/22 2:40 PM;6139c49114e8340071fcda09;API test updated,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Add initial review screen following set-up page,NBJ-957,41646,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,08/Dec/21 6:56 PM,14/Jan/22 11:02 AM,02/Feb/22 6:31 PM,14/Jan/22 11:01 AM,,Foundation Release,,,,,"*As an* adviser
*So that* I aware of exactly what I am activating
*I want* a final review screen before I hit go liv

!Screenshot 2022-01-11 at 10.52.49.png|width=788,height=1566!",,Chris.Hibbert,Justin.Smith,Mike,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,11/Jan/22 10:53 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2022-01-11 at 10.52.49.png;https://gghltd.atlassian.net/secure/attachment/24922/Screenshot+2022-01-11+at+10.52.49.png,13/Jan/22 10:04 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220113-100415.png;https://gghltd.atlassian.net/secure/attachment/25004/image-20220113-100415.png,13/Jan/22 10:25 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220113-102535.png;https://gghltd.atlassian.net/secure/attachment/25007/image-20220113-102535.png,13/Jan/22 9:15 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220113-211505.png;https://gghltd.atlassian.net/secure/attachment/25051/image-20220113-211505.png,,,,,,,,,"AC1

*Given*: An application
*When*: Hitting proceed on the set-up screen
*Then*: A final review screen is shown


AC2
*Given*: The final review screen
*Then*: A summary panel with wording “*Please review your covers before submitting.*  If you would like to change any of these details, please navigate to the relevant tab.” is shown
*and*: The application reference, commission and valid until date is shown
*and*: The total application premium is shown
*and*: The policy start date is shown (NBJ-758)

AC3

*Given*: The final review screen
*When*: Displaying lives and their covers
*Then*: any lives with only Decline/Postpone decisions are not displayed


AC4
*Given*: The final review screen
*When*: Displaying covers
*Then*: any covers with Decline/Postpone decisions are not displayed


AC5

*Given*: The final review screen
*Then*: Bank and payment details are displayed
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-766,,,,,,,,,,,,,,,,None,,"* Can only get to this screen by hitting “proceed” from the set-up screen so will need to add button (we will set the disabled/enabled state later)
* Bank and payment details are hardcoded for now as they arent collected",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i015rj:i,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,08/Dec/21 6:56 PM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-11 08:35:13.106,04/Jan/22 2:08 PM;60cc71a1d5dde800713a2124;[~accountid:610c00d94e8d8d0069a20d6c]  - one of the sprint goals.  I think in planning we thought blocked around how the underwriting decisions will be persisted.,"11/Jan/22 8:15 AM;60cc71a1d5dde800713a2124;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5]  - this can be done now (and is a priority), following [https://gghltd.atlassian.net/browse/NBJ-1067|https://gghltd.atlassian.net/browse/NBJ-1067|smart-link] which was added to provide the required data.","11/Jan/22 8:35 AM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;[~accountid:60cc71a1d5dde800713a2124] no problem, I’ll get on it this morning","13/Jan/22 10:04 AM;618bdfc5fba4d0006ad4853e;AC1 is good

AC2 - the text looks a bit different.  I see on the page - 

_Final review_

_Please review all the details below before putting this policy live. If you need to change any of these details, please go back to the relevant tab._

but AC2 mentions - A summary panel with wording “*Please review your covers before submitting.* If you would like to change any of these details, please navigate to the relevant tab.” is shown

[~accountid:60cc71a1d5dde800713a2124] should the wording say - _Please review all the details below before putting this policy live._ 

!image-20220113-100415.png|width=1595,height=210!","13/Jan/22 10:10 AM;60cc71a1d5dde800713a2124;[~accountid:618bdfc5fba4d0006ad4853e]  - My fault, the screen design updated after the ticket was written.  The wording you have in your screenshot is correct, not the wording in the a/c","13/Jan/22 10:25 AM;618bdfc5fba4d0006ad4853e;Thanks [~accountid:60cc71a1d5dde800713a2124] 

Unfortunately the decline covers are being shown on the page - 

!image-20220113-102535.png|width=1812,height=1202!

Sending this ticket back.",13/Jan/22 11:36 AM;618bdfc5fba4d0006ad4853e;As discussed with [~accountid:5dfb48a2d501d70cb60120b4] going to take this back as [~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] has been fixing the issue I raised this morning.,13/Jan/22 11:39 AM;618bdfc5fba4d0006ad4853e;As discussed with [~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] he is merging another ticket in to resolve this.  I’m not going to test until he gives me the green light.,"13/Jan/22 9:15 PM;618bdfc5fba4d0006ad4853e;I’m not sure if [~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5]s change are in. As I can still see declines on the initial review screen

!image-20220113-211505.png|width=1534,height=946!","14/Jan/22 11:00 AM;618bdfc5fba4d0006ad4853e;# Decline not shown, Standard terms is
# Decline not shown, Non-Standard terms is
# Decline not shown, Underwriting (evidence and refer) is
# Postpone not shown, Standard terms is
# 2 applicants - Applicant 1 - Decline not shown, Standard is, Applicant 2 - Decline not shown, Standard is

Happy to close this.  I do want to update the automation tests on this as quite a few permutations to check manually.",,,,,,,,,,,,,,,,,,,,,,Done
Align quote data with the Common Data Model,NBJ-956,41641,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,mike hill,5d94816eefc9290c2e625a11,mike hill,5d94816eefc9290c2e625a11,08/Dec/21 4:12 PM,01/Feb/22 3:57 PM,02/Feb/22 6:31 PM,01/Feb/22 2:32 PM,,Foundation Release,,CDM_Schema,Data,Sprint_7,"*As an* API Consumer
*I want* to read application data in the shape and format that is defined in the Common Data Model
*So that* there is consistency between the documentation and the implementation

h2. Acceptance Criteria

*Scenario:* correct the shape of the data
*Given* an application with at least 1 applicant
*When* generating a quote via {{POST api/v1/actions/TriggerQuote/{{applicationId}}}}
*Then* the property names have changed in line with the following:

||*Type*||*Property change*||*Existing value*||*New value*||
|quote|(+){color:#36b37e} add{color}|n/a|“schema”: \{
  “version“: “1.1”,
  “type”: “quote“
}|
|quoteCover|:note:{color:#00b8d9} {color}{color:#6554c0}rename or {color}(+) add|“childCovers”|""riders""
This is to align with the application model which has introduced riders|",,Antony.Gorman,mike hill,,,,,,6149b13472728e006f9441d6,5d94816eefc9290c2e625a11,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zjzzzzzx,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,Guardian Sprint 9,,,,,08/Dec/21 4:12 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-28 14:01:51.451,28/Jan/22 2:01 PM;6149b13472728e006f9441d6;riders change is already in - am actioning the addition of schema to the quote service and application service to flow through the action as requested.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Update to use latest css from the 10/12 Sketch file,NBJ-955,41640,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,08/Dec/21 4:12 PM,15/Dec/21 5:10 PM,02/Feb/22 6:31 PM,15/Dec/21 5:10 PM,,Foundation Release,,,,,"*As an* adviser
*So that* I can clearly read the screens
*I want* the site to use the latest designs",,Andy Green,Chris.Hibbert,,,,,,6061ac5d00b79f0070aa4ad3,60cc71a1d5dde800713a2124,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given:* An application
*Then:* The css used comes from the latest Sketch file",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,* Oli sent the latest Sketch files to Max/Mike on 10/12,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwik1:m,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,08/Dec/21 4:12 PM,,1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,09/Dec/21 12:09 AM;60cc71a1d5dde800713a2124;We should now be a very dark grey….\!,"10/Dec/21 3:27 PM;60cc71a1d5dde800713a2124;As an update, requested latest designed files from Paul Wilson.",11/Dec/21 12:11 PM;60cc71a1d5dde800713a2124;[~accountid:6139c4f3e2a0d60069cf8994]  - updated the description to reflect its wider than just a font colour.  Let me know if you dont have the Sketch file.,"15/Dec/21 5:10 PM;60cc71a1d5dde800713a2124;It certainly looks darker\!

Nothing obviously missing from the final designs.",,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
"If a product decision is made non-standard by TPD, the reasons list is not made up from the TPD reasons",NBJ-954,41638,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,08/Dec/21 3:52 PM,14/Jan/22 10:52 AM,02/Feb/22 6:31 PM,14/Jan/22 10:51 AM,,,,,,,,,James Bartlett,Jim Houghton,,,,,,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Jan/22 2:00 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;Ci_EXCLUSION_Tpd_Exclusion.json;https://gghltd.atlassian.net/secure/attachment/25039/Ci_EXCLUSION_Tpd_Exclusion.json,14/Jan/22 10:52 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/25071/LivingDoc.html,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* If a product decision is made non-standard by TPD, the reasons list is not changed to be made up from the TPD reasons. It is still the reasons list for the standard decision on the main risks (i.e. CI and Life).

*Business Impact:* The reasons for the change of decision will be meaningless to the customer

*Steps to Reproduce:* Create an application and add a single applicant. Add a CI or ACI product. Update the underwriting so that CI (and Life for ACI) are standard but TPD has an exclusion/is declined. Request a product decision for the applicant.

*Expected Results:* The top-level reasons list for the product only contains the reasons for the TPD decision.

*Actual Result:* The top-level reasons list for the product contains the reasons for the standard decision on CI/Life

*Version:* unknown

NB - reasons for STANDARD decisions are not required for any decision (risk, product, quote etc.). ",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00zpn:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,08/Dec/21 3:52 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-08 16:10:48.797,08/Dec/21 4:10 PM;60cc71a22bd21400692fd2af;Reasons for STANDARD decisions should be removed from risk and product.,"13/Jan/22 1:59 PM;6139c49114e8340071fcda09;[~accountid:6149b13472728e006f9441d6]  if the decision is an exclusion for both CI and TPD, the reasons list now only contains the reason for TPD.



In this instance it should contain the reasons for both CI and TPD. I’ll attach an example underwriting payload for this scenario.



Also see application G000117190 and applicant ID 2b586f38-4261-4f01-a604-c3326868baf4 in UWT.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Update order of sum assured and term on decision screen boxes,NBJ-952,41621,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,08/Dec/21 12:36 PM,16/Dec/21 9:41 AM,02/Feb/22 6:31 PM,16/Dec/21 9:41 AM,,Foundation Release,,,,,"*As an* adviser
*So that* I am not confused about what I am buying
*I want* the most important details at the start of the cover box




!Screenshot 2021-12-08 at 14.33.31.png|width=1246,height=907!",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,08/Dec/21 2:33 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-08 at 14.33.31.png;https://gghltd.atlassian.net/secure/attachment/24160/Screenshot+2021-12-08+at+14.33.31.png,16/Dec/21 9:40 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-16 at 09.39.33.png;https://gghltd.atlassian.net/secure/attachment/24403/Screenshot+2021-12-16+at+09.39.33.png,,,,,,,,,,,"*Given*: An application with covers
*When*: On the decision screen
*Then*: For the cover summary boxes, the cover amount is listed before the term (see screenshot)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-122,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i014gt:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,08/Dec/21 12:36 PM,,1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Dec/21 9:40 AM;60cc71a1d5dde800713a2124;!Screenshot 2021-12-16 at 09.39.33.png|width=1267,height=694!

Now the correct way around\!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Remove add cover buttons from decision screen,NBJ-951,41620,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,08/Dec/21 12:35 PM,15/Dec/21 5:36 PM,02/Feb/22 6:31 PM,15/Dec/21 5:36 PM,,Foundation Release,,,,,"*As an* adviser
*So that* I am not confused about navigation
*I want* the add cover buttons removed from the decision screen


",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15/Dec/21 5:36 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-15 at 17.35.50.png;https://gghltd.atlassian.net/secure/attachment/24396/Screenshot+2021-12-15+at+17.35.50.png,,,,,,,,,,,,"*Given:* An application
*When*: On the decision screen
*Then:* No “add cover” buttons are shown",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-122,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i014gr:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,08/Dec/21 12:35 PM,,1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Dec/21 5:36 PM;60cc71a1d5dde800713a2124;Buttons be gone\!

!Screenshot 2021-12-15 at 17.35.50.png|width=1382,height=1303!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Remove remaining edit client details links,NBJ-950,41619,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,08/Dec/21 12:35 PM,14/Dec/21 7:19 PM,02/Feb/22 6:31 PM,14/Dec/21 7:19 PM,,Foundation Release,,,,,"*As an* adviser
*So that* I am not confused about navigation
*I want* the many edit client links removed


",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,08/Dec/21 2:32 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-08 at 14.31.42.png;https://gghltd.atlassian.net/secure/attachment/24158/Screenshot+2021-12-08+at+14.31.42.png,08/Dec/21 2:32 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-08 at 14.32.09.png;https://gghltd.atlassian.net/secure/attachment/24159/Screenshot+2021-12-08+at+14.32.09.png,,,,,,,,,,,"*Given*: An application
*When*: On the contact details screen
*Then*: The edit client profile links are removed


!Screenshot 2021-12-08 at 14.31.42.png|width=1391,height=198!



*Given*: An application
*When*: On the decision screen
*Then*: The edit client profile links are removed

!Screenshot 2021-12-08 at 14.32.09.png|width=1375,height=519!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-122,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i013uj:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,08/Dec/21 12:35 PM,,1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,14/Dec/21 7:19 PM;60cc71a1d5dde800713a2124;Buttons be gone.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Add Childrens explanatory text on quote and decision screen,NBJ-949,41618,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,08/Dec/21 12:34 PM,19/Jan/22 4:27 PM,02/Feb/22 6:31 PM,19/Jan/22 4:27 PM,,Foundation Release,,,,,"*As an* adviser
*So that* I understand when the childrens ci expires
*I want* some explanatory text




!Screenshot 2021-12-08 at 12.41.27.png|width=1171,height=186!",,Chris.Hibbert,Justin.Smith,Max Silva,veronika.cole,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,6139c4f3e2a0d60069cf8994,5dfb48a2d501d70cb60120b4,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,08/Dec/21 1:10 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-08 at 12.41.27.png;https://gghltd.atlassian.net/secure/attachment/24153/Screenshot+2021-12-08+at+12.41.27.png,17/Jan/22 4:02 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220117-160037.png;https://gghltd.atlassian.net/secure/attachment/25137/image-20220117-160037.png,17/Jan/22 4:02 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220117-160111.png;https://gghltd.atlassian.net/secure/attachment/25138/image-20220117-160111.png,,,,,,,,,,"*Given*: An application
*When*: Adding a Children’s Critical Illness Cover
*Then*: The text “Children will stop being covered when they reach their 23rd birthday.” is shown after the cover amount box.

*Given*: An application
*When*: Displaying a Children’s Critical Illness Cover on the decision screen
*Then*: The text “Children will stop being covered when they reach their 23rd birthday.” is shown after the cover amount.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwik1:1jv,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,Guardian Sprint 7,Guardian Sprint 8,,,,08/Dec/21 12:34 PM,,1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-05 10:29:15.022,"15/Dec/21 6:37 PM;60cc71a1d5dde800713a2124;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5]  - gah\!  I made a typo in the text.

It should be “This cover will continue until the youngest *child* reaches 23 years of age.”","19/Dec/21 2:42 PM;60cc71a1d5dde800713a2124;Nope, not updated.","20/Dec/21 12:59 PM;60cc71a1d5dde800713a2124;Note: New text from the business\!

Children will stop being covered when they reach their 23rd birthday.",05/Jan/22 10:29 AM;6139c4f3e2a0d60069cf8994;[~accountid:60cc71a1d5dde800713a2124] - Blocked by the Back-end,14/Jan/22 10:36 AM;60cc71a1d5dde800713a2124;No longer blocked,"17/Jan/22 4:02 PM;618bdfc5fba4d0006ad4853e;This text is fine on quote and decision tabs.  However, there is no data-testid for the text or the other elements in the cover

!image-20220117-160037.png|width=1912,height=891!

!image-20220117-160111.png|width=1907,height=989!

If we could have those I can verify the text and other elements in the cover.  Thanks",19/Jan/22 9:59 AM;5dfb48a2d501d70cb60120b4;Assigned back to Justin to finish off - check if testid’s exist.,19/Jan/22 4:27 PM;618bdfc5fba4d0006ad4853e;This is all good.  Automation tests updated.,,,,,,,,,,,,,,,,,,,,,,,,Done
Change Cover Amount text on quote and decision screens,NBJ-948,41617,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,08/Dec/21 12:33 PM,14/Dec/21 6:15 PM,02/Feb/22 6:31 PM,14/Dec/21 6:15 PM,,Foundation Release,,,,,"*As an* adviser
*So that* I am not confused about how much cover I have requested
*I want* the name of the cover amount field to reflect that its a cover amount or monthly benefit


Quote Screen

!Screenshot 2021-12-09 at 08.58.46.png|width=1172,height=289!

Decision Screen

!Screenshot 2021-12-09 at 08.59.15.png|width=1169,height=259!",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,09/Dec/21 8:59 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-09 at 08.58.46.png;https://gghltd.atlassian.net/secure/attachment/24173/Screenshot+2021-12-09+at+08.58.46.png,09/Dec/21 8:59 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-09 at 08.59.15.png;https://gghltd.atlassian.net/secure/attachment/24174/Screenshot+2021-12-09+at+08.59.15.png,14/Dec/21 6:14 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;Screenshot 2021-12-14 at 18.11.01.png;https://gghltd.atlassian.net/secure/attachment/24358/Screenshot+2021-12-14+at+18.11.01.png,14/Dec/21 6:14 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;Screenshot 2021-12-14 at 18.11.09.png;https://gghltd.atlassian.net/secure/attachment/24359/Screenshot+2021-12-14+at+18.11.09.png,14/Dec/21 6:14 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;Screenshot 2021-12-14 at 18.14.22.png;https://gghltd.atlassian.net/secure/attachment/24356/Screenshot+2021-12-14+at+18.14.22.png,14/Dec/21 6:14 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;Screenshot 2021-12-14 at 18.14.27.png;https://gghltd.atlassian.net/secure/attachment/24357/Screenshot+2021-12-14+at+18.14.27.png,,,,,,,"*Given*: An application with Covers
*When*: Displaying the cover on the quote or decision screen
*Then*: the term is labelled “Term (years)”
*and*: the toAge is labelled “Until (age)”

*Given*: An application with Covers
*When*: Displaying the cover on the quote or decision screen
*and*: the cover is not a coverType of Family
*Then*: The sum assured is labelled “Amount of cover”

*Given*: An application with Covers
*When*: Displaying the cover on the quote or decision screen
*and*: the cover is a coverType of Family
*Then*: The sum assured is labelled “Monthly benefit amount”


",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i013ul:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,08/Dec/21 12:33 PM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Inherit CCIC values from parent cover,NBJ-947,41612,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,08/Dec/21 10:59 AM,25/Jan/22 1:52 PM,02/Feb/22 6:31 PM,06/Jan/22 1:23 PM,,Foundation Release,,CDM_Data,Sprint_7,,"*As an* API Consumer
*I want* to see all the properties of my CCIC cover populated
*So that* I can have a chance of triggering a quote",,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,NBJ-1049,NBJ-1198,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Scenario:* copy values from the parent cover to the ccic cover
*Given an* application containing

* 1 applicant
* 1 ☠️ {color:#6554c0}*life cover*{color}
* no 🧒 {color:#ff5630}*ccic cover*{color}

*When* adding a 🧒 {color:#ff5630}*ccic cover*{color} to the applicant
*Then* the 🧒 {color:#ff5630}*ccic cover*{color} is attached to the ☠️ {color:#6554c0}*life cover*{color}
*And* the following properties are copied from the ☠️ {color:#6554c0}*life cover*{color} and shown on the 🧒 {color:#ff5630}*ccic cover*{color}:

* coverType
* toAge
* Term

*Given* any application containing a CCIC cover
*When* delete a cover or add a cover
*And* a CCIC cover moves to a different parent cover
*Then* update the following properties copying them from the parent cover and shown on the 🧒 {color:#ff5630}*ccic cover*{color}:

* coverType
* toAge
* Term",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwifn:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,08/Dec/21 10:59 AM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Minor spacing issue with commission in summary bar,NBJ-946,41611,41420,Story bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Low,Done,Mike,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,08/Dec/21 10:54 AM,08/Dec/21 1:21 PM,02/Feb/22 6:31 PM,08/Dec/21 1:21 PM,,,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,08/Dec/21 10:55 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-08 at 10.54.51.png;https://gghltd.atlassian.net/secure/attachment/24148/Screenshot+2021-12-08+at+10.54.51.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"The commission total in the summary is missing a space between the colon and the £ sign

!Screenshot 2021-12-08 at 10.54.51.png|width=1248,height=178!",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00znb:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,08/Dec/21 10:54 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,41420,Update commission in summary bar to reflect total commission,Done
Gate UWT > SIT releases,NBJ-945,41608,,Task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,mark.thurston@venture1consulting.com,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,08/Dec/21 10:39 AM,13/Dec/21 9:27 AM,02/Feb/22 6:31 PM,13/Dec/21 9:27 AM,,,,,,,"We need to ensure that releases to SIT are controlled by the Head of Testing for the immediate future,",,Gareth Hailes,mark.thurston@venture1consulting.com,,,,,,5ed8c4bc4ec4270ba3725b85,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"* Implement a control/gateway for approval to release code to SIT
* Train approver in mechanism for release management",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00yct:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,08/Dec/21 10:39 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-10 09:49:51.564,10/Dec/21 9:49 AM;557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96;Blocker done. First part of acceptance criteria done. Meeting with Sandra (part 2 of acceptance) booked for 2pm today.,"13/Dec/21 9:12 AM;557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96;Meeting with Sandra done.

Question about ;linking to Salesforce.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Update summary bar to show Total text and £0.00 where no valid quote + a month wording on all prices,NBJ-944,41607,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,08/Dec/21 10:24 AM,13/Jan/22 10:51 AM,02/Feb/22 6:31 PM,13/Jan/22 10:51 AM,,Foundation Release,,,,,"*As an* adviser
*So that* I know the total premium
*I want* this to be correctly labelled



!Screenshot 2021-12-20 at 10.33.27.png|width=1294,height=694!",,Chris.Hibbert,Justin.Smith,,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,09/Dec/21 6:29 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-09 at 18.26.49.png;https://gghltd.atlassian.net/secure/attachment/24218/Screenshot+2021-12-09+at+18.26.49.png,20/Dec/21 10:34 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-20 at 10.33.27.png;https://gghltd.atlassian.net/secure/attachment/24459/Screenshot+2021-12-20+at+10.33.27.png,13/Jan/22 10:47 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220113-103635.png;https://gghltd.atlassian.net/secure/attachment/25013/image-20220113-103635.png,13/Jan/22 10:47 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220113-103740.png;https://gghltd.atlassian.net/secure/attachment/25012/image-20220113-103740.png,13/Jan/22 10:47 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220113-103941.png;https://gghltd.atlassian.net/secure/attachment/25009/image-20220113-103941.png,13/Jan/22 10:47 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220113-104236.png;https://gghltd.atlassian.net/secure/attachment/25011/image-20220113-104236.png,13/Jan/22 10:47 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220113-104410.png;https://gghltd.atlassian.net/secure/attachment/25010/image-20220113-104410.png,13/Jan/22 10:47 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220113-104648.png;https://gghltd.atlassian.net/secure/attachment/25008/image-20220113-104648.png,,,,,"*Given*: An application
*When*: Showing the summary bar
*Then*: the total has the wording “Total:” (currently we show Quote on quote and Premium on decision)

*Given*: An application
*When*: There is no valid quote on the application
*Then*: The total amount shows as £0.00 in grey

!Screenshot 2021-12-09 at 18.26.49.png|width=155,height=72!

*Given*: An application with a valid quote
*When*: Showing the summary bar
*Then*: “a month” is shown underneath the premium (right aligned) 

*Given*: An application with a valid quote
*When*: Showing the prices on the life tabs on the quote screen
*Then*: “a month” is shown underneath the premium (right aligned) 

*Given*: An application with a valid quote
*When*: Showing the prices on the per life box on the decision screen
*Then*: “a month” is shown underneath the premium (right aligned) ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i015uj:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,08/Dec/21 10:24 AM,,3.0,,,,,,,,,,,,,,,,,,* Includes automating the front end.,,,,,,,,,,,,,,,2022-01-13 10:47:26.101,"13/Jan/22 10:47 AM;618bdfc5fba4d0006ad4853e;AC1 is good.

AC2 zero is set initially to grey but changes to black with a decline decision.  [~accountid:60cc71a1d5dde800713a2124] is this oK?

Initiallly

!image-20220113-103740.png|width=1861,height=944!



Decline

!image-20220113-103635.png|width=1829,height=1077!

AC3 Is good

!image-20220113-103941.png|width=1085,height=167!

AC4 is good

!image-20220113-104236.png|width=1179,height=589!

AC5 is good

!image-20220113-104410.png|width=1677,height=807!

Also, I noticed on a decline decision we get a zero value against the client name.  [~accountid:60cc71a1d5dde800713a2124]  do you know about this?

!image-20220113-104648.png|width=1152,height=1040!

Otherwise all good.","13/Jan/22 10:50 AM;60cc71a1d5dde800713a2124;[~accountid:618bdfc5fba4d0006ad4853e]  - I am comfortable with AC2.

On the 0 for a declined life can you raise a bug in the backlog?",13/Jan/22 10:51 AM;618bdfc5fba4d0006ad4853e;Thanks [~accountid:60cc71a1d5dde800713a2124] I will raise a bug.  Marking this as closed.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Make summary buttons smaller than equivalent button at bottom of screen,NBJ-943,41606,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,08/Dec/21 10:23 AM,17/Dec/21 4:28 PM,02/Feb/22 6:31 PM,17/Dec/21 4:28 PM,,Foundation Release,,,,,"*As an* adviser
*So that* I am not confused about navigation
*I want* the nav buttons in the summary bar to be smaller…

!Screenshot 2021-12-09 at 22.44.50.png|width=1480,height=1482!",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,09/Dec/21 10:45 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-09 at 22.44.50.png;https://gghltd.atlassian.net/secure/attachment/24229/Screenshot+2021-12-09+at+22.44.50.png,17/Dec/21 4:28 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-17 at 16.28.29.png;https://gghltd.atlassian.net/secure/attachment/24455/Screenshot+2021-12-17+at+16.28.29.png,,,,,,,,,,,"*Given*: An application
*When*: I have an action button visible in the summary bar
*Then*: This button is smaller than the button at the bottom of the screen (see designs)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwik1:k,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,08/Dec/21 10:23 AM,,1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Dec/21 4:28 PM;60cc71a1d5dde800713a2124;Buttons be smaller

!Screenshot 2021-12-17 at 16.28.29.png|width=1582,height=928!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Add thousand separator to cover amounts on quote and decision screen,NBJ-942,41604,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,08/Dec/21 10:22 AM,05/Jan/22 3:31 PM,02/Feb/22 6:31 PM,05/Jan/22 3:31 PM,,Foundation Release,,,,,"*As an* adviser
*So that* I correctly enter the right cover amount
*I want* thousand separators added as I enter amounts on the quote screen

!Screenshot 2021-12-09 at 08.59.15.png|width=1169,height=259!

!Screenshot 2021-12-09 at 08.58.46.png|width=1172,height=289!",,Chris.Hibbert,Justin.Smith,,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,09/Dec/21 9:52 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-09 at 08.58.46.png;https://gghltd.atlassian.net/secure/attachment/24176/Screenshot+2021-12-09+at+08.58.46.png,09/Dec/21 9:38 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-09 at 08.59.15.png;https://gghltd.atlassian.net/secure/attachment/24175/Screenshot+2021-12-09+at+08.59.15.png,05/Jan/22 3:31 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220105-152400.png;https://gghltd.atlassian.net/secure/attachment/24799/image-20220105-152400.png,,,,,,,,,,"*Given*: An application
*When*: entering your amount of cover on the quote screen
*Then*: Thousand separators are added as you type
*and*: The number persisted does not include the thousand separator

*Given*: An application with covers
*When*: Displaying covers on the results screen
*Then*: Thousand separators are added to the displayed number",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwik1:1l,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,Guardian Sprint 7,,,,,08/Dec/21 10:22 AM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-05 15:31:23.388,"05/Jan/22 3:31 PM;618bdfc5fba4d0006ad4853e;The 1st AC is fine and I have automated this.

*Given*: An application
*When*: entering your amount of cover on the quote screen
*Then*: Thousand separators are added as you type
*and*: The number persisted does not include the thousand separator



{noformat}  @LCTest6
  Scenario: Check comma separators on sum assured for Life
  Given I have a ""MaleOverWeightNonSmoker_update"" applicant
    And I update the applicant's underwriting from ""MaleOverWeightNonSmoker_uw""
    And I have navigated to the ""quote"" tab
    When I click on Add Cover button
    And I click on the Life Protection Cover
    And I provide the cover details
      | CoverType      | SumAssured | TermLength | TermUntil | 
      | Family         | 1000       | 12         |           |
    Then the amount appears as ""1,000""
    And the cover details are set for the application
      | totalCovers | coverNo | productType | coverType | term | toAge | coverAmount |
      | 1           | 1       | life        | family    | 12   |       | 1000        | 
    When I change the cover type to ""Level"" and sum assured to ""25000""
    Then the amount appears as ""25,000""
    And the cover details are set for the application
      | totalCovers | coverNo | productType | coverType | term | toAge | coverAmount |
      | 1           | 1       | life        | level     | 12   |       | 25000       | 
    When I change the cover type to ""Level"" and sum assured to ""200000""
    Then the amount appears as ""200,000""
    And the cover details are set for the application
      | totalCovers | coverNo | productType | coverType | term | toAge | coverAmount |
      | 1           | 1       | life        | level     | 12   |       | 200000      | 
    When I change the cover type to ""Level"" and sum assured to ""2000000""
    Then the amount appears as ""2,000,000""
    And the cover details are set for the application
      | totalCovers | coverNo | productType | coverType | term | toAge | coverAmount |
      | 1           | 1       | life        | level     | 12   |       | 2000000     | {noformat}



The 2nd AC I’m getting odd results with the get decision.  I haven’t been able to see a 1,000,000 value but I have seen in 25,000 so the comma is displayed. 

!image-20220105-152400.png|width=742,height=277!

Closing this.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Add site footer,NBJ-941,41603,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,08/Dec/21 10:18 AM,16/Dec/21 3:33 PM,02/Feb/22 6:31 PM,16/Dec/21 3:33 PM,,Foundation Release,,,,,"*As an* adviser
*So that* I know lots of things about Guardian
*I want* a footer on every page



!Screenshot 2021-12-08 at 18.49.39.png|width=1563,height=400!",,Chris.Hibbert,Justin.Smith,,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,08/Dec/21 6:50 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-08 at 18.49.39.png;https://gghltd.atlassian.net/secure/attachment/24168/Screenshot+2021-12-08+at+18.49.39.png,,,,,,,,,,,,"*Given*: An application
*Then*: Every page in the application shows the site footer
*and*: clicking on the telephone link triggers a tel link if on a mobile
*and*: clicking on the email will trigger an email
*and*: linkedin goes to Guardian1821 linkedin (CH to provide link)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,LinkedIn - [https://www.linkedin.com/company/guardian-financial-services-1821/|https://www.linkedin.com/company/guardian-financial-services-1821/],,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwik1:34,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,08/Dec/21 10:18 AM,,3.0,,,,,,,,,,,,,,,,,,Note the webchat link is a later story 🙂 ,,,,,,,,,,,,,,,2021-12-16 13:34:41.865,16/Dec/21 1:34 PM;618bdfc5fba4d0006ad4853e;Manually checked this and looks good on all pages.  Opened on my mobile and click on the phone link and number was provided to call.  The email link composed an email and the linkedin went to the correct linkedin address.  I would like to automate this but there are no test-dataids. I discussed with [~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] the other day and we thought it would be good to have another story for adding these.  There are also other ids across the pages that need to be added.  [~accountid:60cc71a1d5dde800713a2124] are you ok for another web element based ticket?,16/Dec/21 2:52 PM;60cc71a1d5dde800713a2124;[~accountid:618bdfc5fba4d0006ad4853e] - feel free to raise another web element ticket for the backlog.,16/Dec/21 3:33 PM;618bdfc5fba4d0006ad4853e;This is proving tricky to automate as the xpath is different on each tab for the footer elements.  I will create an element story and update the automation tests when this is implemented.  Closing this ticket.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Initial dashboard screen,NBJ-940,41602,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,08/Dec/21 10:16 AM,25/Jan/22 5:14 PM,02/Feb/22 6:31 PM,25/Jan/22 5:14 PM,,Foundation Release,,,,,"*As an* adviser 
*So that* I can find applications or policies easily
*I want* dashboard screen available to me

!Screenshot 2021-12-20 at 14.46.55.png|width=1538,height=1534!",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,NBJ-1193,NBJ-1194,,,,,,,,,,,,20/Dec/21 2:47 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-20 at 14.46.55.png;https://gghltd.atlassian.net/secure/attachment/24484/Screenshot+2021-12-20+at+14.46.55.png,,,,,,,,,,,,"*Given*: A user
*When*: On the dashboard screen
*Then:* The panels for “In progress” can be seen (without any data)
*and*: The two “New quote” buttons are available (replacing existing Create new application)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-113,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01bsb:m,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,08/Dec/21 10:16 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Sprint 6 - Unable to proceed after the Contact details page,NBJ-939,41601,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,High,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,08/Dec/21 10:15 AM,13/Jan/22 10:58 AM,02/Feb/22 6:31 PM,13/Jan/22 10:58 AM,,,,,,,,,Chris.Hibbert,Justin.Smith,Mike,Nathan Punzalan,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,613f22fdff23ba00715469d1,,,,,,,,,,,Hidden from EXL,NBJ-810,NBJ-653,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Dec/21 1:28 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;Untitled_ Dec 15, 2021 1_24 PM.mp4;https://gghltd.atlassian.net/secure/attachment/24374/Untitled_+Dec+15%2C+2021+1_24+PM.mp4",08/Dec/21 10:13 AM;nathan.punzalan;image-2021-12-08-10-13-36-454.png;https://gghltd.atlassian.net/secure/attachment/24139/image-2021-12-08-10-13-36-454.png,14/Dec/21 11:48 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211214-114826.png;https://gghltd.atlassian.net/secure/attachment/24336/image-20211214-114826.png,15/Dec/21 10:07 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211215-100309.png;https://gghltd.atlassian.net/secure/attachment/24363/image-20211215-100309.png,15/Dec/21 10:07 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211215-100407.png;https://gghltd.atlassian.net/secure/attachment/24364/image-20211215-100407.png,15/Dec/21 5:28 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211215-172827.png;https://gghltd.atlassian.net/secure/attachment/24395/image-20211215-172827.png,17/Dec/21 10:46 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211217-104551.png;https://gghltd.atlassian.net/secure/attachment/24451/image-20211217-104551.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: 
Underwrite button is greyed out after filling in required fields; unable to proceed after the Contact details page onto the Underwriting section.

Steps to Reproduce: 
# Create an application
# Fill in relevant information and proceed until the Contact Details page
# Fill in all contact details

Expected Results: 
Underwrite button is enabled when all required fields are filled in.

Actual Result: 
Underwrite button is greyed out.
 !image-2021-12-08-10-13-36-454.png|thumbnail! ",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwik1:i,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,Guardian Sprint 7,,,,,08/Dec/21 10:15 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-14 11:48:50.601,"14/Dec/21 11:48 AM;618bdfc5fba4d0006ad4853e;There is an issue here now that the I can click on the underwrite button if I do not provide an answer to the mortgage question -

!image-20211214-114826.png|width=1516,height=940!



Assigning back to [~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] ",14/Dec/21 11:51 AM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;[~accountid:60cc71a1d5dde800713a2124] [~accountid:618bdfc5fba4d0006ad4853e] I didn’t think the mortgage button was part of the ticket as it hasn’t been implemented yet?,"14/Dec/21 12:45 PM;618bdfc5fba4d0006ad4853e;It mentions in the implementation notes on [https://gghltd.atlassian.net/browse/NBJ-653|https://gghltd.atlassian.net/browse/NBJ-653|smart-link] 

h4. Mortgage Related question

* Persisted against the application
** isMortgageRelated true | false

Not sure of the context of this.",14/Dec/21 12:49 PM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;[~accountid:618bdfc5fba4d0006ad4853e] Me either as there’s no reference to how we persist the isMortgageRelated property on the application? [~accountid:610c00d94e8d8d0069a20d6c] may be able to help us? ,"14/Dec/21 2:33 PM;60cc71a1d5dde800713a2124;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] 

[https://gghltd.atlassian.net/browse/NBJ-641|https://gghltd.atlassian.net/browse/NBJ-641|smart-link] details the isMortgageRelated flag.  I dont know if its a PATCH or POST but [~accountid:610c00d94e8d8d0069a20d6c]  will \!\!",15/Dec/21 9:38 AM;60cc71a1d5dde800713a2124;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] and [~accountid:618bdfc5fba4d0006ad4853e]  - I’ve raised [https://gghltd.atlassian.net/browse/NBJ-1006|https://gghltd.atlassian.net/browse/NBJ-1006|smart-link] to cover the missing functionality.  The persisting of mortgage related isnt ready yet so needs to be ignored for this ticket.  I’ll update the AC on the contact details ticket too.,"15/Dec/21 10:07 AM;618bdfc5fba4d0006ad4853e;Thanks [~accountid:60cc71a1d5dde800713a2124] .  It looks like the underwrite button is enabled regardless of whether the address and contact details are provided.  Chris I’m a bit lost with the rules on this now.  I have asked [~accountid:610c00d94e8d8d0069a20d6c] whether the zero bounce config is off or not.  Do you want me to just check the contact details are persisted only or that the underwrite button is enabled when all the mandatory details are provided (excluding the mortgage question)

!image-20211215-100309.png|width=1801,height=995!

!image-20211215-100407.png|width=1628,height=999!","15/Dec/21 1:06 PM;60cc71a1d5dde800713a2124;[~accountid:618bdfc5fba4d0006ad4853e]  - I think the screen should be behaving correctly other than the mortgage related question being persisted.  So, the underwrite button should only be enabled when all mandatory fields are complete.  Please set this back to do if that isnt the case.","15/Dec/21 1:28 PM;618bdfc5fba4d0006ad4853e;All I needed to do was enter the first email address and the ‘Underwrite’ button goes to enabled.  If I click on it then it goes to disabled but nothing happens.  If I then enter the other contact details it stays disabled.  Attaching video clip.

!Untitled_ Dec 15, 2021 1_24 PM.mp4|width=1280,height=720!","15/Dec/21 5:28 PM;618bdfc5fba4d0006ad4853e;It is better.  So I have to add an email, confirm email and put the telephone number in.  However, I can leave the address and the ‘Underwrite’ button becomes enabled

!image-20211215-172827.png|width=1440,height=919!","17/Dec/21 10:46 AM;618bdfc5fba4d0006ad4853e;This looks a lot better.  Not actually sure what the mandatory fields are on the address. There are not stars or anything else to indicate mandatory and optional.  So I can only go on when the underwrite button is enabled or not.  So it appears to you have to provide address 1 and postcode.  This seems reasonable.  

Sorry, but one thing I’m seeing which is not right is that if I remove the email and confirm email address the ‘Underwrite’ button is still enabled.  

!image-20211217-104551.png|width=1024,height=920!",17/Dec/21 10:49 AM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;[~accountid:618bdfc5fba4d0006ad4853e] [~accountid:60cc71a1d5dde800713a2124] Is there anything that indicates required fields on the design - I don’t think there is? I agree with [~accountid:618bdfc5fba4d0006ad4853e] it’s hard to know what needs to be completed to enable the continue button.,17/Dec/21 11:15 AM;60cc71a1d5dde800713a2124;Optional fields to come in a later story.,"13/Jan/22 10:58 AM;618bdfc5fba4d0006ad4853e;Contact details is a better state now.  Closing this based on the work that went on [https://gghltd.atlassian.net/browse/NBJ-913|https://gghltd.atlassian.net/browse/NBJ-913|smart-link].

[~accountid:60cc71a1d5dde800713a2124] has mentioned and I have noticed there is an issue when the fields that get autocompleted.  I will raise a separate issue on this.

Marking this a done.",,,,,,,,,,,,,,,,,,Done
Restrict nav for applications in quote state,NBJ-938,41598,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,08/Dec/21 9:48 AM,28/Jan/22 2:52 PM,02/Feb/22 6:31 PM,27/Jan/22 9:24 PM,,Foundation Release,,,,,"*As an* adviser
*So that* I know where I can navigate when I only have a valid quote
*I want* the navigation to be restricted",,Chris.Hibbert,Justin.Smith,Mike,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-1327,,,,,,,,,,26/Jan/22 8:45 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220126-204445.png;https://gghltd.atlassian.net/secure/attachment/25429/image-20220126-204445.png,26/Jan/22 8:51 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220126-204958.png;https://gghltd.atlassian.net/secure/attachment/25430/image-20220126-204958.png,27/Jan/22 11:27 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220127-111631.png;https://gghltd.atlassian.net/secure/attachment/25444/image-20220127-111631.png,27/Jan/22 11:27 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220127-112654.png;https://gghltd.atlassian.net/secure/attachment/25443/image-20220127-112654.png,27/Jan/22 11:34 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220127-113333.png;https://gghltd.atlassian.net/secure/attachment/25445/image-20220127-113333.png,27/Jan/22 9:23 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220127-211212.png;https://gghltd.atlassian.net/secure/attachment/25477/image-20220127-211212.png,27/Jan/22 9:23 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220127-211306.png;https://gghltd.atlassian.net/secure/attachment/25478/image-20220127-211306.png,,,,,,"*Given*: An application in quote state
*and*: I have a valid quote
*Then*: Client details shows as complete (green icon), the quote tab shows as complete (green icon), the contact tab is enabled, the set-up tab is enabled and all other top nav elements are disabled:
*and*: Manually going to a URL for a page that is disabled returns the user to the client details screen

*Given*: An application in quote state
*and*: I do not have a valid quote
*Then*: Client details shows as complete (green icon), the quote tab shows as incomplete (white icon), the contact tab is enabled, the set-up tab is enabled and all other top nav elements are disabled:
*and*: Manually going to a URL for a page that is disabled returns the user to the client details screen",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01bsb:qi,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,08/Dec/21 9:48 AM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-26 20:45:26.268,"21/Jan/22 3:30 PM;60cc71a1d5dde800713a2124;(flag) Flag added

Blocked for NBJ-1234","26/Jan/22 8:45 PM;618bdfc5fba4d0006ad4853e;The application is in a quote status but the application tab is enabled

{{      ""status"": ""quote"",}}

!image-20220126-204445.png|width=1846,height=936!

Unable to offer terms - quote tab is green and not white as mentioned above.  Application tab enabled.

!image-20220126-204958.png|width=1367,height=887!",27/Jan/22 9:43 AM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;Hi [~accountid:6149b13472728e006f9441d6] - The issue if any of the applicants covers are declined/postponed then the quote page isComplete flag should be false on the response from the bff status endpoint,27/Jan/22 10:50 AM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;[~accountid:618bdfc5fba4d0006ad4853e] Ant has fixed this now.,"27/Jan/22 11:27 AM;618bdfc5fba4d0006ad4853e;Quote - Standard terms - you get green for client details and quote tabs.  However, you can get to the application tab.  I don’t believe that is correct as per AC.

*_Then_*_: Client details shows as complete (green icon), the quote tab shows as complete (green icon), the contact tab is enabled, the set-up tab is enabled and all other top nav elements are disabled:_

!image-20220127-111631.png|width=1886,height=1019!

Quote - Unable to offer terms.  Client details green, quote is orange and in progress but the AC states it should be white and incomplete

*_Then_*_: Client details shows as complete (green icon), the quote tab shows as incomplete (white icon), the contact tab is enabled, the set-up tab is enabled and all other top nav elements are disabled:_

!image-20220127-112654.png|width=1160,height=953!

!image-20220127-113333.png|width=2026,height=1069!","27/Jan/22 9:23 PM;618bdfc5fba4d0006ad4853e;This is good 

!image-20220127-211212.png|width=1603,height=963!

!image-20220127-211306.png|width=1526,height=900!",,,,,,,,,,,,,,,,,,,,,,,,,,Done
Restrict nav for applications in pre-quote state,NBJ-937,41597,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,08/Dec/21 9:48 AM,28/Jan/22 2:52 PM,02/Feb/22 6:31 PM,26/Jan/22 9:44 PM,,Foundation Release,,,,,"*As an* adviser
*So that* I know where I can navigate when I dont have a valid quote
*I want* the navigation to be restricted

* Client details (where no client) only
* Client details + Quote (where a client exists)",,Chris.Hibbert,Justin.Smith,Mike,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-1300,NBJ-1327,,,,,,,,,09/Dec/21 10:56 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-09 at 22.52.51.png;https://gghltd.atlassian.net/secure/attachment/24232/Screenshot+2021-12-09+at+22.52.51.png,09/Dec/21 10:56 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-09 at 22.54.49.png;https://gghltd.atlassian.net/secure/attachment/24231/Screenshot+2021-12-09+at+22.54.49.png,26/Jan/22 9:44 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220126-214300.png;https://gghltd.atlassian.net/secure/attachment/25431/image-20220126-214300.png,26/Jan/22 9:44 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220126-214348.png;https://gghltd.atlassian.net/secure/attachment/25432/image-20220126-214348.png,,,,,,,,,"*Given*: An application in pre-quote state
*When*: The application does not yet have a completed applicant
*Then*: Client details shows as incomplete (empty icon) and all other top nav elements are disabled:

!Screenshot 2021-12-09 at 22.52.51.png|width=1237,height=120!

*and*: Manually going to a URL for a page that is disabled returns the user to the client details screen

*Given*: An application in pre-quote state
*When*: The application does have a completed applicant/s
*Then*: Client details shows as complete (green icon), the quote tab shows as incomplete (empty icon), the contact tab is enabled, the set-up tab is enabled and all other top nav elements are disabled:


!Screenshot 2021-12-09 at 22.54.49.png|width=1265,height=119!

*and*: Manually going to a URL for a page that is disabled returns the user to the quote screen

{color:#ff5630}note: contact details should be allowed here (screenshot slightly wrong){color}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,"Needs a backend change to the TriggerQuote action:

* Current: returns a quote
* Change: return the whole application object, with its quote and decision",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01bsb:q,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,08/Dec/21 9:48 AM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-20 09:47:36.859,17/Jan/22 12:20 PM;60cc71a1d5dde800713a2124;[~accountid:60cc71a1d5dde800713a2124]  - raise a ticket to deal with part complete 2nd applicant.,"20/Jan/22 9:47 AM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;[~accountid:60cc71a1d5dde800713a2124] [~accountid:610c00d94e8d8d0069a20d6c] I think we’re going to need a BFF endpoint to get a dedicated UI application state. I can get the state from the application object but it’s not representative of the UI. 

We discussed in dev stand up that this would be the best approach as currently the F/E has to do a load of manual checks on the state to try and determine what tabs to enableldisable","21/Jan/22 3:30 PM;60cc71a1d5dde800713a2124;(flag) Flag added

Blocked for NBJ-1234","26/Jan/22 9:44 PM;618bdfc5fba4d0006ad4853e;This looks good

!image-20220126-214300.png|width=1822,height=889!

!image-20220126-214348.png|width=1870,height=886!",,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Disable term / to-age based on others answer,NBJ-936,41592,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,07/Dec/21 10:22 PM,07/Jan/22 1:42 PM,02/Feb/22 6:31 PM,07/Jan/22 1:42 PM,,Foundation Release,,,,,"*As an* adviser
*So that* I know I can only enter one of term or to-age
*I want* the other option to be disabled if I have entered values into one of them



!Screenshot 2021-12-08 at 11.00.37.png|width=382,height=97!",,Chris.Hibbert,James Bartlett,Justin.Smith,Max Silva,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,618bdfc5fba4d0006ad4853e,6139c4f3e2a0d60069cf8994,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,08/Dec/21 11:00 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-08 at 11.00.37.png;https://gghltd.atlassian.net/secure/attachment/24150/Screenshot+2021-12-08+at+11.00.37.png,,,,,,,,,,,,"*Given*: A cover being added on the quote screen
*When*: Both term and to-age are empty
*Then*: Both term and to-age are active

*Given*: A cover being added on the quote screen
*When*: term has a value entered in it
*Then*: to-age is disabled

*Given*: A cover being added on the quote screen
*When*: to-age has a value entered in it
*Then*: term is disabled
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwik1:v,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,Guardian Sprint 7,,,,,07/Dec/21 10:22 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-11 16:52:05.242,"11/Dec/21 1:26 PM;60cc71a1d5dde800713a2124;[~accountid:6139c4f3e2a0d60069cf8994] - I’ve noticed 2 problems with this:

# The field is not visibly disabled, so it still looks like you can click in it
# If you refresh the screen, the field becomes enabled and you can type away…",11/Dec/21 4:52 PM;6139c4f3e2a0d60069cf8994;[~accountid:60cc71a1d5dde800713a2124] - Yep makes sense,"14/Dec/21 6:02 PM;6139c49114e8340071fcda09;[~accountid:6139c4f3e2a0d60069cf8994] afraid there’s a slightly involved bug with 2 applicants:
 

* create an application with 2 applicants
* Add a life cover to the first applicant with a term of 10 years
* Add a  life cover to the second applicant with a to Age of (say) 55
* Now navigate back to the first applicant’s products - the term field is disabled so the user cannot change the value they just entered
* Navigate to the second applicant’s products and both the term and toAge fields are disabled
* Finally again navigate to the first applicant’s products - both the term and toAge fields are disabled",14/Dec/21 6:09 PM;6139c4f3e2a0d60069cf8994;[~accountid:6139c49114e8340071fcda09] - Ah cheers yep that is a involved bug I know why it is. Thanks,"07/Jan/22 10:46 AM;618bdfc5fba4d0006ad4853e;AC automated.

{noformat}    @CITest7
    Scenario: Check the term and to-age text boxes
    Given I have a ""MaleOverWeightNonSmoker_update"" applicant
      And I update the applicant's underwriting from ""MaleOverWeightNonSmoker_uw""
      And I have navigated to the ""quote"" tab
      When I click on Add Cover button
      And I click on the Critical Illness Protection Cover 
      Then the term and to-age are enabled
      When I provide the cover details
      | CoverType      | SumAssured | TermLength | TermUntil | 
      | Increasing     | 20000      | 12         |           |
      Then the to-age is disabled
      When I change from term to term until value ""60""
      Then the term is disabled{noformat}

Just checking out James scenario.  Will try and automate.",07/Jan/22 1:42 PM;618bdfc5fba4d0006ad4853e;Bit more work to automate the multiple applicants.  The single applicant scenario as mentioned below is done.  I’m working on the multi applicant tests in the background as this is across the board. I will mark this as done as the issue [~accountid:6139c49114e8340071fcda09] reported has been fixed.,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Remove arrow from Get Prices button,NBJ-935,41591,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,07/Dec/21 10:22 PM,11/Dec/21 1:25 PM,02/Feb/22 6:31 PM,11/Dec/21 1:25 PM,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,08/Dec/21 8:57 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-08 at 08.56.56.png;https://gghltd.atlassian.net/secure/attachment/24133/Screenshot+2021-12-08+at+08.56.56.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"The get price button has an arrow pointing to the right:

!Screenshot 2021-12-08 at 08.56.56.png|width=381,height=102!

Our styling guide is that arrows are only used when the user is moving to another screen.  As they stay on the quote screen, there shouldnt be an arrow on this button.",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwik1:x,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,07/Dec/21 10:22 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Exclusive options not working on client details page,NBJ-934,41590,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Mike,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,07/Dec/21 10:21 PM,09/Dec/21 7:22 PM,02/Feb/22 6:31 PM,09/Dec/21 7:22 PM,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"In NBJ-171 we added the ability to treat certain question answer options as exclusive with other answer options.  This functionality isnt working on the underwriting questions shown on the client details page.
To reproduce:
Add a life, non-smoker
Answer all the answer options on the follow-up smoking question (Life long non-smoker should be exclusive)",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwik2:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,07/Dec/21 10:21 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
"Stop using ""Undefined"" values in JSON ",NBJ-933,41589,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,07/Dec/21 8:20 PM,19/Jan/22 11:23 AM,02/Feb/22 6:31 PM,19/Jan/22 11:15 AM,,Foundation Release,,CDM_Data,Sprint_7,,"*As an* API Consumer
*I want* to see null values instead of “Undefined” when I haven't provided the an answer to property yet
*So that* the data values match the Common Data Model",,Antony.Gorman,Chris.Hibbert,James Bartlett,Sam Gamble,,,,6149b13472728e006f9441d6,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,610c00d94e8d8d0069a20d6c,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Scenario:* map Undefined enum value to null
*Given* an application with at least 1 applicant and at least 1 life cover
*When* I haven’t set these properties:

||*Type*||*Property name*||
|Applicant|Gender|
|Applicant|Smoking|
|Cover|ProductType|
|Cover|CoverType|

*And* retrieving the application via {{GET /api/v1/application/{{applicationId}}}}
*Then* the properties have the value of *null*",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,Implement it good,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwiiq:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,Guardian Sprint 8,,,,,07/Dec/21 8:20 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-14 11:27:22.564,14/Jan/22 11:27 AM;6149b13472728e006f9441d6;NB - PR is draft as parking until the sprint Demo has been completed.,17/Jan/22 5:05 PM;6139c49114e8340071fcda09;waiting for confirmation on behaviour with incomplete covers.,18/Jan/22 9:14 AM;6139c49114e8340071fcda09;A POST to https://\{\{applicationsUri}}/api/v1/application/\{\{applicationId}}/applicant/\{\{applicantId}}/cover with a body of \{} throws a 500. As Ant’s suggestion it would be great to handle this better.,"19/Jan/22 8:13 AM;60cc71a1d5dde800713a2124;[~accountid:6149b13472728e006f9441d6] - I think this might now be causing a problem with CCIC (Children’s CI).  Before this was deployed, CCIC could be added to an application without issue, whereas now an error response is returned
\{
""errors"": \[
\{
""errorMessage"": ""'Cover Type' must not be equal to 'Undefined'."",
""propertyName"": ""CoverType"",
""attemptedValue"": ""Undefined""
}
]
}
To reproduce:

# Add a life
# Add a life cover
# Try and add a CCIC rider



Or is this that the front end call to add CCIC needs to change to pass a null?",19/Jan/22 8:23 AM;6149b13472728e006f9441d6;[~accountid:60cc71a1d5dde800713a2124] have removed the extra validation on cover type.,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Align application data with the Common Data Model,NBJ-932,41588,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,07/Dec/21 7:58 PM,18/Jan/22 3:43 PM,02/Feb/22 6:31 PM,18/Jan/22 3:39 PM,,Foundation Release,,CDM_Schema,Data,Sprint_7,"*As an* API Consumer
*I want* to read application data in the shape and format that is defined in the Common Data Model
*So that* I can have a quiet life",,James Bartlett,Sam Gamble,,,,,,6139c49114e8340071fcda09,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,NBJ-933,,,,,,,,,,,,,18/Jan/22 3:39 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/25171/LivingDoc.html,07/Dec/21 7:56 PM;ug:25aea830-2a92-4e11-af0d-e074adc458e2;application_current.json;https://gghltd.atlassian.net/secure/attachment/24128/application_current.json,07/Dec/21 7:57 PM;ug:25aea830-2a92-4e11-af0d-e074adc458e2;application_to_be.json;https://gghltd.atlassian.net/secure/attachment/24127/application_to_be.json,,,,,,,,,,"*Scenario:* correct the shape of the data in the ApplicationService API
*Given* an application with at least 1 applicant and at least 1 life cover
*When* retrieving the application via {{GET /api/v1/application/{{applicationId}}}}
*Then* the property names have changed in line with the following:

||*Type*||*Property change*||*Existing value*||*New value*||
|application|:note: {color:#6554c0}rename{color}|“applicationId”|“id”|
|application|(+){color:#36b37e} add{color}|n/a|“schema”: \{
  “version“: “1.2”,
  “type”: “Application“
}|
|applicant|:note: {color:#6554c0}rename{color}|“applicantId”|“id”|
|applicant|(x) {color:#ff5630}delete{color}|“guardianRefWithSuffix”|n/a|
|cover|:note:{color:#00b8d9} {color}{color:#6554c0}rename{color}|“childCovers”|""riders""|
|cover|(x) {color:#ff5630}delete{color}|“guardianRefWithSuffix”|n/a|
|contactDetails|(+) add|n/a|address3|



*Scenario:* correct the shape of the data in the QuoteService API


||*Type*||*Property change*||*Existing value*||*New value*||
|quoteApplicant|:note: {color:#6554c0}rename{color}|“applicantId”|“id”|
|quoteApplicant|(x) {color:#ff5630}delete{color}|“guardianRefWithSuffix”|n/a|
|quoteCover|:note:{color:#00b8d9} {color}{color:#6554c0}rename{color}|“childCovers”|""riders""|
|quoteCover|(x) {color:#ff5630}delete{color}|“guardianRefWithSuffix”|n/a|

*Scenario:* correct the shape of the data in the ActivationService API

||*Type*||*Property change*||*Existing value*||*New value*||
|cover|:note: {color:#6554c0}rename{color}|“childCovers”|“riders”|
|quoteCover|:note: {color:#6554c0}rename{color}|“childCovers”|“riders”|

*Scenario:* correct the shape of the data in the ActionService API

||*Type*||*Property change*||*Existing value*||*New value*||
|application|:note: {color:#6554c0}rename{color}|“applicationId”|“id”|",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,"The current shape of the application data model:
 [^application_current.json] 

The shape the application data model needs to be:
 [^application_to_be.json] ",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwiip:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,Guardian Sprint 8,,,,,07/Dec/21 7:58 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-18 15:40:13.366,18/Jan/22 3:40 PM;6139c49114e8340071fcda09;attached test results have a few failures but those have been checked and are nothingto do with this ticket,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Update UI to support accessibility,NBJ-931,41587,,Epic,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,John.LeQuesne,5db187687b20d80c2a25b574,John.LeQuesne,5db187687b20d80c2a25b574,07/Dec/21 6:10 PM,02/Feb/22 4:43 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"Following sprint 5 review, this covers reviewing the colours used on the site (grey tones) and adding a high contrast / large font option",,John.LeQuesne,,,,,,,5db187687b20d80c2a25b574,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,ghx-label-9,,Update UI to support accessibility,Done,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,NBJ-148,,,,,,,,,No,,1|i00ziv:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,07/Dec/21 6:10 PM,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Add address3 to contact details,NBJ-930,41586,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,07/Dec/21 5:31 PM,14/Dec/21 1:19 PM,02/Feb/22 6:31 PM,14/Dec/21 1:19 PM,,Foundation Release,,,,,"*As an* API Consumer
*I want* to add contact details for a life through the API
*So that* I can provide the address details for the people in the application",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,NBJ-903,NBJ-885,,,,,,,,,,,,,,,,,,,,,,,,,,,,,14/Dec/21 1:19 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/24343/LivingDoc.html,,,,,,,,,,,,"*Given:* An applicant
*When:* Adding or Updating the contact details
*Then:* An address3 line can be added or updated",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,"h4. Request

{noformat}POST /api/v1/application/{{application_id}}/applicant/{{applicant_id}}/contact{noformat}

h4. JSON Payload

{code:json}{
    ""address1"": ""46 Springfield Road"",
    ""address2"": ""optional"",
    ""address3"": ""optional"", //new field
    ""city"": ""Guildford"",
    ""county"": ""Surrey"",
    ""postcode"": ""GU1 4DP"",
    ""email"": ""test@test.com"",
    ""telephone"": ""+44 01483 434234""
}{code}

h4. Response

*Successful response -* HTTP 201 Created

{noformat}{
  ""data"": {
    ""address1"": ""46 Springfield Road"",
    ""address2"": ""optional"",
    ""address3"": ""optional"",
    ""city"": ""Guildford"",
    ""county"": ""Surrey"",
    ""postcode"": ""GU1 4DP"",
    ""email"": ""test@test.com"",
    ""telephone"": ""+44 01483 434234""
  }
}{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009dzzgx,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,07/Dec/21 5:31 PM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Some OPTION_GROUP questions incorrectly showing as a dropdown list,NBJ-929,41582,40454,Story bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,07/Dec/21 3:42 PM,09/Dec/21 2:30 PM,02/Feb/22 6:31 PM,09/Dec/21 2:30 PM,,,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,07/Dec/21 3:46 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-07 at 15.44.40.png;https://gghltd.atlassian.net/secure/attachment/24121/Screenshot+2021-12-07+at+15.44.40.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Some OPTION_GROUP questions are incorrectly now showing as drop down lists rather than the correct control.

For example: [https://ggh-nbj-reactapp.azurewebsites.net/application/G000091716/application|https://ggh-nbj-reactapp.azurewebsites.net/application/G000091716/application] see the additional tab.

!Screenshot 2021-12-07 at 15.44.40.png|width=1445,height=1211!

To reproduce

# Add a life
# Add a life cover
# Answer the first question in General Health with “I’ve taken or been prescribed treatment for 4 weeks or more”
# Disclose Boil to the follow-up typeahead spellmatch
# Check the Additional tab.
# The first Yes/No should be the normal radio button control not a drop down list (its an OPTION_GROUP not an OPTION_LIST)",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00zhz:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,Guardian Sprint 6,,,,,07/Dec/21 3:42 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,40454,Add drop down question type for manual underwriting (e.g. for dress size),Done
ACI product decisions worse than non-standard are not available if there is more than one reason,NBJ-928,41579,40094,Story bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,07/Dec/21 2:45 PM,08/Dec/21 5:03 PM,02/Feb/22 6:31 PM,08/Dec/21 5:03 PM,,,,,,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,08/Dec/21 10:34 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;Aci_DECLINE_2_sources.json;https://gghltd.atlassian.net/secure/attachment/24145/Aci_DECLINE_2_sources.json,07/Dec/21 2:48 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;Aci_REFER_2_sources.json;https://gghltd.atlassian.net/secure/attachment/24119/Aci_REFER_2_sources.json,08/Dec/21 11:00 AM;ug:14c3ce24-b02d-4347-b0e1-9cbdf26197a3;https---wa-uwt-decisionservice.azurewebsites.net-api-v1-decision-7f62ef82-b38b-43bb-9fdb-1e0bedb4ac8d-product.url;https://gghltd.atlassian.net/secure/attachment/24151/https---wa-uwt-decisionservice.azurewebsites.net-api-v1-decision-7f62ef82-b38b-43bb-9fdb-1e0bedb4ac8d-product.url,08/Dec/21 7:47 AM;ug:14c3ce24-b02d-4347-b0e1-9cbdf26197a3;https---wa-uwt-decisionservice.azurewebsites.net-api-v1-decision-8f9c71dd-4117-4780-b6bf-ce01ca984792-product.url;https://gghltd.atlassian.net/secure/attachment/24132/https---wa-uwt-decisionservice.azurewebsites.net-api-v1-decision-8f9c71dd-4117-4780-b6bf-ce01ca984792-product.url,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* If an ACI product is REFER/Manual UW (for example) and more than one underwriting enquiry line made the REFER decision, the ACI product decision is not returned at all. This happens for REFER, EVIDENCE_REQUIRED, POSTPONE and DECLINE decisions.

See [https://wa-uwt-decisionservice.azurewebsites.net/api/v1/decision/8f9c71dd-4117-4780-b6bf-ce01ca984792/product|https://wa-uwt-decisionservice.azurewebsites.net/api/v1/decision/8f9c71dd-4117-4780-b6bf-ce01ca984792/product]

I will attach an example underwriting payload.



*Business Impact:* Guardian will not be able to sell Referred or Evidence ACI products at all (does not apply to CI or Life products).

*Steps to Reproduce:* Create an application with a single applicant and add an ACI product. Update the underwriting to contribute 2 refer decisions to CI.

*Expected Results:* The ACI product decision is ‘Manual UW’ with two enquiry line names in the ‘reasons’ list.

*Actual Result:* The ACI product decision is entirely missing

*Version:* unknown",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00zhb:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,Guardian Sprint 6,,,,07/Dec/21 2:45 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Dec/21 10:34 AM;6139c49114e8340071fcda09;[~accountid:6149b13472728e006f9441d6] for the scenario where CI has 2 reasons for a decline, both the ACI and CI products are actually non standard.



See [https://wa-uwt-decisionservice.azurewebsites.net/api/v1/decision/7f62ef82-b38b-43bb-9fdb-1e0bedb4ac8d/product|https://wa-uwt-decisionservice.azurewebsites.net/api/v1/decision/7f62ef82-b38b-43bb-9fdb-1e0bedb4ac8d/product]



I’ll also attach the underwriting payload I used.",08/Dec/21 5:03 PM;6139c49114e8340071fcda09;will attach test evidence to parent NBJ-604,,,,,,,,,,,,,,,,,,,,,,,,,,,,40094,DecisionService - create a Life with Critical Illness product decision,Done
Add RunID to the deployment pipeline,NBJ-927,41576,,Task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,mark.thurston@venture1consulting.com,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,mark.thurston@venture1consulting.com,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,mark.thurston@venture1consulting.com,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,07/Dec/21 1:53 PM,13/Dec/21 4:29 PM,02/Feb/22 6:31 PM,13/Dec/21 4:29 PM,,,,,,,"*Requirement*

The current deployment only selects the latest version of each artefact. The developers would like to be able to have a mechanism to select specific versions for a deployment.

In discussion with the developers, it has been agreed that it is acceptable to identify the build by it’s “Microsoft Build ID” (which is an integer) which may differ from the app-level version.",,mark.thurston@venture1consulting.com,,,,,,,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,The pipeline deploys a specific version of the code - with the version identified by its “BuildID” integer.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00ycr:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,07/Dec/21 1:53 PM,,,,,,,,,,,,,,,,,,,,Run a deployment with a non-latest artefact and confirm that the pipeline deployed the non-latest.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
"Product decisions - negative em ratings list all reasons that contributed to the relevant risk, not the specific reason for that rating",NBJ-926,41574,40094,Story bug,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,07/Dec/21 1:38 PM,07/Dec/21 5:05 PM,02/Feb/22 6:31 PM,,,,,,,,,,Chris.Hibbert,James Bartlett,,,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,07/Dec/21 1:43 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;Aci_everything_non_standard.json;https://gghltd.atlassian.net/secure/attachment/24116/Aci_everything_non_standard.json,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* If negative EM ratings are present for a risk, the product decision lists all reasons that contribute to the EM rating, not just the reason that contributed the negative rating.

See https://wa-uwt-decisionservice.azurewebsites.net/api/v1/decision/cfaf267b-be87-4083-a19c-65595095d5f9/product

In the above example for the Life em ratings that are part of the ACI product, there is (in underwriting) a single contribution of -5 from the EM_Rounding underwriting enquiry line.

The product decision shows this contribution as from the following list of underwriting enquiry lines - \[""Build"", ""EM_Rounding"", ""TEST_EL""]



*Business Impact:* unknown

*Steps to Reproduce:* Create an application with a single applicant. Add an ACI product. Set up the underwriting as per the attached payload.

*Expected Results:* the em.ratings list for the ACI product shows a rating of -5 with a single item in the relevant ‘reasons’ list of ""EM_Rounding""

*Actual Result:* the em.ratings list for the ACI product shows a rating of -5 with the following ‘reasons’ list - \[""Build"", ""EM_Rounding"", ""TEST_EL""]

*Version:* unknown",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00zg7:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,Guardian Sprint 6,,,,07/Dec/21 1:38 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-07 17:05:13.003,07/Dec/21 5:05 PM;60cc71a1d5dde800713a2124;I think this is a URE issue - all ELs that touch a contribution end up listed as a source.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,40094,DecisionService - create a Life with Critical Illness product decision,Done
Initial Finish Screen,NBJ-925,41573,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,07/Dec/21 1:33 PM,13/Jan/22 9:32 AM,02/Feb/22 6:31 PM,13/Jan/22 9:32 AM,,Foundation Release,,,,,"*As an* adviser
*So that* I know my covers have successfully gone on risk
*I want* a final finish screen after activating

!Screenshot 2021-12-12 at 16.01.55.png|width=1478,height=1532!",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,12/Dec/21 4:02 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-12 at 16.01.55.png;https://gghltd.atlassian.net/secure/attachment/24271/Screenshot+2021-12-12+at+16.01.55.png,11/Jan/22 5:33 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2022-01-11 at 17.32.56.png;https://gghltd.atlassian.net/secure/attachment/24949/Screenshot+2022-01-11+at+17.32.56.png,13/Jan/22 9:32 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2022-01-13 at 09.31.14.png;https://gghltd.atlassian.net/secure/attachment/25000/Screenshot+2022-01-13+at+09.31.14.png,,,,,,,,,,"*Given*: An application
*When*: The user hits “Go Live” on the review screen
*Then*: The Thank You screen is displayed
*and*: Client names are displayed

Note: We will fill in policy numbers in a separate story when we have go live working
Note: We will make the document links work in a separate story when we have documents working\!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-123,,,,,,,,,,,,,,,,None,,* Can only get to this screen by hitting “Go Live” on the review screen so we will need to add this button.  We will set its disabled/enabled states later.,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i015rk:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,07/Dec/21 1:33 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Jan/22 5:33 PM;60cc71a1d5dde800713a2124;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5]  - one minor bug is that the lives are getting duplicated on the final screen:

!Screenshot 2022-01-11 at 17.32.56.png|width=1302,height=273!



I’ve tested both single and joint lives and in both cases you get double the number of lives showing.","13/Jan/22 9:32 AM;60cc71a1d5dde800713a2124;Retested and all working as expected

!Screenshot 2022-01-13 at 09.31.14.png|width=1288,height=1368!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Product decisions - top-level reasons are incorrect for multiple reasons,NBJ-923,41570,,Bug,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,07/Dec/21 1:08 PM,07/Dec/21 2:19 PM,02/Feb/22 6:31 PM,,,,,,,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,07/Dec/21 1:11 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;Aci_everything_non_standard.json;https://gghltd.atlassian.net/secure/attachment/24115/Aci_everything_non_standard.json,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* If a product decision (either for CI or ACI) has multiple reasons for a non-standard decision, the reasons list only shows one reason.

See [https://wa-uwt-decisionservice.azurewebsites.net/api/v1/decision/cfaf267b-be87-4083-a19c-65595095d5f9/product|https://wa-uwt-decisionservice.azurewebsites.net/api/v1/decision/cfaf267b-be87-4083-a19c-65595095d5f9/product]



*Business Impact:* Reasons for underwriting decision not communicated to advisor/customer

*Steps to Reproduce:* Create an application with a single applicant. Add an ACI product. Update the underwriting so that CI, Life and TPD all have non-standard decsions. I will update an example underwriting payload.

*Expected Results:* The top-level reasons list for the product decision lists all the contributing reasons

*Actual Result:* The top-level reasons list for the product decision lists only one reason

*Version:* unknown



In the example URL above, the reasons list for the ACI product is just ‘Non_Standard_Decisions’.

It should be \['",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00zfj:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,07/Dec/21 1:08 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Dec/21 1:25 PM;6139c49114e8340071fcda09;this may be expected behaviour, just confirming.",07/Dec/21 2:19 PM;6139c49114e8340071fcda09;[~accountid:60cc71a22bd21400692fd2af] rejecting this after our wider conversation about top-level reasons.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
ACI product decision not available at all if TPD is declined,NBJ-922,41566,40094,Story bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,High,Done,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,07/Dec/21 12:23 PM,08/Dec/21 10:31 AM,02/Feb/22 6:31 PM,08/Dec/21 10:31 AM,,Foundation Release,,,,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,07/Dec/21 12:27 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;Aci_TPD_DECLINE.json;https://gghltd.atlassian.net/secure/attachment/24114/Aci_TPD_DECLINE.json,08/Dec/21 10:31 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/24143/LivingDoc.html,08/Dec/21 7:46 AM;ug:14c3ce24-b02d-4347-b0e1-9cbdf26197a3;https---wa-uwt-decisionservice.azurewebsites.net-api-v1-decision-9c0d17c1-e8bc-4e43-a9e9-3f88256985e7-product.url;https://gghltd.atlassian.net/secure/attachment/24131/https---wa-uwt-decisionservice.azurewebsites.net-api-v1-decision-9c0d17c1-e8bc-4e43-a9e9-3f88256985e7-product.url,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* if TPD risk decision is decline and both CI and Life risk decisions are standard, the ACI *product* decision does not even appear.

see [https://wa-uwt-decisionservice.azurewebsites.net/api/v1/decision/9c0d17c1-e8bc-4e43-a9e9-3f88256985e7/product|https://wa-uwt-decisionservice.azurewebsites.net/api/v1/decision/9c0d17c1-e8bc-4e43-a9e9-3f88256985e7/product]



*Business Impact:* valid ACI products would be impossible to buy for some customers

*Steps to Reproduce:* Create an application with a single applicant. Add an ACI product. Make the underwriting return STANDARD for Life and CI, but DECLINE for TPD (I will attach a payload).

*Expected Results:* The product decision for ACI should be ‘Non standard Terms’ with the reasons coming from the enquiry line/s that declined TPD - and tpd.isIncluded shold be false.

*Actual Result:* No product decision for ACI is returned at all.

*Version:* unknown",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00zen:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,Guardian Sprint 6,,,,07/Dec/21 12:23 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,40094,DecisionService - create a Life with Critical Illness product decision,Done
ACI product decision - Upsell flag is null when decision is changed from Standard to Non-standard because of TPD exclusion,NBJ-921,41564,40094,Story bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,07/Dec/21 12:01 PM,08/Dec/21 10:29 AM,02/Feb/22 6:31 PM,08/Dec/21 10:29 AM,,,,,,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,07/Dec/21 12:06 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;Aci_CI_STANDARD_LIFE_STANDARD_TPD_EXCLUSION.json;https://gghltd.atlassian.net/secure/attachment/24112/Aci_CI_STANDARD_LIFE_STANDARD_TPD_EXCLUSION.json,08/Dec/21 10:29 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/24142/LivingDoc.html,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* If the CI risk decision is standard but the TPD risk decision is non-standard (i.e. because TPD has an exclusion) then the ACI product decision has an upsell value of null.

see https://wa-uwt-decisionservice.azurewebsites.net/api/v1/decision/8e240b73-49f3-41fc-961f-024938921b7f/product



*Business Impact:* Upsell either not offered for this scenario when it should be, or an error occurs further up the chain. Depends how null is handled.

*Steps to Reproduce:* Create an application with a single applicant. Add an ACI product and make the underwriting have a STANDARD decision for CI and a NON_STANDARD decision for TPD (payload attached).

*Expected Results:* product decision for ACI shows ‘upsell’ of true.

*Actual Result:* product decision for ACI shows ‘upsell’ of null.

*Version:* unknown",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00ze7:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,Guardian Sprint 6,,,,07/Dec/21 12:01 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,40094,DecisionService - create a Life with Critical Illness product decision,Done
Add APIM Named Value into Release Pipelines if APIM is going to be deployed using Azure DevOps,NBJ-920,41562,,Task,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jon Reynolds,616ee20e2097220071a975d2,Jon Reynolds,616ee20e2097220071a975d2,07/Dec/21 10:04 AM,02/Feb/22 11:17 AM,02/Feb/22 6:31 PM,,,,,,,,"*Context*

A third-party Zero Bounce API is being used in UWT to validate email addresses. 

As there is a cost associated with using this API it was decided to implement a mock response in UWT configured within the inbound processing of the GET endpoint. A named value flag has been set up (in portal) to control whether this mocked response policy is applied instead of the request being fulfilled by the backend service. As we need to configure this approach in different environments including Productuon there is a wider discussion as to how we can manage this deployment in an automated fashion.

*Actions*

If the deployment of APIs in APIM is to be automated in Azure DevOps using release pipelines it is necessary to include named value changes as well.",,Jon Reynolds,,,,,,,616ee20e2097220071a975d2,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00zdr:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,07/Dec/21 10:04 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Answer to waist question lost on navigation,NBJ-919,41552,40455,Story bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Mike,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,06/Dec/21 11:24 PM,08/Dec/21 10:48 AM,02/Feb/22 6:31 PM,08/Dec/21 10:48 AM,,,,,,,,,Chris.Hibbert,Mike,,,,,,60cc71a1d5dde800713a2124,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: The answer to the waist question is lost on navigation

Business Impact: An annoying rekey of data

Steps to Reproduce:

# Add a male life
# Height 1.8m, weight 80kg, waist 90cm
# Navigate through to underwriting
# Check the personal details page…all OK
# navigate to 2-3 other pages in underwriting
# Check the personal details page again… waist size now missing

Expected Results: waist size should be retained after it is entered",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00zbj:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,06/Dec/21 11:24 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-08 09:22:57.605,07/Dec/21 9:18 AM;60cc71a1d5dde800713a2124;[~accountid:60cc71a1d5dde800713a2124]  to update the rules.,08/Dec/21 9:20 AM;60cc71a1d5dde800713a2124;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] - I think we are setting WASTE_UNITS when it should be WAIST_UNITS,08/Dec/21 9:22 AM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;[~accountid:60cc71a1d5dde800713a2124] great spot\! Sorry\! I’ll update in the next PR.,08/Dec/21 10:48 AM;60cc71a1d5dde800713a2124;Both issues now resolved 👍 ,,,,,,,,,,,,,,,,,,,,,,,,,,40455,Special styling for waist size question,Done
height / weight wrapping onto a 2nd line if you choose imperial,NBJ-918,41551,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,06/Dec/21 11:20 PM,08/Dec/21 10:46 AM,02/Feb/22 6:31 PM,08/Dec/21 10:46 AM,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,06/Dec/21 11:20 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-06 at 23.18.12.png;https://gghltd.atlassian.net/secure/attachment/24096/Screenshot+2021-12-06+at+23.18.12.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"If you choose an imperial height/weight, then this is causing these questions to wrap onto a 2nd line.
This does NOT happen on the client details tab but DOES happen when in underwriting.

!Screenshot 2021-12-06 at 23.18.12.png|width=1444,height=359!",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zw9,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,06/Dec/21 11:20 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,08/Dec/21 10:46 AM;60cc71a1d5dde800713a2124;Resolved.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
em allReasons for aci product decision is empty,NBJ-917,41550,40094,Story bug,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Antony.Gorman,6149b13472728e006f9441d6,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,06/Dec/21 10:01 PM,07/Dec/21 11:41 AM,02/Feb/22 6:31 PM,,,,,,,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,06/Dec/21 10:05 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;Aci_CI_100_LIFE_50.json;https://gghltd.atlassian.net/secure/attachment/24095/Aci_CI_100_LIFE_50.json,06/Dec/21 10:04 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;allReasons_empty_for_aci.json;https://gghltd.atlassian.net/secure/attachment/24094/allReasons_empty_for_aci.json,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* the em allReasons list is empty for the aci product decision

*Business Impact:* unknown

*Steps to Reproduce:* Create an application with a single applicant. Add an aci product and update the underwriting to have some EM ratings.

*Expected Results:* The allReasons list for em ratings contains the enquiry line names that contributed the rating/s

*Actual Result:* The allReasons list for em ratings is empty

*Version:* unknown



I have attached an example of the problem output and an underwriting payload to recreate this. See application G000090748 and applicant 334b1747-5e38-4d23-9abf-528892cd112e in UWT.",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00zbb:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,Guardian Sprint 6,,,,06/Dec/21 10:01 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,07/Dec/21 11:41 AM;6139c49114e8340071fcda09;[~accountid:60cc71a22bd21400692fd2af] confirmed we don’t need allReasons,,,,,,,,,,,,,,,,,,,,,,,,,,,,,40094,DecisionService - create a Life with Critical Illness product decision,Done
Miscellaneous styling tweaks to the client details screen,NBJ-916,41541,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,06/Dec/21 6:18 PM,09/Dec/21 9:07 PM,02/Feb/22 6:31 PM,09/Dec/21 9:07 PM,,Foundation Release,,,,,"*As a* User
*I want* the client details screen to reflect the latest screen designs
*So that* it is clear and easy for me to use\!",,Chris.Hibbert,Mike,,,,,,60cc71a1d5dde800713a2124,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given:* An application
*When:* Adding a client
*Then:* The following tweaks need to be made to the client details screen:

* Client details is the heading (not Create your client profile) (/)
* Date of Birth should be listed before Gender (we have the wrong way around) (/)
* Title field should be shorter (brings in firstname alignment with rest of the fields) (/)
* No completion indicators for questions from underwriting (/)
* Male/Female radio buttons should be wider to help alignment (see screen design) - n/a
* Metric / Imperial buttons should be wider to help alignment (see screen design) - n/a
* Date of birth fields should be narrower (/)
* Continue button should have a right arrow (/)
* “Do you want to add someone else to this policy” should be a heading (same as client details) and should be worded “Do you want to add another client to this application?” and should have a rule after it (/)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,"Signed off screen:
[https://projects.invisionapp.com/d/main?origin=v7#/console/21777111/461776336/preview?scrollOffset=0|https://projects.invisionapp.com/d/main?origin=v7#/console/21777111/461776336/preview?scrollOffset=0]",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwik1:r,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,06/Dec/21 6:18 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-09 15:36:48.999,09/Dec/21 3:36 PM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;Hi [~accountid:60cc71a1d5dde800713a2124] I’ve spoken to the designers regarding the radio buttons. And they agree with me that the radio buttons should be the width of their content rather than specified to fit a screen design. So the designs are being updated to match.,09/Dec/21 3:40 PM;60cc71a1d5dde800713a2124;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5]  - a great outcome\! 👍 ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Product decision for ACI does not include TPD,NBJ-915,41535,40094,Story bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,06/Dec/21 3:28 PM,07/Dec/21 1:46 PM,02/Feb/22 6:31 PM,07/Dec/21 1:46 PM,,,,,,,,,Antony.Gorman,James Bartlett,,,,,,6149b13472728e006f9441d6,6139c49114e8340071fcda09,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,06/Dec/21 3:36 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;Aci_STANDARD_nonsmoker.json;https://gghltd.atlassian.net/secure/attachment/24087/Aci_STANDARD_nonsmoker.json,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* If a product decision is requested for an ACI product, the tpd node value is null. See applicant ID 79403403-6f00-43cd-93b3-8e2809f56198 in UWT. That example also has a product decision for CI that shows how the tpd node should look

*Business Impact:* TPD probably not sold to customer

*Steps to Reproduce:* Create an application and applicant. Make the applicant’s underiting standard for CI, LIFE and TPD. Ensure the applicant has an ACI product. Request a product decision.

*Expected Results:* The product decision for the ACI product has tpd.isIncluded == true

*Actual Result:* The product decision for the ACI product has a null tpd node

*Version:* unknown



I’ve attached the underwriting payload I used to check this below",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00z87:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,Guardian Sprint 6,,,,06/Dec/21 3:28 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-06 15:49:20.849,06/Dec/21 3:49 PM;6149b13472728e006f9441d6;[~accountid:6139c49114e8340071fcda09] heya - could you link the original story - ta,06/Dec/21 3:50 PM;6139c49114e8340071fcda09;[~accountid:6149b13472728e006f9441d6] this is a story bug of [https://gghltd.atlassian.net/browse/NBJ-604|https://gghltd.atlassian.net/browse/NBJ-604|smart-link] (see breadcrumb),06/Dec/21 3:52 PM;6149b13472728e006f9441d6;[~accountid:6139c49114e8340071fcda09] ta,,,,,,,,,,,,,,,,,,,,,,,,,,,40094,DecisionService - create a Life with Critical Illness product decision,Done
Risk decision returns 'Standard Terms' for non-standard decisions,NBJ-914,41514,,Bug,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Chris.Hibbert,60cc71a1d5dde800713a2124,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,06/Dec/21 1:54 PM,06/Dec/21 2:19 PM,02/Feb/22 6:31 PM,,,,,,,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* If the underwriting decision is non-standard (e.g. EM/PM rating, exclusion) then the risk decision is ‘Standard Terms'. It should be 'Non standard Terms'. Before risk decisions were updated to be the more friendly text, these decisions were returned correctly as 'NON_STANDARD’.

*Business Impact:* risk of users missing reasons for cost of cover

*Steps to Reproduce:* Create an application with one applicant with a life product (for simplicity). Make the underwriting loaded and request the risk decisions

*Expected Results:* overall risk decision is 'Non standard Terms'

*Actual Result:* overall risk decision is 'Standard Terms'

*Version:* unknown",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00z3r:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,06/Dec/21 1:54 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,06/Dec/21 2:10 PM;6139c49114e8340071fcda09;[~accountid:60cc71a1d5dde800713a2124] this can probably be rejected if I can remove that extra question…,"06/Dec/21 2:19 PM;6139c49114e8340071fcda09;rules issue, nothing to see here",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Validate contact details fields,NBJ-913,41429,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,05/Dec/21 11:43 AM,11/Jan/22 4:15 PM,02/Feb/22 6:31 PM,11/Jan/22 4:15 PM,,Foundation Release,,Sprint_7,,,"*As an* Adviser
*I want* the contact details fields to be validated
*So that* I can only enter valid data",,Chris.Hibbert,Justin.Smith,Mike,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,10/Jan/22 4:43 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220110-164310.png;https://gghltd.atlassian.net/secure/attachment/24906/image-20220110-164310.png,,,,,,,,,,,,"*Given*: An application
*When*: the user is entering contact details
*Then*: the following fields are mandatory:

* address1
* postcode
* emailAddress (and confirm email)
* phoneNumber

*Given*: An application
*When*: the user is entering contact details
*Then*: the following fields are optional:

* address2
* address3
* city/Name
* county

*Given*: An application
*When*: the user is entering contact details
*Then*: the following max field lengths are enforced:

||*Field*||*Max length*||
|address1|40|
|address2|40|
|address3|40|
|cityName|30|
|county|30|
|postcode|12|
|emailAddress|60|
|phoneNumber|20|",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i015rk:m,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,05/Dec/21 11:43 AM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-10 16:21:15.513,"10/Jan/22 4:21 PM;618bdfc5fba4d0006ad4853e;Field lengths are fine.  However, there is an issue with some of the mandatory fields.

city is mandatory on the backend -

\{""errors"":\[\{""errorMessage"":""'City' must not be empty."",""propertyName"":""City"",""attemptedValue"":""""}]}

[~accountid:60cc71a1d5dde800713a2124] Which is correct? Do you want a backend bug raised?",10/Jan/22 4:25 PM;60cc71a1d5dde800713a2124;[~accountid:618bdfc5fba4d0006ad4853e] - please raise a backend bug.  city should be optional.,"10/Jan/22 4:43 PM;618bdfc5fba4d0006ad4853e;Thanks [~accountid:60cc71a1d5dde800713a2124] I have raised [https://gghltd.atlassian.net/browse/NBJ-1080|https://gghltd.atlassian.net/browse/NBJ-1080|smart-link].

Confirm email doesn’t look mandatory.  I will have to send this back.

!image-20220110-164310.png|width=1611,height=961!","10/Jan/22 4:59 PM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;Hi [~accountid:618bdfc5fba4d0006ad4853e] - This looks like a small logic issue with blank confirm emails, I’ve just fixed and I’ll push a PR update now.","11/Jan/22 4:14 PM;618bdfc5fba4d0006ad4853e;This looks good.  There is a slight issue in as much as the mortgage details should never have a default even if you visit the contact-details page directly or refresh on it.  I will raise a separate issue on this.  Automation has been done for a single applicant.  Some more time and effort needs to be put into automating multiple applicants.  This has been progressing but I have tested the 2 applicants manually for now.

{noformat}    @CDTest3
    Scenario: Check maximum field lengths on contact details are taken
     Given I have a ""MaleOverWeightNonSmoker_update"" applicant
     And I update underwriting for ""MaleOverWeightNonSmoker_uw"" who is applicant ""one""
     And I have ""CIWithTerm"" cover for the applicant
     And I triggered a quote 
     And I have navigated to the ""contact-details"" tab
     When I enter the email and phone details
        | Email                                                         | ConfirmEmail                                                  | TelMob                |
        | 12345678901234567890123456789012345678901234567890@gmail.com  | 12345678901234567890123456789012345678901234567890@gmail.com  | 12345678901234567890  |
     And I click on manual address button
     Then the address labels are correct
        | Address1  | Address2  | Address3  | TownCity   | County | Postcode |
        | Address 1 | Address 2 | Address 3 | Town/city  | County | Postcode |
     When I enter the manual address details
        | Address1 | 1234567890123456789012345678901234567890 |
        | Address2 | 1234567890123456789012345678901234567890 |
        | Address3 | 1234567890123456789012345678901234567890 |
        | TownCity | 123456789012345678901234567890 |
        | County   | 123456789012345678901234567890 |
        | Postcode | 123456789012 |
     And I click on the Underwrite button
     Then the applicant contact details have been saved
        | address1  | 1234567890123456789012345678901234567890                        |
        | address2  | 1234567890123456789012345678901234567890                        |
        | address3  | 1234567890123456789012345678901234567890                        |
        | city      | 123456789012345678901234567890                                  |
        | county    | 123456789012345678901234567890                                  |
        | postcode  | 123456789012                                                    |
        | email     | 12345678901234567890123456789012345678901234567890@gmail.com    | 
        | telephone | 12345678901234567890                                            |  

    @CDTest4
    Scenario: Check the contact details are taken with just the mandatory fields
     Given I have a ""MaleOverWeightNonSmoker_update"" applicant
     And I update underwriting for ""MaleOverWeightNonSmoker_uw"" who is applicant ""one""
     And I have ""CIWithTerm"" cover for the applicant
     And I triggered a quote 
     And I have navigated to the ""contact-details"" tab
     When I enter the email and phone details
      | Email                       | ConfirmEmail                | TelMob       |
      | justin.smith1111@gmail.com  | justin.smith1111@gmail.com  | 07777667231  |
     And I click on manual address button
     And I enter the manual address details
      | Address1    | Lower Bradshaw Barn         |
      | Postcode    | HD7 5UZ                     |
     And I click on the Underwrite button
     Then the applicant contact details have been saved
      | address1  | Lower Bradshaw Barn           |
      | postcode  | HD7 5UZ                       |
      | email     | justin.smith1111@gmail.com    | 
      | telephone | 07777667231                   |

   @CDTest5
   Scenario: Check underwrite button is not enabled with missing mandatory fields
    Given I have a ""MaleOverWeightNonSmoker_update"" applicant
    And I update underwriting for ""MaleOverWeightNonSmoker_uw"" who is applicant ""one""
    And I have ""CIWithTerm"" cover for the applicant
    And I triggered a quote 
    And I have navigated to the ""contact-details"" tab
    When I enter the email and phone details
     | Email   | ConfirmEmail                | TelMob       |
     |         | justin.smith1111@gmail.com  | 07777667231  |
    And I click on manual address button
    And I enter the manual address details
       | Address1 | Lower Bradshaw Barn  |
       | Address2 |                      |
       | Address3 |                      |
       | TownCity |                      |
       | County   |                      |
       | Postcode | HD7 5UZ              |        
    Then the Underwrite button is not enabled
    When I enter the email and phone details
     | Email                       | ConfirmEmail   | TelMob       |
     | justin.smith1111@gmail.com  |                | 07777667231  |
    Then the Underwrite button is not enabled
    When I enter the email and phone details
     | Email                       | ConfirmEmail                 | TelMob       |
     | justin.smith1111@gmail.com  | justin.smith1111@gmail.com   |              |
   Then the Underwrite button is not enabled
   And I enter the manual address details
       | Address1 |                      |
       | Address2 |                      |
       | Address3 |                      |
       | TownCity |                      |
       | County   |                      |
       | Postcode | HD7 5UZ              |        
   Then the Underwrite button is not enabled
   And I enter the manual address details
       | Address1 | Lower Bradshaw Barn  |
       | Address2 |                      |
       | Address3 |                      |
       | TownCity |                      |
       | County   |                      |
       | Postcode |                      |  
   Then the Underwrite button is not enabled      

  @CDTest6
  Scenario: Check the underwrite button is not enabled when no quote has been triggered 
    Given I have a ""MaleOverWeightNonSmoker_update"" applicant
    And I update underwriting for ""MaleOverWeightNonSmoker_uw"" who is applicant ""one""
    And I have ""CIWithTerm"" cover for the applicant
    And I have navigated to the ""contact-details"" tab
    When I enter the email and phone details
     | Email                       | ConfirmEmail                | TelMob       |
     | justin.smith1111@gmail.com  | justin.smith1111@gmail.com  | 07777667231  |
    And I click on manual address button
    And I enter the manual address details
       | Address1 | Lower Bradshaw Barn  |
        | Address2 |                      |
        | Address3 |                      |
        | TownCity |                      |
        | County   |                      |
        | Postcode | HD7 5UZ              |  
    Then the Underwrite button is not enabled   {noformat}

  Test 4 is failing due to [https://gghltd.atlassian.net/browse/NBJ-1080|https://gghltd.atlassian.net/browse/NBJ-1080|smart-link].  

[~accountid:60cc71a1d5dde800713a2124] this has definitely been more than a 3 for me automating this 😞 

Closing.",,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Make some of the underwriting questions on the client details screen optional,NBJ-912,41428,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,05/Dec/21 10:50 AM,06/Jan/22 11:18 AM,02/Feb/22 6:31 PM,06/Jan/22 11:18 AM,,Foundation Release,,Sprint_7,,,"*As an* adviser
*So that* I only have to complete the minimum information needed to continue
*I want* the underwriting questions on the quote screen to be optional",,Chris.Hibbert,Justin.Smith,,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,08/Dec/21 10:33 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-08 at 10.31.04.png;https://gghltd.atlassian.net/secure/attachment/24144/Screenshot+2021-12-08+at+10.31.04.png,,,,,,,,,,,,"*Given*: The client details screen
*When*: creating or updating a client
*and:* the enquiry line from underwriting has a tag of CLIENT_DETAILS
*and:* the enquiry line from underwriting has a tag of OPTIONAL
*Then*: the questions from this enquiry line are optional to proceed
*and*: the questions have “(optional)” added on a separate line after the question text

!Screenshot 2021-12-08 at 10.31.04.png|width=1279,height=263!

*Given*: An application
*When*: in underwriting
*and:* the enquiry line has a tag of OPTIONAL
*Then*: the question text for these questions in unchanged
*and*: the question remains mandatory to satisfy the enquiry line and close the underwriting session
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i015kz:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,Guardian Sprint 7,,,,,05/Dec/21 10:50 AM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-06 11:18:32.575,19/Dec/21 10:12 AM;60cc71a1d5dde800713a2124;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] - The (optional) text is not getting added to the questions on this screen.,06/Jan/22 11:18 AM;618bdfc5fba4d0006ad4853e;This is all good and I have add some automation tests for these questions and text.  Marking this as done.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Move bin icon and give new label on quote screen,NBJ-911,41427,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,05/Dec/21 9:47 AM,08/Dec/21 10:51 AM,02/Feb/22 6:31 PM,08/Dec/21 10:51 AM,,Foundation Release,,Sprint_6,,,"*As an* adviser
*So that* I know how to remove a cover on the quote screen
*I want* the bin icons to be labelled and more prominent

h3. Current Location

!Screenshot 2021-12-05 at 11.05.19.png|width=1275,height=220!

h3. New Location

!Screenshot 2021-12-05 at 11.06.08.png|width=1161,height=179!",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,05/Dec/21 11:06 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-05 at 11.05.19.png;https://gghltd.atlassian.net/secure/attachment/24063/Screenshot+2021-12-05+at+11.05.19.png,05/Dec/21 11:06 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-05 at 11.06.08.png;https://gghltd.atlassian.net/secure/attachment/24064/Screenshot+2021-12-05+at+11.06.08.png,08/Dec/21 10:51 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-08 at 10.51.32.png;https://gghltd.atlassian.net/secure/attachment/24147/Screenshot+2021-12-08+at+10.51.32.png,,,,,,,,,,"*Given*: A cover on the quote screen
*Then*: The bin (remove) icon is shown following the cover name
*and*: The icon has the text “Remove”",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009dzzg,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,05/Dec/21 9:47 AM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Dec/21 10:51 AM;60cc71a1d5dde800713a2124;Tested for all cover types

!Screenshot 2021-12-08 at 10.51.32.png|width=1294,height=793!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Remove edit client profile links from quote screen,NBJ-910,41426,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,05/Dec/21 9:46 AM,07/Dec/21 10:18 PM,02/Feb/22 6:31 PM,07/Dec/21 10:18 PM,,Foundation Release,,Sprint_6,,,"*As an* adviser
*So that* I can understand what is happening on the quote screen
*I want* the edit client profile links removed from the screen



h3. Offending edit client profile links to remove:

!Screenshot 2021-12-05 at 11.08.05.png|width=1350,height=131!",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,05/Dec/21 11:09 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-05 at 11.08.05.png;https://gghltd.atlassian.net/secure/attachment/24065/Screenshot+2021-12-05+at+11.08.05.png,,,,,,,,,,,,"*Given:* A client on the quote screen
*Then:* No “edit client profile” link is shown beneath the client name",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009dzzf,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,05/Dec/21 9:46 AM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,07/Dec/21 10:18 PM;60cc71a1d5dde800713a2124;Tested in UWT - links are gone\!,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Update commission in summary bar to reflect total commission,NBJ-909,41420,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,04/Dec/21 9:48 AM,09/Dec/21 4:11 PM,02/Feb/22 6:31 PM,09/Dec/21 4:11 PM,,Foundation Release,,Sprint_6,,,"*As an* adviser
*So that* I can see how much I will earn for an application
*I want* the total commission shown in the summary bar



!Screenshot 2021-12-05 at 11.10.18.png|width=1363,height=209!

Persisted quote response now contains a top level initialCommission node that summarises the total commission - this needs to go into the summary bar at the top of the quote screen.",,Chris.Hibbert,Justin.Smith,,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,05/Dec/21 11:10 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-05 at 11.10.18.png;https://gghltd.atlassian.net/secure/attachment/24066/Screenshot+2021-12-05+at+11.10.18.png,,,,,,,,,,,,"*Given:* A successful quote
*When*: Showing the summary bar
*Then*: The top level initialCommission value from the quote response is shown as the Commission value in the summary bar
*and*: This value is always shown to 2 decimal places.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,"h4. New Response
{code:json}
quote: {
    id: ""e3493eda-5825-4775-9e8b-04a1faf22900"",
    ....
    initialIndemnityPercentage: 0,
    initialCommissionSacrificePercentage: 0,
    initialCommission: 1054.8    // NEW FIELD ON RESPONSE
    premium: 61.42,
    ....
    quoteApplicants: [
        {
        id: ""901b9629-cddd-4914-9ba1-6b4fb6a3a7c6"",
        ....
        premium: 61.42,
        quoteCovers: [
        {
            id: ""c976410e-d7e2-487f-abe8-883cb9b17ce5"",
            productType: ""life"",
            ....
            premium: 17.21,
            initialCommission: 461.76,
            ....
        },
        {
            id: ""babc69dc-a3d5-46ef-928e-616a4b0800ac"",
            productType: ""aci"",
            ....
            premium: 44.21,
            initialCommission: 593.04,
            ....
        }
        ],
        quoteUnderwritingOutcomes: [ ]
    }
    ]
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zw4,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,04/Dec/21 9:48 AM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-09 16:11:20.443,09/Dec/21 4:11 PM;618bdfc5fba4d0006ad4853e;This is all good. Automation test added.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Remove proceed boxes from decision screen,NBJ-908,41419,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,04/Dec/21 9:46 AM,08/Dec/21 10:56 AM,02/Feb/22 6:31 PM,08/Dec/21 10:56 AM,,Foundation Release,,Sprint_6,,,"*As an* adviser
*So that* I can understand what is happening on the decision screen
*I want* the proceed boxes removed from the screen

!Screenshot 2021-12-05 at 11.14.36.png|width=1370,height=530!",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,05/Dec/21 11:15 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-05 at 11.14.36.png;https://gghltd.atlassian.net/secure/attachment/24067/Screenshot+2021-12-05+at+11.14.36.png,08/Dec/21 10:56 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-08 at 10.56.10.png;https://gghltd.atlassian.net/secure/attachment/24149/Screenshot+2021-12-08+at+10.56.10.png,,,,,,,,,,,"*Given:* An applicant with covers
*When:* Showing the results screen
*Then:* No proceed box is shown",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-122,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009dzz9,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,04/Dec/21 9:46 AM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Dec/21 10:56 AM;60cc71a1d5dde800713a2124;Proceed boxes be gone:



!Screenshot 2021-12-08 at 10.56.10.png|width=1312,height=1385!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Check health of all microservices after deployment,NBJ-907,41390,,Task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Jason Hughes,613f60991370f00069033c68,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,03/Dec/21 4:33 PM,09/Dec/21 9:57 AM,02/Feb/22 6:31 PM,09/Dec/21 9:57 AM,,,,,,,Add in Postman tests to check the /health endpoint of the microservices. Run these checks after a deployment.,,mark.thurston@venture1consulting.com,Sam Gamble,,,,,,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,"So we don’t have to have the same postman collection and YAML pipeline code for the health check repeated in every service, we created a new repository *NBJ-DevOps* to store common files for Azure DevOps related tasks.

Seeing as all existing pipelines were going to be edited for this work we also decided to factor out the common build related steps in to YAML devops template files and store these in the new repo. This simplifies adding new services as they can have very simple pipeline files that make use of the new templates. This will also make updating the pipelines in the future easier.

Services updated

* Action - done
* Activating - done
* Application - done
* BackEndForFrontEnd - done
* Decision - done
* Document - done
* Example - done
* Fact - done
* Product - done
* Quote - done
* Underwriting - done",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00ycf:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,Guardian Sprint 6,,,,,03/Dec/21 4:33 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-07 12:42:10.825,07/Dec/21 12:42 PM;557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96;[~accountid:613f60991370f00069033c68] - I have added the newman “stuff” to the pipelines for each App service deployment. So far I am doing a simple “check it is working” test (i.e. 200). That works. What I think is needed is a reference to the actual postman collections you’d like to run for each app service and I’ll add those to the pipelines.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Sprint 5 - Em and pm ratings not showing in the response body for a decision request (API),NBJ-906,41364,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,High,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,03/Dec/21 2:09 PM,07/Dec/21 11:11 AM,02/Feb/22 6:31 PM,07/Dec/21 11:11 AM,,,,,,,,,Chris.Hibbert,Jim Houghton,Kevin.Amoa,Nathan Punzalan,,,,60cc71a1d5dde800713a2124,60cc71a22bd21400692fd2af,6149b160fac3ce0069d80d37,613f22fdff23ba00715469d1,,,,,,,,,,,Hidden from EXL,NBJ-605,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,03/Dec/21 2:07 PM;nathan.punzalan;decisionResponse.txt;https://gghltd.atlassian.net/secure/attachment/24049/decisionResponse.txt,03/Dec/21 2:05 PM;nathan.punzalan;enquiryRequest.txt;https://gghltd.atlassian.net/secure/attachment/24050/enquiryRequest.txt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: 
Em and pm ratings not showing in the response body for a decision request (API). Example enquiry request body shown below:
 [^enquiryRequest.txt] 

Steps to Reproduce (via API)
# Create application with applicant
# Patch applicant info
# Update enquiry (ensure em and pm is included in the decision, see example above)
# Get decision

Expected Results: 
Em and pm are shown in the response body with non-null values (as long as they are specified in the enquiry body)

Actual Result: 
Em and pm are shown in the response body with null values.
 [^decisionResponse.txt] ",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwik0:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,Guardian Sprint 6,,,,,03/Dec/21 2:09 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-06 14:23:35.892,06/Dec/21 2:23 PM;60cc71a22bd21400692fd2af;[~accountid:613f22fdff23ba00715469d1] - this is an issue that needs to be fixed.,"06/Dec/21 7:13 PM;6149b160fac3ce0069d80d37;Cannot replicate this with the answers supplied above

{noformat}https://wa-uwt-decisionservice.azurewebsites.net/api/v1/decision/fc333d1c-23ad-4f3a-bc1d-0f23529cff2f/{noformat}

{noformat}{
    ""data"": {
        ""applicantId"": ""fc333d1c-23ad-4f3a-bc1d-0f23529cff2f"",
        ""smokerStatus"": ""None in the last 5 years"",
        ""riskDecisions"": [
            {
                ""riskType"": ""life"",
                ""decision"": ""Non standard Terms"",
                ""reasons"": [
                    ""Non_Standard_Decisions""
                ],
                ""reasonText"": [
                    ""We’ve increased the premium on Life Protection because of your TEST_EL.""
                ],
                ""upsell"": {
                    ""isAllowed"": true,
                    ""amount"": 770000
                },
                ""gioEntitlement"": true,
                ""disabilityDefinition"": null,
                ""exclusions"": [],
                ""em"": {
                    ""totalRating"": 100,
                    ""allReasons"": [
                        ""TEST_EL""
                    ],
                    ""ratings"": [
                        {
                            ""duration"": null,
                            ""rating"": 100,
                            ""reasons"": [
                                ""TEST_EL""
                            ]
                        }
                    ]
                },
                ""pm"": {
                    ""totalRating"": 0,
                    ""allReasons"": [],
                    ""ratings"": []
                },
                ""postpone"": null
            }
        ]
    }
}{noformat}",06/Dec/21 11:36 PM;60cc71a1d5dde800713a2124;[~accountid:613f22fdff23ba00715469d1]  - can you add anything more to this?  We arent able to replicate at the moment.,"07/Dec/21 11:11 AM;613f22fdff23ba00715469d1;[~accountid:60cc71a1d5dde800713a2124] [~accountid:6149b160fac3ce0069d80d37] , I have also retested using the steps and example above and not sure if it was fixed indirectly since the time it was raised but it seems to be working now. I will close this ticket off.",,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Treat notional sum assured of FIB as 2 thirds of maximum sum assured,NBJ-905,41362,,Epic,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,John.LeQuesne,5db187687b20d80c2a25b574,John.LeQuesne,5db187687b20d80c2a25b574,03/Dec/21 1:26 PM,02/Feb/22 4:43 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"The reassurers have changed the rules behind determining the notional sum assured for a FIB. This is now:-
monthly benefit * term (in months) * 2/3

In the formula above, for Unitl(age) quotes, the toAgeTermMonths value is used.

This is used in calculating the notional sum assured to determine the sum assured to measure against the NMLs

The product max / min cover amounts are unchanged (e.g. 208 / 20000 for life & 83 / 5000 for CI & ACI) - confirmed with Nischal.",,John.LeQuesne,,,,,,,5db187687b20d80c2a25b574,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,ghx-label-14,,Treat notional sum assured of FIB as 2 thirds of maximum sum assured,Done,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,NBJ-148,,,,,,,,,No,,1|i00y5z:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,03/Dec/21 1:26 PM,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Product decisions - reasons are empty,NBJ-904,41346,,Bug,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Jim Houghton,60cc71a22bd21400692fd2af,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,02/Dec/21 11:14 PM,21/Jan/22 9:43 AM,02/Feb/22 6:31 PM,,,,,,,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* For a given product decision the reasons list is empty

*Business Impact:* No explanation of underwriting outcomes would be possible to the customer

*Steps to Reproduce:* Get a product decision for any valid product on an application.

*Expected Results:* The reasons list contains a list of enquiry line names that contributed the most severe decision

*Actual Result:* The reasons list is empty

*Version:* unknown",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwiil:zz,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,Guardian Sprint 8,,,,,02/Dec/21 11:14 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,21/Jan/22 9:43 AM;6139c49114e8340071fcda09;rework of the reason list is incoming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Sprint 5 | Address Three on the page but this is not stored in the payload,NBJ-903,41345,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,02/Dec/21 9:52 PM,14/Dec/21 11:32 AM,02/Feb/22 6:31 PM,14/Dec/21 11:32 AM,,,,,,,,,Chris.Hibbert,Justin.Smith,Mike,Sam Gamble,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,610c00d94e8d8d0069a20d6c,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-653,,,,,,,,,,03/Dec/21 2:20 PM;ug:40c0a037-60a5-47d1-812c-a831d94ce168;Screenshot 2021-12-03 at 14.18.43.png;https://gghltd.atlassian.net/secure/attachment/24052/Screenshot+2021-12-03+at+14.18.43.png,03/Dec/21 2:20 PM;ug:40c0a037-60a5-47d1-812c-a831d94ce168;Screenshot 2021-12-03 at 14.18.52.png;https://gghltd.atlassian.net/secure/attachment/24051/Screenshot+2021-12-03+at+14.18.52.png,02/Dec/21 9:49 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-2021-12-02-21-49-51-364.png;https://gghltd.atlassian.net/secure/attachment/24031/image-2021-12-02-21-49-51-364.png,02/Dec/21 9:52 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-2021-12-02-21-52-13-445.png;https://gghltd.atlassian.net/secure/attachment/24030/image-2021-12-02-21-52-13-445.png,14/Dec/21 11:32 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211214-113213.png;https://gghltd.atlassian.net/secure/attachment/24331/image-20211214-113213.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: Not expecting address 3

Business Impact: Medium

Steps to Reproduce: 
1. On the application tab look up and select an address or go to manual address
2. Add a value in Address Three
3. Click on underwrite
4. The contact details are persisted but do not include address three

!image-2021-12-02-21-49-51-364.png|width=200,height=183!

 

\{
""data"": \{
""address1"": ""4 Chiltern Close"",
""address2"": ""address two"",
""city"": ""Haslemere"",
""county"": ""Surrey"",
""postcode"": ""GU27 3AD"",
""email"": ""justin.smith1327@gmail.com"",
""telephone"": ""07766667130""
}
}

Expected Results: [NBJ-653] only mentions address 1 and 2 so not expecting the third one

Actual Result: We have an address three 

From the postcode lookup of HD7 5UZ we have an address 3 so it looks like we need it

!image-2021-12-02-21-52-13-445.png|width=200,height=183!

 

Version: N/A",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwik1:3,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,Guardian Sprint 6,,,,,02/Dec/21 9:52 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-03 14:20:25.915,"03/Dec/21 2:20 PM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;!Screenshot 2021-12-03 at 14.18.43.png|width=1152,height=404!

!Screenshot 2021-12-03 at 14.18.52.png|width=1186,height=370!

Address 3 is sent in the payload but not part of the response back from the POST
{{/api/v1/application/G000069365/applicant/b4dfe4e3-fc47-4399-a095-ed6ef829730e/contact}}
So not sure if it’s persisted or not?","03/Dec/21 2:30 PM;610c00d94e8d8d0069a20d6c;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] the address line 3 should not be in the UI. In all the other places that applicant contact details are used (SalesForce, Lissia) there is no address line 3.",05/Dec/21 11:42 AM;60cc71a1d5dde800713a2124;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5]  and [~accountid:610c00d94e8d8d0069a20d6c]  - I’ve fired a question to Andy Green.  I think we will probably end up appending address line 3 to the end of address line 2 (after a comma).  I’ll assign to me until this comes back.,07/Dec/21 9:13 AM;60cc71a1d5dde800713a2124;As an update - I think this is now sitting with [~accountid:5db187687b20d80c2a25b574] to consider what we should do with address line 3 as the current site simply ignores it.,"14/Dec/21 11:32 AM;618bdfc5fba4d0006ad4853e;Automation test passing now.

!image-20211214-113213.png|width=1176,height=836!",,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Non standard TPD is shown as not included in a CI product,NBJ-902,41344,40093,Story bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,02/Dec/21 9:36 PM,06/Dec/21 2:53 PM,02/Feb/22 6:31 PM,06/Dec/21 2:52 PM,,,,,,,,,James Bartlett,Jon Reynolds,,,,,,6139c49114e8340071fcda09,616ee20e2097220071a975d2,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Dec/21 9:39 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;Ci_STANDARD_Tpd_Exclusion.json;https://gghltd.atlassian.net/secure/attachment/24028/Ci_STANDARD_Tpd_Exclusion.json,06/Dec/21 2:52 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/24086/LivingDoc.html,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* TPD with a non-standard underwriting decision is not included in a CI produc when it should be

*Business Impact:* Not treating customers fairly

*Steps to Reproduce:* Set up an application with a CI product. The underwriting should have a Standard decision for CI and an exclusion for TPD (which in turn triggers a Non-standard decision for TPD).

*Expected Results:* TPD is included

*Actual Result:* TPD is not included

*Version:* unknown



I’ve attached an payload which set up the correct underwriting.",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00y1z:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,Guardian Sprint 6,,,,02/Dec/21 9:36 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-03 14:19:27.319,"03/Dec/21 2:19 PM;616ee20e2097220071a975d2;As discussed with James, Tpd IsIncluded flag will be set to true if product is CI and decisions are either standard or non-standard",,,,,,,,,,,,,,,,,,,,,,,,,,,,,40093,DecisionService - create a Critical Illness product decision,Done
Single applicant request details - initialCommissionSacrificePercentage,NBJ-901,41343,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,02/Dec/21 9:17 PM,15/Dec/21 4:52 PM,02/Feb/22 6:31 PM,15/Dec/21 10:09 AM,,Foundation Release,,Sprint_6,,,"*As an* adviser or api consumer
*So that* I can sacrifice commission to make the price more attractive to my customer
*I want* to specify the proportion of commission I receive

_NB - this is a single applicant ticket, there will be up to two applicants_

_NB - this is a single quoteCover ticket, there will be a multiple covers ticket that will tie benLine to quoteCover.id_",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,NBJ-1011,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Dec/21 9:17 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;LissiaGoLive-request.xml;https://gghltd.atlassian.net/secure/attachment/24026/LissiaGoLive-request.xml,02/Dec/21 9:17 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;LissiaGoLive-response;https://gghltd.atlassian.net/secure/attachment/24027/LissiaGoLive-response,,,,,,,,,,,"*Given* a single life request, supplying dateOfBirth, gender and smokerStatus
*When* quoting on Lissia
*Then* recieve a successful Lissia response
*And* return HTTP 201 CREATED from service
*And* replay application details on response

*Given* any quote request with initialCommissionSacrificePercentage
*When* forming Lissia go live request
*Then* set the ImpGrpPas.row.ImpItmPasPrlbenPolicyAgentShares.SacrificePercent to quote.initialCommissionSacrificePercentage",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-119,,,,,,,,,,,,,,,,None,,"_Service Request_

{code:json}POST /api/v1/activate/{applicationId}{code}

{noformat}{
  ""application"": {
    ...
    ""applicants"": [
        ...
    ],
    ""quote"": {
        ...,
        ""initialCommissionSacrificePercentage"" : 0-100,
        ...
        ""quoteApplicants"":[
          ...
          ""quoteCovers"": [
            {
              ...
            }
          ]
        ]
      }
  }
}{noformat}

_Service Response_

{noformat}http status code 201{noformat}

{code:json}{
  errors:[],
  data:{
    ""application"": {
      ...
      ""applicants"": [
      ],
      ""quote"": {
        ...
      }
    },
    ""policies"": [
      {
        ""reference"": """"
      }
    ]
  }
}{code}

_Example Lissia Go LIve Request_

{code:json}<wss:Wssglivecall>
	<WssgliveImport command="""" clientId="""" clientPassword="""" nextLocation="""" exitState="""" dialect="""">
		<ImpGrpPrq/>
		<ImpGrpPcr>
			<row>
				...
			</row>
		</ImpGrpPcr>
		<ImpPolPolicies>
			<DateOfApplication/>
			<DateOfCommencement/>
			<Currency/>
		</ImpPolPolicies>
		<ImpGrpPas>
			<row>
				...
				<ImpItmPasPrlbenPolicyAgentShares>
					...
					<SacrificePercent>0</SacrificePercent>
					...
				</ImpItmPasPrlbenPolicyAgentShares>
				...
			</row>
		</ImpGrpPas>
		<ImpCliCpr>
			<row>
				...
			</row>
		</ImpCliCpr>
		<ImpGrpPlc/>
		<ImpPrlpqmWebService>
			<Prlrqm/>
		</ImpPrlpqmWebService>
		<ImpSrvdetailsWebService>
			...
		</ImpSrvdetailsWebService>
		<ImpPrlBenList>
			<row>
				...
			</row>
		</ImpPrlBenList>
		<ImpGrpPfd>
			<row>
				...
			</row>
		</ImpGrpPfd>
	</WssgliveImport>
</wss:Wssglivecall>{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009hzzzvv,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,02/Dec/21 9:13 AM,,1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
TPD reasons are empty on CI product decisions,NBJ-900,41342,40093,Story bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,02/Dec/21 9:16 PM,06/Dec/21 2:51 PM,02/Feb/22 6:31 PM,06/Dec/21 2:51 PM,,,,,,,,,Antony.Gorman,James Bartlett,,,,,,6149b13472728e006f9441d6,6139c49114e8340071fcda09,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,06/Dec/21 2:51 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/24084/LivingDoc.html,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* If a CI product has TPD declined (and most likely NON_STANDARD as well), there are no associated reasons listed

*Business Impact:* May prevent the screens from explaining underwriting decisions

*Steps to Reproduce:* Set up an application with a CI product that has a DECLINE underwriting decision for TPD. Get the product decision for the CI product.

*Expected Results:* The TPD decision has an associated list of reasons, which are the names of the enquiry lines that made DECLINE decisions for TPD

*Actual Result:* TPD has an associated but empty list of reasons

*Version:* unknown",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00y1r:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,Guardian Sprint 6,,,,02/Dec/21 9:16 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-06 12:59:02.963,06/Dec/21 12:59 PM;6149b13472728e006f9441d6;[~accountid:6139c49114e8340071fcda09] as per discussion this now yields the raw reasons.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,40093,DecisionService - create a Critical Illness product decision,Done
Postpone reasons are empty on CI product decisions,NBJ-899,41341,40093,Story bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,02/Dec/21 9:16 PM,09/Dec/21 3:25 PM,02/Feb/22 6:31 PM,09/Dec/21 3:25 PM,,,,,,,,,James Bartlett,Kevin.Amoa,,,,,,6139c49114e8340071fcda09,6149b160fac3ce0069d80d37,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,08/Dec/21 10:27 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;Aci_POSTPONE_from_LIFE.json;https://gghltd.atlassian.net/secure/attachment/24141/Aci_POSTPONE_from_LIFE.json,09/Dec/21 3:25 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/24200/LivingDoc.html,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* If a product has the POSTPONE decision, there are no associated reasons listed

*Business Impact:* May prevent the screens from explaining underwriting decisions

*Steps to Reproduce:* Set up an application with a CI product that has a POSTPONE underwriting decision. Get the product decision for the CI product.

*Expected Results:* Each postpone has an associated list of reasons, which are the names of the enquiry lines that made POSTPONE decisions

*Actual Result:* Each postpone has an associated but empty list of reasons

*Version:* unknown",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00y1j:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,Guardian Sprint 6,,,,02/Dec/21 9:16 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-07 00:15:46.277,"07/Dec/21 12:15 AM;6149b160fac3ce0069d80d37;[~accountid:6139c49114e8340071fcda09] Cannot replicate this. Current output for life showing below. Require a test case specifically for CI but this risktype should not behave any differently.

{noformat}https://wa-uwt-decisionservice.azurewebsites.net/api/v1/decision/fc333d1c-23ad-4f3a-bc1d-0f23529cff21{noformat}

{noformat}{
    ""data"": {
        ""applicantId"": ""fc333d1c-23ad-4f3a-bc1d-0f23529cff21"",
        ""smokerStatus"": ""None in the last 5 years"",
        ""riskDecisions"": [
            {
                ""riskType"": ""life"",
                ""decision"": ""Postponed"",
                ""reasons"": [
                    ""Cancer_Other_Group_1"",
                    ""TEST_EL""
                ],
                ""reasonText"": [],
                ""upsell"": {
                    ""isAllowed"": false,
                    ""amount"": 550000
                },
                ""gioEntitlement"": false,
                ""disabilityDefinition"": null,
                ""exclusions"": [],
                ""em"": null,
                ""pm"": null,
                ""postpone"": {
                    ""max"": {
                        ""code"": ""TREATMENT_COMPLETED_5YR"",
                        ""text"": ""Unable to offer cover until 5 years after all treatment has been completed"",
                        ""reasons"": [
                            ""Cancer_Other_Group_1""
                        ]
                    },
                    ""postpones"": [
                        {
                            ""code"": ""TREATMENT_COMPLETED_5YR"",
                            ""text"": ""Unable to offer cover until 5 years after all treatment has been completed"",
                            ""reasons"": [
                                ""Cancer_Other_Group_1""
                            ]
                        },
                        {
                            ""code"": ""SUBARACHNOID_PLUS_1YR"",
                            ""text"": ""Unable to offer cover until 1 year after your Subarachnoid Haemorrhage"",
                            ""reasons"": [
                                ""TEST_EL""
                            ]
                        }
                    ]
                }
            }
        ]
    }
}{noformat}","07/Dec/21 8:58 AM;6139c49114e8340071fcda09;[~accountid:6149b160fac3ce0069d80d37] that is a risk decision, not a product decision.

{noformat}https://wa-uwt-decisionservice.azurewebsites.net/api/v1/decision/48863729-cccf-4751-aeb8-d9e3217481d3/product{noformat}

gives you


{noformat}{
    ""data"": {
        ""applicantId"": ""48863729-cccf-4751-aeb8-d9e3217481d3"",
        ""smokerStatus"": ""None in the last 5 years"",
        ""productDecisions"": [
            {
                ""productType"": ""ci"",
                ""decision"": ""Postponed"",
                ""decisionText"": ""Undefined"",
                ""reasons"": [
                    ""Cancer_Other_Group_1"",
                    ""TEST_EL""
                ],
                ""upsell"": {
                    ""isAllowed"": false,
                    ""amount"": 300000
                },
                ""gioEntitlement"": false,
                ""disabilityDefinition"": null,
                ""exclusions"": [],
                ""em"": null,
                ""pm"": null,
                ""tpd"": {
                    ""isIncluded"": false,
                    ""disabilityDefinition"": ""Own"",
                    ""reasons"": [
                        ""Cancer_Other_Group_1""
                    ]
                }
            }
        ]
    }
}{noformat}","07/Dec/21 9:50 AM;6139c49114e8340071fcda09;sorry [~accountid:6149b160fac3ce0069d80d37] , just realised this happens for the *_aci_* decision as well","08/Dec/21 10:26 AM;6139c49114e8340071fcda09;[~accountid:6149b160fac3ce0069d80d37] in a scenario where the POSTPONE decision comes from the Life and not the CI risk decision (which tbh is very unlikely), the overall decision is correct but the postpone node for both the CI and ACI product decisions is null.

See [https://wa-uwt-decisionservice.azurewebsites.net/api/v1/decision/b0f44693-4011-45d1-80b6-be9d8949637d/product|https://wa-uwt-decisionservice.azurewebsites.net/api/v1/decision/b0f44693-4011-45d1-80b6-be9d8949637d/product]


I’ll also attach the underwriting payload I used.","09/Dec/21 8:33 AM;6149b160fac3ce0069d80d37;[~accountid:6139c49114e8340071fcda09] With the uw enquiry for the applicant below, there is only one a bucket item for  {{POSTPONE_DURATION_LIFE}}. There is no {{POSTPONE_DURATION_CI}} or {{POSTPONE_DURATION_TPD}} 

{code:none}https://ggh-uwt-api.gghltest.co.uk/api/v1/underwriting/b0f44693-4011-45d1-80b6-be9d8949637d{code}","09/Dec/21 9:07 AM;6139c49114e8340071fcda09;[~accountid:6149b160fac3ce0069d80d37] it’s a good point for the CI product, but the ACI product decision should include the postpone from the Life risk.",,,,,,,,,,,,,,,,,,,,,,,,40093,DecisionService - create a Critical Illness product decision,Done
Single applicant request details - initialIndemnityCommission,NBJ-898,41340,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,02/Dec/21 8:55 PM,15/Dec/21 4:52 PM,02/Feb/22 6:31 PM,15/Dec/21 12:39 PM,,Foundation Release,,Sprint_6,,,"*As an* adviser or api consumer
*So that* I can choose the style of commission I get 
*I want* to specify the proportion of Indemnity commission I receive

_NB - this is a single applicant ticket, there will be up to two applicants_

_NB - this is a single quoteCover ticket, there will be a multiple covers ticket that will tie benLine to quoteCover.id_",,Jim Houghton,Nathan Punzalan,,,,,,60cc71a22bd21400692fd2af,613f22fdff23ba00715469d1,,,,,,,,,,,,,Hidden from EXL,NBJ-1011,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Dec/21 8:55 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;LissiaGoLive-request.xml;https://gghltd.atlassian.net/secure/attachment/24024/LissiaGoLive-request.xml,02/Dec/21 8:55 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;LissiaGoLive-response;https://gghltd.atlassian.net/secure/attachment/24025/LissiaGoLive-response,,,,,,,,,,,"*Given* a single life request, supplying dateOfBirth, gender and smokerStatus
*When* quoting on Lissia
*Then* recieve a successful Lissia response
*And* return HTTP 201 CREATED from service
*And* replay application details on response

*Given* any quote request with initialIndemnityPercentage
*When* forming Lissia go live request
*Then* set the ImpPrlBenList.row.ImpItmPocPcmPolicyCommissions/Style
*And* set the ImpPrlBenList.row.ImpItmPocPcmPolicyCommissions/IndemnificationPercent

{code:json}| initialIndemnityPercentage | Style  | IndemnificationPercent |
| 0                          | NINDEM |                        |
| 1-99                       | INDEM  | 1 - 99                 |
| 100                        | INDEM  |                        |{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-119,,,,,,,,,,,,,,,,None,,"_Service Request_

{code:json}POST /api/v1/activate
{
  ""application"": {
    ...
    ""applicants"": [ ... Applicant DTOs ... ],
    ...
    ""quote"": {
      ""initialIndemnityPercentage"" : 0-100,
      ""quoteApplicants"":[
        { 
          ... QuoteApplicant DTO ...
          ""quoteCovers"": [... QuoteCover DTOs ...]
        }
      ]
    }
  }
}{code}

_Service Response_

{noformat}http status code 201{noformat}

{code:json}{
  errors:[],
  data:{
    ""application"": {
      ...
      ""applicants"": [
      ],
      ""quote"": {
        ...
      }
    },
    ""policies"": [
      {
        ""reference"": """"
      }
    ]
  }
}{code}

_Example Lissia Go LIve Request_

{code:json}<wss:Wssglivecall>
	<WssgliveImport command="""" clientId="""" clientPassword="""" nextLocation="""" exitState="""" dialect="""">
		<ImpGrpPrq/>
		<ImpGrpPcr>
			<row>
				...
			</row>
		</ImpGrpPcr>
		<ImpPolPolicies>
			<DateOfApplication/>
			<DateOfCommencement/>
			<Currency/>
		</ImpPolPolicies>
		<ImpGrpPas>
			<row>
				...
			</row>
		</ImpGrpPas>
		<ImpCliCpr>
			<row>
				...
			</row>
		</ImpCliCpr>
		<ImpGrpPlc/>
		<ImpPrlpqmWebService>
			<Prlrqm/>
		</ImpPrlpqmWebService>
		<ImpSrvdetailsWebService>
			...
		</ImpSrvdetailsWebService>
		<ImpPrlBenList>
			<row>
				...
				<ImpItmPcmPrlbenPolicyCommissions>
					<Style>INDEM</Style>
					<IndemnificationPercent>100</IndemnificationPercent>
				</ImpItmPcmPrlbenPolicyCommissions>
				...
			</row>
		</ImpPrlBenList>
		<ImpGrpPfd>
			<row>
				...
			</row>
		</ImpGrpPfd>
	</WssgliveImport>
</wss:Wssglivecall>{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009hzzzvr,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,02/Dec/21 9:13 AM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-15 10:05:20.125,"15/Dec/21 10:05 AM;613f22fdff23ba00715469d1;[~accountid:60cc71a22bd21400692fd2af] , when an initial indemnity percentage is set to 0 or 100, are you still expecting the percentage to get shown on the request sent to Lissia?

I can see in the Lissia GoLive request example you provided the indemnity percentage is set to 100 and is shown in the Lissia request however in the AC when indemnity is set to 100, it’s set to blank in the data table. At the moment, when initial indemnity is set to either 0 or 100 only the ImpPrlBenList.row.ImpItmPocPcmPolicyCommissions/Style is set in the Lissia request and the actual indemnificationPercent is not shown in the Lissia request. Can you confirm this is correct? Or should it be shown even when values are 0 or 100?","15/Dec/21 11:46 AM;60cc71a22bd21400692fd2af;[~accountid:613f22fdff23ba00715469d1] - I am not expecting the indemnity percentage to get set for 0 or 100…. However if it does, this is not a problem Lissia will handle correctly either way.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Single applicant request details - toAge,NBJ-897,41339,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,02/Dec/21 8:33 PM,12/Jan/22 10:42 AM,02/Feb/22 6:31 PM,14/Dec/21 12:29 PM,,Foundation Release,,Sprint_6,,,"*As an* adviser or api consumer
*So that* I can activate a single life/single product application and convert to a policy
*I want* the api takes quoteCover.toAge and maps to Lissia go live request

_NB - this is a single applicant ticket, there will be up to two applicants_

_NB - this is a single quoteCover ticket, there will be a multiple covers ticket that will tie benLine to quoteCover.id_",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,NBJ-1011,,,,,,,,,,,,,,,,,,,,NBJ-1017,,,,,,,,,,02/Dec/21 8:33 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;LissiaGoLive-request.xml;https://gghltd.atlassian.net/secure/attachment/24022/LissiaGoLive-request.xml,02/Dec/21 8:33 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;LissiaGoLive-response;https://gghltd.atlassian.net/secure/attachment/24023/LissiaGoLive-response,,,,,,,,,,,"*Given* a single life request, supplying dateOfBirth, gender and smokerStatus
*When* quoting on Lissia
*Then* recieve a successful Lissia response
*And* return HTTP 201 CREATED from service
*And* replay application details on response

*Given* a single applicant, single cover request specifying coverType
*When* generating Lissia go live request 
*Then* ImpPrlBenList.row.ImpItmPocPrlbenPolicyCoverages.TermAge is set to quote.quoteApplicants.quoteCovers.toAge",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-119,,,,,,,,,,,,,,,,None,,"_Service Request_

{noformat}POST /api/v1/activate
{
  ""application"": {
    ""adviserAtFirmLocationId"": """",
    ...
    ""applicants"": [ ... Applicant DTOs ... ],
    ""quote"": {
      ""quoteApplicants"":[
        { 
          ... QuoteApplicant DTO ...
          ""quoteCovers"": [{... ""toAge"": 65, ...}]
        }
      ]
    }
  }
}{noformat}

_Service Response_

{noformat}http status code 201{noformat}

{code:json}{
  errors:[],
  data:{
    ""application"": {
      ...
      ""applicants"": [
      ],
      ""quote"": {
        ...
      }
    },
    ""policies"": [
      {
        ""reference"": """"
      }
    ]
  }
}{code}

_Example Lissia Go LIve Request_

{code:json}<wss:Wssglivecall>
	<WssgliveImport command="""" clientId="""" clientPassword="""" nextLocation="""" exitState="""" dialect="""">
		<ImpGrpPrq/>
		<ImpGrpPcr>
			<row>
				...
			</row>
		</ImpGrpPcr>
		<ImpPolPolicies>
			<DateOfApplication/>
			<DateOfCommencement/>
			<Currency/>
		</ImpPolPolicies>
		<ImpGrpPas>
			<row>
				...
			</row>
		</ImpGrpPas>
		<ImpCliCpr>
			<row>
				...
			</row>
		</ImpCliCpr>
		<ImpGrpPlc/>
		<ImpPrlpqmWebService>
			<Prlrqm/>
		</ImpPrlpqmWebService>
		<ImpSrvdetailsWebService>
			...
		</ImpSrvdetailsWebService>
		<ImpPrlBenList>
			<row>
				...>
				<ImpItmPocPrlbenPolicyCoverages>
					...
					<TermAge>65</TermAge>
					...
				</ImpItmPocPrlbenPolicyCoverages>
				...
			</row>
		</ImpPrlBenList>
		<ImpGrpPfd>
			<row>
				...
			</row>
		</ImpGrpPfd>
	</WssgliveImport>
</wss:Wssglivecall>{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009hzzzvi,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,02/Dec/21 9:13 AM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Single applicant request details - term,NBJ-896,41338,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,02/Dec/21 8:24 PM,12/Jan/22 10:46 AM,02/Feb/22 6:31 PM,14/Dec/21 12:30 PM,,Foundation Release,,Sprint_6,,,"*As an* adviser or api consumer
*So that* I can activate a single life/single product application and convert to a policy
*I want* the api takes quoteCover.term and maps to Lissia go live request

_NB - this is a single applicant ticket, there will be up to two applicants_

_NB - this is a single quoteCover ticket, there will be a multiple covers ticket that will tie benLine to quoteCover.id_",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,NBJ-1011,,,,,,,,,,,,,,,,,,,,NBJ-1017,,,,,,,,,,02/Dec/21 8:24 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;LissiaGoLive-request.xml;https://gghltd.atlassian.net/secure/attachment/24020/LissiaGoLive-request.xml,02/Dec/21 8:24 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;LissiaGoLive-response;https://gghltd.atlassian.net/secure/attachment/24021/LissiaGoLive-response,,,,,,,,,,,"*Given* a single life request, supplying dateOfBirth, gender and smokerStatus
*When* quoting on Lissia
*Then* recieve a successful Lissia response
*And* return HTTP 201 CREATED from service
*And* replay application details on response

*Given* a single applicant, single cover request specifying coverType
*When* generating Lissia go live request 
*Then* ImpPrlBenList.row.ImpItmPocPrlbenPolicyCoverages.Term is set to quote.quoteApplicants.quoteCovers.term",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-119,,,,,,,,,,,,,,,,None,,"_Service Request_

{noformat}POST /api/v1/activate
{
  ""application"": {
    ""adviserAtFirmLocationId"": """",
    ...
    ""applicants"": [ ... Applicant DTOs ... ],
    ""quote"": {
      ""quoteApplicants"":[
        { 
          ... QuoteApplicant DTO ...
          ""quoteCovers"": [{... ""term"": 15, ...}]
        }
      ]
    }
  }
}{noformat}

_Service Response_

{noformat}http status code 201{noformat}

{code:json}{
  errors:[],
  data:{
    ""application"": {
      ...
      ""applicants"": [
      ],
      ""quote"": {
        ...
      }
    },
    ""policies"": [
      {
        ""reference"": """"
      }
    ]
  }
}{code}

_Example Lissia Go LIve Request_

{code:json}<wss:Wssglivecall>
	<WssgliveImport command="""" clientId="""" clientPassword="""" nextLocation="""" exitState="""" dialect="""">
		<ImpGrpPrq/>
		<ImpGrpPcr>
			<row>
				...
			</row>
		</ImpGrpPcr>
		<ImpPolPolicies>
			<DateOfApplication/>
			<DateOfCommencement/>
			<Currency/>
		</ImpPolPolicies>
		<ImpGrpPas>
			<row>
				...
			</row>
		</ImpGrpPas>
		<ImpCliCpr>
			<row>
				...
			</row>
		</ImpCliCpr>
		<ImpGrpPlc/>
		<ImpPrlpqmWebService>
			<Prlrqm/>
		</ImpPrlpqmWebService>
		<ImpSrvdetailsWebService>
			...
		</ImpSrvdetailsWebService>
		<ImpPrlBenList>
			<row>
				...>
				<ImpItmPocPrlbenPolicyCoverages>
					...
					<Term>12</Term>
					...
				</ImpItmPocPrlbenPolicyCoverages>
				...
			</row>
		</ImpPrlBenList>
		<ImpGrpPfd>
			<row>
				...
			</row>
		</ImpGrpPfd>
	</WssgliveImport>
</wss:Wssglivecall>{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009hzzzv,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,02/Dec/21 9:13 AM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
"Single applicant request details - Cover Amount, quote date",NBJ-895,41337,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,02/Dec/21 7:59 PM,15/Dec/21 4:52 PM,02/Feb/22 6:31 PM,14/Dec/21 6:03 PM,,Foundation Release,,Sprint_6,,,"*As an* adviser or api consumer
*So that* I can activate a single life/single product application and convert to a policy
*I want* the api takes quoteCover.coverAmount/quote.quoteAgeDate and maps to Lissia go live request

_NB - this is a single applicant ticket, there will be up to two applicants_

_NB - this is a single quoteCover ticket, there will be a multiple covers ticket that will tie benLine to quoteCover.id_",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,NBJ-1011,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Dec/21 7:59 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;LissiaGoLive-request.xml;https://gghltd.atlassian.net/secure/attachment/24018/LissiaGoLive-request.xml,02/Dec/21 7:59 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;LissiaGoLive-response;https://gghltd.atlassian.net/secure/attachment/24019/LissiaGoLive-response,,,,,,,,,,,"*Given* a single life request, supplying dateOfBirth, gender and smokerStatus
*When* quoting on Lissia
*Then* recieve a successful Lissia response
*And* return HTTP 201 CREATED from service
*And* replay application details on response

*Given* a single applicant, single cover request specifying coverType
*When* generating Lissia go live request 
*Then* ImpPrlBenList.row.ImpItmPocPrlbenPolicyCoverages.InitialSumAssured is set to quote.quoteApplicants.quoteCovers.coverAmount
*And* ImpPrlBenList.row.ImpItmPocPrlbenPolicyCoverages.QuotationDate is set to the date part of quote.quoteAgeDate
*And* ImpPrlBenList.row.ImpItmPocPrlbenPolicyCoverages.QuotationTime is set to the time part of quote.quoteAgeDate",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-119,,,,,,,,,,,,,,,,None,,"_Service Request_

{code:json}POST /api/v1/activate
{
  ""application"": {
    ""adviserAtFirmLocationId"": """",
    ...
    ""applicants"": [ ... Applicant DTOs ... ],
    ""quote"": {
      ""quoteApplicants"":[
        { 
          ... QuoteApplicant DTO ...
          ""quoteCovers"": [{... ""coverAmount"": 0.00, ...}]
        }
      ]
    }
  }
}{code}

_Service Response_

{noformat}http status code 201{noformat}

{code:json}{
  errors:[],
  data:{
    ""application"": {
      ...
      ""applicants"": [
      ],
      ""quote"": {
        ...
        ""quoteApplicants"":[
          ...
          ""quoteCovers"": [
            {
              ""id"": <guid>,
              ""premium"": 0.00,
              ...
            }
          ]
        ]
      }
    },
    ""policies"": [
      {
        ""reference"": """"
      }
    ]
  }
}{code}

_Example Lissia Go LIve Request_

{code:json}<wss:Wssglivecall>
	<WssgliveImport command="""" clientId="""" clientPassword="""" nextLocation="""" exitState="""" dialect="""">
		<ImpGrpPrq/>
		<ImpGrpPcr>
			<row>
				...
			</row>
		</ImpGrpPcr>
		<ImpPolPolicies>
			<DateOfApplication/>
			<DateOfCommencement/>
			<Currency/>
		</ImpPolPolicies>
		<ImpGrpPas>
			<row>
				...
			</row>
		</ImpGrpPas>
		<ImpCliCpr>
			<row>
				...
			</row>
		</ImpCliCpr>
		<ImpGrpPlc/>
		<ImpPrlpqmWebService>
			<Prlrqm/>
		</ImpPrlpqmWebService>
		<ImpSrvdetailsWebService>
			...
		</ImpSrvdetailsWebService>
		<ImpPrlBenList>
			<row>
				...>
				<ImpItmPocPrlbenPolicyCoverages>
					<InitialSumAssured>45000</InitialSumAssured>
					...
					<QuotationDate>20210602</QuotationDate>
					<QuotationTime>000000</QuotationTime>
					...
				</ImpItmPocPrlbenPolicyCoverages>
				...
			</row>
		</ImpPrlBenList>
		<ImpGrpPfd>
			<row>
				...
			</row>
		</ImpGrpPfd>
	</WssgliveImport>
</wss:Wssglivecall>{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009hzzzu,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,02/Dec/21 9:13 AM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Adding a To age value resulting in a term of less than 5 years results in a potentially incorrect error message,NBJ-894,41328,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,02/Dec/21 6:02 PM,27/Jan/22 12:27 PM,02/Feb/22 6:31 PM,27/Jan/22 12:27 PM,,Foundation Release,,,,,,,Antony.Gorman,James Bartlett,Nathan Punzalan,,,,,6149b13472728e006f9441d6,6139c49114e8340071fcda09,613f22fdff23ba00715469d1,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,20/Jan/22 1:34 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;Screenshot 2022-01-20 at 13.33.58.png;https://gghltd.atlassian.net/secure/attachment/25230/Screenshot+2022-01-20+at+13.33.58.png,26/Jan/22 12:24 PM;nathan.punzalan;image-20220126-122432.png;https://gghltd.atlassian.net/secure/attachment/25391/image-20220126-122432.png,02/Dec/21 6:05 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;toAge_issue_request.json;https://gghltd.atlassian.net/secure/attachment/24015/toAge_issue_request.json,02/Dec/21 6:05 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;toAge_issue_response.json;https://gghltd.atlassian.net/secure/attachment/24016/toAge_issue_response.json,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Low,,,,,,,,,,,,,,"*Description of Issue:* Adding a To age value resulting in a term of less than 5 years results in a potentially incorrect error message

*Business Impact:* low but very unhelpful to the customer

*Steps to Reproduce:*

* On the front end, add a single applicant to an application of age 20.
* Now add a cover and make it to age 23

*Expected Results:* The error message reads “The minimum term is 1 year“ (or “The minimum term is X years“ when the min term for the product is > 1)

*Actual Result:* The error message reads ""The maximum to age is 70""

*Version:* unknown



Simply POST the attached request to the product service - \{\{base_url}}/api/v1/application/G000000002/cover to see the issue.",,{},,,,,,NBJ-128,,,,,,,,,,,,,,,,None,QA / UWT,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwiil:zy,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,Guardian Sprint 8,,,,,02/Dec/21 6:02 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-26 12:23:33.64,"20/Jan/22 1:31 PM;6139c49114e8340071fcda09;retested with an applicant of age 20 and a toAge of 21 - the error message is “The maximum to age is 90”


","26/Jan/22 9:28 AM;6139c49114e8340071fcda09;G000153140 - dob 28/01/2001 and a Life cover with toAge of 21 - error message of “The maximum to age is 90”


apologies for not including evidence with my last comment","26/Jan/22 12:23 PM;613f22fdff23ba00715469d1;[~accountid:6149b13472728e006f9441d6] I have retested with *G000153806*, dob 28/01/2001 and a Life cover with toAge of 21 - error message of “*The minimum term is 1*” however can we change this to show the measurement (ie year) so the message should be “*The minimum term is 1* *year*”

!image-20220126-122432.png|width=1244,height=517!",27/Jan/22 9:07 AM;6149b13472728e006f9441d6;yup - should be sorted now. apologies for that.,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Single applicant request details - product/cover type,NBJ-893,41324,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,02/Dec/21 5:39 PM,15/Dec/21 4:52 PM,02/Feb/22 6:31 PM,14/Dec/21 12:22 PM,,Foundation Release,,Sprint_6,,,"*As an* adviser or api consumer
*So that* I can activate a single life/single product application and convert to a policy
*I want* the api takes quoteCover.coverType/quoteCover.productType and maps to Lissia go live request

_NB - this is a single applicant ticket, there will be up to two applicants_

_NB - this is a single quoteCover ticket, there will be a multiple covers ticket that will tie benLine to quoteCover.id_",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,NBJ-1011,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Dec/21 5:39 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;LissiaGoLive-request.xml;https://gghltd.atlassian.net/secure/attachment/24013/LissiaGoLive-request.xml,02/Dec/21 5:39 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;LissiaGoLive-response;https://gghltd.atlassian.net/secure/attachment/24014/LissiaGoLive-response,,,,,,,,,,,"*Given* a single life request, supplying dateOfBirth, gender and smokerStatus
*When* quoting on Lissia
*Then* recieve a successful Lissia response
*And* return HTTP 201 CREATED from service
*And* replay application details on response

*Given* a single applicant, single cover request specifying coverType
*When* generating Lissia go live request 
*Then* ImpPrlBenList.row.ImpItmPocPrlbenPolicyCoverages.EscOptionAtStart is set

{noformat}| coverType | EscOptionAtStart |
| level     | 1                |
| decreasing| 1                |
| increasing| 2                |
| family    | 1                |{noformat}

*Given* a single applicant, single cover request specifying a productType 
*And* a coverType
*When* generating Lissia go live request
*Then* ImpGrpPas.row.ImpItmPasPrlbenProductLines.PrlId is set to Lissia ProductLine
*And* ImpCliCpr.row.ImpItmCprPrlProductLines.PrlId is set to Lissia ProductLine


{code:json}| productType | coverType | ProductLine |
| life        | level     | TLL         |
| life        | increasing| TLL         |
| life        | decreasing| DTL         |
| life        | family    | FICD        |
| ci          | level     | CIL         |
| ci          | increasing| CIL         |
| ci          | decreasing| CID         |
| ci          | family    | CIFD        |
| aci         | level     | ACIL        |
| aci         | increasing| ACIL        |
| aci         | decreasing| ACID        |
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-119,,,,,,,,,,,,,,,,None,,"# There will be eventually be multiple productCovers per client
# Ignore Child CI (ccic) will be included in later stories
# productType and coverType must always be included in each quoteCover
# productType of aci and coverType of family is not allowed
# ProductLine rules

{adf:display=block}
{""type"":""table"",""attrs"":{""isNumberColumnEnabled"":false,""layout"":""default"",""localId"":""f511466d-71b4-4ec4-8258-67d04ef50108""},""content"":[{""type"":""tableRow"",""content"":[{""type"":""tableHeader"",""attrs"":{""colspan"":2,""rowspan"":2,""colwidth"":[124,124]},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""ProductLine Rules"",""marks"":[{""type"":""strong""}]}]}]},{""type"":""tableHeader"",""attrs"":{""colspan"":4,""colwidth"":[124,124,124,140]},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""quoteCover"",""marks"":[{""type"":""code""}]},{""type"":""text"",""text"":"".productType""}]}]}]},{""type"":""tableRow"",""content"":[{""type"":""tableCell"",""attrs"":{""colwidth"":[124]},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""life""}]}]},{""type"":""tableCell"",""attrs"":{""colwidth"":[124]},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""ci""}]}]},{""type"":""tableCell"",""attrs"":{""colwidth"":[124]},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""aci""}]}]},{""type"":""tableCell"",""attrs"":{""colwidth"":[140]},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""ccic""}]}]}]},{""type"":""tableRow"",""content"":[{""type"":""tableHeader"",""attrs"":{""rowspan"":4,""colwidth"":[124]},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""quoteCover"",""marks"":[{""type"":""code""}]}]},{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":"".coverType""}]}]},{""type"":""tableCell"",""attrs"":{""colwidth"":[124]},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""level""}]}]},{""type"":""tableCell"",""attrs"":{""colwidth"":[124]},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""TLL""}]}]},{""type"":""tableCell"",""attrs"":{""colwidth"":[124]},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""CIL""}]}]},{""type"":""tableCell"",""attrs"":{""colwidth"":[124]},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""ACIL""}]}]},{""type"":""tableCell"",""attrs"":{""colwidth"":[140]},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""RIDCCIL""}]}]}]},{""type"":""tableRow"",""content"":[{""type"":""tableCell"",""attrs"":{""colwidth"":[124]},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""increasing""}]}]},{""type"":""tableCell"",""attrs"":{""colwidth"":[124]},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""TLL""}]}]},{""type"":""tableCell"",""attrs"":{""colwidth"":[124]},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""CIL""}]}]},{""type"":""tableCell"",""attrs"":{""colwidth"":[124]},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""ACIL""}]}]},{""type"":""tableCell"",""attrs"":{""colwidth"":[140]},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""RIDCCI""}]}]}]},{""type"":""tableRow"",""content"":[{""type"":""tableCell"",""attrs"":{""colwidth"":[124]},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""decreasing""}]}]},{""type"":""tableCell"",""attrs"":{""colwidth"":[124]},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""DTL""}]}]},{""type"":""tableCell"",""attrs"":{""colwidth"":[124]},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""CID""}]}]},{""type"":""tableCell"",""attrs"":{""colwidth"":[124]},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""ACID""}]}]},{""type"":""tableCell"",""attrs"":{""colwidth"":[140]},""content"":[{""type"":""paragraph"",""content"":[]}]}]},{""type"":""tableRow"",""content"":[{""type"":""tableCell"",""attrs"":{""colwidth"":[124]},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""family""}]}]},{""type"":""tableCell"",""attrs"":{""colwidth"":[124]},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""FICD""}]}]},{""type"":""tableCell"",""attrs"":{""colwidth"":[124]},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""CIFD""}]}]},{""type"":""tableCell"",""attrs"":{""colwidth"":[124]},""content"":[{""type"":""paragraph"",""content"":[]}]},{""type"":""tableCell"",""attrs"":{""colwidth"":[140]},""content"":[{""type"":""paragraph"",""content"":[]}]}]}]}
{adf}

# Cover Type Rules

{adf:display=block}
{""type"":""table"",""attrs"":{""isNumberColumnEnabled"":false,""layout"":""default"",""localId"":""3c5b0c9e-397a-4f25-a019-0dc1d47aec47""},""content"":[{""type"":""tableRow"",""content"":[{""type"":""tableHeader"",""attrs"":{""rowspan"":3,""colwidth"":[196]},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""EscOptionAtStart Rules"",""marks"":[{""type"":""strong""}]}]}]},{""type"":""tableHeader"",""attrs"":{""colspan"":3,""colwidth"":[188,188,188]},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""quoteCover.coverType"",""marks"":[{""type"":""code""}]}]}]}]},{""type"":""tableRow"",""content"":[{""type"":""tableCell"",""attrs"":{""colwidth"":[188]},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""Level""}]}]},{""type"":""tableCell"",""attrs"":{""colwidth"":[188]},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""Increasing""}]}]},{""type"":""tableCell"",""attrs"":{""colwidth"":[188]},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""Decreasing""}]}]}]},{""type"":""tableRow"",""content"":[{""type"":""tableCell"",""attrs"":{""colwidth"":[188]},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""1""}]}]},{""type"":""tableCell"",""attrs"":{""colwidth"":[188]},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""2""}]}]},{""type"":""tableCell"",""attrs"":{""colwidth"":[188]},""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""1""}]}]}]}]}
{adf}



_Service Request_

{noformat}POST /api/v1/activate
{
  ""application"": {
    ""adviserAtFirmLocationId"": """",
    ...
    ""applicants"": [ ... Applicant DTOs ... ],
    ""quote"": {
      ""quoteApplicants"":[
        { 
          ... QuoteApplicant DTO ...
          ""quoteCovers"": [{""id"": <guid>,""premium"": 0.00, ...}]
        }
      ]
    }
  }
}{noformat}

_Service Response_

{noformat}http status code 201{noformat}

{code:json}{
  errors:[],
  data:{
    ""application"": {
      ...
      ""applicants"": [
      ],
      ""quote"": {
        ...
        ""quoteApplicants"":[
          ...
          ""quoteCovers"": [
            {
              ""id"": <guid>,
              ""premium"": 0.00,
              ...
            }
          ]
        ]
      }
    },
    ""policies"": [
      {
        ""reference"": """" // WssglivecallResponse/WssgliveExport/ExpCliCpr/row/ExpItmCliClients/CliId
      }
    ]
  }
}{code}

_Example Lissia Go LIve Request_

{code:json}<wss:Wssglivecall>
	<WssgliveImport command="""" clientId="""" clientPassword="""" nextLocation="""" exitState="""" dialect="""">
		<ImpGrpPrq/>
		<ImpGrpPcr>
			<row>
				...
			</row>
		</ImpGrpPcr>
		<ImpPolPolicies>
			<DateOfApplication/>
			<DateOfCommencement/>
			<Currency/>
		</ImpPolPolicies>
		<ImpGrpPas>
			<row>
				...
				<ImpItmPasPrlbenProductLines>
					<PrlId>ACIL</PrlId>
				</ImpItmPasPrlbenProductLines>
				...
			</row>
		</ImpGrpPas>
		<ImpCliCpr>
			<row>
				...
				<ImpItmCprPrlProductLines>
					<PrlId>ACIL</PrlId>
				</ImpItmCprPrlProductLines>
				...
			</row>
		</ImpCliCpr>
		<ImpGrpPlc/>
		<ImpPrlpqmWebService>
			<Prlrqm/>
		</ImpPrlpqmWebService>
		<ImpSrvdetailsWebService>
			...
		</ImpSrvdetailsWebService>
		<ImpPrlBenList>
			<row>
				...
				<ImpItmPocPrlbenPolicyCoverages>
					...
					<EscOptionAtStart>1</EscOptionAtStart>
					...
				</ImpItmPocPrlbenPolicyCoverages>
				...
			</row>
		</ImpPrlBenList>
		<ImpGrpPfd>
			<row>
				...
			</row>
		</ImpGrpPfd>
	</WssgliveImport>
</wss:Wssglivecall>{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009hzzzs,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,02/Dec/21 9:13 AM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Single applicant request details - premium,NBJ-892,41323,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,02/Dec/21 5:17 PM,15/Dec/21 4:52 PM,02/Feb/22 6:31 PM,14/Dec/21 12:03 PM,,Foundation Release,,Sprint_6,,,"*As an* adviser or api consumer
*So that* I can activate a single life application and convert to a policy
*I want* the api takes quoteCover.premium and maps to Lissia go live request

_NB - this is a single applicant ticket, there will be up to two applicants_

_NB - this is a single quoteCover ticket, there will be a multiple covers ticket that will tie benLine to quoteCover.id_",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,NBJ-1011,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Dec/21 5:17 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;LissiaGoLive-request.xml;https://gghltd.atlassian.net/secure/attachment/24010/LissiaGoLive-request.xml,02/Dec/21 5:17 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;LissiaGoLive-response;https://gghltd.atlassian.net/secure/attachment/24011/LissiaGoLive-response,,,,,,,,,,,"*Given* a single life request, supplying dateOfBirth, gender and smokerStatus
*When* quoting on Lissia
*Then* recieve a successful Lissia response
*And* return HTTP 201 CREATED from service
*And* replay application details on response

*Given* a single life request
*When* producing go live request on Lissia
*Then* ImpPrlBenList.row.ImpItmPcpPrlbenPolicyPremiums.ModalPremium set to application.quote.applicants.quoteCover.premium from request
*And* ImpPrlBenList.row.ImpItmPcpPrlbenPolicyPremiums.Currency set to “GBP”
*And* ImpPrlBenList.row.ImpItmPcpPrlbenPolicyPremiums.Frequency set to 5
*And* ImpPrlBenList.row.ImpItmPcpPrlbenPolicyPremiums.CollectionMethod set to 3
*And* ImpPrlBenList.row.ImpItmPcpPrlbenPolicyPremiums.CollectionMethodPremium1 set to 3
*And* ImpPrlBenList.row.ImpItmPcpPrlbenPolicyPremiums.CollectionSubMethod1 set to 1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-119,,,,,,,,,,,,,,,,None,,"_Service Request_

{noformat}POST /api/v1/activate
{
  ""application"": {
    ""adviserAtFirmLocationId"": """",
    ...
    ""applicants"": [ ... Applicant DTOs ... ],
    ""quote"": {
      ""quoteApplicants"":[
        { 
          ... QuoteApplicant DTO ...
          ""quoteCovers"": [{""id"": <guid>,""premium"": 0.00, ...}]
        }
      ]
    }
  }
}{noformat}

_Service Response_

{code:json}HTTP 201
{
  errors:[],
  data:{
    ""application"": {
      ...
      ""applicants"": [
      ],
      ""quote"": {
        ...
        ""quoteApplicants"":[
          ...
          ""quoteCovers"": [
            {
              ""id"": <guid>,
              ""premium"": 0.00,
              ...
            }
          ]
        ]
      }
    },
    ""policies"": [
      {
        ""reference"": """" // WssglivecallResponse/WssgliveExport/ExpCliCpr/row/ExpItmCliClients/CliId
      }
    ]
  }
}{code}

_Example Lissia Go LIve Request_

{code:json}<wss:Wssglivecall>
	<WssgliveImport command="""" clientId="""" clientPassword="""" nextLocation="""" exitState="""" dialect="""">
		<ImpGrpPrq/>
		<ImpGrpPcr>
			<row>
				...
			</row>
		</ImpGrpPcr>
		<ImpPolPolicies>
			<DateOfApplication/>
			<DateOfCommencement/>
			<Currency/>
		</ImpPolPolicies>
		<ImpGrpPas>
			<row>
				...
			</row>
		</ImpGrpPas>
		<ImpCliCpr>
			<row>
				...
			</row>
		</ImpCliCpr>
		<ImpGrpPlc/>
		<ImpPrlpqmWebService>
			<Prlrqm/>
		</ImpPrlpqmWebService>
		<ImpSrvdetailsWebService>
			...
		</ImpSrvdetailsWebService>
		<ImpPrlBenList>
			<row>
				...
				<ImpItmPcpPrlbenPolicyPremiums>
					<Currency>GBP</Currency> <!-- always GBP -->
					<Frequency>5</Frequency> <!-- always 5 -->
					<CollectionMethod>3</CollectionMethod> <!-- always 3 -->
					<ModalPremium>25.81</ModalPremium> <!-- mapped from quote.applicant.quoteCover.premium -->
					<CollectionMethodPremium1>3</CollectionMethodPremium1> <!-- always 3 -->
					<CollectionSubMethod>1</CollectionSubMethod> <!-- always 1 -->
					...
				</ImpItmPcpPrlbenPolicyPremiums>
				...
			</row>
		</ImpPrlBenList>
		<ImpGrpPfd>
			<row>
				...
			</row>
		</ImpGrpPfd>
	</WssgliveImport>
</wss:Wssglivecall>{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009hzzzo,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,02/Dec/21 9:13 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Single applicant request details - agentId,NBJ-891,41320,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,02/Dec/21 5:02 PM,15/Dec/21 4:52 PM,02/Feb/22 6:31 PM,14/Dec/21 12:50 PM,,Foundation Release,,Sprint_6,,,"*As an* adviser or api consumer
*So that* I can activate a single life application and convert to a policy
*I want* the api takes a adviserAtFirmLocationId and maps onto Lissia go lIve request

_NB - this is a single applicant ticket, there will be further tickets for multiple applicants_",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,NBJ-1011,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Dec/21 5:02 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;LissiaGoLive-request.xml;https://gghltd.atlassian.net/secure/attachment/24008/LissiaGoLive-request.xml,02/Dec/21 5:02 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;LissiaGoLive-response;https://gghltd.atlassian.net/secure/attachment/24009/LissiaGoLive-response,,,,,,,,,,,"*Given* a single life request, supplying dateOfBirth, gender and smokerStatus
*When* quoting on Lissia
*Then* recieve a successful Lissia response
*And* return HTTP 201 CREATED from service
*And* replay application details on response

*Given* a single life request
*When* producing go live request on Lissia
*Then* ImpGrpPas.row.ImpItmAgtPrlbenAgents.ExternalToken set to application.adviserAtFirmLocationId from request",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-119,,,,,,,,,,,,,,,,None,,"_Service Request_

{code:json}POST /api/v1/activate/{applicationId}{code}

{noformat}{
  ""application"": {
    ""adviserAtFirmLocationId"": """",
    ...
    ""applicants"": [
        ...
    ]
  
  }
}{noformat}

_Service Response_

{noformat}http status code 201{noformat}

{code:json}{
  errors:[],
  data:{
    ""application"": {
      ...
      ""applicants"": [
      ]
    }
    ""policies"": [
      {
        ""reference"": """" // WssglivecallResponse/WssgliveExport/ExpCliCpr/row/ExpItmCliClients/CliId
      }
    ]
  }
}{code}

_Example Lissia Go LIve Request_

{code:json}<wss:Wssglivecall>
	<WssgliveImport command="""" clientId="""" clientPassword="""" nextLocation="""" exitState="""" dialect="""">
		<ImpGrpPrq/>
		<ImpGrpPcr>
			<row>
				...
			</row>
		</ImpGrpPcr>
		<ImpPolPolicies>
			<DateOfApplication/>
			<DateOfCommencement/>
			<Currency/>
		</ImpPolPolicies>
		<ImpGrpPas>
			<row>
				...
				<ImpItmAgtPrlbenAgents>
					<ExternalToken>a0r0E000004rQM5QAM</ExternalToken> <!-- application.adviserAtFirmLocationId -->
				</ImpItmAgtPrlbenAgents>
			</row>
		</ImpGrpPas>
		<ImpCliCpr>
			<row>
				...
			</row>
		</ImpCliCpr>
		<ImpGrpPlc/>
		<ImpPrlpqmWebService>
			<Prlrqm/>
		</ImpPrlpqmWebService>
		<ImpSrvdetailsWebService>
			...
		</ImpSrvdetailsWebService>
		<ImpPrlBenList>
			<row>
				...
			</row>
		</ImpPrlBenList>
		<ImpGrpPfd>
			<row>
				...
			</row>
		</ImpGrpPfd>
	</WssgliveImport>
</wss:Wssglivecall>{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009hzzzg,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,02/Dec/21 9:13 AM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Sprint 5 | Address lookup taking me back to the address fields and not populating the first value in the list on the drop down,NBJ-889,41318,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,02/Dec/21 4:59 PM,02/Dec/21 9:58 PM,02/Feb/22 6:31 PM,02/Dec/21 9:58 PM,,Foundation Release,,,,,,,Justin.Smith,,,,,,,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-514,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: Address lookup taking me back to the old address fields and not putting the first address in the drop down

Business Impact: Medium

Steps to Reproduce: 
1. On the application tab click on post code lookup
2. Enter a valid postcode
3. Addresses found and the first one in the list is shown in the drop down
4. Select an address from the list
5. Address details are shown in the address fields
6. Click on use post code look up link
7. I then get taken back to the lookup postcode text box
8. If I start typing in here it takes me back to the address fields
9. If I enter the full postcode and click look up then the first address is not shown in the list

Expected Results: I was expecting the same behaviour every time I do a look up - I get a list and I select from it.

Actual Result: Taken back to the address fields and the first address is not shown in the list

[https://watch.screencastify.com/v/x0uKIEmD2dielIoAmWN1|https://watch.screencastify.com/v/x0uKIEmD2dielIoAmWN1]

Version: N/A",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00xxr:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,02/Dec/21 4:59 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Dec/21 5:38 PM;618bdfc5fba4d0006ad4853e;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5]  has fixed this as well. Putting into test.,02/Dec/21 9:57 PM;618bdfc5fba4d0006ad4853e;This is all good now.  Marking as closed.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Sprint 5 | Single applicant I can't answer the question regarding mortgage details on application tab,NBJ-888,41316,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,02/Dec/21 4:28 PM,02/Dec/21 5:33 PM,02/Feb/22 6:31 PM,02/Dec/21 5:33 PM,,Foundation Release,,,,,,,Justin.Smith,,,,,,,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,,Hidden from EXL,NBJ-653,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: I can't answer the mortgage details question on the application tab for a single applicant

Business Impact: Highish

Steps to Reproduce: 
1. Navigate to the dashboard
2. Enter client details
3. Select a cover
4. Enter contact details
5. Attempt to click on 'No' for the mortgage question
6. Nothing happens

Expected Results: No is selected

Video of the issue - https://watch.screencastify.com/v/3CU072cs85euXKnDjh8T

Actual Result: No is not selected

Version: N/A",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00xxb:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,02/Dec/21 4:28 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Dec/21 4:29 PM;618bdfc5fba4d0006ad4853e;Having spoken to [~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] about this he mentioned the following - I think i've found the issue - it's checking for a valid 2nd applicant, but if there's only 1 applicant it won't let you continue - I'll fix",02/Dec/21 5:33 PM;618bdfc5fba4d0006ad4853e;This is all good. Closing.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Retrieve bank account details,NBJ-887,41294,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,02/Dec/21 2:34 PM,28/Jan/22 10:56 AM,02/Feb/22 6:31 PM,,,Foundation Release,,Sprint_7,,,"*As an* api consumer
*So that* I can retrieve bank account details for an application
*I want* the application api to include bank account details in its response

{panel:bgColor=#deebff}
This story is about including bank details in the application json response for consumption by front end, generating go live and any salesforce events
{panel}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,NBJ-433,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Scenario* retrieving bank details on a separate endpoint

*Given* any request for the current bank details
*When* responding
*Then* bank details are included

{noformat}| Field                                   | ExpectedValues                                           | Related jira | 
| application.bankAccountOwner            | <firstApplicantname> or <secondApplicantName> or ""Joint"" | NBJ-1246     |
| application.isBankAddressSame           | true or false                                            | NBJ-1246     |
| application.bankDetails.applicantId     | <guid>                                                   | NBJ-1246     |
| application.bankDetails.accountName     | <firstApplicantname> or <secondApplicantName>            | NBJ-1246     |
| application.bankDetails.sortCode        | valid sortCode                                           | NBJ-1246     |
| application.bankDetails.accountCode     | valid account number                                     | NBJ-1246     |
| application.bankDetails.nameScore       | experian name score                                      | NBJ-343      |
| application.bankDetails.addressScore    | experian address score                                   | NBJ-343      |
| application.bankDetails.bankCheckResult | experian bank check result                               | NBJ-343      |
| application.bankDetails.contactDetails  | the billing address containing contactDetails fields     | NBJ-1246     |{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-767,,,,,,,,,,,,,,,,None,,[https://gghltd.atlassian.net/wiki/spaces/NP/pages/2809757737/application+entity|https://gghltd.atlassian.net/wiki/spaces/NP/pages/2809757737/application+entity|smart-link] ,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwibi:8,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Dec/21 9:13 AM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,25/Jan/22 1:52 PM;60cc71a22bd21400692fd2af;[~accountid:616ee20e2097220071a975d2] - refine to include security concerns,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Single applicant request details - contact details,NBJ-885,41287,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,02/Dec/21 2:15 PM,15/Dec/21 4:52 PM,02/Feb/22 6:31 PM,14/Dec/21 10:48 AM,,Foundation Release,,Sprint_6,,,"*As an* adviser or api consumer
*So that* I can activate a single life application and convert to a policy
*I want* the api takes a single applicant contact information in the standard data model format to a Lissia quote request

_NB - this is a single applicant ticket, there will follow stories for multiple applicants_",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,NBJ-1011,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Dec/21 2:15 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;LissiaGoLive-request.xml;https://gghltd.atlassian.net/secure/attachment/23999/LissiaGoLive-request.xml,02/Dec/21 2:15 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;LissiaGoLive-response;https://gghltd.atlassian.net/secure/attachment/24000/LissiaGoLive-response,,,,,,,,,,,"*Given* a single life request, supplying dateOfBirth, gender and smokerStatus
*When* quoting on Lissia
*Then* recieve a successful Lissia response
*And* return HTTP 201 CREATED from service
*And* replay application details on response

*Given* a single life request
*When* producing go live request on Lissia
*Then* ImpCliCpr.row.ImpItmClcClientContactDetails.AddressLine1 set to application.applicant.contactDetail.address1 from request
*And* ImpCliCpr.row.ImpItmClcClientContactDetails.AddressLine2 set to application.applicant.contactDetail.address2 from request
*And* ImpCliCpr.row.ImpItmClcClientContactDetails.AddressLine3 set to application.applicant.contactDetail.address3 from request
*And*  ImpCliCpr.row.ImpItmClcClientContactDetails.Town set to application.applicant.contactDetail.cityName from request
*And* ImpCliCpr.row.ImpItmClcClientContactDetails.County set to application.applicant.contactDetail.county from request
*And* ImpCliCpr.row.ImpItmClcClientContactDetails.Postcode set to application.applicant.contactDetail.postcode from request
*And* ImpCliCpr.row.ImpItmClcClientContactDetails.Email set to application.applicant.contactDetail.email from request
*And* ImpCliCpr.row.ImpItmClcClientContactDetails.HomePhone set to application.applicant.contactDetail.phoneNumber from request
*And* ImpCliCpr.row.ImpItmCliClients.Email set to application.applicant.contactDetail.email from request
*And*  ImpCliCpr.row.ImpItmCliClients.MobileTelNo set to application.applicant.contactDetail.phoneNumber from request
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-119,,,,,,,,,,,,,,,,None,,"_Service Request_

{noformat}POST /api/v1/activate
{
  ""application"": {
    ...
    ""applicants"": [
      {
        ...
        ""contactDetail"": {
          ""address1"": """",
          ""address2"": """",
          ""address3"": """",
          ""cityName"": """",
          ""county"": """",
          ""emailAddress"": """",
          ""phoneNumber"": """",
          ""postcode"": """"
        }
      },
      {...}
    ]
  
  }
}{noformat}

_Service Response_

{noformat}http status code 201{noformat}

{code:json}{
  errors:[],
  data:{
    ""application"":{
      ...
    },
    ""policies"": [
      {
        ""reference"": """" // WssglivecallResponse/WssgliveExport/ExpCliCpr/row/ExpItmCliClients/CliId
      }
    ]
  }
}{code}

_Example Lissia Go LIve Request_

{code:json}<wss:Wssglivecall>
	<WssgliveImport command="""" clientId="""" clientPassword="""" nextLocation="""" exitState="""" dialect="""">
		<ImpGrpPrq/>
		<ImpGrpPcr>
			<row>
				...
			</row>
		</ImpGrpPcr>
		<ImpPolPolicies>
			<DateOfApplication/>
			<DateOfCommencement/>
			<Currency/>
		</ImpPolPolicies>
		<ImpGrpPas>
			<row>
				...
			</row>
		</ImpGrpPas>
		<ImpCliCpr>
			<row>
				...
				<ImpItmClcClientContactDetails>
					<AddressLine1>26 DummyData Street</AddressLine1>
					<AddressLine2>Townsville</AddressLine2>
					<AddressLine3/>
					<AddressLine4/> <!-- Always empty -->
					<Town>Castleford</Town>
					<County>West Yorkshire</County>
					<Country>GBR</Country> <!-- Always GBR -->
					<Postcode>WF10 4AU</Postcode>
					<Fax/> <!-- Always empty -->
					<HomePhone>06777333333</HomePhone>
					<Email>shaggyhms@gtest1821.co.uk</Email>
					<HouseNo/> <!-- Always empty -->
				</ImpItmClcClientContactDetails>
				<ImpItmCliClients>
					...
					<Email>shaggyhms@gtest1821.co.uk</Email>
					...
					<MobileTelNo>06777333333</MobileTelNo>
					...
				</ImpItmCliClients>
			</row>
		</ImpCliCpr>
		<ImpGrpPlc/>
		<ImpPrlpqmWebService>
			<Prlrqm/>
		</ImpPrlpqmWebService>
		<ImpSrvdetailsWebService>
			...
		</ImpSrvdetailsWebService>
		<ImpPrlBenList>
			<row>
				...
			</row>
		</ImpPrlBenList>
		<ImpGrpPfd>
			<row>
				...
			</row>
		</ImpGrpPfd>
	</WssgliveImport>
</wss:Wssglivecall>{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009hzzz,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,02/Dec/21 9:13 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
PATCH /api/v1/actions/MutateCovers/edit not invalidating the quote or doc,NBJ-884,41286,40844,Story bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,02/Dec/21 2:14 PM,02/Dec/21 7:57 PM,02/Feb/22 6:31 PM,02/Dec/21 7:57 PM,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: {{PATCH /api/v1/actions/MutateCovers/edit}} should remove both the persisted quote and quote document ID but it is currently leaving them in place.

Business Impact: Wrong prices shown

Steps to Reproduce: Add a life, add a cover, get a quote - check the application has everything persisted it should have… edit the cover…check the application again",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00xqn:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,02/Dec/21 2:14 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,40844,Invalidate quote when applicants or covers change,Done
"Single applicant request details - Name, dob, gender and smokerStatus",NBJ-883,41270,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,02/Dec/21 1:16 PM,15/Dec/21 4:52 PM,02/Feb/22 6:31 PM,14/Dec/21 10:24 AM,,Foundation Release,,Sprint_6,,,"*As an* adviser or api consumer
*So that* I can activate a single life application and convert to a policy
*I want* the api takes a single applicant information in the standard data model format to a Lissia quote request

_NB - this is a single applicant ticket, there will follow further stories for multiple applicants_",,Antony.Gorman,Jim Houghton,,,,,,6149b13472728e006f9441d6,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,NBJ-1011,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Dec/21 1:16 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;LissiaGoLive-request.xml;https://gghltd.atlassian.net/secure/attachment/23990/LissiaGoLive-request.xml,02/Dec/21 1:16 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;LissiaGoLive-response;https://gghltd.atlassian.net/secure/attachment/23991/LissiaGoLive-response,,,,,,,,,,,"*Given* a single life request, supplying dateOfBirth, gender and smokerStatus
*When* quoting on Lissia
*Then* recieve a successful Lissia response
*And* return HTTP 201 CREATED from service
*And* replay application details on response

*Given* a single life request
*When* producing go live request on Lissia
*Then* ImpCliCpr.row.ImpItmCliClients.Title set to application.applicant.title from request
*And* ImpCliCpr.row.ImpItmCliClients.FirstName set to application.applicant.firstName from request
*And*  ImpCliCpr.row.ImpItmCliClients.Name set to application.applicant.lastName from request
*And* ImpCliCpr.row.ImpItmCliClients.DateOfBirth set to application.applicant.dateOfBirth from request
*And*  ImpCliCpr.row.ImpItmCliClients.Sex set to application.applicant.gender from request \[male - 2, female - 3] 
*And*  ImpCliCpr.row.ImpItmCliClients.Smoker set to application.applicant.smokerStatus from request \[Last_5 - 3, Last_1 - 4, Smoker - 2]",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-119,,,,,,,,,,,,,,,,None,,"_Service Request_

{noformat}POST /api/v1/activate
{
  ""application"": {
    ...
    ""applicants"": [
      {
        ""title"": """",
        ""firstName"": """",
        ""lastName"": """",
        ""dateOfBirth"": utc timestamp,
        ""gender"": ""male | female"",
        ""smokerStatus"": """",
        ...
      },
      {...}
    ]
  
  }
}{noformat}

_Service Response_

{noformat}http status code 201{noformat}

{code:json}{
  errors:[],
  data:{
    ""application"":{
      ...
    }
    ""policies"": [
      {
        ""reference"": """" // WssglivecallResponse/WssgliveExport/ExpCliCpr/row/ExpItmCliClients/CliId
      }
    ]
  }
}{code}

_Example Lissia Go LIve Request_

{code:json}<wss:Wssglivecall>
	<WssgliveImport command="""" clientId="""" clientPassword="""" nextLocation="""" exitState="""" dialect="""">
		<ImpGrpPrq/>
		<ImpGrpPcr>
			<row>
				...
			</row>
		</ImpGrpPcr>
		<ImpPolPolicies>
			<DateOfApplication/>
			<DateOfCommencement/>
			<Currency/>
		</ImpPolPolicies>
		<ImpGrpPas>
			<row>
				...
			</row>
		</ImpGrpPas>
		<ImpCliCpr>
			<row>
				...
				<ImpItmCliClients>
					<Name>Houghton</Name>
					<OtherFornames/>
					<FirstName>Jim</FirstName>
					<Title>Mr</Title>
					<DateOfBirth>19800108</DateOfBirth>
					<Sex>3</Sex>
					<Smoker>3</Smoker>
					...
				</ImpItmCliClients>
			</row>
		</ImpCliCpr>
		<ImpGrpPlc/>
		<ImpPrlpqmWebService>
			<Prlrqm/>
		</ImpPrlpqmWebService>
		<ImpSrvdetailsWebService>
			...
		</ImpSrvdetailsWebService>
		<ImpPrlBenList>
			<row>
				...
			</row>
		</ImpPrlBenList>
		<ImpGrpPfd>
			<row>
				...
			</row>
		</ImpGrpPfd>
	</WssgliveImport>
</wss:Wssglivecall>{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009hzzyi,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,02/Dec/21 9:13 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-09 13:38:19.099,09/Dec/21 1:38 PM;6149b13472728e006f9441d6;I’m not clear how this is to be tested tbh. The requests will error (from lissia) until we fully build them up. It would worth checking in with Mike H to see if any UI or logging is available to check what we sent etc.,"10/Dec/21 10:59 AM;6149b13472728e006f9441d6;more notes; the direct Uri is

POST {{http://wa-uwt-activationservice.azurewebsites.net/api/v1/activate}}

[~accountid:610c00d94e8d8d0069a20d6c] can this makes its way to the APIM? ta",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Initial activation request,NBJ-882,41235,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,02/Dec/21 9:13 AM,24/Jan/22 1:52 PM,02/Feb/22 6:31 PM,14/Dec/21 10:14 AM,,Foundation Release,,Sprint_6,,,"*As an* adviser or api consumer
*So that* I can activate my application and convert to a policy
*I want* an activation service

This is about receiving an application request and creating a policy on Lissia from a pre-defined Lissia golive request",,Chris.Hibbert,Jim Houghton,Nathan Punzalan,,,,,60cc71a1d5dde800713a2124,60cc71a22bd21400692fd2af,613f22fdff23ba00715469d1,,,,,,,,,,,,Hidden from EXL,NBJ-883,NBJ-885,NBJ-891,NBJ-892,NBJ-893,NBJ-895,NBJ-896,NBJ-897,NBJ-898,NBJ-901,,,,,,,,,,,,,,,,,,,,,02/Dec/21 1:15 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;LissiaGoLive-request.xml;https://gghltd.atlassian.net/secure/attachment/23988/LissiaGoLive-request.xml,02/Dec/21 1:15 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;LissiaGoLive-response;https://gghltd.atlassian.net/secure/attachment/23989/LissiaGoLive-response,,,,,,,,,,,"*Given* an activation request
*And* hard coded go live request
*When* successfully activated
*Then* respond with a 201
*And* the policy.reference sourced from WssglivecallResponse/WssgliveExport/ExpCliCpr/row/ExpItmCliClients/CliId on the Lissia go live response message",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-119,,,,,,,,,,,,,,,,None,,"This is about the happy path…

_Service Request_

{code:json}POST /api/v1/activate
{} // eventually the payload will be an Application DTO{code}

_Service Response_

{noformat}http status code 201{noformat}

{noformat}{
  errors:[],
  data:{
    ""policies"": [
      {
        ""reference"": """" // WssglivecallResponse/WssgliveExport/ExpCliCpr/row/ExpItmCliClients/CliId
      }
    ]
  }
}{noformat}

_Example Lissia Go LIve Request_

{code:json}<wss:Wssglivecall>
	<WssgliveImport command="""" clientId="""" clientPassword="""" nextLocation="""" exitState="""" dialect="""">
		<ImpGrpPrq/>
		<ImpGrpPcr>
			<row>
				<ImpItmPcrCliTypeCliPolRelationships>
					<Type/>
				</ImpItmPcrCliTypeCliPolRelationships>
				<ImpItmPcrPrlProductLines>
					<PrlId/>
				</ImpItmPcrPrlProductLines>
				<ImpItmPcrQrefWebService>
					<BenLine/>
					<QuoteRef/>
				</ImpItmPcrQrefWebService>
				<ImpItmPcrPolicyCvgReinsDetails>
					<Treaty/>
					<Amount/>
					<ReinsurerCode/>
					<Coverage/>
					<Reinsurer/>
					<ClientId>0</ClientId>
					<EffectiveDate/>
					<Retention/>
					<FacSumReinsured/>
					<FacRiRate/>
					<FacRiPremium/>
					<Frequency/>
					<FacRiCommissionPc/>
				</ImpItmPcrPolicyCvgReinsDetails>
			</row>
		</ImpGrpPcr>
		<ImpPolPolicies>
			<DateOfApplication/>
			<DateOfCommencement/>
			<Currency/>
		</ImpPolPolicies>
		<ImpGrpPas>
			<row>
				<ImpSelPasIefSupplied>
					<SelectChar/>
				</ImpSelPasIefSupplied>
				<ImpItmPasQrefWebService>
					<BenLine>1</BenLine>
					<QuoteRef/>
				</ImpItmPasQrefWebService>
				<ImpItmPasPrlbenProductLines>
					<PrlId>ACIL</PrlId>
				</ImpItmPasPrlbenProductLines>
				<ImpItmPasPrlbenPolicyAgentShares>
					<Status/>
					<Coverage/>
					<Agent/>
					<PasId/>
					<Percentage>100</Percentage>
					<Type/>
					<SpecificIce/>
					<SacrificeAmount/>
					<SacrificePercent>0</SacrificePercent>
					<PrimaryAgent>1</PrimaryAgent>
					<SacrificeType/>
					<RenewalSacrificePcg/>
				</ImpItmPasPrlbenPolicyAgentShares>
				<ImpItmAgtPrlbenAgents>
					<ExternalToken>a0r0E000004rQM5QAM</ExternalToken>
				</ImpItmAgtPrlbenAgents>
			</row>
		</ImpGrpPas>
		<ImpCliCpr>
			<row>
				<ImpItmCprPclPolicyCvgLives>
					<AgeRating/>
					<AddnFactor>1.00</AddnFactor>
					<AddnRpm>0</AddnRpm>
					<RatingReason/>
					<RatingTerm/>
					<UnderwriterRiskCategory/>
					<MaxCeaseAge/>
				</ImpItmCprPclPolicyCvgLives>
				<ImpItmCprQrefWebService>
					<BenLine>1</BenLine>
					<QuoteRef/>
				</ImpItmCprQrefWebService>
				<ImpItmBkaCprBankAccounts>
					<AccountName>Gynea Test</AccountName>
					<SortCode>205132</SortCode>
					<AccountCode>13537846</AccountCode>
					<MandateReference/>
				</ImpItmBkaCprBankAccounts>
				<ImpItmCprPrlProductLines>
					<PrlId>ACIL</PrlId>
				</ImpItmCprPrlProductLines>
				<ImpItmCprTypeCliPolRelationships>
					<TypeNumber/>
					<Type>4</Type>
					<PercentageSplit/>
				</ImpItmCprTypeCliPolRelationships>
				<ImpSelCliCprIefSupplied>
					<SelectChar/>
				</ImpSelCliCprIefSupplied>
				<ImpItmClcClientContactDetails>
					<AddressLine1>26 DummyData Street</AddressLine1>
					<AddressLine2>Townsville</AddressLine2>
					<AddressLine3/>
					<AddressLine4/>
					<Town>Castleford</Town>
					<County>West Yorkshire</County>
					<Country>GBR</Country>
					<Postcode>WF10 4AU</Postcode>
					<Fax/>
					<HomePhone>06777333333</HomePhone>
					<Email>shaggyhms@gtest1821.co.uk</Email>
					<HouseNo/>
				</ImpItmClcClientContactDetails>
				<ImpItmCliClients>
					<Name>Test</Name>
					<OtherFornames/>
					<FirstName>Gynea</FirstName>
					<Title>Mrs</Title>
					<DateOfBirth>19800108</DateOfBirth>
					<Sex>3</Sex>
					<Smoker>3</Smoker>
					<Email>shaggyhms@gtest1821.co.uk</Email>
					<RiskCat/>
					<Salutation/>
					<MobileTelNo>06777333333</MobileTelNo>
					<WorkTelNo/>
					<MaidenName/>
					<Weight/>
					<Height/>
					<MaritalStatus/>
					<Nationality/>
					<CliId>0</CliId>
					<Type/>
					<Bmi/>
					<WaistSize/>
					<Salary>35000</Salary>
					<SalaryCurrency>GBP</SalaryCurrency>
				</ImpItmCliClients>
			</row>
		</ImpCliCpr>
		<ImpGrpPlc/>
		<ImpPrlpqmWebService>
			<Prlrqm/>
		</ImpPrlpqmWebService>
		<ImpSrvdetailsWebService>
			<Pcdate/>
			<Srvtimings/>
			<ServiceUserid/>
			<RecordImport/>
		</ImpSrvdetailsWebService>
		<ImpPrlBenList>
			<row>
				<ImpItmBenStatWebService>
					<StatusChng/>
				</ImpItmBenStatWebService>
				<ImpItmBenPolPolicies>
					<PolId/>
					<ReferrerId/>
					<AdditionalId/>
					<Linkage/>
					<AdvisedStatus>2</AdvisedStatus>
					<BeneficiariesStatus>3</BeneficiariesStatus>
				</ImpItmBenPolPolicies>
				<ImpItmBenQrefWebService>
					<BenLine>1</BenLine>
					<QuoteRef/>
					<LinkedToPrimary>1</LinkedToPrimary>
					<ReserveLinkedTo/>
				</ImpItmBenQrefWebService>
				<ImpItmBkaPrlbenBankAccounts>
					<BkaId>0</BkaId>
					<Client>0</Client>
					<AccountNo>1</AccountNo>
					<Type>1</Type>
					<AccountName>Gynea Test</AccountName>
					<SortCode>205132</SortCode>
					<AccountCode>13537846</AccountCode>
					<SupplementaryCode/>
					<BankName/>
					<BankAddress1>26 DummyData Street</BankAddress1>
					<BankAddress2>Townsville</BankAddress2>
					<CollectionMethod>1</CollectionMethod>
					<Classification/>
					<BillingDay>1</BillingDay>
					<CardExpiryDate/>
					<SeriesNo/>
					<CardType/>
					<MandateExpiryDate/>
					<ClientReference/>
					<MandateReference/>
				</ImpItmBkaPrlbenBankAccounts>
				<ImpItmPcpPrlbenPolicyPremiums>
					<Currency>GBP</Currency>
					<Frequency>5</Frequency>
					<CollectionMethod>3</CollectionMethod>
					<ModalPremium>25.81</ModalPremium>
					<CollectionMethodPremium1>3</CollectionMethodPremium1>
					<CollectionSubMethod>1</CollectionSubMethod>
					<BankId>0</BankId>
				</ImpItmPcpPrlbenPolicyPremiums>
				<ImpItmPocPrlbenPolicyCoverages>
					<InitialSumAssured>45000</InitialSumAssured>
					<Term>12</Term>
					<DateOfReqCommencement>20210928</DateOfReqCommencement>
					<ProductLine>ACIL</ProductLine>
					<Currency>GBP</Currency>
					<SoldBasis>0</SoldBasis>
					<CoverLevel/>
					<BenefitBasis/>
					<QuotationDate>20210602</QuotationDate>
					<QuotationTime>000000</QuotationTime>
					<Multiplier/>
					<LivesType>1</LivesType>
					<TermAge>0</TermAge>
					<DateOfTermination/>
					<PptAge/>
					<InterestRate/>
					<Valuation/>
					<PttYrs/>
					<DatePremiumTerm/>
					<Coverage/>
					<MajorCoverage/>
					<ProductVersion/>
					<RequestedTerm/>
					<EscOptionAtStart>1</EscOptionAtStart>
					<CreationReason>1</CreationReason>
				</ImpItmPocPrlbenPolicyCoverages>
				<ImpSelPrlBenIefSupplied>
					<SelectChar/>
				</ImpSelPrlBenIefSupplied>
				<ImpItmPcmPrlbenPolicyCommissions>
					<Style>INDEM</Style>
					<IndemnificationPercent>100</IndemnificationPercent>
				</ImpItmPcmPrlbenPolicyCommissions>
				<ImpItmPpcPrlbenPolicyPremiumChanges>
					<ChangeIndex/>
				</ImpItmPpcPrlbenPolicyPremiumChanges>
			</row>
		</ImpPrlBenList>
		<ImpGrpPfd>
			<row>
				<ImpSelPfdIefSupplied>
					<SelectChar/>
				</ImpSelPfdIefSupplied>
				<ImpItmPfdPocPolicyCoverages>
					<Coverage/>
					<ProductLine/>
					<Policy/>
				</ImpItmPfdPocPolicyCoverages>
				<ImpItmPfdQrefWebService>
					<BenLine/>
					<QuoteRef/>
				</ImpItmPfdQrefWebService>
				<ImpItmPfdPolicyFundDirections>
					<PfdId>0</PfdId>
					<Fund/>
					<Holding/>
					<Percentage/>
					<Type/>
				</ImpItmPfdPolicyFundDirections>
			</row>
		</ImpGrpPfd>
	</WssgliveImport>
</wss:Wssglivecall>{code}

_Example Lissia Go Live Response_

{code:xml}<ns2:WssglivecallResponse xmlns:ns2=""http://tempuri.org/Wssglive/"">
    <WssgliveExport command="""" exitState=""0"" exitStateType=""3"" exitStateMsg="""">
      <ExpCliCpr>
          <row>
            ...
            <ExpItmCliClients>
              <CliId>123456789</CliId>
              ...
            </ExpItmCliClients>
            ...
          </row>
          <row>
            ...
          </row>
      </ExpCliCpr>
      <ExpGrpPolref>
          <row>
            ...
          </row>
      </ExpGrpPolref>
      <ExpErrortextWindow>
          <WinErrmsg/>
      </ExpErrortextWindow>
      <ExpGrpErrors/>
      <EcommsCommunications>
          <ErrorParameters></ErrorParameters>
          <ErrorNo></ErrorNo>
      </EcommsCommunications>
    </WssgliveExport>
</ns2:WssglivecallResponse>{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009ev,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,02/Dec/21 9:13 AM,,8.0,,,,,,,,,,,,,,,,,,[~accountid:5e183e85c578120daca5bc7b] - can confirm the adviser token (line 65) if problems with the request,,,,,,,,,,,,,,,2021-12-13 10:41:59.715,"13/Dec/21 10:41 AM;613f22fdff23ba00715469d1;Have discussed with Ant, GoLive requests return a 500 status due to hitting validation from Lissia. Ant is looking to stub data in to get a valid 201 status back so that we can test these GoLive tickets.",13/Dec/21 4:40 PM;60cc71a1d5dde800713a2124;As an update on this ticket - [~accountid:6149b13472728e006f9441d6]  is going to update to persist the lissia request/response (like we did for quote) to unblock the testing for this ticket\!  Thanks [~accountid:6149b13472728e006f9441d6] \!\!\!  This will then unblock [~accountid:613f22fdff23ba00715469d1]  and team to test the remainder of the tickets.,"14/Dec/21 8:40 AM;60cc71a1d5dde800713a2124;(flagoff) Flag removed

Now unblocked, request/responses in Cosmos I believe.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Seed Data for IAC Pipelines,NBJ-881,41234,,Task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,02/Dec/21 9:10 AM,02/Feb/22 10:45 AM,02/Feb/22 6:31 PM,,,,,,,,,,Gareth Hailes,Jon Reynolds,,,,,,5ed8c4bc4ec4270ba3725b85,616ee20e2097220071a975d2,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1jzzzj,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Dec/21 9:10 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-02-02 10:45:16.816,02/Feb/22 10:45 AM;616ee20e2097220071a975d2;[~accountid:5ed8c4bc4ec4270ba3725b85] - would you mind sharing with [~accountid:610c00d94e8d8d0069a20d6c] and [~accountid:616ee20e2097220071a975d2] the intent of this ticket? We are not sure if this is not needed.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
"Spike integrating B2C, OAuth2 and APIM",NBJ-880,41224,,Task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,High,Done,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,01/Dec/21 4:26 PM,13/Dec/21 9:57 PM,02/Feb/22 6:31 PM,13/Dec/21 9:57 PM,,Foundation Release,,,,,"*Context*
The NBJ resources need to be secured using the 'access token' OAuth2 flow.

*Spike aim*
Determine how to wire-up and configure:
* Azure B2C for identity management
* OAuth2 for access control
* APIM for enforcing the 'access token' flow
",,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"* The frontend can only be accessed after logging into Azure B2C
* The ApplicationService can only be accessed with a valid OAuth2 access token",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,"Follow this for starters: https://docs.microsoft.com/en-us/azure/api-management/howto-protect-backend-frontend-azure-ad-b2c
",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00xd3:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,Guardian Sprint 6,,,,,01/Dec/21 4:26 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Update application status to Decision or Underwriting on closing an activeEnquiry,NBJ-879,41198,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,01/Dec/21 12:38 PM,19/Jan/22 10:04 AM,02/Feb/22 6:31 PM,14/Jan/22 12:47 PM,,Foundation Release,,Sprint_7,,,"*As a* consumer of MI data, an adviser, and operational underwriter
*So that* it is clear that an application has a decision or is in underwriting, and I can take appropriate action
*I want* the application status to be updated to Decision when I have an STP decision and Underwriting for Non_STP decisions

This story is intended to set application status to decision when an STP decision is received from the URE and underwriting when a non_STP decision is recieved from URE

[https://gghltd.atlassian.net/wiki/spaces/NP/pages/3110207489/Application+States+-+Implementation|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3110207489/Application+States+-+Implementation|smart-link] ",,James Bartlett,Jim Houghton,,,,,,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,NBJ-1040,NBJ-1055,NBJ-1057,,,,,,,,,,,,,,,,,,,,,,,,,,,,14/Jan/22 12:47 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/25079/LivingDoc.html,,,,,,,,,,,,"*Scenario* setting application.status to Decision after closing a URE activeEnquiry

*Given* any application <singleOrDualApplication>
*And* each activeEnquiry for <applicant> status

{code:json}| singleOrDualApplication | applicant[0]       | applicant[1]       |
| single                  | isCloseable = true |                    |
| dual                    | isOpen = false     | isCloseable = true |
| dual                    | isClosable = true  | isOpen = false     |{code}

*And* *all product decisions* within applicants has an <STP decision>

{code:json}| STP decision |
| STANDARD     |
| NON_STANDARD |
| POSTPONE     |
| DECLINE      |{code}

*When* closing activeEnquiry for an applicant
*Then* set application.status = Decision

*Scenario* setting application.status to Underwriting after closing a URE activeEnquiry

*Given* any application <singleOrDualApplication>
*And* each activeEnquiry for <applicant> status

{code:json}| singleOrDualApplication | applicant[0]       | applicant[1]       |
| single                  | isCloseable = true |                    |
| dual                    | isOpen = false     | isCloseable = true |
| dual                    | isClosable = true  | isOpen = false     |{code}

*And* *any product decision* within the application has a <non-STP decision>

{code:json}| non-STP decision  |
| EVIDENCE_REQUIRED |
| REFER             |{code}

*When* closing activeEnquiry for an applicant
*Then* set application.status = Underwriting",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,"Add a new action in the ActionService to control:

# Closing an applicants underwriting session
# Setting the state of an application to either “decision” or “underwriting”

*Request*

{noformat}POST /api/v1/actions/closeUnderwritingSession
{
  ""applicationId"": ""{{applicationId}}"",
  ""applicantId"": ""{{applicantId}}""
}{noformat}

*Response - successful*

{noformat}HTTP 200 OK{noformat}

*Response - applicant enquiry is not closable*

{noformat}HTTP ??
{
  ""error"": [""Underwriting session cannot be closed.""]
}{noformat}

*Response - applicant enquiry does not exist*

{noformat}HTTP 404 NotFound
{
  ""error"": [""Applicant does not exist.""]
} {noformat}

*Response - application does not exist*

{noformat}HTTP 404 NotFound
{
  ""error"": [""Application does not exist.""]
}{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i015mr:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,Guardian Sprint 7,,,,,01/Dec/21 12:38 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-12 18:23:48.144,"12/Jan/22 6:23 PM;6139c49114e8340071fcda09;[~accountid:6149b160fac3ce0069d80d37] If a single applicant has either a DECLINE or EVIDENCE_REQUIRED underwriting outcome, the state is set incorrectly:

* ‘DECLINE’ underwriting decision → ‘underwriting’ application status (see application G000116298 and applicant 8123a11f-2ef0-4c63-8ba0-9cbe870b0278 in UWT)
* ‘EVIDENCE_REQUIRED’ underwriting decision → ‘decision’ application status (see application G000116299 and applicant 6e3f3c18-c679-4d28-84ea-e5ba8ac1e55c in UWT)



The decline decision should have resulted in a ‘decision’ application status;

The evidence decision should have resulted in an ‘underwriting’ application status;","12/Jan/22 6:33 PM;6139c49114e8340071fcda09;Also, there’s no error message returned if an incomplete enquiry is closed (but the status is 400 which is fine).

The error messages for unknown application/applicant IDs aren’t meaningful; for example:


{code:json}{
  ""errors"":{
    ""type"": ""https://tools.ietf.org/html/rfc7231#section-6.5.4"",
    ""title"": ""Not Found"",
    ""status"": 404,
    ""traceId"":""00-e787f003993839173875c6c69673b2ef-a9a59c33c79f0716-00""
  }
}{code}","14/Jan/22 11:21 AM;6139c49114e8340071fcda09;[~accountid:6149b160fac3ce0069d80d37] a DECLINE underwriting decision still results in an ‘underwriting’ application status, and an EVIDENCE_REQUIRED underwriting decision still results in a ‘decision’ application status",,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Update UI to call new decision action,NBJ-878,41194,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,01/Dec/21 11:35 AM,12/Jan/22 4:50 PM,02/Feb/22 6:31 PM,12/Jan/22 4:50 PM,,Foundation Release,,Sprint_6,,,"*As an* adviser
*So that* I can see the decision for all covers in the application
*I want* the UI to trigger a final decision",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,NBJ-206,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given*: All applicants have closed their underwriting session
*Then*: The new endpoint from [https://gghltd.atlassian.net/browse/NBJ-680|https://gghltd.atlassian.net/browse/NBJ-680|smart-link] is triggered
*and:* The user is navigated to the decision screen",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,"When you press the (last) button on the underwriting screen

Needs \{actionservice}/api/v1/actions/TriggerDecisionQuote/\{applicationId} triggered after the final close enquiry in the application",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwik1:39,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,Guardian Sprint 7,,,,,01/Dec/21 11:35 AM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15/Dec/21 3:26 PM;60cc71a1d5dde800713a2124;Ah realised this one isnt blocked as the endpoint is callable.,"12/Jan/22 4:50 PM;60cc71a1d5dde800713a2124;Decision action called at all the right points.

All testing for decision screen for last 2 weeks has also relied on this.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Environment Diagram,NBJ-877,41192,,Task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Ian.Douglas,5e183e85c578120daca5bc7b,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,01/Dec/21 10:43 AM,05/Jan/22 10:40 AM,02/Feb/22 6:31 PM,05/Jan/22 10:40 AM,,Foundation Release,,,,,Diagrammatic mapping of end state of services and environment at a high level to validate the IAC work.,,Gareth Hailes,,,,,,,5ed8c4bc4ec4270ba3725b85,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,* Output to be as accurate as possibly can be attained for the current state (we accept that changes and improvements will be required),,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009hzzzvzr,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,Guardian Sprint 7,,,,,01/Dec/21 10:43 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
UWT Infrastructure as Code,NBJ-876,41184,,Task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,mark.thurston@venture1consulting.com,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,01/Dec/21 8:28 AM,10/Dec/21 9:30 AM,02/Feb/22 6:31 PM,10/Dec/21 9:30 AM,,Foundation Release,,,,,"Using the framework created in [https://gghltd.atlassian.net/browse/NBJ-655|https://gghltd.atlassian.net/browse/NBJ-655|smart-link] 

Develop the IAC for UWT to be redeployable at request with all key services.



*Deployable artefact:* the output of a build pipeline, such as a build of a microservice. Each artefact can be identified by its version number, e.g. 1.0.0.3453.

*Types of deployable artefacts in the NBJ solution*

# +React.js webapp:+ this app is composed of a set of static files (.js, .css, images, fonts)
# +Microservices:+ all .Net Core v5 WebAPI applications. All microservices are deliberately similar in terms of infrastructure and operation - so once the infrastructure is defined as code for one microservice, the others will follow quickly.",,Gareth Hailes,,,,,,,5ed8c4bc4ec4270ba3725b85,,,,,,,,,,,,,,Hidden from EXL,NBJ-945,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009hzzzvx,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,01/Dec/21 8:28 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
TriggerQuote can throw a 500 but still quote,NBJ-875,41168,,Bug,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,High,,Jon Reynolds,616ee20e2097220071a975d2,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,30/Nov/21 4:08 PM,01/Feb/22 2:25 PM,02/Feb/22 6:31 PM,,,,,,,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:*

TriggerQuote also generates the quote document, and therefore relies on KeyInfo from the underwriting service.

If TriggerQuote is called when the applicant does not have the relevant underwriting it throws a 500. However, it also *successfully* generates a quote.

*Business Impact:* Difficult to say but there's some sort of transaction implication here

*Steps to Reproduce:* Create an application with a valid applicant. Add a cover for that applicant and call TriggerQuote for the application. Ensure the applicant's underwriting does not have sufficient answers to enable the KeyInfo underwriting call to succeed.

*Expected Results:* TriggerQuote fails with a more meaningful error message and more importantly, does not quote.

*Actual Result:* TriggerQuote fails with a 500 but still quotes.

*Version:* unknown",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,QA / UWT,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00x1j:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,30/Nov/21 4:08 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Infosec: Disk / Volume / Storage Encryption,NBJ-874,41167,,Task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,30/Nov/21 3:51 PM,01/Dec/21 10:47 AM,02/Feb/22 6:31 PM,,,,,,,,,,Gareth Hailes,,,,,,,5ed8c4bc4ec4270ba3725b85,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1jzzzlv,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,30/Nov/21 3:51 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Infosec: DB Encryption,NBJ-873,41166,,Task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,30/Nov/21 3:51 PM,02/Feb/22 10:46 AM,02/Feb/22 6:31 PM,02/Feb/22 10:46 AM,,,,,,,,,Gareth Hailes,,,,,,,5ed8c4bc4ec4270ba3725b85,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1jzzzlr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,30/Nov/21 3:51 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
risk decisions for an applicant with a Postpone underwriting decision now error,NBJ-872,41165,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,30/Nov/21 3:50 PM,02/Dec/21 2:57 PM,02/Feb/22 6:31 PM,02/Dec/21 2:57 PM,,Foundation Release,,,,,,,James Bartlett,Justin.Smith,,,,,,6139c49114e8340071fcda09,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,Hidden from EXL,NBJ-601,NBJ-602,,,,,,,,,,,,,,,,,,,NBJ-600,,,,,,,,,,02/Dec/21 2:57 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/24004/LivingDoc.html,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* requesting a risk decision for an applicant with a Postpone underwriting decision throws a 500.

*Business Impact:* Customers with a postpone decision won't be able to buy any products now, which may be an issue if CI/ACI is postponed but Life isn't.

*Steps to Reproduce:* 
* Create an application with a single applicant
* Update the applicant's underwriting to have Life with a POSTPONE decision
* Ensure the applicant also has a Life product
* Request the risk decision for the applicant

*Expected Results:* the risk decision call returns a 201 and the risk decision output is as expected

*Actual Result:* the risk decision call returns a 500

*Version:* unknown",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00rl2:w,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,30/Nov/21 3:50 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-01 10:31:30.324,30/Nov/21 3:50 PM;6139c49114e8340071fcda09;[~accountid:60cc71a1d5dde800713a2124]  These were working fine just a couple of hours ago 😞 ,"01/Dec/21 10:31 AM;618bdfc5fba4d0006ad4853e;I’m also getting the same 500 error on the product decision for postpone

\{""errors"":\{""type"":""[https://tools.ietf.org/html/rfc7231#section-6.6.1%22,%22title%22:%22An|https://tools.ietf.org/html/rfc7231#section-6.6.1%22,%22title%22:%22An|smart-link]  error occurred while processing your request."",""status"":500,""traceId"":""00-0c1860fc32bc7c47afdd79334c85c13e-5e9e5922ed1f0241-00""}}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Platform Health Dashboard,NBJ-871,41164,,Task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,High,Done,Asta Hansen,5b23a053ba383e0814004f26,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,30/Nov/21 3:32 PM,13/Jan/22 10:57 AM,02/Feb/22 6:31 PM,13/Jan/22 10:57 AM,,Foundation Release,,,,,Using the previously implemented Azure Insights - create a dashboard with key platform health indicators to ensure we understand platform health for issue diagnosis and resource usage.,,Gareth Hailes,,,,,,,5ed8c4bc4ec4270ba3725b85,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,* Dashboard is accessible to wider team,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009hzzzvy,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,Guardian Sprint 7,,,,,30/Nov/21 3:32 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
.NET 5 to 6 Upgrade of Microservices,NBJ-869,41162,,Task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Jason Hughes,613f60991370f00069033c68,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,30/Nov/21 3:31 PM,03/Dec/21 9:29 AM,02/Feb/22 6:31 PM,03/Dec/21 9:29 AM,,Foundation Release,,,,,".NET 6 is the most recent Long Term Support version of the framework and will be supported until November 2023. The microservices are currently built against .NET 5 as 6 hadn’t been released when the project started, but 5 will only be supported until May 2022 - which is why need to upgrade.

*Upgrading from the backend developers point of view involves*

* Changing the C# project files and library packages - we have done this on one project to test it and there were no issues. We *think* this will be the same for the other services but won’t know until we do them.
* Update the build pipeline yaml files to use .NET 6 - this will only take a few minutes per microservice
* Update the UWT Web Apps to target .NET 6 - again this only takes a few minutes per service

If the code updates go well the only tricky part is to coordinate upgrading the app services  and then deploying the updated code.

*From the infrastructure point of view*

* The provisioning code will need to be updated to target .NET 6 instead of 5

So we don’t have to do this on a service by service basis it would be best to make all the code changes in quick succession so everything is targeting the same framework - then I think Mark will just have to change 1 value.",,Gareth Hailes,,,,,,,5ed8c4bc4ec4270ba3725b85,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"These are the services that need to be updated

* Action
* Application
* BackEndForFrontEnd
* Decision
* Document
* Example
* Fact
* Product
* Quote
* Underwrting",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00xd7:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,30/Nov/21 3:31 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Application Performance Monitoring,NBJ-868,41161,,Task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,30/Nov/21 3:30 PM,30/Nov/21 3:30 PM,02/Feb/22 6:31 PM,,,,,,,,,,Gareth Hailes,,,,,,,5ed8c4bc4ec4270ba3725b85,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00wzz:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,30/Nov/21 3:30 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Platform Alerting,NBJ-867,41160,,Task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,30/Nov/21 3:30 PM,30/Nov/21 3:30 PM,02/Feb/22 6:31 PM,,,,,,,,,,Gareth Hailes,,,,,,,5ed8c4bc4ec4270ba3725b85,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00wzr:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,30/Nov/21 3:30 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Application vs Secret definitions,NBJ-866,41159,,Task,Code Review,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,High,,mark.thurston@venture1consulting.com,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,30/Nov/21 3:30 PM,01/Feb/22 8:19 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,Document in confluence the definitions of secret vs application configuration to ensure we have a clear understanding for future refactoring,,Gareth Hailes,Ian.Douglas,mark.thurston@venture1consulting.com,,,,,5ed8c4bc4ec4270ba3725b85,5e183e85c578120daca5bc7b,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"* Confluence page is created and distributed to approvers
* Backlog ticket generated for future refactoring in appropriate board",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009hzzzvz,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,Guardian Sprint 7,Guardian Sprint 8,Guardian Sprint 9,,,30/Nov/21 3:30 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-06 09:29:09.487,06/Dec/21 9:29 AM;557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96;[~accountid:5e183e85c578120daca5bc7b] - I’ll take this one. Can you please send me the link to the relevant confluence location? (I have a few other diagrams and notes to go to the same location.) Cheers\!,13/Dec/21 4:35 PM;557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96;Confluence link: [https://gghltd.atlassian.net/wiki/spaces/NP/pages/3109879845/Devops|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3109879845/Devops|smart-link] ,13/Jan/22 4:54 PM;557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96;[~accountid:5ed8c4bc4ec4270ba3725b85] - started by creating an (almost TOC). [https://gghltd.atlassian.net/wiki/spaces/NP/pages/edit-v2/3145596931?draftShareId=30ba9a9d-f3f9-4baf-a393-6acf2b9ae29f|https://gghltd.atlassian.net/wiki/spaces/NP/pages/edit-v2/3145596931?draftShareId=30ba9a9d-f3f9-4baf-a393-6acf2b9ae29f|smart-link] ,31/Jan/22 6:17 PM;557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96;[~accountid:5b23a053ba383e0814004f26] [~accountid:5e183e85c578120daca5bc7b] - [https://gghltd.atlassian.net/wiki/spaces/NP/pages/3145596931/Application+Configuration+v+Secrets|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3145596931/Application+Configuration+v+Secrets|smart-link]  I offer you the exciting opportunity to review this masterpiece\! 😉,01/Feb/22 8:19 PM;5e183e85c578120daca5bc7b;Works for me … signed off … over to you [~accountid:5b23a053ba383e0814004f26] ,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress
POC: JIRA & Azure DevOps Integration,NBJ-865,41158,,Task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Asta Hansen,5b23a053ba383e0814004f26,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,30/Nov/21 3:30 PM,24/Jan/22 8:01 AM,02/Feb/22 6:31 PM,24/Jan/22 8:01 AM,,,,,,,Integrate the two tools so that we can see key data such as branches inside the Jira ticket.,,Asta Hansen,Gareth Hailes,,,,,,5b23a053ba383e0814004f26,5ed8c4bc4ec4270ba3725b85,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,16/Dec/21 2:31 PM;Asta.Hansen;image-20211216-142738.png;https://gghltd.atlassian.net/secure/attachment/24433/image-20211216-142738.png,16/Dec/21 2:31 PM;Asta.Hansen;image-20211216-143042.png;https://gghltd.atlassian.net/secure/attachment/24434/image-20211216-143042.png,,,,,,,,,,,* Branch/commit/release data should be shown in the story/task,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009hzzzvzd,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,Guardian Sprint 7,Guardian Sprint 8,,,,30/Nov/21 3:30 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-16 14:32:00.195,"16/Dec/21 2:32 PM;5b23a053ba383e0814004f26;Investigated addon: [https://marketplace.atlassian.com/apps/4984/git-integration-for-jira?hosting=cloud&tab=support|https://marketplace.atlassian.com/apps/4984/git-integration-for-jira?hosting=cloud&tab=support|smart-link] 

This will allow us to show pull requests and active branches for a user story from git. This requires that all pull requests have the Jira issue key at the start of the description, and that branches are named by the issue key ex branch feature/MYP-1.

!image-20211216-142738.png|width=502,height=436!

it is also possible to create feature branches and pull requests directly from the Jira ticket

!image-20211216-143042.png|width=1480,height=459!

Estimated cost for the above plugin is $2000 per year for our current user tier.



Deployment information and highest deployed environment annoyingly is not supported by the standard azure devops free  jira plugin when using YAML pipelines (backlog apparently) so we will need to use something different I am investigating the following:

* [https://github.com/EducationPerfect/azure-jira-update|https://github.com/EducationPerfect/azure-jira-update|smart-link] 
* [https://github.com/microsoft/azure-pipelines-yaml/blob/master/design/jira-traceability.md|https://github.com/microsoft/azure-pipelines-yaml/blob/master/design/jira-traceability.md|smart-link] ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Release note generation output,NBJ-864,41157,,Task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,30/Nov/21 3:29 PM,14/Jan/22 12:59 PM,02/Feb/22 6:31 PM,,,,,,,,"For compliance reasons and business awareness we should provide release notes which demonstrate versions of the software being deployed to each environment on each gated release.

Note that each microservice now provides a version number on request of a specific url.",,Gareth Hailes,,,,,,,5ed8c4bc4ec4270ba3725b85,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1jzzzi6,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,30/Nov/21 3:29 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Retrieve an application's quote document,NBJ-863,41148,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,30/Nov/21 2:18 PM,02/Dec/21 2:42 PM,02/Feb/22 6:31 PM,02/Dec/21 2:42 PM,,Foundation Release,,,,,"As an Advisor
I want to retrieve the quote document for an application
So that I can share it with my client",,Antony.Gorman,Sam Gamble,,,,,,6149b13472728e006f9441d6,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-430,,,,,,,,,,02/Dec/21 2:42 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/24003/LivingDoc.html,,,,,,,,,,,,"*Given* an application with a quote document
*When* requesting the quote document for the application
*Then* the quote document is returned as a PDF

*Given* an application *without* a quote document
*When* requesting the quote document for the application
*Then* an HTTP 404 error is returned",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-124,,,,,,,,,,,,,,,,None,,"New endpoint to get a quote document for an application

*Request*

{noformat}GET /api/v1/application/{{applicationId}}/document/quote{noformat}

*Command*

* Load the application
* Read the quote document ID as {{quoteDocumentId}}
* Call {{GET /api/v1/document/{{quoteDocumentId}}}}
* Convert response.data.document from base64 string into bytes
* return byte array as a PDF document

*Response*

{noformat}Content-Type application/pdf
Transfer-Encoding chunked
...Quote document PDF bytes...{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00rl2:vi,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,30/Nov/21 2:18 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-01 15:11:55.47,01/Dec/21 3:11 PM;6149b13472728e006f9441d6;[~accountid:610c00d94e8d8d0069a20d6c] can you add in the APIM for this? its in UWT now.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Fix for quotebuilder snapshot error,NBJ-862,41145,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,High,Done,Sam Gamble,610c00d94e8d8d0069a20d6c,Max Silva,6139c4f3e2a0d60069cf8994,Max Silva,6139c4f3e2a0d60069cf8994,30/Nov/21 12:47 PM,03/Dec/21 5:49 PM,02/Feb/22 6:31 PM,03/Dec/21 5:49 PM,,,,,,,,,Max Silva,,,,,,,6139c4f3e2a0d60069cf8994,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Fix for quotebuilder snapshot error causing pipeline builds to fail,,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00y6n:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,30/Nov/21 12:47 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
PM durations are not mapped to the risk decision,NBJ-861,41126,40085,Story bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,30/Nov/21 10:13 AM,06/Dec/21 2:43 PM,02/Feb/22 6:31 PM,06/Dec/21 2:43 PM,,,,,,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,06/Dec/21 2:43 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/24080/LivingDoc.html,30/Nov/21 10:15 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;pm_duration_decision.json;https://gghltd.atlassian.net/secure/attachment/23918/pm_duration_decision.json,30/Nov/21 10:15 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;pm_duration_underwriting_session.json;https://gghltd.atlassian.net/secure/attachment/23919/pm_duration_underwriting_session.json,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* If a PM rating has a duration in underwriting, this is not mapped to the risk decision from the decision service. See the attached underwriting session and corresponding decision output from UWT for applicant ID *504b1221-1f95-489c-a4c4-963f8c33be8c*

*Business Impact:* little risk as any decision missing a duration is worse rather than better - but not treating customers fairly.

*Steps to Reproduce:* Create an app and applicant. In the applicant’s underwriting, trigger a PM rating with a duration.

*Expected Results:* the PM duration is shown in the relevant individual rating section (i.e. the rating section for the particular enquiry line that produced the rating).

*Actual Result:* No duration is returned

*Version:* unknown",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00wsn:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,Guardian Sprint 6,,,,30/Nov/21 10:13 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,30/Nov/21 10:31 AM;6139c49114e8340071fcda09;[~accountid:6149b160fac3ce0069d80d37]  just checking whether the same problem exists for EM durations too,"30/Nov/21 10:39 AM;6139c49114e8340071fcda09;Unable to find any EM ratings (indicative or otherwise) in the current ruleset, so we’re good to go",,,,,,,,,,,,,,,,,,,,,,,,,,,,40085,DecisionService - add pmRating to risk decision,Done
On every quote provide application.adviserAtFirmLocationId,NBJ-860,41070,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,29/Nov/21 4:01 PM,31/Jan/22 11:11 AM,02/Feb/22 6:31 PM,,,Foundation Release,,Sprint_6,,,"*As an* NBJ adviser
*So that* my quote and commission are correct
*I want* my correct rates to be used when calculating quote prices and commission",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* any application
*When* quoting
*Then* supply application.adviserAtFirmLocationId",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,"Currently hardcoded in the action service, and quote service.

{code:json}POST /api/v1/quote/{applicationId}{code}

{noformat}{
  ...
  ""adviserAtFirmLocationId"": ""{application.adviserAtFirmLocationId}"",
  ...
}{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwib9:zz,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,29/Nov/21 4:01 PM,,3.0,,,,,,,,,,,,,,,,,,Test on the trigger quote and in the quote service itself,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
"Set FRN, AgentId and Agent Name in URE on add applicant",NBJ-859,41066,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,29/Nov/21 3:11 PM,28/Jan/22 10:58 AM,02/Feb/22 6:31 PM,,,Foundation Release,,Sprint_6,,,"*As a* consumer of the MI from the URE
*So that* I can formulate reports on/by adviser
*I want* frn, agentId and agent name included in the URE session",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,NBJ-176,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* I am adding a new applicant
*When* creating underwriting session
*Then* set FRN in URE session to frn in logged on user profile
*And* set AGENT_NAME in URE session to display name of agent in logged on user profile
*And* set AGENT_ID in URE session to application.adviserAtFirmLocationId ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwibi:3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,29/Nov/21 3:11 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Get agent details and UX settings,NBJ-857,41064,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Sam Gamble,610c00d94e8d8d0069a20d6c,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,29/Nov/21 3:09 PM,02/Feb/22 11:19 AM,02/Feb/22 6:31 PM,,,Foundation Release,,Sprint_6,,,"*As a* consumer of apis
*So that* I can identify the logged on user
*I want* to retrieve the agent name and FRN",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,NBJ-859,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* an authenticated user with an adviserId
*When* successfully receiving a new access token
*Then* retrieve from Salesforce the FRN using the AdviserId

_Building on the above_

*Given* an FRN (6 digit unique number issued by FCA)
*Then* retrieve from Salesforce the UXsettings",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-114,,,,,,,,,,,,,,,,None,,"UX settings:

{code:json}{
	'dashboardNewQuote': 'hide',
	'interviewScores': {
		'BENEFICIARY_SORTER': 'Hide',
		'ENTER_EXTERNAL_TOKEN': 'Mandatory',
		'ENTER_PORTAL_QUOTE_REF': 'Mandatory'
		'ENTER_QUOTE_VALID_UNTIL': 'Mandatory | Optional',,
		'EXTERNAL_THIRD_PARTY_REF': 'ReadOnly',
		'HYBRID_COMMISSION_BLOCK': 'Mandatory'
		'NON_ADVISED_BLOCK': 'Hide',
	}
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwibb:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,29/Nov/21 3:09 PM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Unable to add client details or proceed to quote page,NBJ-856,41044,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Highest,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,29/Nov/21 12:48 PM,02/Dec/21 8:49 AM,02/Feb/22 6:31 PM,29/Nov/21 2:35 PM,,Foundation Release,,,,,,,Nathan Punzalan,,,,,,,613f22fdff23ba00715469d1,,,,,,,,,,,,,,Hidden from EXL,NBJ-518,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,29/Nov/21 12:47 PM;nathan.punzalan;image-2021-11-29-12-47-51-975.png;https://gghltd.atlassian.net/secure/attachment/23896/image-2021-11-29-12-47-51-975.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: 
Unable to get past the ""Create Your Client profile"" screen.

Steps to Reproduce: 
# Go to https://ggh-nbj-reactapp.azurewebsites.net/dashboard
# Click Create New Application
# Fill in Client details
# Click Continue

Alternatively, other steps:
# Go to https://ggh-nbj-reactapp.azurewebsites.net/dashboard
# Click Create New Application
# Click Quote tab

Expected Results: 
User should be taken to the quote tab.

Actual Result: 
User is unable to proceed.
 !image-2021-11-29-12-47-51-975.png|thumbnail! 
",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Guardian,,,,,,,No,,1|i00wan:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,29/Nov/21 12:48 PM,,,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Prevent user from adding more than 1 childrens critical illness to an application,NBJ-851,41001,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,28/Nov/21 1:41 PM,21/Jan/22 3:52 PM,02/Feb/22 6:31 PM,21/Jan/22 3:52 PM,,Foundation Release,,Sprint_6,,,"*As an* Adviser
*I want* the list of available covers I can add to an application to be restricted
*So that* I cant add covers that arent actually available to me

Applications are restricted to a maximum of 1 Children’s CI Cover.",,Chris.Hibbert,Nathan Punzalan,,,,,,60cc71a1d5dde800713a2124,613f22fdff23ba00715469d1,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28/Nov/21 1:45 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-11-28 at 13.44.34.png;https://gghltd.atlassian.net/secure/attachment/23881/Screenshot+2021-11-28+at+13.44.34.png,19/Jan/22 3:16 PM;nathan.punzalan;image-20220119-151532.png;https://gghltd.atlassian.net/secure/attachment/25207/image-20220119-151532.png,,,,,,,,,,,"*Given*: An application
*When:* Any applicant on the application already has Children’s Critical Illness Cover
*Then:* The option to add Children’s CI Cover is disabled

!Screenshot 2021-11-28 at 13.44.34.png|width=506,height=324!

*Given*: An application without Children’s CI Cover
*Then:* The option to add Children’s CI Cover is enabled",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009dzy,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,Guardian Sprint 8,,,,,28/Nov/21 1:41 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-19 15:16:22.189,08/Dec/21 1:24 PM;60cc71a1d5dde800713a2124;Tested in UWT - both life 1 and life 2 are restricted when the other life has a CCIC.  Lives are restricted when they also have a CCIC.,17/Jan/22 3:45 PM;60cc71a1d5dde800713a2124;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5]  - broken by the CCIC rider change.,"19/Jan/22 3:16 PM;613f22fdff23ba00715469d1;Found a separate bug that is not directly related to this ticket which I’ve raised as [https://gghltd.atlassian.net/browse/NBJ-1223|https://gghltd.atlassian.net/browse/NBJ-1223|smart-link].

[~accountid:60cc71a1d5dde800713a2124] , this works as expected however I have noticed that if the user has no covers, the CCIC option is enabled. In this case, shouldn’t the CCIC option be greyed out?

!image-20220119-151532.png|width=1295,height=645!

It is not a big issue as when you click on CCIC when no cover is present, no cover is added however just wanted to flag if this behaviour needs changing","19/Jan/22 3:58 PM;60cc71a1d5dde800713a2124;[~accountid:613f22fdff23ba00715469d1] - I think the option should be disabled where there are no covers, else it will cause confusion.  I’ll reopen on that basis.",,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Update quote document to use the waist measurement entered by the adviser,NBJ-850,40995,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,27/Nov/21 2:07 PM,13/Jan/22 6:30 PM,02/Feb/22 6:31 PM,13/Jan/22 6:30 PM,,Foundation Release,,Sprint_7,,,"* The rules engine always stores metric
* The UI asks whether it is entered as imperial or metric (WAIST_UNITS)
* The work in [https://gghltd.atlassian.net/browse/NBJ-519|https://gghltd.atlassian.net/browse/NBJ-519|smart-link] will need updating to pass the units and convert metric to imperial if required
* The document request itself needs updating to populate the metric / imperial as appropriate
* waistcm or waistin",,Chris.Hibbert,James Bartlett,,,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,27/Nov/21 2:07 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;G000079329.pdf;https://gghltd.atlassian.net/secure/attachment/23857/G000079329.pdf,,,,,,,,,,,,"*Given*: A primary applicant
*Then:* The following fields are updated in the document request

||WAIST_UNITS||PA_WAIST_UNIT||PA_WAIST_INCH||PA_WAIST_CM||
|imperial|waistin|WAIST_SIZE (converted to inches)|0|
|metric|waistcm|0|WAIST_SIZE|

*Given*: A secondary applicant
*Then:* The following fields are updated in the document request

||WAIST_UNITS||SA_WAIST_UNIT||SA_WAIST_INCH||SA_WAIST_CM||
|imperial|waistin|WAIST_SIZE (converted to inches)|0|
|metric|waistcm|0|WAIST_SIZE|

{color:#ff5630}*Note: waist in centimetres * 0.39370079 = waist in inches.  Inches always shown to the nearest integer*{color}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* Men’s waist size is stored in the underwriting session in cm (an assumption based on the upper and lower bounds of the question) but displayed in the quote document in inches.

*Business Impact:* Waist size will always be displayed incorrectly

*Steps to Reproduce:* Create an application with a male applicant. Answer the WAIST_SIZE question with 91 (for example). To trigger the WAIST_SIZE question the applicant’s BMI must be over 24.

*Expected Results:* The waist size is either shown in cm as stored or translated to inches for the quote document

*Actual Result:* The waist size in cm is shown as being in inches on the quote document

*Version:* unknown",,{},,,,,,NBJ-124,,,,,,,,,,,,,,,,None,,"

# This ticket is intended to vary applicant waist size
# The data will be provided in the applicant common data format - will need an extension for waist units
# The common data format will need to be converted to eLissia format before adding to the request (included in acceptance criteria below)

_Quote Document Request_

# {{POST /api/v1/document/quote}}

{noformat}{
  applicants: [
    {
      ""id"": ""THE_ID_OF_THE_RECORD_IN_THE_DATABASE"",
      ""firstName"": ""Sam"",
      ""lastName"": ""Gamble"",
      ""dateOfBirth"": ""1978-10-30T00:00:00"",
      ""smokerStatus"": ""None in the last 5 years | None in last 12 months | I have used tobacco or replacement products in last 12 months"",
      ""gender"": ""Male"",
      ""height"": 1.78,
      ""weight"": 88,
      ""waist"": 38, -- optionally provided
      ""waistunits"": ""metric | imperial"" -- optionally provided
      ""title"": ""Mr"" 
    }
  ],
  quote {}
}{noformat}

_Lissia Document Request_

Below is the Lissia request with values created from the service request.

{code:json}<QUOTE_DATA>
    <DATA>
        ...    
        <PA_WAIST_UNIT>waistin</PA_WAIST_UNIT> -- will need to vary
        ...                            
        <PA_WAIST_INCH>38</PA_WAIST_INCH> -- set if imperial
        <PA_WAIST_CM>0</PA_WAIST_CM> -- set if metric
        <PA_DRESS />
        ...
        <SA_WAIST_UNIT>waistin</SA_WAIST_UNIT>
        ...
        <SA_WAIST_INCH>38</PA_WAIST_INCH>
        <SA_WAIST_CM>0</PA_WAIST_CM>
        <SA_DRESS />
        ...
    </DATA>
</QUOTE_DATA>{code}

 

_Quote Document Service Response_

{code:json}{
  data:{
    ""documentId"": <doc_id>
  }
}
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwiih:zzzx,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 7,,,,,27/Nov/21 2:07 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-04 10:57:19.035,04/Jan/22 10:57 AM;60cc71a1d5dde800713a2124;[~accountid:60cc71a1d5dde800713a2124]  - update with conversion requirements.,13/Jan/22 6:30 PM;60cc71a1d5dde800713a2124;Tested metric and imperial on both life 1 and life 2 - all working correctly in the produced quote document.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
underwriting keyInfo endpoint throws a 500 when dress size is specified,NBJ-849,40994,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,27/Nov/21 2:06 PM,02/Dec/21 8:49 AM,02/Feb/22 6:31 PM,01/Dec/21 11:47 AM,,Foundation Release,,,,,,,Chris.Hibbert,James Bartlett,Jon Reynolds,,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,616ee20e2097220071a975d2,,,,,,,,,,,,Hidden from EXL,NBJ-474,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,27/Nov/21 2:05 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;answers_including_dress_size.json;https://gghltd.atlassian.net/secure/attachment/23855/answers_including_dress_size.json,27/Nov/21 2:05 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;answers_without_dress_size.json;https://gghltd.atlassian.net/secure/attachment/23856/answers_without_dress_size.json,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* The keyinfo endpoint on the underwriting service throws a 500 when the applicant has dress size specified.

*Business Impact:* This means quote documents cannot be produced for these applicants

*Steps to Reproduce:* set up an application with a female applicant. As part of the underwriting, ensure the answers passed to the session include an answer to the DRESS_SIZE underwriting question.

*Expected Results:* subsequent calls to the keyinfo endpoint succeed and return the dress size given previously.

*Actual Result:* Calls to the keyinfo endpoint error with a 500 response

*Version:* unknown",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00uwt:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,27/Nov/21 2:06 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-28 16:22:37.119,28/Nov/21 4:22 PM;616ee20e2097220071a975d2;[~accountid:6139c49114e8340071fcda09] - I was expecting dress size to be an integer with a value of 14 not a string with a value of  “Size 14”. For instance if the dress size was changed to a value of “14” not “Size 14” - you will then see it work. There are a few occasions in UnderwriteMe where I am expecting values in different types to what they are written ie weight in decimals and dress size as a string value. Let’s discuss on Monday. Should every answer be saved as strings and then displayed in documents like for like as strings?,28/Nov/21 7:54 PM;60cc71a1d5dde800713a2124;[~accountid:6139c49114e8340071fcda09]  - This has ‘interestingly’ been made a drop down list of sizes in case people arent sure which numbers they can use.  I think we will need to work with [~accountid:60cc71a22bd21400692fd2af]  to put a size property on each option so that we can then use in document.  One I expect we will need to drop from the ticket and pick up in the backlog.,29/Nov/21 5:37 PM;60cc71a1d5dde800713a2124;[~accountid:616ee20e2097220071a975d2]  - did you resolve this as part of NBJ-474?,29/Nov/21 5:40 PM;616ee20e2097220071a975d2;Hi [~accountid:60cc71a1d5dde800713a2124] - yes. Can you please find examples if this still an issue - even this works - [https://ggh-uwt-api.gghltest.co.uk/api/v1/underwriting/fedde142-4e05-4a0e-925b-7e5f7af0e68c/keyinfo|https://ggh-uwt-api.gghltest.co.uk/api/v1/underwriting/fedde142-4e05-4a0e-925b-7e5f7af0e68c/keyinfo],,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Spellmatch typeaheads can no longer be answered,NBJ-848,40993,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Highest,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,26/Nov/21 8:27 PM,30/Nov/21 2:43 PM,02/Feb/22 6:31 PM,30/Nov/21 2:43 PM,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"It is no longer possible to answer spellmatch typeaheads in underwriting.

The spellmatch part works and answers are returned, but no values are saved against the question when you select one.

There is the same problem for both multivalued and single-valued versions of the question.",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00plb:o,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,26/Nov/21 8:27 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,30/Nov/21 2:43 PM;60cc71a1d5dde800713a2124;Tested single value and multivalued for both single and joint lives…working now.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Display applicant level premium,NBJ-847,40992,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Mike,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,26/Nov/21 7:53 PM,02/Dec/21 5:17 PM,02/Feb/22 6:31 PM,02/Dec/21 5:17 PM,,Foundation Release,,,,,"*As a* User
*I want* to see applicant level premiums on the tabs on the quote screen
*So that* I know how much of the total premium is spread to each life

!Screenshot 2021-11-27 at 19.32.13.png|width=1298,height=964!",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,27/Nov/21 7:32 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-11-27 at 19.32.13.png;https://gghltd.atlassian.net/secure/attachment/23873/Screenshot+2021-11-27+at+19.32.13.png,,,,,,,,,,,,"*Given*: A valid quote
*When*: Displaying premiums on the quote screen
*Then*: An applicant level premium is displayed on the life tab.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,* Quote response already returns an applicant level premium,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00ugb:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,26/Nov/21 7:53 PM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Dec/21 5:17 PM;60cc71a1d5dde800713a2124;Tested in UWT - premiums show correctly.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Should be able to switch between lives if you have no covers,NBJ-846,40991,40445,Story bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,26/Nov/21 7:47 PM,30/Nov/21 9:22 AM,02/Feb/22 6:31 PM,30/Nov/21 9:22 AM,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: Should be able to switch between lives if you have no covers

Business Impact: User Experience

Steps to Reproduce:

# Add 2 lives
# Go to quote screen
# Try to navigate to the 2nd life tab and add a product

Expected Results: Allowed to navigate and add products to the 2nd life first

Actual Result: Prevented from navigating until you have a quote on the first life.",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00vzj:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,26/Nov/21 7:47 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,40445,Display 2nd life on quote screen and allow products to be added,Done
Inconsistent navigation when switching to 2nd life in underwriting,NBJ-845,40990,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,26/Nov/21 7:06 PM,02/Dec/21 5:19 PM,02/Feb/22 6:31 PM,02/Dec/21 5:19 PM,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: When you switch tabs to the second life in underwriting, you are always navigated to the 2nd section.  When you switch to the first life you are always navigated to the first section.

Business Impact: Just a bit naff

Steps to Reproduce: 
1. Add 2 lives to the application
2. Navigate between them by clicking their names in underwriting

Expected Results: 
Ideal result - you go back to the last tab you were on (within the current working app, if you have saved/reloaded then 1st section the first time you visit a life)
Result we can live with - you go back to the 1st section on a life when navigating between them

Actual Result: You always go to the 1st section for life 1 and the 2nd section for Life 2.",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00ple:b,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,26/Nov/21 7:06 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Dec/21 1:16 PM;60cc71a1d5dde800713a2124;You now get shown no underwriting when visiting the underwriting tab for the first time.  You need to select a page in the nav for the UI to then actually show any questions.  When first visiting if you havent visited before you should be shown the first page of underwriting.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Quote prices not shown for products on the 2nd life,NBJ-844,40989,39697,Story bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Mike,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,26/Nov/21 6:55 PM,29/Nov/21 11:17 AM,02/Feb/22 6:31 PM,29/Nov/21 11:17 AM,,,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,26/Nov/21 6:56 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-11-26 at 18.56.18.png;https://gghltd.atlassian.net/secure/attachment/23851/Screenshot+2021-11-26+at+18.56.18.png,26/Nov/21 6:56 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-11-26 at 18.56.22.png;https://gghltd.atlassian.net/secure/attachment/23850/Screenshot+2021-11-26+at+18.56.22.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"On a dual life application, quote prices are correctly shown on life 1, however no quote prices are shown for covers on the 2nd life

Life 1
 !Screenshot 2021-11-26 at 18.56.18.png|thumbnail! 

Life 2
 !Screenshot 2021-11-26 at 18.56.22.png|thumbnail! 

Steps to reprodce
1. Add 2 lives
2. Add a life cover to each applicant
3. Get quote - you will see prices on the covers for applicant 1 but not applicant 2
",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00vz3:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,,,,,26/Nov/21 6:55 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,39697,Show quote values on screen when quote requested by user,Done
Emit application status event to SalesForce,NBJ-842,40975,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,26/Nov/21 5:13 PM,02/Feb/22 9:22 AM,02/Feb/22 6:31 PM,,,Foundation Release,,Sprint_6,,,"*As a* a manual underwriter
*So that* I am aware in Salesforce the application status
*I want* an event from NBJ to Salesforce updating the application.status in Salesforce

{panel:bgColor=#deebff}
Always send an event once a manual UW event (underwriting.applydecision) received from Salesforce, the decision is persisted and application status has been updated 
{panel}",,Chris.Hibbert,Jim Houghton,mike hill,,,,,60cc71a1d5dde800713a2124,60cc71a22bd21400692fd2af,5d94816eefc9290c2e625a11,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,NBJ-1138,,,NBJ-215,,,,,,,,,,,,,,,,,,,,,,"*Given* any application
*And* any underwriting.applydecision (NBJ 819)
*And* muw decision successfully persisted (underwritingOutcome.origin=muw)
*When* application.status updated to Decision
*Then* triggerDecisionQuote  (i.e. all the stuff we normally do when we get a decision\!)
*and* calculate offerExpiryDate
*and* post *underwritingOutcome.riskDecisions.decision* event to Salesforce with a body containing application, quote and underwritingOutcome

*Given* any application
*And* any underwriting.applydecision (NBJ 819)
*And* muw decision successfully persisted (underwritingOutcome.origin=muw)
*When* application.status remains as Underwriting
*Then* post *underwritingOutcome.riskDecisions.decision* event to Salesforce with a body containing application, quote and underwritingOutcome

{panel:bgColor=#deebff}
Note: underwritingOutcome is a sub element of applicant, refer to: [https://gghltd.atlassian.net/wiki/spaces/NP/pages/2809757737/application+entity|https://gghltd.atlassian.net/wiki/spaces/NP/pages/2809757737/application+entity|smart-link] 
{panel}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-799,,,,,,,,,,,,,,,,None,,"*Event details*

post event type *underwriting*.*application.decision*

Provide the following data:

{code:json}{
  ""application"": {
    ""id"": """",
    ""adviserAtFirmLocationId"": <adviserId>,
    ""status"": ""<Refer to: https://gghltd.atlassian.net/wiki/spaces/NP/pages/2953183549/Application+and+Applicant+States#State-Transition-Diagrams>"",
    ""startDate"": ddmmyyyy,
    ""expiryDate"": ddmmyyyy,
    ""mortgageRelated"": true | false,
    ""thirdPartyRef"": ""adviserOwnRef?""
    ...
    ""applicants"":[
      {
        ""applicantId"": <guid>,
        ""title"": """",
        ""firstName"": """",
        ""lastName"": """",
        ""gender"": ""male | female"",
        ""smokerStatus"": <GUARDIAN smoker statuses>,
        ""status"": ""STP Decision | MUW Required""
        ...
        ""contactDetails"":{
          ""address1"": """",
          ""cityName"": """",
          ""county"": """",
          ""postcode"": """",
          ""email"": """",
          ""phone"": """",
          ...
        },
        ""covers"":{
          ""coverId"": <guid>,
          ...
        }
      },
      ...
    ],
    ""quote"": {
      ""applicationId"": """",
      ""adviserAtFirmLocationId"": <adviserId>,
      ""quoteAgeDate"": """",
      ""quoteExpiryDate"": ddmmyyyy,
      ""quotePremium"": 0.00,
      ""initialIndemnityPercentage"": 0-100,
      ""initialCommissionSacrificePercentage"": 0-100,
      ...
      ""quoteApplicants"":  [
        {
          ""applicantId"": <guid>,
          ""gender"": ""male | female"",
          ""smokerStatus"": <guardian smoker statuses>,
          ...,
          ""quoteCovers"": [
            {
              ""coverId"": <guid>,
              ""productType"": ""life | ci | aci | ccic"",
              ""coverType"": ""Increasing | Level | Decreasing | Family"",
              ""term"": 25,
              ""toAge"": 55,
              ""coverAmount"": 250000,
              ""premium"": 0.00,
              ""initialCommission"": 0.00,
              ...
            },
            {...}
          ],
          ""underwritingOutcome"": [ // one per applicant
            {
              ""applicantId"": ""<applicantId>"",
              ""smokerStatus"": ""<GUARDIAN smoker statuses>"",
              ""origin"": ""ure"",
              ""riskDecisions"": [ // one risk decision per risk element underwritten
                {
                  ""riskType"": ""life | ci | tpd"",
                  ""decision"": ""Standard Terms | Non standard Terms | Additional Evidence | Manual UW | Postponed | Declined"",
                  ""reasons"": [<list of strings, giving reasons for decision>],
                  ""upsell"": {
                    ""isAllowed"": true | false, -- change to true | false
                    ""amount"": 100000        
                  },
                  ""gioEntitlement"": true | false,
                  ""disabilityDefinition"": ""Own | Activities"", // only tpd 
                  ""postpone"": { // only present if decision POSTPONE or indicativeDecision POSTPONE
                    ""max""{
                      ""code"": """",
                      ""text"": """",
                      ""reasons"": """"
                    },
                    postpones: [
                      {
                        ""code"": """",
                        ""text"": """",
                        ""reasons"": ["""", """"]
                      },
                      ...
                    ]
                  },
                  ""evidences"": [ // only present if decision EVIDENCE_REQUIRED | REFER
                    {
                      ""code"": """",
                      ""text"": """",
                      ""reasons"": ["""", """"]
                    },
                    ...
                  ],
                  ""exclusions"": [ // not present for DECLINE | POSTPONES
                    {
                      ""code"": """",
                      ""text"": """",
                      ""reasons"": ["""", """"],
                      ""hasDiscount"": true | false,
                      ""exclusionOrRemoval"": ""exclusion | removal"" // baking all possible answers into the field name?
                    },
                    ...
                  ],
                  ""em"": {  -- not present for STANDARD | DECLINE | POSTPONES
                    ""totalRating"": 200, // the sum of all individual ratings 
                    ""ratings"": [
                      {
                        ""rating"": 50,
                        ""duration"": ""<time_period>"",
                        ""reasons"": ["""", """"]
                      },
                      ...
                    ]
                  ],
                  ""pm"": {  -- not present for STANDARD | DECLINE | POSTPONES
                    ""totalRating"": 200, // the sum of all individual ratings 
                    ""ratings"": [
                      {
                        ""rating"": 50,
                        ""duration"": ""<time_period>"",
                        ""reasons"": ["""", """"]
                      },
                      ...
                    ]
                }
              ]
            },
            {...}
          ] 
        },
        ...
      ]
    }
  }
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwie4:d,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,Guardian Sprint 9,,,,,26/Nov/21 5:13 PM,,8.0,,,,,,,,,,,,,,,,,,Test that application.status is set to Decision and the *underwritingOutcome.riskDecisions.decision* event is posted,,,,,,,,,,,,,,,2022-01-17 10:02:42.002,"17/Dec/21 5:23 PM;60cc71a22bd21400692fd2af;(flag) Flag added

Confirm Decision Data Model","17/Jan/22 10:02 AM;60cc71a1d5dde800713a2124;Issue split into:
|NBJ-1138|Determine decision source|
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Update top nav names and page URLs,NBJ-840,40972,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,26/Nov/21 5:07 PM,07/Dec/21 5:21 PM,02/Feb/22 6:31 PM,07/Dec/21 5:21 PM,,Foundation Release,,Sprint_6,,,"*As a* User
*I want* to have navigation that easy to understand
*So that* I know where I am going in the journey

The nav names have shifted slightly (Application has become Contact details and Underwriting has become Application).  The front end devs have expressed a desire to rename the URLs to match the top nav to keep the site simpler to navigate and maintain

Client details - /application/\{applicationId}/client-details (used to be /add-client )

Quote - /application/\{applicationId}/quote

Contact details - /application/\{applicationId}/contact-details 

Application - /application/\{applicationId}/application    (used to be /underwriting )

Decision - /application/\{applicationId}/decision

Set-up - /application/\{applicationId}/set-up

{color:#ff5630}*NOTE: We are still not worried about state in this story*{color}",,Chris.Hibbert,Mike,,,,,,60cc71a1d5dde800713a2124,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,07/Dec/21 5:21 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;mochawesome_060.html;https://gghltd.atlassian.net/secure/attachment/24125/mochawesome_060.html,,,,,,,,,,,,"*Given*: An application
*Then*: The top nav titles and links are as follows:


||*Order*||*Title*||*URL*||
|1|Client details|/application/\{applicationId}/client-details|
|2|Quote|/application/\{applicationId}/quote|
|3|Contact details|/application/\{applicationId}/contact-details|
|4|Application|/application/\{applicationId}/application|
|5|Decision|/application/\{applicationId}/decision|
|6|Set-up|/application/\{applicationId}/set-up|",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwijz:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,Guardian Sprint 6,,,,,26/Nov/21 5:07 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-07 07:57:42.467,"06/Dec/21 4:23 PM;60cc71a1d5dde800713a2124;I am getting the URLs like: [https://ggh-nbj-reactapp.azurewebsites.net/applicaton/G000090713/quote|https://ggh-nbj-reactapp.azurewebsites.net/applicaton/G000090713/quote]



So we have accidentally gone applicaton rather than application.","06/Dec/21 11:39 PM;60cc71a1d5dde800713a2124;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5]  - also, you used to be able to refresh a page / link directly to a saved application but that no longer appears possible.",07/Dec/21 7:57 AM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;Hi [~accountid:60cc71a1d5dde800713a2124] that link in the comments has the old wrong spelling of “application” in the url. This was quickly fixed in another update yesterday. So try - [https://ggh-nbj-reactapp.azurewebsites.net/application/G000090713/quote|https://ggh-nbj-reactapp.azurewebsites.net/application/G000090713/quote|smart-link] ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Change summary panel to privacy panel on contact details screen,NBJ-839,40971,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,26/Nov/21 5:07 PM,02/Dec/21 5:21 PM,02/Feb/22 6:31 PM,02/Dec/21 5:21 PM,,Foundation Release,,,,,"*As a* User
*I want* to see details of Guardians Privacy Policy before I give personally identifiable information
*So that* my client knows their data is safe

Screen design has changed and we no longer show the summary panel on this screen, instead we have a privacy policy panel.

!Screenshot 2021-11-27 at 17.14.19.png|width=1485,height=955!",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,27/Nov/21 5:14 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-11-27 at 17.14.19.png;https://gghltd.atlassian.net/secure/attachment/23869/Screenshot+2021-11-27+at+17.14.19.png,,,,,,,,,,,,"*Given*: An application
*When*: Viewing the contact details screen
*Then*: The privacy policy panel is shown
*and*: It has the wording “You’re entering personal and sensitive client data in this application.  Your terms of business states you have consent from your client to give us their data.  Please make sure your client understands how we’ll handle their data with our privacy policy.”
*and*: the privacy policy link opens a new browser to : [https://guardian1821.co.uk/privacy-policy/|https://guardian1821.co.uk/privacy-policy/]",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,Link for customer privacy policy: [https://guardian1821.co.uk/privacy-policy/|https://guardian1821.co.uk/privacy-policy/],,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00ple:c,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,26/Nov/21 5:07 PM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Add confirmation of delete on covers,NBJ-838,40970,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,26/Nov/21 5:07 PM,09/Dec/21 2:50 PM,02/Feb/22 6:31 PM,09/Dec/21 2:50 PM,,Foundation Release,,Sprint_6,,,"*As a* User
*I want* to be asked to confirm deletion of a product
*So that* I don't delete things accidentally



!Screenshot 2021-12-05 at 10.47.14.png|width=892,height=263!",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,27/Nov/21 5:04 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-11-27 at 17.03.43.png;https://gghltd.atlassian.net/secure/attachment/23866/Screenshot+2021-11-27+at+17.03.43.png,05/Dec/21 10:47 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-05 at 10.47.14.png;https://gghltd.atlassian.net/secure/attachment/24062/Screenshot+2021-12-05+at+10.47.14.png,09/Dec/21 2:50 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;mochawesome_061.html;https://gghltd.atlassian.net/secure/attachment/24197/mochawesome_061.html,,,,,,,,,,"*Given*: An application with applicants and covers
*When*: The user clicks to remove a cover
*Then*: The user is prompted “Do you want to remove this cover?”
*and*: Clicking Yes will remove the cover
*and*: Clicking cancel will not remove the cover
*and*: Clicking to close the modal will not remove the cover",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,* Note there are other modals in the journey (e.g. commission),,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009dz,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,26/Nov/21 5:07 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Add top level error panel on the quote screen when errors present on either life,NBJ-837,40969,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,26/Nov/21 5:06 PM,09/Dec/21 5:13 PM,02/Feb/22 6:31 PM,,,,,Sprint_10,,,"*As a* User
*I want* to see an error at the top of the quote screen if there are any validation failures
*So that* I know errors are present (even if they are on the other life)



!Screenshot 2021-11-27 at 17.07.32 (c374818b-da32-4258-b96c-b7be986c4b99).png|width=1407,height=1318!",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,27/Nov/21 5:11 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-11-27 at 17.07.32 (c374818b-da32-4258-b96c-b7be986c4b99).png;https://gghltd.atlassian.net/secure/attachment/23868/Screenshot+2021-11-27+at+17.07.32+%28c374818b-da32-4258-b96c-b7be986c4b99%29.png,27/Nov/21 5:07 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-11-27 at 17.07.32.png;https://gghltd.atlassian.net/secure/attachment/23867/Screenshot+2021-11-27+at+17.07.32.png,,,,,,,,,,,"*Given*: An application with applicant/s and cover/s
*When*: A cover has a validation error
*Then*: An error banner is also shown at the top of the screen
*And*: The text shows “Please update <applicant fullname>'s covers”
*And*: The text is listed twice if both lives have covers with an error ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,* Ignore the middle error on the screenshot.,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00w77:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,26/Nov/21 5:06 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,07/Dec/21 12:21 PM;60cc71a1d5dde800713a2124;[~accountid:6061ac5d00b79f0070aa4ad3]  - did you get a decision on the approach here?,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Expose the URE optionList api through apim - attributes,NBJ-836,40968,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,26/Nov/21 5:04 PM,25/Jan/22 6:34 PM,02/Feb/22 6:31 PM,11/Jan/22 4:23 PM,,Foundation Release,,Sprint_6,,,"*As a* consumer of the apis
*So that* I can use option lists defined in the ure
*I want* to be able to access the attributes of any optionLists defined in the URE",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,SF-1375,,,,,,,,NBJ-1256,,,,,,,,,,11/Jan/22 4:23 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/24941/LivingDoc.html,,,,,,,,,,,,"*Given* any valid option list request
*When* processing request
*Then* determine current URE branch and tag from applicantId
*And* construct URE request to rawOptionList api

_Building on the above_

*Given* a successful response from URE
*And* options has attributes.insurerExclusionCode
*When* formulating response
*Then* foreach ure.option map ure.option.attributes.insurerExclusionCode to data.option.code

*Given* a successful response from URE
*And* options has attributes.insurerText
*When* formulating response
*Then* foreach ure.option map ure.option.attributes.insurerText to data.option.text

*Given* a successful response from URE
*And* options has attributes.isRemoval
*And* options has attributes.hasDiscount
*When* formulating response
*Then* foreach ure.option map ure.option.attributes.isRemoval to data.option.isRemoval
*And* foreach ure.option map ure.option.attributes.hasDiscount to data.option.hasDiscount",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-799,,,,,,,,,,,,,,,,None,,"_Request_

{code:json}GET /api/v1/underwriting/{applicantId}/optionList/{optionListName}{code}

_Response_

{code:json}{
  ""errors"": {},
  ""data"":{
    ""options"":[
      {
        ""code"": ""{optionCode}"",
        ""text"": ""{optionText}"",
        ""isRemoval"": null | true | false,
        ""hasDiscount"": null | true | false
      },
      {...}
    ]
  }
}{code}

URE request (specifically chosen this api as further stories need to handle aliases)

{code:json}GET /v4/rawOptionList/{branch}/{tag}/{optionListName}{code}

URE response

{code:json}{
  ""name"": ""ExclusionOptions"",
  ""fuzzyThreshold"": 0.3,
  ""locales"": [
	...
  ],
  ""options"": [
    {
      ""name"": ""CIBROVCA"",
      ""aliasesByLocale"": {
        ""IFA_EN_GB"": [
          ""Carcinoma-in-situ of the breast, breast cancer and ovarian cancer are removed as insured conditions""
        ]
      },
      ""categories"": [],
      ""tags"": [],
      ""attributes"": {
        ""insurerExclusionCode"": ""CIBROVCA"",
        ""insurerText"": ""Carcinoma-in-situ of the breast, breast cancer and ovarian cancer are removed as insured conditions"",
        ""isRemoval"": true | false,
        ""hasDiscount"": true | false
      }
    },
    ...
  ]
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00ycy:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,Guardian Sprint 7,,,,,26/Nov/21 4:24 PM,,3.0,,,,,,,,,,,,,,,,,,"I am expecting this api to be used for looking up the following optionLists by salesforce initially:

* ExclusionOptions",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Sufficiently large or text cover amounts cause a weird exception,NBJ-835,40967,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Lowest,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,26/Nov/21 5:01 PM,09/Dec/21 2:29 PM,02/Feb/22 6:31 PM,09/Dec/21 2:29 PM,,Foundation Release,,,,,,,Chris.Hibbert,Max Silva,,,,,,60cc71a1d5dde800713a2124,6139c4f3e2a0d60069cf8994,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,26/Nov/21 5:03 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-11-26 at 17.02.48.png;https://gghltd.atlassian.net/secure/attachment/23844/Screenshot+2021-11-26+at+17.02.48.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"If you enter a cover amount of “10000000000” or random text you will get an error shown of:

!Screenshot 2021-11-26 at 17.02.48.png|width=200,height=183!

 

I think the best fix here is to restrict the cover amount field to no more than 8 numeric characters.",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwika:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,26/Nov/21 5:01 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-06 20:08:54.767,06/Dec/21 8:08 PM;6139c4f3e2a0d60069cf8994;Yep this is the error that comes back from the server.,08/Dec/21 10:50 AM;60cc71a1d5dde800713a2124;[~accountid:6139c4f3e2a0d60069cf8994]  - Random text still causes an error.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Expose the URE optionList api through apim,NBJ-834,40954,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,26/Nov/21 4:24 PM,11/Jan/22 3:31 PM,02/Feb/22 6:31 PM,11/Jan/22 3:31 PM,,Foundation Release,,Sprint_6,,,"*As a* consumer of the apis
*So that* I can use option lists defined in the ure
*I want* to be able to access the attributes of any optionLists defined in the URE",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,NBJ-836,,,,,,,,,,,,NBJ-205,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* any valid option list request
*When* processing request
*Then* determine current URE branch and tag from applicantId
*And* construct URE request to rawOptionList api

_Building on the above_

*Given* a successful response from URE
*When* formulating response
*Then* foreach ure.option map [ure.option.name|http://ure.option.name] to data.option.code
*And* foreach ure.option map [ure.option.|http://ure.option.name]aliasesByLocale.IFA_EN_GB to data.option.text",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-799,,,,,,,,,,,,,,,,None,,"_Request_

{code:json}GET /api/v1/underwriting/{applicantId}/optionList/{optionListName}{code}

_Response_

{code:json}{
  ""errors"": {},
  ""data"":{
    ""options"":[
      {
        ""code"": ""{optionCode}"",
        ""text"": ""{optionText}""
      },
      {...}
    ]
  }
}{code}

URE request (specifically chosen this api as further stories need to handle aliases)

{code:json}GET /v4/rawOptionList/{branch}/{tag}/{optionListName}{code}

URE response

{code:json}{
  ""name"": ""ExclusionOptions"",
  ""fuzzyThreshold"": 0.3,
  ""locales"": [
	...
  ],
  ""options"": [
    {
      ""name"": ""CIBROVCA"",
      ""aliasesByLocale"": {
        ""IFA_EN_GB"": [
          ""Carcinoma-in-situ of the breast, breast cancer and ovarian cancer are removed as insured conditions""
        ]
      },
      ""categories"": [],
      ""tags"": [],
      ""attributes"": {
        ""insurerExclusionCode"": ""CIBROVCA"",
        ""insurerText"": ""Carcinoma-in-situ of the breast, breast cancer and ovarian cancer are removed as insured conditions"",
        ""isRemoval"": true | false,
        ""hasDiscount"": true | false
      }
    },
    ...
  ]
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00ycx:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,Guardian Sprint 7,,,,,26/Nov/21 4:24 PM,,5.0,,,,,,,,,,,,,,,,,,"I am expecting this api to be used for looking up the following optionLists by salesforce initially:

* PostponeCodeOptions",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
risk decision is key rather than value from relevant bucket/s,NBJ-833,40952,,Bug,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Low,,Jim Houghton,60cc71a22bd21400692fd2af,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,26/Nov/21 4:08 PM,26/Jan/22 9:24 AM,02/Feb/22 6:31 PM,,,,,,,,,,Chris.Hibbert,James Bartlett,Jim Houghton,,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,26/Nov/21 4:12 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;29b05f33-ee6c-4e73-a23d-db3f4f75bedb_decision.json;https://gghltd.atlassian.net/secure/attachment/23843/29b05f33-ee6c-4e73-a23d-db3f4f75bedb_decision.json,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* Get a decision for a applicant with a Standard decision. The decision in the relevant riskDecision is STANDARD rather than '{{Standard Terms}}'.

See attached for an example of the decision output.

*Business Impact:* The decision endpoint should inform the screen text which means the display will not be informative enough without this being fixed

*Steps to Reproduce:* Get a decision for a applicant with a Standard decision - the decision is “STANDARD” and not “Standard Terms”

*Expected Results:* Get a decision for a applicant with a Standard decision - the decision is “Standard Terms”

*Actual Result:* Get a decision for a applicant with a Standard decision - the decision is “STANDARD” 

*Version:* unknown",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,QA / UWT,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwija:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,,,,,,26/Nov/21 4:08 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-25 14:47:50.588,25/Jan/22 2:47 PM;60cc71a1d5dde800713a2124;[~accountid:60cc71a22bd21400692fd2af]  - is this a problem?,26/Jan/22 9:24 AM;60cc71a22bd21400692fd2af;[~accountid:60cc71a1d5dde800713a2124] - I will check with Salesforce consumers as I think they are the only direct consumers of the risk decision,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Map Manual Underwriting decision to risk decision - postpones,NBJ-832,40951,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Ian.Douglas,5e183e85c578120daca5bc7b,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,26/Nov/21 4:05 PM,24/Jan/22 9:46 AM,02/Feb/22 6:31 PM,,,,,Sprint_6,,,"*As an* api consumer of decision
*So that* the manual underwriting decision from Salesforce overrides the URE decision
*I want* to translate the Salesforce manual decision to the risk decision format",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,NBJ-214,NBJ-205,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* a request for risk decision on an applicant

{code:json}POST /api/v1/decision/{applicantId}{code}

*And* a manual underwriting decision exists
*When* processing the request
*Then* map muw.postponeCode to riskDecision.postpone.max.code on the risk decision

_Building on the above_

*Given* a muw.postponeCode
*When* processing a response from 

{code:json}/v4/option/{branch}/{tag}/PostponeCodeOptions/{muw.postponeCode}{code}

*Then* map option.text to riskDecisionpostpone.max.text",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-799,,,,,,,,,Impediment,,,,,,,None,,"_Manual UW decision_

{code:json}{
  ""applicantId"": """",
  ""dateOfBirth"": """", //hopefully not required
  ""smokerStatus"": """",
  ""sofNotes"": """", //need a solution to find its way to document(s)
  ""gender"": """", //hopefully not required
  ""occupation"": """", //hopefully not required
  ""freeTextExclusionWording"": """", //hard code 9999
  ""freeTextRemovalWording"": """", //hard code 9998
  ""covers"": [
    ...
  ],
  ""muwRiskDecisions"": [
    {
      ""riskType"": ""life | ci | tpd"",
      ""decision"": ""Standard Terms | Non-Standard Terms | Postpone | Decline"",
      ""eMRating"": 100,
      ""decisionReason"": """",
      ""pmRating"": 2,
      ""tempPMRating"": 1,
      ""tempPMDuration"": 12, //Number in months
      ""postponeCode"": """",
      ""gioEntitlement"": ""Yes | No"", //can we have true | false
      ""upsellAllowed"": ""Yes | No"", //can we have true or false
      ""upsellAmount"": 122353534,
      ""disabilityDefinition"": ""Own | Activities""
      ""exclusions"": [
        ""exclusionCode"": """",
        ""isRemoval"": true | false
      ]
    },
    {...}
  ]
}{code}

_Risk Decision_

{code:json}{
  ""applicantId"": ""<applicantId>"",
  ""smokerStatus"": ""<GUARDIAN smoker statuses>"", //muw.smokerStatus
  ""riskDecisions"": [ // one risk decision per risk element underwritten
    {
      ""riskType"": ""life | ci | tpd"", //muw.riskDecision.riskType
      ""decision"": ""Standard Terms | Non standard Terms | Additional Evidence | Manual UW | Postponed | Declined"", //muw.riskDecision.decision
      ""isIndicative"": true | false,
      ""indicativeDecision"": ""Standard Terms | Non standard Terms | Additional Evidence | Manual UW | Postponed | Declined"",
      ""reasons"": [<list of strings, giving reasons for decision>], //muw.riskDecision.decisionReason (split into list)
      ""upsell"": {
        ""isAllowed"": true | false, //muw.riskDecision.upsellAllowed
        ""amount"": 100000 //muw.riskDecision.upsellAmount      
      },
      ""gioEntitlement"": true | false, //muw.riskDecision.gioEntitlement
      ""disabilityDefinition"": ""Own | Activities"", //muw.riskDecision.disabilityDefinition 
      ""postpone"": { -- only present if decision POSTPONE or indicativeDecision POSTPONE
        ""max""{
          ""code"": """",  //muw.riskDecision.postponeCode
          ""text"": """", //lookup the matching text
          ""reasons"": """" //muw.riskDecision.decisionReason (split to list)
        },
        postpones: [ //empty
          {
            ""code"": """",
            ""text"": """",
            ""reasons"": ["""", """"]
          },
          ...
        ]
      },
      ""evidences"": [ //empty
        {
          ""code"": """",
          ""text"": """",
          ""reasons"": ["""", """"]
        },
        ...
      ],
      ""exclusions"": [ //missing?
        {
          ""code"": """",
          ""text"": """",
          ""reasons"": ["""", """"],
          ""hasDiscount"": true | false,
          ""isRemoval"": true | false,
          ""isIndicative"": true | false
        },
        ...
      ],
      ""em"": {  // just map the total
        ""totalRating"": 200, // the sum of all individual ratings 
        ""ratings"": [
          {
            ""rating"": 50,
            ""duration"": ""<time_period>"",
            ""reasons"": ["""", """"],
            ""isIndicative"": true | false
          },
          ...
        ]
      ],
      ""pm"": {  //map total plus detail
        ""totalRating"": 2, // the sum of all individual ratings 
        ""ratings"": [
          {
            ""rating"": 2,
            ""duration"": ""<time_period>"",
            ""reasons"": ["""", """"],
            ""isIndicative"": true | false
          },
          ...
        ]
      ]
    }
  ]    
}{code}

option response from URE

{code:json}{
  ""name"": {muw.postponeCode},
  ""text"": """",
  ""aliases"": [],
  ""categories"": [],
  ""tags"": [],
  ""attributes"": {}
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwiha:x,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,25/Nov/21 3:14 PM,,3.0,,,,,,,,,,,,,,,,,,This story is about mapping Salesforce Postpone decisions.  There will only ever be one postpone code from Salesforce.,,,,,,,,,,,,,,,,"17/Dec/21 5:23 PM;60cc71a22bd21400692fd2af;(flag) Flag added

Confirm Decision Data Model",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Map Manual Underwriting decision to risk decision - freeformat exclusion/removal,NBJ-831,40937,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Ian.Douglas,5e183e85c578120daca5bc7b,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,26/Nov/21 1:58 PM,24/Jan/22 9:46 AM,02/Feb/22 6:31 PM,,,,,Sprint_6,,,"*As an* api consumer of decision
*So that* the manual underwriting decision from Salesforce overrides the URE decision
*I want* to translate the Salesforce manual decision to the risk decision format",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,NBJ-214,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* a request for risk decision on an applicant

{code:json}POST /api/v1/decision/{applicantId}{code}

*And* a manual underwriting decision exists
*And* muw decision with freeTextExclusionWording
*And* processing a ci risk
*When* processing request
*Then* map 9999 to riskDecision.exclusion.code
*And* map muw.freeTextExclusionWording to riskDecision.exclusion.text
*And* map false to riskDecision.exclusion.isRemoval
*And* map false to risDecision.exclusion.hasDiscount

*Given* a request for risk decision on an applicant

{code:json}POST /api/v1/decision/{applicantId}{code}

*And* a manual underwriting decision exists
*And* muw decision with freeTextRemovalWording
*And* processing a ci risk
*When* processing request
*Then* map 9998 to riskDecision.exclusion.code
*And* map muw.freeTextRemovalWording to riskDecision.exclusion.text
*And* map true to riskDecision.exclusion.isRemoval
*And* map false to risDecision.exclusion.hasDiscount",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-799,,,,,,,,,Impediment,,,,,,,None,,"_Manual UW decision_

{code:json}{
  ""applicantId"": """",
  ""dateOfBirth"": """", //hopefully not required
  ""smokerStatus"": """",
  ""sofNotes"": """", //need a solution to find its way to document(s)
  ""gender"": """", //hopefully not required
  ""occupation"": """", //hopefully not required
  ""freeTextExclusionWording"": """", //hard code 9999
  ""freeTextRemovalWording"": """", //hard code 9998
  ""covers"": [
    ...
  ],
  ""muwRiskDecisions"": [
    {
      ""riskType"": ""life | ci | tpd"",
      ""decision"": ""Standard Terms | Non-Standard Terms | Postpone | Decline"",
      ""eMRating"": 100,
      ""decisionReason"": """",
      ""pmRating"": 2,
      ""tempPMRating"": 1,
      ""tempPMDuration"": 12, //Number in months
      ""postponeCode"": """",
      ""gioEntitlement"": ""Yes | No"", //can we have true | false
      ""upsellAllowed"": ""Yes | No"", //can we have true or false
      ""upsellAmount"": 122353534,
      ""disabilityDefinition"": ""Own | Activities""
      ""exclusions"": [
        ""exclusionCode"": """",
        ""isRemoval"": true | false
      ]
    },
    {...}
  ]
}{code}

_Risk Decision_

{code:json}{
  ""applicantId"": ""<applicantId>"",
  ""smokerStatus"": ""<GUARDIAN smoker statuses>"", //muw.smokerStatus
  ""riskDecisions"": [ // one risk decision per risk element underwritten
    {
      ""riskType"": ""life | ci | tpd"", //muw.riskDecision.riskType
      ""decision"": ""Standard Terms | Non standard Terms | Additional Evidence | Manual UW | Postponed | Declined"", //muw.riskDecision.decision
      ""isIndicative"": true | false,
      ""indicativeDecision"": ""Standard Terms | Non standard Terms | Additional Evidence | Manual UW | Postponed | Declined"",
      ""reasons"": [<list of strings, giving reasons for decision>], //muw.riskDecision.decisionReason (split into list)
      ""upsell"": {
        ""isAllowed"": true | false, //muw.riskDecision.upsellAllowed
        ""amount"": 100000 //muw.riskDecision.upsellAmount      
      },
      ""gioEntitlement"": true | false, //muw.riskDecision.gioEntitlement
      ""disabilityDefinition"": ""Own | Activities"", //muw.riskDecision.disabilityDefinition 
      ""postpone"": { -- only present if decision POSTPONE or indicativeDecision POSTPONE
        ""max""{
          ""code"": """",  //muw.riskDecision.postponeCode
          ""text"": """", //lookup the matching text
          ""reasons"": """" //muw.riskDecision.decisionReason (split to list)
        },
        postpones: [ //empty
          {
            ""code"": """",
            ""text"": """",
            ""reasons"": ["""", """"]
          },
          ...
        ]
      },
      ""evidences"": [ //empty
        {
          ""code"": """",
          ""text"": """",
          ""reasons"": ["""", """"]
        },
        ...
      ],
      ""exclusions"": [ //missing?
        {
          ""code"": """",
          ""text"": """",
          ""reasons"": ["""", """"],
          ""hasDiscount"": true | false,
          ""isRemoval"": true | false,
          ""isIndicative"": true | false
        },
        ...
      ],
      ""em"": {  // just map the total
        ""totalRating"": 200, // the sum of all individual ratings 
        ""ratings"": [
          {
            ""rating"": 50,
            ""duration"": ""<time_period>"",
            ""reasons"": ["""", """"],
            ""isIndicative"": true | false
          },
          ...
        ]
      ],
      ""pm"": {  //map total plus detail
        ""totalRating"": 2, // the sum of all individual ratings 
        ""ratings"": [
          {
            ""rating"": 2,
            ""duration"": ""<time_period>"",
            ""reasons"": ["""", """"],
            ""isIndicative"": true | false
          },
          ...
        ]
      ]
    }
  ]    
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwiha:v,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,25/Nov/21 3:14 PM,,3.0,,,,,,,,,,,,,,,,,,This story is just about freeformat exclusions and removals,,,,,,,,,,,,,,,,"17/Dec/21 5:23 PM;60cc71a22bd21400692fd2af;(flag) Flag added

Confirm Decision Data Model",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Map Manual Underwriting decision to risk decision - exclusions,NBJ-830,40936,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Ian.Douglas,5e183e85c578120daca5bc7b,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,26/Nov/21 1:57 PM,24/Jan/22 9:46 AM,02/Feb/22 6:31 PM,,,,,Sprint_6,,,"*As an* api consumer of decision
*So that* the manual underwriting decision from Salesforce overrides the URE decision
*I want* to translate the Salesforce manual decision to the risk decision format",,Jim Houghton,mike hill,,,,,,60cc71a22bd21400692fd2af,5d94816eefc9290c2e625a11,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,NBJ-214,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* a request for risk decision on an applicant

{code:json}POST /api/v1/decision/{applicantId}{code}

*And* a manual underwriting decision exists (underwritingOutcome\[origin=muw])
*When* processing the request
*Then* foreach underwritingOutcome\[origin=muw].muwRiskDecisions\[riskType=life|ci|tpd].exclusions map exclusionCode to underwritingOutcome\[origin=ure].riskDecisions\[riskType=life|ci|tpd].exclusions.code
*And* foreach underwritingOutcome\[origin=muw].muwRiskDecisions\[riskType=life|ci|tpd].exclusions map isRemoval to underwritingOutcome\[origin=muw].muwRiskDecisions\[riskType=life|ci|tpd].exclusions.isRemoval

_Building on the above_

*Given* an exclusionCode
*When* processing a response from 

{code:json}/v4/option/{branch}/{tag}/ExclusionOptions/{stem}{code}

*Then* matching on muw.exclusion.exclusionCode to rawOptionList.option.attributes.insurerExclusionCode
*And* map rawOptionList.option.attributes.insurerText to  riskDecision.exclusion.text
*And* map rawOptionList.option.attributes.hasDiscount to  riskDecision.exclusion.hasDiscount",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-799,,,,,,,,,Impediment,,,,,,,None,,"_Manual UW decision_

{code:json}{
  ""applicantId"": """",
  ""dateOfBirth"": """", //hopefully not required
  ""smokerStatus"": """",
  ""sofNotes"": """", //need a solution to find its way to document(s)
  ""gender"": """", //hopefully not required
  ""occupation"": """", //hopefully not required
  ""freeTextExclusionWording"": """", //hard code 9999
  ""freeTextRemovalWording"": """", //hard code 9998
  ""covers"": [
    ...
  ],
  ""muwRiskDecisions"": [
    {
      ""riskType"": ""life | ci | tpd"",
      ""decision"": ""Standard Terms | Non-Standard Terms | Postpone | Decline"",
      ""eMRating"": 100,
      ""decisionReason"": """",
      ""pmRating"": 2,
      ""tempPMRating"": 1,
      ""tempPMDuration"": 12, //Number in months
      ""postponeCode"": """",
      ""gioEntitlement"": ""Yes | No"", //can we have true | false
      ""upsellAllowed"": ""Yes | No"", //can we have true or false
      ""upsellAmount"": 122353534,
      ""disabilityDefinition"": ""Own | Activities""
      ""exclusions"": [
        ""exclusionCode"": """",
        ""isRemoval"": true | false
      ]
    },
    {...}
  ]
}{code}

_Risk Decision_

{code:json}{
  ""applicantId"": ""<applicantId>"",
  ""smokerStatus"": ""<GUARDIAN smoker statuses>"", //muw.smokerStatus
  ""riskDecisions"": [ // one risk decision per risk element underwritten
    {
      ""riskType"": ""life | ci | tpd"", //muw.riskDecision.riskType
      ""decision"": ""Standard Terms | Non standard Terms | Additional Evidence | Manual UW | Postponed | Declined"", //muw.riskDecision.decision
      ""isIndicative"": true | false,
      ""indicativeDecision"": ""Standard Terms | Non standard Terms | Additional Evidence | Manual UW | Postponed | Declined"",
      ""reasons"": [<list of strings, giving reasons for decision>], //muw.riskDecision.decisionReason (split into list)
      ""upsell"": {
        ""isAllowed"": true | false, //muw.riskDecision.upsellAllowed
        ""amount"": 100000 //muw.riskDecision.upsellAmount      
      },
      ""gioEntitlement"": true | false, //muw.riskDecision.gioEntitlement
      ""disabilityDefinition"": ""Own | Activities"", //muw.riskDecision.disabilityDefinition 
      ""postpone"": { -- only present if decision POSTPONE or indicativeDecision POSTPONE
        ""max""{
          ""code"": """",  //muw.riskDecision.postponeCode
          ""text"": """", //lookup the matching text
          ""reasons"": """" //muw.riskDecision.decisionReason (split to list)
        },
        postpones: [ //empty
          {
            ""code"": """",
            ""text"": """",
            ""reasons"": ["""", """"]
          },
          ...
        ]
      },
      ""evidences"": [ //empty
        {
          ""code"": """",
          ""text"": """",
          ""reasons"": ["""", """"]
        },
        ...
      ],
      ""exclusions"": [ //missing?
        {
          ""code"": """",
          ""text"": """",
          ""reasons"": ["""", """"],
          ""hasDiscount"": true | false,
          ""isRemoval"": true | false,
          ""isIndicative"": true | false
        },
        ...
      ],
      ""em"": {  // just map the total
        ""totalRating"": 200, // the sum of all individual ratings 
        ""ratings"": [
          {
            ""rating"": 50,
            ""duration"": ""<time_period>"",
            ""reasons"": ["""", """"],
            ""isIndicative"": true | false
          },
          ...
        ]
      ],
      ""pm"": {  //map total plus detail
        ""totalRating"": 2, // the sum of all individual ratings 
        ""ratings"": [
          {
            ""rating"": 2,
            ""duration"": ""<time_period>"",
            ""reasons"": ["""", """"],
            ""isIndicative"": true | false
          },
          ...
        ]
      ]
    }
  ]    
}{code}

rawOptionList response from URE

{noformat}{
  ""name"": ""ExclusionOptions"",
  ""fuzzyThreshold"": 0.3,
  ""locales"": [
	...
  ],
  ""options"": [
    {
      ""name"": ""CIBROVCA"",
      ""aliasesByLocale"": {
        ""IFA_EN_GB"": [
          ""Carcinoma-in-situ of the breast, breast cancer and ovarian cancer are removed as insured conditions""
        ]
      },
      ""categories"": [],
      ""tags"": [],
      ""attributes"": {
        ""insurerExclusionCode"": ""CIBROVCA"",
        ""insurerText"": ""Carcinoma-in-situ of the breast, breast cancer and ovarian cancer are removed as insured conditions"",
        ""isRemoval"": true | false,
        ""hasDiscount"": true | false
      }
    },
    ...
  ]
}{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwiha:r,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,25/Nov/21 3:14 PM,,3.0,,,,,,,,,,,,,,,,,,"This first story takes care of the simple mappings, further stories will be required to handle the more sophisticated mapping.",,,,,,,,,,,,,,,2022-01-19 13:13:11.38,"17/Dec/21 5:23 PM;60cc71a22bd21400692fd2af;(flag) Flag added

Confirm Decision Data Model",19/Jan/22 1:13 PM;5d94816eefc9290c2e625a11;[~accountid:60cc71a22bd21400692fd2af] - Updated to reflect underwritingOutcome model ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Map Manual Underwriting decision to risk decision - PM Rating,NBJ-829,40935,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Ian.Douglas,5e183e85c578120daca5bc7b,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,26/Nov/21 1:56 PM,24/Jan/22 9:45 AM,02/Feb/22 6:31 PM,,,,,Sprint_6,,,"*As an* api consumer of decision
*So that* the manual underwriting decision from Salesforce overrides the URE decision
*I want* to translate the Salesforce manual decision to the risk decision format",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,NBJ-214,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* a request for risk decision on an applicant

{code:json}POST /api/v1/decision/{applicantId}{code}

*And* a manual underwriting decision exists
*When* processing the request
*Then* map the sum of muw.muwRiskDecision.pmRating and muw.muwRiskDecision.tempPmRating to riskDecision.pm.totalRating on the risk decision
*And* map muw.muwRiskDecision.pmRating to [riskDecision.pm|http://riskDecision.pm].ratings\[0].rating
*And* map muw.muwRiskDecision.tempPmRating to [riskDecision.pm|http://riskDecision.pm].ratings\[1].rating
*And* map muw.muwRiskDecision.tempPmDuration to [riskDecision.pm|http://riskDecision.pm].ratings\[1].duration",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-799,,,,,,,,,Impediment,,,,,,,None,,"_Manual UW decision_

{code:json}{
  ""applicantId"": """",
  ""dateOfBirth"": """", //hopefully not required
  ""smokerStatus"": """",
  ""sofNotes"": """", //need a solution to find its way to document(s)
  ""gender"": """", //hopefully not required
  ""occupation"": """", //hopefully not required
  ""freeTextExclusionWording"": """", //hard code 9999
  ""freeTextRemovalWording"": """", //hard code 9998
  ""covers"": [
    ...
  ],
  ""muwRiskDecisions"": [
    {
      ""riskType"": ""life | ci | tpd"",
      ""decision"": ""Standard Terms | Non-Standard Terms | Postpone | Decline"",
      ""eMRating"": 100,
      ""decisionReason"": """",
      ""pmRating"": 2,
      ""tempPMRating"": 1,
      ""tempPMDuration"": 12, //Number in months
      ""postponeCode"": """",
      ""gioEntitlement"": ""Yes | No"", //can we have true | false
      ""upsellAllowed"": ""Yes | No"", //can we have true or false
      ""upsellAmount"": 122353534,
      ""disabilityDefinition"": ""Own | Activities""
      ""exclusions"": [
        ""exclusionCode"": """",
        ""isRemoval"": true | false
      ]
    },
    {...}
  ]
}{code}

_Risk Decision_

{code:json}{
  ""applicantId"": ""<applicantId>"",
  ""smokerStatus"": ""<GUARDIAN smoker statuses>"", //muw.smokerStatus
  ""riskDecisions"": [ // one risk decision per risk element underwritten
    {
      ""riskType"": ""life | ci | tpd"", //muw.riskDecision.riskType
      ""decision"": ""Standard Terms | Non standard Terms | Additional Evidence | Manual UW | Postponed | Declined"", //muw.riskDecision.decision
      ""isIndicative"": true | false,
      ""indicativeDecision"": ""Standard Terms | Non standard Terms | Additional Evidence | Manual UW | Postponed | Declined"",
      ""reasons"": [<list of strings, giving reasons for decision>], //muw.riskDecision.decisionReason (split into list)
      ""upsell"": {
        ""isAllowed"": true | false, //muw.riskDecision.upsellAllowed
        ""amount"": 100000 //muw.riskDecision.upsellAmount      
      },
      ""gioEntitlement"": true | false, //muw.riskDecision.gioEntitlement
      ""disabilityDefinition"": ""Own | Activities"", //muw.riskDecision.disabilityDefinition 
      ""postpone"": { -- only present if decision POSTPONE or indicativeDecision POSTPONE
        ""max""{
          ""code"": """",  //muw.riskDecision.postponeCode
          ""text"": """", //lookup the matching text
          ""reasons"": """" //muw.riskDecision.decisionReason (split to list)
        },
        ""postpones"": [ //empty
          {
            ""code"": """",
            ""text"": """",
            ""reasons"": ["""", """"]
          },
          ...
        ]
      },
      ""evidences"": [ //empty
        {
          ""code"": """",
          ""text"": """",
          ""reasons"": ["""", """"]
        },
        ...
      ],
      ""exclusions"": [ //missing?
        {
          ""code"": """",
          ""text"": """",
          ""reasons"": ["""", """"],
          ""hasDiscount"": true | false,
          ""isRemoval"": true | false,
          ""isIndicative"": true | false
        },
        ...
      ],
      ""em"": {  // just map the total
        ""totalRating"": 200, // the sum of all individual ratings 
        ""ratings"": [
          {
            ""rating"": 50,
            ""duration"": ""<time_period>"",
            ""reasons"": ["""", """"],
            ""isIndicative"": true | false
          },
          ...
        ]
      ],
      ""pm"": {  //map total plus detail
        ""totalRating"": 2, // the sum of all individual ratings 
        ""ratings"": [
          {
            ""rating"": 2,
            ""duration"": ""<time_period>"",
            ""reasons"": ["""", """"],
            ""isIndicative"": true | false
          },
          ...
        ]
      ]
    }
  ]    
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwiha:i,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,25/Nov/21 3:14 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Dec/21 5:23 PM;60cc71a22bd21400692fd2af;(flag) Flag added

Confirm Decision Data Model",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Map Manual Underwriting decision to risk decision - em ratings,NBJ-828,40934,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Ian.Douglas,5e183e85c578120daca5bc7b,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,26/Nov/21 1:56 PM,24/Jan/22 9:47 AM,02/Feb/22 6:31 PM,,,,,Sprint_6,,,"*As an* api consumer of decision
*So that* the manual underwriting decision from Salesforce overrides the URE decision
*I want* to translate the Salesforce manual decision to the risk decision format",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,NBJ-214,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* a request for risk decision on an applicant

{code:json}POST /api/v1/decision/{applicantId}{code}

*And* a manual underwriting decision exists
*When* processing the request
*Then* map muw.emRating to riskDecision.em.totalRating on the risk decision",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-799,,,,,,,,,Impediment,,,,,,,None,,"_Manual UW decision_

{code:json}{
  ""applicantId"": """",
  ""dateOfBirth"": """", //hopefully not required
  ""smokerStatus"": """",
  ""sofNotes"": """", //need a solution to find its way to document(s)
  ""gender"": """", //hopefully not required
  ""occupation"": """", //hopefully not required
  ""freeTextExclusionWording"": """", //hard code 9999
  ""freeTextRemovalWording"": """", //hard code 9998
  ""covers"": [
    ...
  ],
  ""muwRiskDecisions"": [
    {
      ""riskType"": ""life | ci | tpd"",
      ""decision"": ""Standard Terms | Non-Standard Terms | Postpone | Decline"",
      ""eMRating"": 100,
      ""decisionReason"": """",
      ""pmRating"": 2,
      ""tempPMRating"": 1,
      ""tempPMDuration"": 12, //Number in months
      ""postponeCode"": """",
      ""gioEntitlement"": ""Yes | No"", //can we have true | false
      ""upsellAllowed"": ""Yes | No"", //can we have true or false
      ""upsellAmount"": 122353534,
      ""disabilityDefinition"": ""Own | Activities""
      ""exclusions"": [
        ""exclusionCode"": """",
        ""isRemoval"": true | false
      ]
    },
    {...}
  ]
}{code}

_Risk Decision_

{code:json}{
  ""applicantId"": ""<applicantId>"",
  ""smokerStatus"": ""<GUARDIAN smoker statuses>"", //muw.smokerStatus
  ""riskDecisions"": [ // one risk decision per risk element underwritten
    {
      ""riskType"": ""life | ci | tpd"", //muw.riskDecision.riskType
      ""decision"": ""Standard Terms | Non standard Terms | Additional Evidence | Manual UW | Postponed | Declined"", //muw.riskDecision.decision
      ""isIndicative"": true | false,
      ""indicativeDecision"": ""Standard Terms | Non standard Terms | Additional Evidence | Manual UW | Postponed | Declined"",
      ""reasons"": [<list of strings, giving reasons for decision>], //muw.riskDecision.decisionReason (split into list)
      ""upsell"": {
        ""isAllowed"": true | false, //muw.riskDecision.upsellAllowed
        ""amount"": 100000 //muw.riskDecision.upsellAmount      
      },
      ""gioEntitlement"": true | false, //muw.riskDecision.gioEntitlement
      ""disabilityDefinition"": ""Own | Activities"", //muw.riskDecision.disabilityDefinition 
      ""postpone"": { -- only present if decision POSTPONE or indicativeDecision POSTPONE
        ""max""{
          ""code"": """",  //muw.riskDecision.postponeCode
          ""text"": """", //lookup the matching text
          ""reasons"": """" //muw.riskDecision.decisionReason (split to list)
        },
        postpones: [ //empty
          {
            ""code"": """",
            ""text"": """",
            ""reasons"": ["""", """"]
          },
          ...
        ]
      },
      ""evidences"": [ //empty
        {
          ""code"": """",
          ""text"": """",
          ""reasons"": ["""", """"]
        },
        ...
      ],
      ""exclusions"": [ //missing?
        {
          ""code"": """",
          ""text"": """",
          ""reasons"": ["""", """"],
          ""hasDiscount"": true | false,
          ""isRemoval"": true | false,
          ""isIndicative"": true | false
        },
        ...
      ],
      ""em"": {  // just map the total
        ""totalRating"": 200, // the sum of all individual ratings 
        ""ratings"": [
          {
            ""rating"": 50,
            ""duration"": ""<time_period>"",
            ""reasons"": ["""", """"],
            ""isIndicative"": true | false
          },
          ...
        ]
      ],
      ""pm"": {  //map total plus detail
        ""totalRating"": 2, // the sum of all individual ratings 
        ""ratings"": [
          {
            ""rating"": 2,
            ""duration"": ""<time_period>"",
            ""reasons"": ["""", """"],
            ""isIndicative"": true | false
          },
          ...
        ]
      ]
    }
  ]    
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwihb:r,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,25/Nov/21 3:14 PM,,3.0,,,,,,,,,,,,,,,,,,Simply emRating,,,,,,,,,,,,,,,,"17/Dec/21 5:23 PM;60cc71a22bd21400692fd2af;(flag) Flag added

Confirm Decision Data Model",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Expose document IDs when retrieving an Application,NBJ-827,40925,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,26/Nov/21 11:32 AM,30/Nov/21 4:12 PM,02/Feb/22 6:31 PM,30/Nov/21 4:12 PM,,Foundation Release,,,,,Add Application.Documentation to the model returned from {{GET /api/v1/application/applicationId}},,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,30/Nov/21 4:12 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/23928/LivingDoc.html,,,,,,,,,,,,"*When* retrieving an Application using this request:
{code:java}
GET /api/v1/application/{{applicationId}}
{code}

*Then* document IDs returned in the Application model in this format:

{code:java}
""documentation"": {
        ""quote"": ""q1rNcvyqrsT7OLrLfioK2UuppmUuZdiz2rpXgOQv"",
        ""another_doc_type_enum_value"": ""doc_id_here""
        ...
 },
{code}
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-124,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00ple:i,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,26/Nov/21 11:32 AM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Contact details validation is not present when updating,NBJ-826,40924,,Bug,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,26/Nov/21 11:17 AM,20/Dec/21 8:54 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,James Bartlett,,,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* updating an applicant’s contact details with any invalid details succeeds, even though validation exists when creating contact details to prevent this.

*Business Impact:* depending on whether the front end validates contact details, either none or potentially serious.

*Steps to Reproduce:* Update contact details for an applicant with existing contact details. As part of the update, make the email address invalid - e.g. ‘notanemailaddress’. Alternatively, remove any of the ‘default’ contact details fields, e.g. address1 or telephone.

*Expected Results:* update fails with a 400 response status and a relevant error message (as per creating contact details)

*Actual Result:* update succeeds with a 200 response

*Version:* unknown",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i015rn:i,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,26/Nov/21 11:17 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-20 08:54:31.954,20/Dec/21 8:54 AM;60cc71a1d5dde800713a2124;Picking up UI validation of front end contact details under NBJ-913,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Sprint 5 | Covers are not being removed correctly,NBJ-825,40911,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,26/Nov/21 9:14 AM,02/Dec/21 8:49 AM,02/Feb/22 6:31 PM,26/Nov/21 2:46 PM,,Foundation Release,,,,,,,Chris.Hibbert,Justin.Smith,Mike,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,,,,,,,,,,,,Hidden from EXL,NBJ-715,,,,,,,,,,,,,,,,,,,,NBJ-733,,,,,,,,,,26/Nov/21 9:13 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-2021-11-26-09-13-15-401.png;https://gghltd.atlassian.net/secure/attachment/23806/image-2021-11-26-09-13-15-401.png,26/Nov/21 9:34 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211126-093450.png;https://gghltd.atlassian.net/secure/attachment/23807/image-20211126-093450.png,26/Nov/21 9:39 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211126-093613.png;https://gghltd.atlassian.net/secure/attachment/23809/image-20211126-093613.png,26/Nov/21 9:39 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211126-093707.png;https://gghltd.atlassian.net/secure/attachment/23810/image-20211126-093707.png,26/Nov/21 9:39 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211126-093757.png;https://gghltd.atlassian.net/secure/attachment/23811/image-20211126-093757.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: I remove a cover and in this case several get added to the application

Business Impact: High

Steps to Reproduce: 
1. Navigate to [https://ggh-nbj-reactapp.azurewebsites.net/dashboard|https://ggh-nbj-reactapp.azurewebsites.net/dashboard]
2. Click on 'Create New Application'
3. Add client details
4. The client has 11 covers

!image-2021-11-26-09-13-15-401.png|width=200,height=183!

 
5. Add a life cover that is decreasing.  Added 6 new covers.

!image-20211126-093613.png|width=1339,height=448!



!image-20211126-093450.png|width=607,height=606!

7. Deleted the cover

!image-20211126-093707.png|width=1306,height=437!

8. I now have 24 covers

!image-20211126-093757.png|width=521,height=536!



Expected Results: 1 cover added and then 1 cover deleted

Actual Result: 6 covers added on add and 7 covers added on deleted

Version: N/A",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00plf:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,26/Nov/21 9:14 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-26 10:45:21.756,26/Nov/21 10:45 AM;60cc71a1d5dde800713a2124;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5]  - could well be related to [https://gghltd.atlassian.net/browse/NBJ-733|https://gghltd.atlassian.net/browse/NBJ-733|smart-link] so maybe we retest after that fix.,26/Nov/21 11:34 AM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;[~accountid:60cc71a1d5dde800713a2124] I think the issue on this one is with the add button - I can click it multiple times to add a product. So I’ll add some logic to stop clicks while api is resolving.,26/Nov/21 2:46 PM;618bdfc5fba4d0006ad4853e;This is all good.  I can add and remove the covers as expected.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Sprint 5 | Weight and Height are not being saved against the Applicant,NBJ-824,40875,,Bug,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Chris.Hibbert,60cc71a1d5dde800713a2124,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,25/Nov/21 4:20 PM,25/Nov/21 5:00 PM,02/Feb/22 6:31 PM,,,,,,,,,,Chris.Hibbert,Justin.Smith,,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,25/Nov/21 4:15 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-2021-11-25-16-15-34-994.png;https://gghltd.atlassian.net/secure/attachment/23797/image-2021-11-25-16-15-34-994.png,25/Nov/21 4:22 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211125-162251.png;https://gghltd.atlassian.net/secure/attachment/23798/image-20211125-162251.png,25/Nov/21 4:25 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211125-162509.png;https://gghltd.atlassian.net/secure/attachment/23799/image-20211125-162509.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: I have an automated test that adds a new client with a weight and height

!image-2021-11-25-16-15-34-994.png|width=200,height=183!

!image-20211125-162251.png|width=1873,height=671!

!image-20211125-162509.png|width=1866,height=833!



  
When I make a get request to get the application they have no weight or height

Business Impact: Not great

Steps to Reproduce: 
1. Navigate to [https://ggh-nbj-reactapp.azurewebsites.net/dashboard|https://ggh-nbj-reactapp.azurewebsites.net/dashboard]
2. Click on 'Create New Application'
3. Add title, firstname, lastname and dob
4. Select gender - Male
5. Select somker
6. Add height 1.8m
7. Add weight 70kg
8. Click on continue
9. Grab the application ID from the URL
10. Make a get application call using the application id and I get
""data"": \{
""applicationId"": ""G000076004"",
""isMortgageRelated"": false,
""quoteAgeDate"": ""2021-11-25T00:00:00+00:00"",
""applicants"": \[
\{
""applicantId"": ""8fbf74cc-7d8c-4a8c-9a12-972f10ad6121"",
""firstName"": ""Justin"",
""lastName"": ""Smith"",
""dateOfBirth"": ""1990-01-01T00:00:00"",
""gender"": ""Male"",
*""height"": null,
""weight"": null,*
""title"": ""Mr"",
""smoker"": null,
""smoking"": ""SMOKER"",
""covers"": \[]
}
],
""quote"": null,
""status"": ""pre-quote""
}
}

Expected Results: Expected a height of 180 and weight of 70

Actual Result: Null values in those fields

Version: N/A",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00v9z:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,25/Nov/21 4:20 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-25 17:00:38.328,25/Nov/21 5:00 PM;60cc71a1d5dde800713a2124;[~accountid:618bdfc5fba4d0006ad4853e]  - unfortunately development we havent got to yet.  We arent sure at this point if we will ever persist against the applicant or just emit when we need to.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Map Manual Underwriting decision to risk decision - overall risk decision,NBJ-823,40868,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Ian.Douglas,5e183e85c578120daca5bc7b,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,25/Nov/21 3:14 PM,27/Jan/22 2:35 PM,02/Feb/22 6:31 PM,,,,,Sprint_6,,,"*As an* api consumer of decision
*So that* the manual underwriting decision from Salesforce overrides the URE decision
*I want* to translate the Salesforce manual decision to the risk decision format

Any request for a risk decision, use the persisted manual underwriting decision if it exists",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,NBJ-829,NBJ-828,NBJ-832,NBJ-830,NBJ-831,,,,,,,,NBJ-214,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* a request for risk decision on an applicant

{code:json}POST /api/v1/decision/{applicantId}{code}

*And* a manual underwriting decision exists
*When* processing the request
*Then* map muw.smokerStatus to smokerStatus on the risk decision
*And* map muw.muwRiskDecision.riskType to riskDecision.riskType on the risk decision
*And* map muw.muwRiskDecision.decision to riskDecision.decision on the risk decision
*And* map muw.muwRiskDecision.decisionReason to riskDecision.reasons on the risk decision (first splitting the comma separated list in decisionReason)
*And* map muw.muwRiskDecision.gioEntitlement to riskDecision.gioEntitlement on the risk decision
*And* map muw.muwRiskDecision.upsellAllowed to riskDecision.upsell.isAllowed on the risk decision
*And* map muw.muwRiskDecision.upsellAmount to riskDecision.upsell.amount on the risk decision
*And* map muw.muwRiskDecision.disabilityDefintion to riskDecision.disabilityDefinition on the risk decision",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-799,,,,,,,,,Impediment,,,,,,,None,,"_Manual UW decision_

{code:json}{
  ""applicantId"": """",
  ""dateOfBirth"": """", //hopefully not required
  ""smokerStatus"": """",
  ""sofNotes"": """", //need a solution to find its way to document(s)
  ""gender"": """", //hopefully not required
  ""occupation"": """", //hopefully not required
  ""freeTextExclusionWording"": """", //hard code 9999
  ""freeTextRemovalWording"": """", //hard code 9998
  ""covers"": [
    ...
  ],
  ""muwRiskDecisions"": [
    {
      ""riskType"": ""life | ci | tpd"",
      ""decision"": ""Standard Terms | Non-Standard Terms | Postpone | Decline"",
      ""eMRating"": 100,
      ""decisionReason"": """",
      ""pmRating"": 2,
      ""tempPMRating"": 1,
      ""tempPMDuration"": 12, //Number in months
      ""postponeCode"": """",
      ""gioEntitlement"": ""Yes | No"", //can we have true | false
      ""upsellAllowed"": ""Yes | No"", //can we have true or false
      ""upsellAmount"": 122353534,
      ""disabilityDefinition"": ""Own | Activities""
      ""exclusions"": [
        ""exclusionCode"": """",
        ""isRemoval"": true | false
      ]
    },
    {...}
  ]
}{code}

_Risk Decision_

{code:json}{
  ""applicantId"": ""<applicantId>"",
  ""smokerStatus"": ""<GUARDIAN smoker statuses>"", //muw.smokerStatus
  ""riskDecisions"": [ // one risk decision per risk element underwritten
    {
      ""riskType"": ""life | ci | tpd"", //muw.riskDecision.riskType
      ""decision"": ""Standard Terms | Non standard Terms | Additional Evidence | Manual UW | Postponed | Declined"", //muw.riskDecision.decision
      ""isIndicative"": true | false,
      ""indicativeDecision"": ""Standard Terms | Non standard Terms | Additional Evidence | Manual UW | Postponed | Declined"",
      ""reasons"": [<list of strings, giving reasons for decision>], //muw.riskDecision.decisionReason (split into list)
      ""upsell"": {
        ""isAllowed"": true | false, //muw.riskDecision.upsellAllowed
        ""amount"": 100000 //muw.riskDecision.upsellAmount      
      },
      ""gioEntitlement"": true | false, //muw.riskDecision.gioEntitlement
      ""disabilityDefinition"": ""Own | Activities"", //muw.riskDecision.disabilityDefinition 
      ""postpone"": { -- only present if decision POSTPONE or indicativeDecision POSTPONE
        ""max""{
          ""code"": """",  //muw.riskDecision.postponeCode
          ""text"": """", //lookup the matching text
          ""reasons"": """" //muw.riskDecision.decisionReason (split to list)
        },
        postpones: [ //empty
          {
            ""code"": """",
            ""text"": """",
            ""reasons"": ["""", """"]
          },
          ...
        ]
      },
      ""evidences"": [ //empty
        {
          ""code"": """",
          ""text"": """",
          ""reasons"": ["""", """"]
        },
        ...
      ],
      ""exclusions"": [ //missing?
        {
          ""code"": """",
          ""text"": """",
          ""reasons"": ["""", """"],
          ""hasDiscount"": true | false,
          ""isRemoval"": true | false,
          ""isIndicative"": true | false
        },
        ...
      ],
      ""em"": {  // just map the total
        ""totalRating"": 200, // the sum of all individual ratings 
        ""ratings"": [
          {
            ""rating"": 50,
            ""duration"": ""<time_period>"",
            ""reasons"": ["""", """"],
            ""isIndicative"": true | false
          },
          ...
        ]
      ],
      ""pm"": {  //map total plus detail
        ""totalRating"": 2, // the sum of all individual ratings 
        ""ratings"": [
          {
            ""rating"": 2,
            ""duration"": ""<time_period>"",
            ""reasons"": ["""", """"],
            ""isIndicative"": true | false
          },
          ...
        ]
      ]
    }
  ]    
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwihb:i,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,25/Nov/21 3:14 PM,,5.0,,,,,,,,,,,,,,,,,,"This first story takes care of the simple mappings, further stories will be required to handle the more sophisticated mapping.

This is the risk decision endpoint.",,,,,,,,,,,,,,,,"17/Dec/21 5:23 PM;60cc71a22bd21400692fd2af;(flag) Flag added

Confirm Decision Data Model",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Sprint 5 - Total Price shown is incorrect after updating a cover,NBJ-822,40857,39697,Story bug,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,High,,Chris.Hibbert,60cc71a1d5dde800713a2124,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,25/Nov/21 1:32 PM,25/Nov/21 2:33 PM,02/Feb/22 6:31 PM,,,,,,,,,,Chris.Hibbert,Nathan Punzalan,,,,,,60cc71a1d5dde800713a2124,613f22fdff23ba00715469d1,,,,,,,,,,,,,Hidden from EXL,NBJ-518,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,25/Nov/21 1:36 PM;nathan.punzalan;image-20211125-133616.png;https://gghltd.atlassian.net/secure/attachment/23788/image-20211125-133616.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: 
Total Price shown is incorrect after updating a cover; after clicking the Get price button the second time, the price just adds onto whatever was previously shown instead of showing an updated price.

Steps to Reproduce: 

# Go to [https://ggh-nbj-reactapp.azurewebsites.net/dashboard|https://ggh-nbj-reactapp.azurewebsites.net/dashboard|smart-link]
# Create new application
# Fill in Client details and proceed
# Add a cover
# Click Get price button
# Update the cover; e.g. change the term value
# Click Get price button

Expected Results: 
Total price shown updates with the new price given by Lissia.

Actual Result: 
Total price shown is a sum of the newly updated price + the old original price before you updated the cover.

!image-20211125-133616.png|width=824,height=543!",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00v5z:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,,,,,25/Nov/21 1:32 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-25 14:33:56.351,25/Nov/21 2:33 PM;60cc71a1d5dde800713a2124;Looks like a duplicate of [https://gghltd.atlassian.net/browse/NBJ-733|https://gghltd.atlassian.net/browse/NBJ-733|smart-link] - if you refresh the screen multiple covers are present.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,39697,Show quote values on screen when quote requested by user,Done
Covers | Automation Elements | Missing attributes,NBJ-820,40855,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,25/Nov/21 1:28 PM,10/Dec/21 2:05 PM,02/Feb/22 6:31 PM,10/Dec/21 2:05 PM,,Foundation Release,,Sprint_6,,,"||Tab||Element||Comment||Image||Implemented?||
|Covers|Add Cover Button|Please can we have a data-testid|!image-2021-11-25-13-28-16-610.png|width=200,height=183!|No|
|Covers|List of covers|Please can we have a data-testid for the list of covers|!image-20211125-133048.png|width=1752,height=767!|No|
|Covers|Bin Delete Button|Please can we have a name for the bin delete button.  I know these names will besame each cover but I can click on the correct one on the relevant cover|!image-20211125-133754.png|width=1659,height=867!|No|
| | | | | |",,Chris.Hibbert,Justin.Smith,Mike,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,29/Nov/21 11:39 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;TestAttributeDocument.docx;https://gghltd.atlassian.net/secure/attachment/23891/TestAttributeDocument.docx,25/Nov/21 1:28 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-2021-11-25-13-28-16-610.png;https://gghltd.atlassian.net/secure/attachment/23787/image-2021-11-25-13-28-16-610.png,25/Nov/21 1:38 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211125-133048.png;https://gghltd.atlassian.net/secure/attachment/23789/image-20211125-133048.png,25/Nov/21 1:38 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211125-133754.png;https://gghltd.atlassian.net/secure/attachment/23790/image-20211125-133754.png,09/Dec/21 1:28 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211209-132758.png;https://gghltd.atlassian.net/secure/attachment/24193/image-20211209-132758.png,,,,,,,,"Given we have a Guardian NBJ application

When I inspect buttons, checkboxes, textboxes and other single elements on a page

Then they have a suitable test id for test automation



Given we have a Guardian NBJ application

When I inspect lists on a page

Then they have a suitable test id for test automation",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwikc:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,25/Nov/21 1:28 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-07 21:24:08.296,"29/Nov/21 11:39 AM;618bdfc5fba4d0006ad4853e;I spoke to [~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5]  about the strategy for the test attributes and he was suggesting creating some guidelines.  I put a rough doc together and shared with James and Mike.  This is what I would ideally like to see.



[^TestAttributeDocument.docx]

[~accountid:6139c49114e8340071fcda09] [~accountid:60cc71a1d5dde800713a2124]  ","07/Dec/21 8:59 PM;618bdfc5fba4d0006ad4853e;[~accountid:60cc71a1d5dde800713a2124] [~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] This looks ok from the perspective of the three items mentioned in the table.  However, I did think this ticket was going to cover adding the wider data test ids on the various tabs but I could be wrong.  Mike was it just the table that was covered here?","07/Dec/21 9:24 PM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;Hi [~accountid:618bdfc5fba4d0006ad4853e], I wasn’t sure if I was supposed to but others in. But if you re-assign in to me and we can pop a note in the AC to add data attributes to other buttons / etc if that’s ok with [~accountid:60cc71a1d5dde800713a2124] ?",08/Dec/21 8:41 AM;60cc71a1d5dde800713a2124;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5]  - go for it.  I thought in planning this was picked up a being a generic application of unique ids for elements across the board.,08/Dec/21 9:14 AM;618bdfc5fba4d0006ad4853e;Thanks [~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] and [~accountid:60cc71a1d5dde800713a2124] this would be really useful.  I added some AC but feel free to modify if you are not happy.,"08/Dec/21 3:46 PM;618bdfc5fba4d0006ad4853e;Great work [~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] .  As discussed can we have for the metric and imperial radio buttons the suffix for measurement m, ft etc.  Currently - metric_metric.","09/Dec/21 11:57 AM;618bdfc5fba4d0006ad4853e;On the 2 get price buttons on the quote page is there any chance we can distinguish between them as we have {{[data-testid=GetpriceBtn]}} for both.

Also, on the Add Cover list each cover has {{data-testid=""AddIcon""}} any chance we distinguish. ","09/Dec/21 1:28 PM;618bdfc5fba4d0006ad4853e;As part of [https://gghltd.atlassian.net/browse/NBJ-909|https://gghltd.atlassian.net/browse/NBJ-909|smart-link] I want to check the commission value.  There is no test-dataid for that and if i use xpath i get something like - //*\[@id=""root""]/div/div\[2]/div/div/div\[1]/div/div\[1]/div/div\[2]/p/span/text()\[2]

Any chance for those values that need checking we could have the test-dataids.

!image-20211209-132758.png|width=1876,height=288!",10/Dec/21 2:05 PM;618bdfc5fba4d0006ad4853e;Thanks [~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] I have updated our page classes and can see that all the items I have mentioned have been added.  That is great.  There might be other ones but I think I will mention it on the tickets that I'm automating rather than leaving this ticket open.  Cheers,,,,,,,,,,,,,,,,,,,,,,,Done
Consume Manual Underwriting: underwritingOutcome,NBJ-819,40847,,Technical Story,Code Delivered,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Antony.Gorman,6149b13472728e006f9441d6,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,25/Nov/21 11:32 AM,31/Jan/22 12:29 PM,01/Feb/22 9:17 AM,,,Foundation Release,,Sprint_6,,,"*As a* consumer of apis
*So that* I can present manually underwritten decisions
*I want* to consume *underwritingOutcome.muw* events from Salesforce

The Salesforce raw decision contained in the event body should be persisted against the *applicant*.*underwritingOutcome* within the application.",,Antony.Gorman,James Bartlett,Jim Houghton,mike hill,,,,6149b13472728e006f9441d6,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,5d94816eefc9290c2e625a11,,,,,,,,,,,Hidden from EXL,NBJ-842,NBJ-1069,,,,,,,,,,,NBJ-214,,,,,,,,NBJ-1277,,,,,,,,,,,,,,,,,,,,,,"* *Given:* any *underwritingOutcome.muw* events posted on service bus
*When:* processing event
*Then:* persist muw *applicant*.*underwritingOutcome* in the decision service",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-799,,,,,,,,,Impediment,,,,,,,None,,"** - please provide details on how to manually create events on the service bus

Subscribe to service bus and listen for *underwritingOutcome.muw* events

_Body of event - underwritingOutcome.muw_

Salesforce will send event payload of an underwritingOutcome where “origin”: “muw” - Refer to: [https://gghltd.atlassian.net/wiki/spaces/NP/pages/3129704887/underwritingOutcome+entity|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3129704887/underwritingOutcome+entity|smart-link] and [https://gghltd.atlassian.net/wiki/spaces/NP/pages/3129704887/underwritingOutcome+entity#riskDecisions|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3129704887/underwritingOutcome+entity#riskDecisions|smart-link] ",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zi0i,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,Guardian Sprint 9,,,,,25/Nov/21 11:32 AM,,8.0,,,,,,,,,,,,,,,,,,Only worried that the event is consumed and the payload is persisted.,,,,,,,,,,,,,,,2022-01-18 11:48:24.522,"17/Dec/21 5:23 PM;60cc71a22bd21400692fd2af;(flag) Flag added

Confirm Decision Data Model","18/Jan/22 11:48 AM;5d94816eefc9290c2e625a11;As per flag below, this story has been updated to point to the Confluence underwritingOutcome model","18/Jan/22 11:49 AM;5d94816eefc9290c2e625a11;[~accountid:60cc71a22bd21400692fd2af] - please review the updated description and if happy, can you set to “Ready” or equivalent needed for working upon?","19/Jan/22 8:27 AM;6149b13472728e006f9441d6;[~accountid:60cc71a22bd21400692fd2af] hey - we discussed adding outcomes into the application graph yesterday and it was decided that we’d not do it. now I see here that we are doing it? does this mean we need to revisit all the extra work that happens in [https://gghltd.atlassian.net/browse/NBJ-1135|https://gghltd.atlassian.net/browse/NBJ-1135|smart-link] to build this up out of data in the decision service when we activate a quote? cheers

[~accountid:616ee20e2097220071a975d2] [~accountid:610c00d94e8d8d0069a20d6c] FYI guys.",19/Jan/22 9:09 AM;6149b13472728e006f9441d6;Ok. Got clarification from [~accountid:616ee20e2097220071a975d2] that we do still save into the decision service. Building up the outcome on applicants comes from the trigger quote action.,19/Jan/22 9:17 AM;60cc71a22bd21400692fd2af;[~accountid:6149b13472728e006f9441d6] - I do not think so.  [https://gghltd.atlassian.net/browse/NBJ-819|https://gghltd.atlassian.net/browse/NBJ-819|smart-link] is about persisting data in the decision service not application and you will still need to fetch it… I think. Please confirm with Sam/Jon,"20/Jan/22 12:04 PM;6149b13472728e006f9441d6;Notes for testing this is currently using the single UWT service bus we have over the queue “manualrisk”

You can send to that queue with Risk Decision Model output from the decision service in the message body as JSON and the subscriber should add it to the decision container in cosmos.

NB the input is the risk decision model json only - not the outer json","28/Jan/22 9:44 AM;6139c49114e8340071fcda09;(flag) Flag added

Can&#39;t get applications in the underwriting status into Salesforce yet, so this can&#39;t yet be tested",,,,,,,,,,,,,,,,,,,,,,,,In Progress
Invalidate quote when applicants or covers change,NBJ-817,40844,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,25/Nov/21 11:26 AM,02/Dec/21 7:57 PM,02/Feb/22 6:31 PM,02/Dec/21 7:57 PM,,Foundation Release,,,,,The price quoted for an application is no longer valid when covers or applicants on the application are changed.,,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* an application
*When* a cover is added, removed or updated
*Then* the quote on the application is removed
*And* the quote document ID on the application is removed",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,"Data that needs to be deleted on the Application:

* Application.Quote
* Application.Documentation.Quote

*Existing endpoints affected:*

{noformat}POST /api/v1/actions/MutateCovers/add{noformat}

{noformat}DELETE /api/v1/actions/MutateCovers/remove{noformat}

{noformat}PATCH /api/v1/actions/MutateCovers/edit{noformat}

{noformat}POST /api/v1/actions/AddApplicant{noformat}

{noformat}PATCH /api/v1/application/{{application}}/applicant/{{applicantId}}{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00v3b:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,25/Nov/21 11:26 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Sprint 5 - Unable to get price for a quote,NBJ-816,40842,39697,Story bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,High,Done,Sam Gamble,610c00d94e8d8d0069a20d6c,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,25/Nov/21 10:43 AM,29/Nov/21 8:51 AM,02/Feb/22 6:31 PM,29/Nov/21 8:51 AM,,,,,,,,,Chris.Hibbert,Justin.Smith,Nathan Punzalan,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,613f22fdff23ba00715469d1,,,,,,,,,,,,Hidden from EXL,NBJ-518,NBJ-715,,,,,,,,,,,,,,,,,,,,,,,,,,,,,25/Nov/21 10:51 AM;nathan.punzalan;image-20211125-105042.png;https://gghltd.atlassian.net/secure/attachment/23780/image-20211125-105042.png,26/Nov/21 4:10 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211126-160823.png;https://gghltd.atlassian.net/secure/attachment/23842/image-20211126-160823.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: 
Unable to get a price for a quote after entering valid fields for a cover.

Steps to Reproduce: 

# Go to [https://ggh-nbj-reactapp.azurewebsites.net/dashboard|https://ggh-nbj-reactapp.azurewebsites.net/dashboard|smart-link] 
# Create new application
# Fill in Client details and proceed
# Add a cover
# Click Get price button

Expected Results: 
Price should be shown based on details filled in.

Actual Result: 
Price is not updated; still shows as a “£0” value and is greyed out.

!image-20211125-105042.png|width=1227,height=181!",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00v2v:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,,,,,25/Nov/21 10:43 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-25 11:59:34.639,25/Nov/21 11:59 AM;60cc71a1d5dde800713a2124;[~accountid:610c00d94e8d8d0069a20d6c]  - I think you are already looking at this as you mentioned in the standup…,"26/Nov/21 4:10 PM;618bdfc5fba4d0006ad4853e;This still looks broke to me.  So I see the same behaviour as Nathan saw originally when I go to get the price it spins for a while and then returns a zero pound quote.  In the network tab I see a 500 error response.

 

!image-20211126-160823.png|width=1907,height=951!

\{""errors"":\{""type"":""[https://tools.ietf.org/html/rfc7231#section-6.6.1%22,%22title%22:%22An|https://tools.ietf.org/html/rfc7231#section-6.6.1%22,%22title%22:%22An|smart-link]  error occurred while processing your request."",""status"":500,""traceId"":""00-d8b9925aedbd844b9c3cceacfe890e96-3f4011ff9f842249-00""}}

If I do a get on the application I can see a price

{noformat}{
    ""data"": {
        ""applicationId"": ""G000079236"",
        ""isMortgageRelated"": false,
        ""quoteAgeDate"": ""2021-11-26T00:00:00+00:00"",
        ""applicants"": [
            {
                ""applicantId"": ""4d76f5a8-87e5-4cb5-888f-70b4f10e1e89"",
                ""firstName"": ""Justin"",
                ""lastName"": ""Smith"",
                ""dateOfBirth"": ""1990-01-01T00:00:00"",
                ""gender"": ""Male"",
                ""height"": null,
                ""weight"": null,
                ""title"": ""Mr"",
                ""smoker"": null,
                ""smoking"": ""SMOKER"",
                ""covers"": [
                    {
                        ""id"": ""ad8b6ff2-0a10-490a-a402-40a82a2782ed"",
                        ""guardianRefWithSuffix"": ""4d76f5a8-87e5-4cb5-888f-70b4f10e1e89"",
                        ""productType"": ""life"",
                        ""coverType"": ""level"",
                        ""term"": 25,
                        ""toAge"": null,
                        ""coverAmount"": 30000,
                        ""childCovers"": []
                    }
                ]
            }
        ],
        ""quote"": {
            ""id"": ""8e1383f0-e6dc-4a35-9787-c354e065ae1a"",
            ""quoteCreatedDate"": ""2021-11-26T16:05:09.6055968+00:00"",
            ""quoteAgeDate"": ""2021-11-26T00:00:00+00:00"",
            ""adviserAtFirmLocationId"": ""a0r0E000004pFFfQAM"",
            ""initialIndemnityPercentage"": 0,
            ""initialCommissionSacrificePercentage"": 0,
            ""premium"": 3.68,
            ""lifetimePremium"": 1104.00,
            ""unloadedPremium"": 0.0,
            ""discount"": 0.0,
            ""quoteApplicants"": [
                {
                    ""id"": ""4d76f5a8-87e5-4cb5-888f-70b4f10e1e89"",
                    ""dateOfBirth"": ""1990-01-01T00:00:00"",
                    ""gender"": ""Male"",
                    ""premium"": 3.68,
                    ""quoteCovers"": [
                        {
                            ""id"": ""ad8b6ff2-0a10-490a-a402-40a82a2782ed"",
                            ""productType"": ""life"",
                            ""coverType"": ""level"",
                            ""coverAmount"": 30000,
                            ""toAge"": null,
                            ""term"": 25,
                            ""premium"": 3.68,
                            ""unloadedPremium"": 3.68,
                            ""initialCommission"": 98.88,
                            ""initialEarningsPeriod"": 48,
                            ""renewalCommission"": 0.09,
                            ""lifeTimePremium"": 1104.00,
                            ""childCovers"": []
                        }
                    ],
                    ""quoteUnderwritingOutcomes"": []
                }
            ]
        },
        ""status"": ""quote""
    }
}{noformat}

[~accountid:610c00d94e8d8d0069a20d6c] has something regressed on this?",29/Nov/21 8:10 AM;60cc71a1d5dde800713a2124;[~accountid:610c00d94e8d8d0069a20d6c]  - this looks to be working now in UWT.,,,,,,,,,,,,,,,,,,,,,,,,,,,39697,Show quote values on screen when quote requested by user,Done
Pass children's details at go-live,NBJ-815,40839,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,25/Nov/21 8:12 AM,05/Jan/22 10:54 AM,02/Feb/22 6:31 PM,,,Foundation Release,,Sprint_9,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-765,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zjzzzzzz1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,25/Nov/21 8:12 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Pass beneficiaries at go-live,NBJ-814,40838,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Jim Houghton,60cc71a22bd21400692fd2af,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,25/Nov/21 8:11 AM,02/Feb/22 3:10 PM,02/Feb/22 6:31 PM,,,Foundation Release,,Sprint_9,,,"As an api user
So that I can activate applications with beneficiaries
I want to include beneficiaries in the go live lissia message

{panel:bgColor=#deebff}
This story is about including beneficiaries in the Go Live message
{panel}",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"{panel:bgColor=#deebff}
Beneficiaries only apply to products that have a Life component i.e. life and aci
{panel}

*Scenario* creating a row in ImpPrlBenList for a cover containing a beneficiary

*Given* any activation
*And* has cover.productType of life or aci
*When* creating a row in ImpPrlBenList for any cover
*Then* set <ImpItmBenPolPolicies.BeneficiariesStatus> to the following value based on <cover.beneficiary.beneficiaryPercent>

{noformat}| ImpItmBenPolPolicies.BeneficiariesStatus | cover.beneficiary.beneficiaryPercent |
| 3                                        | null or no beneficiaries             |
| 3                                        | 0 to 99                              |
| 2                                        | 100                                  |{noformat}

*Scenario* creating beneficiaries on the Go Live request

*Given* any activation request
*And* application contains beneficiaries
*When* composing the Lissia Go Live request
*Then* create a row in ImpCliCpr section of the Lissia Go Live message foreach beneficiary associated with the current cover
foreach beneficiary row in *ImpCliCpr,* set the Lissia <fields> with the following <values>

{noformat}| fields                                           | values                                                        |
| ImpItmCprQrefWebService.BenLine                  | quote.quoteApplicant.quoteCover.id                            |
| ImpItmCprPrlProductLines.PrlId                   | <see product line rules below>                                |
| ImpItmCprTypeCliPolRelationships.Type            | 7                                                             |
| ImpItmCliClients.FirstName                       | applicant.cover.beneficiary.beneficiaryFirstName              |
| ImpItmClcClientContactDetails.Name               | applicant.cover.beneficiary.beneficiaryLastName               |
| ImpItmClcClientContactDetails.DateOfBirth        | applicant.cover.beneficiary.beneficiaryDateOfBirth (yyyyMMdd) |
| ImpItmClcClientContactDetails.CliId              | 0                                                             |
| ImpItmCprTypeCliPolRelationships.PercentageSplit | applicant.cover.beneficiary.beneficiaryPercent                |{noformat}

*product line rules*

{noformat}| productType | coverType  | PrlId |
| life        | level      | TLL   |
| life        | increasing | TLL   |
| life        | decreasing | DTL   |
| life        | family     | FICD  |
| aci         | level      | ACIL  |
| aci         | increasing | ACIL  |
| aci         | decreasing | ACID  |{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-764,,,,,,,,,,,,,,,,None,,"

Lissia Go Live Request

{noformat}<wss:Wssglivecall>
			<WssgliveImport >
				<ImpGrpPrq/>
				<ImpGrpPcr>
					...
				</ImpGrpPcr>
				<ImpPolPolicies>
					<DateOfApplication/>
					<DateOfCommencement/>
					<Currency/>
				</ImpPolPolicies>
				<ImpGrpPas>
					...
				</ImpGrpPas>
				<ImpCliCpr>
					...					
					<row>
						<ImpItmCprPclPolicyCvgLives/>
						<ImpItmCprQrefWebService>
							<BenLine>1</BenLine>
							<QuoteRef/>
						</ImpItmCprQrefWebService>
						<ImpItmBkaCprBankAccounts/>
						<ImpItmCprPrlProductLines>
							<PrlId>TLL</PrlId>
						</ImpItmCprPrlProductLines>
						<ImpItmCprTypeCliPolRelationships>
							<TypeNumber/>
							<Type>7</Type>
							<PercentageSplit>100</PercentageSplit>
						</ImpItmCprTypeCliPolRelationships>
						<ImpSelCliCprIefSupplied/>
						<ImpItmClcClientContactDetails/>
						<ImpItmCliClients>
							<Name>Smith</Name>
							<OtherFornames/>
							<FirstName>Merridy</FirstName>
							<Title/>
							<DateOfBirth>19811205</DateOfBirth>
							<Sex/>
							<Smoker/>
							<Email/>
							<RiskCat/>
							<Salutation/>
							<MobileTelNo/>
							<WorkTelNo/>
							<MaidenName/>
							<Weight/>
							<Height/>
							<MaritalStatus/>
							<Nationality/>
							<CliId>0</CliId>
							<Type/>
							<Bmi/>
							<WaistSize/>
							<Salary/>
							<SalaryCurrency/>
						</ImpItmCliClients>
					</row>
					...
				</ImpCliCpr>
				<ImpGrpPlc>
					...
				</ImpGrpPlc>
				<ImpPrlpqmWebService>
					<Prlrqm/>
				</ImpPrlpqmWebService>
				<ImpSrvdetailsWebService>
					<Pcdate/>
					<Srvtimings/>
					<ServiceUserid/>
					<RecordImport/>
				</ImpSrvdetailsWebService>
				<ImpPrlBenList>
					<row>
						...
						<ImpItmBenPolPolicies>
							...
							<BeneficiariesStatus>2</BeneficiariesStatus>
						</ImpItmBenPolPolicies>
						...
					</row>
					...
				</ImpPrlBenList>
				<ImpGrpPfd>
					...
				</ImpGrpPfd>
			</WssgliveImport>
		</wss:Wssglivecall>{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01cij:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,25/Nov/21 8:11 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Persist candidate beneficiaries against an application,NBJ-813,40837,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,25/Nov/21 8:11 AM,05/Jan/22 10:54 AM,02/Feb/22 6:31 PM,,,Foundation Release,,Sprint_9,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-764,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zjzzzzzz09,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,25/Nov/21 8:11 AM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Ensure commission details get passed into quote,NBJ-812,40836,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,25/Nov/21 8:10 AM,10/Jan/22 5:16 PM,02/Feb/22 6:31 PM,10/Jan/22 5:16 PM,,Foundation Release,,,,,"*As an* API User
*So that* I am getting the premium and commission I request
*I want* any request to quote to use the persisted commission amounts

triggerQuote

triggerDecisionQuote",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,10/Jan/22 5:16 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/24907/LivingDoc.html,,,,,,,,,,,,"*Given*: A request to triggerQuote
*When*: passing data to the quote service
*Then*: the {{initialIndemnityPercentage}} and {{initialCommissionSacrificePercentage}} values are included in the request

*Given*: A request to triggerDecisionQuote
*When*: passing data to the quote service
*Then*: the {{initialIndemnityPercentage}} and {{initialCommissionSacrificePercentage}} values are included in the request",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-761,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwigz:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,25/Nov/21 8:10 AM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Display post underwriting declaration screen,NBJ-811,40835,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,25/Nov/21 8:10 AM,15/Dec/21 5:16 PM,02/Feb/22 6:31 PM,15/Dec/21 5:16 PM,,Foundation Release,,Sprint_6,,,"*As a* User
*I want* a post underwriting declaration for each applicant
*So that* I can confirm my applicant has told the whole truth (and nothing but the truth)

{color:#ff5630}*Note: Navigation to this screen we will have to pick up later. (NBJ-161)*{color}

Currently we have a tab appear when the enquiry can be closed:

!Close Enquiry Tab.png|width=1269,height=270!

We will retain this for now, until we put in place the continue button through underwriting (NBJ-161)

Our current close page looks like this:

!Close Page.png|width=1285,height=695!

We will update this to the new page:

!Screenshot 2021-11-28 at 11.20.54.png|width=1325,height=820!",,Chris.Hibbert,James Bartlett,Justin.Smith,Mike,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,618bdfc5fba4d0006ad4853e,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-878,,,,,,,,,,28/Nov/21 11:21 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Close Enquiry Tab.png;https://gghltd.atlassian.net/secure/attachment/23877/Close+Enquiry+Tab.png,28/Nov/21 11:21 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Close Page.png;https://gghltd.atlassian.net/secure/attachment/23878/Close+Page.png,28/Nov/21 11:21 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-11-28 at 11.20.54.png;https://gghltd.atlassian.net/secure/attachment/23879/Screenshot+2021-11-28+at+11.20.54.png,28/Nov/21 1:30 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-11-28 at 13.29.06.png;https://gghltd.atlassian.net/secure/attachment/23880/Screenshot+2021-11-28+at+13.29.06.png,15/Dec/21 12:46 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211215-124629.png;https://gghltd.atlassian.net/secure/attachment/24370/image-20211215-124629.png,15/Dec/21 1:37 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211215-133701.png;https://gghltd.atlassian.net/secure/attachment/24375/image-20211215-133701.png,15/Dec/21 1:51 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211215-134857.png;https://gghltd.atlassian.net/secure/attachment/24376/image-20211215-134857.png,15/Dec/21 5:16 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211215-171333.png;https://gghltd.atlassian.net/secure/attachment/24392/image-20211215-171333.png,15/Dec/21 5:16 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211215-171451.png;https://gghltd.atlassian.net/secure/attachment/24389/image-20211215-171451.png,15/Dec/21 5:16 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211215-171537.png;https://gghltd.atlassian.net/secure/attachment/24391/image-20211215-171537.png,15/Dec/21 5:16 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211215-171601.png;https://gghltd.atlassian.net/secure/attachment/24390/image-20211215-171601.png,,"*Given*: An application with satisfied underwriting for a life
*When*: Displaying the Close Enquiry screen
*Then*: This is styled as per the design wireframes
*and:* The text on screen reads:

{panel:bgColor=#deebff}
h2. Confirmation

Thank you - you've now completed all the questions for <applicant fullname>.

Please check your answers carefully to make sure they're accurate, true and complete. If you don't, you risk your cover being cancelled or when we assess a claim you risk us paying a reduced amount or nothing at all.

We may need to ask your doctor for information to support or check the answers you gave us in your application. If we do, we'll need your consent under the Access to Medical Reports Act (AMRA) 1988. By continuing this application, you're agreeing to sign the AMRA form if asked to do so. If you don't sign it, we may cancel your policy if we've already offered you cover. You can still apply to other companies for insurance.
{panel}

*Given*: An application with a single applicant
*When*: Displaying the Close Enquiry screen
*Then*: A Get decision button is displayed
*and:* Clicking this button transitions the user to the new decision screen ([NBJ-569])

*Given*: An application with 2 applicants
*When*: Displaying the Close Enquiry screen
*and:* The other applicants underwriting is already closed
*Then*: A Get decision button is displayed
*and:* Clicking this button transitions the user to the new decision screen ([NBJ-569])

*Given*: An application with 2 applicants
*When*: Displaying the Close Enquiry screen
*and:* The other applicants underwriting is not already closed
*Then*: A Continue button is displayed in a prompt panel (not the name in this panel is for the other applicant)

!Screenshot 2021-11-28 at 13.29.06.png|width=1243,height=116!

*and:* Clicking this button transitions the user to the underwriting for the other applicant",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-760,,,,,,,,,,,,,,,,None,,"Note - the updated action for closing an underwriting session:

[https://gghltd.atlassian.net/browse/NBJ-670|https://gghltd.atlassian.net/browse/NBJ-670|smart-link] ",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwik1:0i,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,25/Nov/21 8:10 AM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-09 21:02:54.374,09/Dec/21 9:02 PM;6139c49114e8340071fcda09;[~accountid:60cc71a1d5dde800713a2124] did you expect this story to also close the enquiry/enquiries?,"09/Dec/21 9:11 PM;6139c49114e8340071fcda09;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] the applicant underwriting sessions should be ’closed' when each applicant is finished:

* For an application with only one applicant, the underwriting session should be closed when the user clicks ‘Get decision’
* For an application with two applicants, the underwriting session for the first applicant should be closed when the user clicks ‘continue’ (to answer the questions for the second life). The underwriting session for the second applicant should be closed when the user clicks ‘Get decision’

Closing an underwriting session is described in [https://gghltd.atlassian.net/browse/NBJ-500|https://gghltd.atlassian.net/browse/NBJ-500|smart-link] ",10/Dec/21 8:50 AM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;Thanks [~accountid:6139c49114e8340071fcda09] I’ll add this today,10/Dec/21 11:08 AM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;[~accountid:6139c49114e8340071fcda09] working on this now - the close enquiry needs plugging in to the button at the bottom and the check to see if it needs to post once for single and twice for joint applicants,"13/Dec/21 11:06 AM;6139c49114e8340071fcda09;(flag) Flag added

the ‘Close Enquiry’ button now does nothing. I can see the following in the console:
“UnderwritingSlice.js:286 Uncaught (in promise) TypeError: Cannot read properties of undefined (reading ‘section’)
    at UnderwritingSlice.js:286”

looks like it thinks the closing of the enquiry was unsuccessful but the applicant state is a bit wonky?","14/Dec/21 8:17 AM;60cc71a1d5dde800713a2124;(flagoff) Flag removed

Ticket needs more work, no related defects, so moving back to To Do",14/Dec/21 8:35 AM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;[~accountid:60cc71a1d5dde800713a2124] All the work to include the new Post Dec screen was overwritten. I’ll have to pick it out and put it all back in.,"15/Dec/21 12:46 PM;618bdfc5fba4d0006ad4853e;# Text is correct. 
# I’m get taken to the decision tab
# When closing a single applicant the underwriting session is closed as expected

!image-20211215-124629.png|width=649,height=640!

5. Is good 

!image-20211215-133701.png|width=946,height=791!","15/Dec/21 1:51 PM;618bdfc5fba4d0006ad4853e;[~accountid:60cc71a1d5dde800713a2124] before closing this on AC4

*Given*: An application with 2 applicants
*When*: Displaying the Close Enquiry screen
*and:* The other applicants underwriting is already closed
*Then*: A Get decision button is displayed
*and:* Clicking this button transitions the user to the new decision screen ([NBJ-569])

I just wanted to clarify with you the following -

So James mentioned in his comment -

* _For an application with two applicants, the underwriting session for the first applicant should be closed when the user clicks ‘continue’ (to answer the questions for the second life). The underwriting session for the second applicant should be closed when the user clicks ‘Get decision'_

However this is not what is currently happening.  When you click on continue on the first applicant the underwriting session is not closed.  If you enter the answers for the second applicant and get to the option to ‘Get Decision' and click on this then it is at this point both underwriting sessions are closed.

!image-20211215-134857.png|width=1576,height=856!

Can you please confirm you are happy with this behaviour.  ","15/Dec/21 1:59 PM;60cc71a1d5dde800713a2124;[~accountid:618bdfc5fba4d0006ad4853e] 

For each applicant on an application, when they confirm ‘their’ post underwriting declaration then their underwriting session should be closed.","15/Dec/21 5:16 PM;618bdfc5fba4d0006ad4853e;This looks good to me.  So when I clicked on the continue button we got the first applicant close underwriting call.  When I filled in the answers for the second applicant and clicked on get decision then second call was made to close the underwriting call.

!image-20211215-171333.png|width=471,height=409!



!image-20211215-171451.png|width=477,height=415!

!image-20211215-171537.png|width=1189,height=540!

!image-20211215-171601.png|width=1231,height=609!



  ",,,,,,,,,,,,,,,,,,,,,Done
Create pre-underwriting declaration screen,NBJ-810,40834,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,25/Nov/21 8:09 AM,16/Dec/21 3:55 PM,02/Feb/22 6:31 PM,16/Dec/21 3:55 PM,,Foundation Release,,Sprint_6,,,"*As a*I User
*I want* a declaration screen before any underwriting can be completed for an applicant
*So that* I know the applicant is aware of their responsibilities

!Screenshot 2021-12-05 at 09.43.04.png|width=1481,height=823!



{color:#ff5630}*PLEASE NOTE - THERE IS NO YES/NO QUESTION AS THIS HAS BEEN REMOVED FROM THE DESIGN*{color}",,Chris.Hibbert,Justin.Smith,Max Silva,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,6139c4f3e2a0d60069cf8994,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,05/Dec/21 9:43 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-05 at 09.43.04.png;https://gghltd.atlassian.net/secure/attachment/24061/Screenshot+2021-12-05+at+09.43.04.png,13/Dec/21 10:19 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211213-101858.png;https://gghltd.atlassian.net/secure/attachment/24277/image-20211213-101858.png,13/Dec/21 10:37 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211213-103718.png;https://gghltd.atlassian.net/secure/attachment/24283/image-20211213-103718.png,,,,,,,,,,"*Given*: An application
*When:* Visiting the underwriting pages for an applicant
*Then*: The pre-underwriting declaration must be confirmed before any underwriting pages are shown for that applicant


{panel:title=Pre underwriting declaration}
Please take care when answering the following questions to make sure they're accurate.  If not, you risk your client's cover being cancelled or when we assess a claim , you risk us paying a reduced amount or nothing at all.

Your clients don't need to tell us the results of any genetic test, except for a positive test for Huntington's disease if they're applying for insurance of more than £500,000.
{panel}


*Given*: An applicant
*When*: The applicant confirms the pre-underwriting declaration
*Then*: This fact is persisted against the applicant (NBJ-267)

*Given*: An application
*When*: Visting the underwriting pages for an applicant
*and*: the applicant has already confirmed their pre-underwriting declaration (NBJ-267)
*Then*: The underwriting pages are shown as normal

*Given*: A user on the pre-underwriting declaration page
*Then*: The continue button is enabled
*and:* Clicking the continue button persists the confirmation (NBJ-267)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-760,,,,,,,,,,,,,,,,None,,"* [https://gghltd.atlassian.net/browse/NBJ-267|https://gghltd.atlassian.net/browse/NBJ-267|smart-link] for being able to record this has been confirmed against an applicant - acceptedPreUnderwritingDeclaration
* No underwriting information shown if not confirmed
* User cannot ever navigate back to this page",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00ycv:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,Guardian Sprint 6,,,,,25/Nov/21 8:09 AM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-05 15:42:02.981,05/Dec/21 9:44 AM;60cc71a1d5dde800713a2124;[~accountid:6139c4f3e2a0d60069cf8994]  - I’ve added a new screenshot that is showing the final signed-off design.,05/Dec/21 3:42 PM;6139c4f3e2a0d60069cf8994;[~accountid:60cc71a1d5dde800713a2124] - Great working on this at the moment,"13/Dec/21 10:19 AM;618bdfc5fba4d0006ad4853e;Having spent a while to automate and eventually checked the declaration text I noticed the word ‘Declaration is spelt’ wrong 😵 

{noformat}  @AppTest1
  Scenario: Add contact details using the address lookup
    Given I have a ""MaleOverWeightNonSmoker_update"" applicant
    And I update the applicant's underwriting from ""MaleOverWeightNonSmoker_uw""
    And I have ""CIWithTerm"" cover for the applicant
    And I triggered a quote 
    And I added contact details ""ContactDetailsOne""
    And I have navigated to the application tab
    When I check the declaration details are present
      | Header | Declaration |
      | Text   | Please take care when answering the following questions to make sure they're accurate.  If not, you risk your client's cover being cancelled or when we assess a claim , you risk us paying a reduced amount or nothing at all. Your clients don't need to tell us the results of any genetic test, except for a positive test for Huntington's disease if they're applying for insurance of more than £500,000. |
    #And click on the application continue button
{noformat}



!image-20211213-101858.png|width=1844,height=746!

!image-20211213-103718.png|width=1878,height=1007!",13/Dec/21 10:43 AM;618bdfc5fba4d0006ad4853e;[~accountid:6139c49114e8340071fcda09] has raised the issue with the wording under [https://gghltd.atlassian.net/browse/NBJ-985|https://gghltd.atlassian.net/browse/NBJ-985|smart-link] which I have linked to this.,13/Dec/21 11:38 AM;618bdfc5fba4d0006ad4853e;acceptedPreUnderwritingDeclaration is getting set back to false for applicant one when adding the 2nd applicant.  Created [https://gghltd.atlassian.net/browse/NBJ-988|https://gghltd.atlassian.net/browse/NBJ-988|smart-link] on this.  I don’t really want to close this issue until the outstanding issues are fixed.  Flagging this.,16/Dec/21 3:54 PM;618bdfc5fba4d0006ad4853e;[https://gghltd.atlassian.net/browse/NBJ-988|https://gghltd.atlassian.net/browse/NBJ-988|smart-link] is ok now.  Marking this as done.,,,,,,,,,,,,,,,,,,,,,,,,,,Done
"TriggerQuote requires a user ID in header, otherwise fails",NBJ-809,40814,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,High,Done,James Bartlett,6139c49114e8340071fcda09,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,24/Nov/21 2:52 PM,26/Nov/21 2:01 PM,02/Feb/22 6:31 PM,26/Nov/21 2:01 PM,,Foundation Release,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: A userId property has been added to the TriggerQuote endpoint, passed in the HTTP header. Not setting the userId results is TriggerQuote failing. The userId value is not known or controlled by the caller so the userId should not be part of the API contract. (Eventually the userId will be lifted from the auth token that is passed in the header - we are not there yet.)

Business Impact: no quotes\!

Steps to Reproduce: call the TriggerQuote endpoint without a userId

Expected Results: a quote is generated and returned.

Actual Result: no quote is generated and an HTTP 500 error is returned

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00uwn:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,24/Nov/21 2:52 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Nov/21 3:30 PM;610c00d94e8d8d0069a20d6c;To get the endpoint working the fix is simple:

# Remove the +userId+ header from the TriggerQuote endpoint in the ActionService
# In the TriggerQuoteCommandHandler, hardcode the +userId+ value that is passed to the DocumentService to 10001491",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
actions/StartApplication and actions/AddApplicant do not set the ENQUIRY_TYPE,NBJ-808,40813,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Highest,Done,James Bartlett,6139c49114e8340071fcda09,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,24/Nov/21 2:17 PM,02/Dec/21 8:49 AM,02/Feb/22 6:31 PM,25/Nov/21 1:53 PM,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,NBJ-756,NBJ-261,,,,,,,,,,,,,,,,,,,,,,,,,,,,,25/Nov/21 1:53 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc_applicant_enquiry_type.html;https://gghltd.atlassian.net/secure/attachment/23792/LivingDoc_applicant_enquiry_type.html,25/Nov/21 1:53 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc_application_enquiry_type.html;https://gghltd.atlassian.net/secure/attachment/23791/LivingDoc_application_enquiry_type.html,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"For both actions/StartApplication and actions/AddApplicant we call the underwriting service to start an underwriting session.

These endpoints should both be setting the ENQUIRY_TYPE question in the URE to have an answer of ""Full""

Note call to the UnderwritingService must set the ENQUIRY_TYPE value when starting the underwriting session:

{code:json}POST /api/v1/underwriting/{applicantId}/start
{
  ""answers"": {
    ""ENQUIRY_TYPE"": [
      ""Full""
    ]
  }
}{code}

At the moment we do not, which is blocking NBJ-756 which relies on this behaviour.",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zd,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,24/Nov/21 2:17 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Sprint 5 - When adding or removing a CI cover via the frontend a call to MutateCovers takes place and returns a 500 Internal Server Error,NBJ-807,40794,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,24/Nov/21 9:35 AM,17/Dec/21 6:43 PM,02/Feb/22 6:31 PM,17/Dec/21 6:43 PM,,Foundation Release,,,,,,,Chris.Hibbert,Justin.Smith,Sam Gamble,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-715,NBJ-255,,,,,,,,,24/Nov/21 9:52 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211124-094424.png;https://gghltd.atlassian.net/secure/attachment/23752/image-20211124-094424.png,24/Nov/21 10:14 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211124-101424.png;https://gghltd.atlassian.net/secure/attachment/23754/image-20211124-101424.png,25/Nov/21 11:27 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211125-112558.png;https://gghltd.atlassian.net/secure/attachment/23783/image-20211125-112558.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue*: I had added a CI cover to my life and I’m seeing that a Post request is being made to -

[https://ggh-uwt-apim.azure-api.net/api/v1/actions/MutateCovers/add|https://ggh-uwt-apim.azure-api.net/api/v1/actions/MutateCovers/add]

The response from this request is a 500 Internal Server Error

!image-20211124-094424.png|width=1907,height=754!

This was for application id G000072538

The Request was -

\{""applicationId"":""G000072538"",""applicantId"":""bc636df9-e81f-411a-adc6-de0eee407864"",""cover"":\{""productType"":""ci"",""coverType"":""level"",""coverAmount"":""20000"",""term"":""12""}}

The Response is -

\{""errors"":\{""type"":""[https://tools.ietf.org/html/rfc7231#section-6.6.1%22,%22title%22:%22An|https://tools.ietf.org/html/rfc7231#section-6.6.1%22,%22title%22:%22An|smart-link]  error occurred while processing your request."",""status"":500,""traceId"":""00-86a5f37db25d5746a72fb7d1b104cd24-b7318d637e637c4b-00""}}

The cover still appears to be added to the application.  

*Business Impact*: Low, as the cover is still added

*Steps to Reproduce*: 

# Navigate to the [https://ggh-nbj-reactapp.azurewebsites.net/dashboard|https://ggh-nbj-reactapp.azurewebsites.net/dashboard|smart-link] 
# Click on ‘Create New Application’
# Fill in the client profile information and click ‘Continue’
# Click on Add Cover
# Add Critical Illness Protection
# Add Level term, Sum assured and Term Length and Blur away from the last field
# I was seeing a 500 response from - {{https://ggh-uwt-apim.azure-api.net/api/v1/actions/MutateCovers/add}}

Expected Results: I was expecting a 201 response

Actual Result: 500 error

Version: N/A",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i015mt:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,Guardian Sprint 6,,,,,24/Nov/21 9:35 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-25 11:44:36.778,"24/Nov/21 9:53 AM;618bdfc5fba4d0006ad4853e;There is something funny going on here as I have just tried it manually and got a 201 response.  Maybe it is something happening as part of the automation tests.

It doesn’t look the fastest when I did it manually.

!image-20211124-101424.png|width=1914,height=474!

Not sure if there is some weird timeout thing in Cypress resulting in a 500.",24/Nov/21 10:19 AM;618bdfc5fba4d0006ad4853e;[~accountid:5ed8c4bc4ec4270ba3725b85] [~accountid:60cc71a1d5dde800713a2124] this is the bug ticket I mentioned in the stand-up.  Doesn’t appear to happen now I try it manually but there is a performance issue.  Maybe this will get resolved when the performance improvements come in.,"25/Nov/21 11:27 AM;618bdfc5fba4d0006ad4853e;So I am seeing this 500 issue consistently via the automation test on add and remove of the covers.  [~accountid:610c00d94e8d8d0069a20d6c] shared the app insights location and I can see the error been thrown in there - 

!image-20211125-112558.png|width=1441,height=787!

Interestingly and I’m not sure if it is related but there is a 404 error thrown on underwriting service and has the following error - 

The HTTP status code of the response was not expected (404).Status: 404
Response:
\{""errors"":\{""type"":""[https://tools.ietf.org/html/rfc7231#section-6.5.4|https://tools.ietf.org/html/rfc7231#section-6.5.4|smart-link] "",""title"":""Not Found"",""status"":404,""traceId"":""00-86e0f33d461692488c98f60e0465bc15-1c5e191f1dfdce40-01""}}


[https://portal.azure.com/#blade/AppInsightsExtension/DetailsV2Blade/ComponentId/%7B%22SubscriptionId%22%3A%22ebf012bf-8dfc-483c-866e-d73fe4712fae%22%2C%22ResourceGroup%22%3A%22ggh-uwt-rg%22%2C%22Name%22%3A%22appi-ggh-uwt-actionservice%22%2C%22LinkedApplicationType%22%3A0%2C%22ResourceId%22%3A%22%252Fsubscriptions%252Febf012bf-8dfc-483c-866e-d73fe4712fae%252FresourceGroups%252Fggh-uwt-rg%252Fproviders%252Fmicrosoft.insights%252Fcomponents%252Fappi-ggh-uwt-actionservice%22%2C%22ResourceType%22%3A%22microsoft.insights%252Fcomponents%22%2C%22IsAzureFirst%22%3Afalse%7D/DataModel/%7B%22eventId%22%3A%22b904729b-4dde-11ec-94f5-c8966551090f%22%2C%22timestamp%22%3A%222021-11-25T10%3A58%3A17.800Z%22%2C%22cacheId%22%3A%224708f3e7-8469-4dc1-a2f9-0150fc1340ad%22%2C%22eventTable%22%3A%22exceptions%22%2C%22timeContext%22%3A%7B%22durationMs%22%3A1800000%2C%22endTime%22%3A%222021-11-25T11%3A01%3A17.375Z%22%7D%7D|https://portal.azure.com/#blade/AppInsightsExtension/DetailsV2Blade/ComponentId/%7B%22SubscriptionId%22%3A%22ebf012bf-8dfc-483c-866e-d73fe4712fae%22%2C%22ResourceGroup%22%3A%22ggh-uwt-rg%22%2C%22Name%22%3A%22appi-ggh-uwt-actionservice%22%2C%22LinkedApplicationType%22%3A0%2C%22ResourceId%22%3A%22%252Fsubscriptions%252Febf012bf-8dfc-483c-866e-d73fe4712fae%252FresourceGroups%252Fggh-uwt-rg%252Fproviders%252Fmicrosoft.insights%252Fcomponents%252Fappi-ggh-uwt-actionservice%22%2C%22ResourceType%22%3A%22microsoft.insights%252Fcomponents%22%2C%22IsAzureFirst%22%3Afalse%7D/DataModel/%7B%22eventId%22%3A%22b904729b-4dde-11ec-94f5-c8966551090f%22%2C%22timestamp%22%3A%222021-11-25T10%3A58%3A17.800Z%22%2C%22cacheId%22%3A%224708f3e7-8469-4dc1-a2f9-0150fc1340ad%22%2C%22eventTable%22%3A%22exceptions%22%2C%22timeContext%22%3A%7B%22durationMs%22%3A1800000%2C%22endTime%22%3A%222021-11-25T11%3A01%3A17.375Z%22%7D%7D|smart-link] ","25/Nov/21 11:44 AM;610c00d94e8d8d0069a20d6c;[~accountid:618bdfc5fba4d0006ad4853e] looks like a APIM base URL is wrong

* wrong: [https://ggh-uwt-apim.azure-api.net/|https://ggh-uwt-apim.azure-api.net/]
* correct: [https://ggh-uwt-api.gghltest.co.uk|https://ggh-uwt-api.gghltest.co.uk]/",17/Dec/21 5:12 PM;60cc71a1d5dde800713a2124;[~accountid:618bdfc5fba4d0006ad4853e]  - looks correct to me now.,"17/Dec/21 6:43 PM;618bdfc5fba4d0006ad4853e;Yeah, this is all good now.  I think it was an issue with the automation tests not calling the underwriting api and so the session was in an odd state.  Closing",,,,,,,,,,,,,,,,,,,,,,,,,,Done
Send Decision Made email when manual underwriting is complete,NBJ-806,40789,,Epic,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,John.LeQuesne,5db187687b20d80c2a25b574,John.LeQuesne,5db187687b20d80c2a25b574,23/Nov/21 6:02 PM,01/Feb/22 9:48 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"When underwriting has completed on the final life on an application and it was completed manually, an email is sent to the Adviser saying that there is a decision for the application. 

Existing Decision Made email functionality (on IT Architecture Confluence site)
https://gghltd.atlassian.net/wiki/spaces/IA/pages/1799028909/US2529+Automate+Decision+Made+email ",,John.LeQuesne,,,,,,,5db187687b20d80c2a25b574,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,ghx-label-2,,Send Decision Made email when manual underwriting is complete,To Do,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,NBJ-148,,,,,,,,,No,,1|i00urb:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,23/Nov/21 6:02 PM,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Restrict access to backend API to logged in users,NBJ-805,40788,,Technical Story,In Progress,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Carl.Randall,61ea78899d17400069fc9cbd,Chris.Hibbert,60cc71a1d5dde800713a2124,Jim Houghton,60cc71a22bd21400692fd2af,23/Nov/21 5:57 PM,01/Feb/22 9:19 AM,02/Feb/22 6:31 PM,,,Foundation Release,,Login,Sprint_6,,"*As* Guardian Financial Services
*So that* I can restrict access to the backend APIs to only logged in users
*I want* to validate and authorise inbound requests",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,NBJ-424,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* any attempt to access NBJ apis without a valid access token
*Then* respond with a 403

*Given* any attempt to access NBJ apis with a valid access token
*Then* process the request",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-114,,,,,,,,,,,,,,,,None,,"Implement as a new version of the API, so we can build up a secured API.

h3. OAuth2 authorisation code flow

The backend API will require a valid {color:#ff5630}*access token*{color} to be passed in the HTTP request authorization header.

To get an {color:#ff5630}*access token*{color} it is a 2-step process:

# Login to B2C using username/password creds to receive an {color:#00b8d9}*auth code token*{color}
# Call B2C with your {color:#00b8d9}*auth code token*{color} to retrieve an {color:#ff5630}*access token*{color}

Reference: [https://docs.microsoft.com/en-us/azure/active-directory-b2c/authorization-code-flow|https://docs.microsoft.com/en-us/azure/active-directory-b2c/authorization-code-flow|smart-link] 

h3. Auth elements

* APIM - used to check auth tokens
* Azure B2C - used as the Identity provider, and OAuth2 server

h3. Azure B2C

||*Attribute*||*Value*||
|TenantName|{{gryphondevb2c.onmicrosoft.com}}|
|TenantId|{{713858fa-fbe5-4b4c-966b-bb499d9b9c59}}|
|LoginFlowName|B2C_1_login
_N.B. we may need to define our own login flow_|

* Create new Client ID: register NBJ frontend as a new application in Azure B2C
* Grant access to Client ID: add a new test user that has access to the new app registration
* Note: you can test the login flow inside azure B2C

h3. APIM

Check for a valid auth token on the inbound request by adding a validate-jwt policy on the inbound request. Something like this:

{code:json}<validate-jwt header-name=""Authorization"" failed-validation-httpcode=""401"" failed-validation-error-message=""Unauthorized. Access token is missing or invalid."">
  <openid-config url=""https://login.microsoftonline.com/{{TenantName}}/v2.0/.well-known/openid-configuration?p={{LoginFlowName}}"" />
    <audiences>
      <audience>{{ClientId}}</audience>
    </audiences>
    <issuers>
      <issuer>https://{{TenantName}}/{{TenantId}}/v2.0/</issuer>
    </issuers>
</validate-jwt>{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwib9:zi,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,14/Oct/21 10:25 AM,,13.0,,,,,,,,,,,,,,,,,,"For testing, you will need the username/password credentials of a user in Azure B2C and the ability to create an {color:#ff5630}*access token*{color}.

The {color:#ff5630}*access token*{color} is then used in all HTTP request to the backend API, so all HTTP calls prefixed with {{/api/v2/}}  , for example:

{code:json}GET /api/v2/application/{{applicationId}}
Authorization: Bearer {{access_token}}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress
Showing non-indemnity commission as an amount per month,NBJ-804,40787,,Epic,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,John.LeQuesne,5db187687b20d80c2a25b574,John.LeQuesne,5db187687b20d80c2a25b574,23/Nov/21 5:57 PM,15/Dec/21 5:40 PM,02/Feb/22 6:31 PM,,,Phase 1 - Menu,,,,,"This epic covers converting any non-indemnity commission as a monthly amount. 

Where there is a hybrid commission, the initial & monthly amounts must be shown separately.

The change must be reflected on the 'edit commission panel' and on the Quote document. The fact there is a document change means this needs to be done alongside menu (or the next template change) - so the fix version is likely to change.... ",,John.LeQuesne,,,,,,,5db187687b20d80c2a25b574,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,ghx-label-7,,Showing non-indemnity commission as an amount per month,To Do,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00uqv:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,23/Nov/21 5:57 PM,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Handling underwriter exclusions,NBJ-803,40786,,Epic,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,John.LeQuesne,5db187687b20d80c2a25b574,John.LeQuesne,5db187687b20d80c2a25b574,23/Nov/21 5:52 PM,01/Feb/22 9:48 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"Where an exclusion is added by an underwriter which reduces the premium, Lissia will return a separate negative cover amount to cover the premium reduction. This epic covers:-

* Checking the premium at decision is reduced by the correct amount (check vs QGen)
* Creating the relevant separate UWEX coverage on Lissia at GoLive
* Handling where there are 2 separate UWEXs for the same policy
* Checking the cover summary at the point of going on risk includes the UWEX",,John.LeQuesne,,,,,,,5db187687b20d80c2a25b574,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,ghx-label-13,,Handling underwriter exclusions,To Do,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,NBJ-148,,,,,,,,,No,,1|i00uqn:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,23/Nov/21 5:52 PM,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
View uw data in Salesforce (from UMe),NBJ-802,40785,,Epic,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,John.LeQuesne,5db187687b20d80c2a25b574,John.LeQuesne,5db187687b20d80c2a25b574,23/Nov/21 5:47 PM,01/Feb/22 9:48 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"The following data in an underwriting case will be shown from UMe:-
- App Q & A
- Exclusion lists
- Removal lists
- Health reasons (within drop down selections)
- Postpone codes (within drop down selections)
",,John.LeQuesne,,,,,,,5db187687b20d80c2a25b574,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,ghx-label-12,,View uw data in Salesforce (from UMe),To Do,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,NBJ-148,,,,,,,,,No,,1|i00uqf:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,23/Nov/21 5:47 PM,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
"Amend smoker status, DoB, gender and occupation in Manual Underwriting",NBJ-801,40784,,Epic,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,John.LeQuesne,5db187687b20d80c2a25b574,John.LeQuesne,5db187687b20d80c2a25b574,23/Nov/21 5:42 PM,01/Feb/22 9:48 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"To handle when an underwriter is told information to change the smoker status, DoB, gender & occupation in manual underwriting.
Might need to restrict further disclosures once a case has been manually underwritten (tbc)",,John.LeQuesne,,,,,,,5db187687b20d80c2a25b574,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,ghx-label-11,,"Amend smoker status, DoB, gender and occupation in Manual Underwriting",To Do,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,NBJ-148,,,,,,,,,No,,1|i00uq7:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,23/Nov/21 5:42 PM,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Create uw case in Salesforce when a client is referred & questions completed for all lives,NBJ-800,40783,,Epic,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,John.LeQuesne,5db187687b20d80c2a25b574,John.LeQuesne,5db187687b20d80c2a25b574,23/Nov/21 5:36 PM,01/Feb/22 9:49 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"Mostly work in the Salesforce subscription service to cover creating an underwriting case when a client has been referred and all lives have submitted their questions.
Add a link to the relevant page to describe the functionality.",,John.LeQuesne,,,,,,,5db187687b20d80c2a25b574,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,ghx-label-10,,Create uw case in Salesforce when a client is referred & questions completed for all lives,To Do,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,NBJ-148,,,,,,,,,No,,1|i00upz:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,23/Nov/21 5:36 PM,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Receive manual underwriting decision from Salesforce & use on Decision screen,NBJ-799,40782,,Epic,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,John.LeQuesne,5db187687b20d80c2a25b574,John.LeQuesne,5db187687b20d80c2a25b574,23/Nov/21 5:33 PM,01/Feb/22 9:49 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"To cover:
* Receiving the 'Make Decision' message from Salesforce
* Updating prices on decision screen with risk outcomes from Salesforce
* Underwriting alerts reflecting the decision from Salesforce
* Enabling 'Set-up policy' button whilst on all lives have a Decision received",,John.LeQuesne,,,,,,,5db187687b20d80c2a25b574,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,ghx-label-5,,Receive manual underwriting decision from Salesforce & use on Decision screen,To Do,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,NBJ-148,,,,,,,,,No,,1|i00upr:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,23/Nov/21 5:33 PM,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Populate app data in Salesforce,NBJ-798,40781,,Epic,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,John.LeQuesne,5db187687b20d80c2a25b574,John.LeQuesne,5db187687b20d80c2a25b574,23/Nov/21 5:29 PM,01/Feb/22 9:49 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,Find link with contents of the message & draw a picture,,John.LeQuesne,,,,,,,5db187687b20d80c2a25b574,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,ghx-label-7,,Populate app data in Salesforce,To Do,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,NBJ-148,,,,,,,,,No,,1|i00upj:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,23/Nov/21 5:29 PM,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Remove a cover / life at Decision,NBJ-797,40778,,Epic,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,John.LeQuesne,5db187687b20d80c2a25b574,John.LeQuesne,5db187687b20d80c2a25b574,23/Nov/21 4:54 PM,01/Feb/22 9:49 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"The functionality is described on Confluence at:
https://gghltd.atlassian.net/wiki/spaces/NP/pages/2979266605/Decision+Page#Remove-Cover

Update after 25 Nov",,John.LeQuesne,,,,,,,5db187687b20d80c2a25b574,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,ghx-label-9,,Remove a cover / life at Decision,To Do,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,NBJ-148,,,,,,,,,No,,1|i00uov:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,23/Nov/21 4:54 PM,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Validate email address - ZeroBounce - Config. list of pass thru' emails,NBJ-796,40772,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,23/Nov/21 4:42 PM,01/Feb/22 6:15 PM,02/Feb/22 6:31 PM,,,Foundation Release,,Apply,Sprint_4,,"*As an* advisor
*So that* I can reduce the number of unnecessarily rejected emails
*I want* a configurable list of emails and domains that can bypass validation",,Chris.Hibbert,Jim Houghton,Jon Reynolds,Mike,mike hill,,,60cc71a1d5dde800713a2124,60cc71a22bd21400692fd2af,616ee20e2097220071a975d2,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,5d94816eefc9290c2e625a11,,,,,,,,,,Hidden from EXL,NGT-342,,,,,,,,,,NBJ-795,,,,,,,,,,,,,,,,,,,,23/Nov/21 4:42 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;ZeroBounce API v2.postman_collection.json;https://gghltd.atlassian.net/secure/attachment/23737/ZeroBounce+API+v2.postman_collection.json,23/Nov/21 4:42 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;Zerobounce.postman_environment.json;https://gghltd.atlassian.net/secure/attachment/23738/Zerobounce.postman_environment.json,,,,,,,,,,,"*Given* an email that is included in config. whitelist (described by actual email or domain of email)
*When* processing the response
*Then* respond with a 200

*Given* an email that is not included in config. whitelist
*Then* subject the email to zeroBounce validation",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,"*Request*

{noformat}GET /api/v1/validate/email?email=sam.gamble@space-bx.co.uk{noformat}

*ZeroBounce Request*

{noformat}GET https://api.zerobounce.net/v2/validate?email=sam.gamble@gmail.com&api_key=API_KEY_HERE{noformat}

*ZeroBounce Response*

{code:json}HTTP 200 OK
{
    ""address"": ""sam.gamble@space-bx.co.uk"",
    ""status"": ""valid"",
    ""sub_status"": """",
    ""free_email"": false,
    ""did_you_mean"": null,
    ""account"": ""sam.gamble"",
    ""domain"": ""space-bx.co.uk"",
    ""domain_age_days"": null,
    ""smtp_provider"": ""microsoft"",
    ""mx_found"": ""true"",
    ""mx_record"": ""spacebx-co-uk01c.mail.protection.outlook.com"",
    ""firstname"": ""sam"",
    ""lastname"": ""gamble"",
    ""gender"": ""male"",
    ""country"": null,
    ""region"": null,
    ""city"": null,
    ""zipcode"": null,
    ""processed_at"": ""2021-11-18 22:12:07.773""
}{code}

*Response*



{code:json}{
  ""errors"": [
    ""error message to be confirmed""
  ]
}{code}",,,,,,,,,,,,,,,,,,,Space-bx,,,,,,,No,,1|hzwibm:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,06/Oct/21 5:07 PM,,5.0,,,Space Extranet,,,,,,,,,,,,,,,"Below is a lost of status and sub_status indicating which combinations are allowed with emails to produce them:

[https://gghltd.atlassian.net/wiki/spaces/NP/pages/3092318522/ZeroBounce+Status+Codes|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3092318522/ZeroBounce+Status+Codes|smart-link] ",,,,,,,,,,,,,,,2022-01-17 11:04:28.349,17/Jan/22 11:04 AM;60cc71a1d5dde800713a2124;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5]  and [~accountid:5e183e85c578120daca5bc7b]  - can you let us know how often this gets updated?,"17/Jan/22 11:29 AM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;[~accountid:60cc71a1d5dde800713a2124] This currently gets called onBlur of the email field. The only way I think we can reduce hits is to only do the request when they click the continue button? But not sure that’s the best experience.
In the meantime we could put in a check on the f/e to only request the service if the email is a valid email format?","17/Jan/22 4:01 PM;5d94816eefc9290c2e625a11;[~accountid:60cc71a1d5dde800713a2124] - I took an action (sprint planning) for: “can you let us know how often this gets updated“. Answer from Ian is about once a year (ad hoc, not planned) but when needed, must be done within a few hours (so must not require a code deploy). For info, it is currently an App Setting and differs per environment.",01/Feb/22 6:15 PM;616ee20e2097220071a975d2;[~accountid:60cc71a22bd21400692fd2af] - fyi please note dependency on [https://gghltd.atlassian.net/browse/NBJ-1366|https://gghltd.atlassian.net/browse/NBJ-1366|smart-link] in order for this to be fulfilled,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Validate email address - ZeroBounce - actually validate against configurable list of rules,NBJ-795,40770,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,23/Nov/21 4:28 PM,01/Feb/22 6:15 PM,02/Feb/22 6:31 PM,,,Foundation Release,,Apply,Sprint_4,,"*As an* advisor
*So that* I can be sure I can have entered the correct email
*I want* a valid email to be recognised as valid, based on configurable list of rules [ZeroBounce Status Codes|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3092318522/ZeroBounce+Status+Codes]",,Jim Houghton,Jon Reynolds,,,,,,60cc71a22bd21400692fd2af,616ee20e2097220071a975d2,,,,,,,,,,,,,Hidden from EXL,NGT-342,,,,,,,,,,NBJ-794,,,,,,,,,,,,,,,,,,,,23/Nov/21 4:28 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;ZeroBounce API v2.postman_collection.json;https://gghltd.atlassian.net/secure/attachment/23734/ZeroBounce+API+v2.postman_collection.json,23/Nov/21 4:28 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;Zerobounce.postman_environment.json;https://gghltd.atlassian.net/secure/attachment/23735/Zerobounce.postman_environment.json,,,,,,,,,,,"*Given* any email is requested validation
*When* processing the response
*Then* evaluate the status and sub_status on the response ( [https://gghltd.atlassian.net/wiki/spaces/NP/pages/3092318522/ZeroBounce+Status+Codes|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3092318522/ZeroBounce+Status+Codes|smart-link])

*Given* an allowed combination of status and substatus
*Then* the service responds with a 200

*Given* any combination of status and substatus not allowed
*Then* the service responds with a tbc
*And* an error message “error message to be confirmed""

[https://gghltd.atlassian.net/wiki/spaces/NP/pages/3092318522/ZeroBounce+Status+Codes|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3092318522/ZeroBounce+Status+Codes|smart-link]",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,"*Request*

{noformat}GET /api/v1/validate/email?email=sam.gamble@space-bx.co.uk{noformat}

*ZeroBounce Request*

{noformat}GET https://api.zerobounce.net/v2/validate?email=sam.gamble@gmail.com&api_key=API_KEY_HERE{noformat}

*ZeroBounce Response*

{code:json}HTTP 200 OK
{
    ""address"": ""sam.gamble@space-bx.co.uk"",
    ""status"": ""valid"",
    ""sub_status"": """",
    ""free_email"": false,
    ""did_you_mean"": null,
    ""account"": ""sam.gamble"",
    ""domain"": ""space-bx.co.uk"",
    ""domain_age_days"": null,
    ""smtp_provider"": ""microsoft"",
    ""mx_found"": ""true"",
    ""mx_record"": ""spacebx-co-uk01c.mail.protection.outlook.com"",
    ""firstname"": ""sam"",
    ""lastname"": ""gamble"",
    ""gender"": ""male"",
    ""country"": null,
    ""region"": null,
    ""city"": null,
    ""zipcode"": null,
    ""processed_at"": ""2021-11-18 22:12:07.773""
}{code}

*Response*



{code:json}{
  ""errors"": [
    ""error message to be confirmed""
  ]
}{code}",,,,,,,,,,,,,,,,,,,Space-bx,,,,,,,No,,1|hzwibo:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,06/Oct/21 5:07 PM,,5.0,,,Space Extranet,,,,,,,,,,,,,,,"Below is a lost of status and sub_status indicating which combinations are allowed with emails to produce them:

[https://gghltd.atlassian.net/wiki/spaces/NP/pages/3092318522/ZeroBounce+Status+Codes|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3092318522/ZeroBounce+Status+Codes|smart-link] 

Please use the test domain ‘@gtest1821.co.uk’",,,,,,,,,,,,,,,2022-02-01 18:15:00.527,01/Feb/22 6:15 PM;616ee20e2097220071a975d2;[~accountid:60cc71a22bd21400692fd2af] - fyi please note dependency on [https://gghltd.atlassian.net/browse/NBJ-1366|https://gghltd.atlassian.net/browse/NBJ-1366|smart-link] in order for this to be fulfilled,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Validate email address - ZeroBounce - Config. on/off,NBJ-794,40768,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,23/Nov/21 4:21 PM,13/Dec/21 2:56 PM,02/Feb/22 6:31 PM,13/Dec/21 2:56 PM,,Foundation Release,,Apply,Sprint_4,,"*As a* business concerned with cost
*So that* I can ensure email validation service is only used when required 
*I want* to be able to config. the service on/off in environments",,James Bartlett,Jim Houghton,Jon Reynolds,,,,,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,616ee20e2097220071a975d2,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-920,,,,,,,,,,23/Nov/21 4:21 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;ZeroBounce API v2.postman_collection.json;https://gghltd.atlassian.net/secure/attachment/23732/ZeroBounce+API+v2.postman_collection.json,23/Nov/21 4:21 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;Zerobounce.postman_environment.json;https://gghltd.atlassian.net/secure/attachment/23733/Zerobounce.postman_environment.json,07/Dec/21 10:02 AM;ug:117ea4bb-8992-4456-92e8-f3d84c2d6b41;image-20211207-100008.png;https://gghltd.atlassian.net/secure/attachment/24097/image-20211207-100008.png,07/Dec/21 10:02 AM;ug:117ea4bb-8992-4456-92e8-f3d84c2d6b41;image-20211207-100140.png;https://gghltd.atlassian.net/secure/attachment/24098/image-20211207-100140.png,,,,,,,,,"*Given* a deployment of validation to any test environment 
*Then* email validation with zero bounce is configured off

*Given* a deployment of validation to a production environment 
*Then* email validation with zero bounce is configured on

*Given* email validation is configured off in my environment
*And* any email validation request
*Then* the service responds with a 200

*Given* email validation is configured on in my environment
*And* any email validation request
*Then* the email is validated through zeroBounce",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,"*Request*

{noformat}GET /api/v1/validate/email?email=sam.gamble@space-bx.co.uk{noformat}

*ZeroBounce Request*

{noformat}GET https://api.zerobounce.net/v2/validate?email=sam.gamble@gmail.com&api_key=API_KEY_HERE{noformat}

*ZeroBounce Response*

{code:json}HTTP 200 OK
{
    ""address"": ""sam.gamble@space-bx.co.uk"",
    ""status"": ""valid"",
    ""sub_status"": """",
    ""free_email"": false,
    ""did_you_mean"": null,
    ""account"": ""sam.gamble"",
    ""domain"": ""space-bx.co.uk"",
    ""domain_age_days"": null,
    ""smtp_provider"": ""microsoft"",
    ""mx_found"": ""true"",
    ""mx_record"": ""spacebx-co-uk01c.mail.protection.outlook.com"",
    ""firstname"": ""sam"",
    ""lastname"": ""gamble"",
    ""gender"": ""male"",
    ""country"": null,
    ""region"": null,
    ""city"": null,
    ""zipcode"": null,
    ""processed_at"": ""2021-11-18 22:12:07.773""
}{code}",,,,,,,,,,,,,,,,,,,Space,,,,,,,No,,1|i00tku:v,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,Guardian Sprint 6,,,,,06/Oct/21 5:07 PM,,2.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-06 16:54:48.395,"06/Dec/21 4:54 PM;616ee20e2097220071a975d2;Demo’d configuration options with [~accountid:610c00d94e8d8d0069a20d6c] 

Once access control granted:

* Create named value to zero bounce apit to manage whether zero bounce request should be mocked or not e.g. 

Type: Plain

Name:_MockZeroBounceResponseNamedValueFlag_ 

Value: true



* Add definition to zero bounce request using sample payload

{noformat}{
    ""address"": ""sample.user@space-bx.co.uk"",
    ""status"": ""valid"",
    ""sub_status"": """",
    ""free_email"": false,
    ""did_you_mean"": null,
    ""account"": ""sam.gamble"",
    ""domain"": ""space-bx.co.uk"",
    ""domain_age_days"": null,
    ""smtp_provider"": ""microsoft"",
    ""mx_found"": ""true"",
    ""mx_record"": ""spacebx-co-uk01c.mail.protection.outlook.com"",
    ""firstname"": ""sam"",
    ""lastname"": ""gamble"",
    ""gender"": ""male"",
    ""country"": null,
    ""region"": null,
    ""city"": null,
    ""zipcode"": null,
    ""processed_at"": ""2021-11-18 22:12:07.773""
}{noformat}

* Add conditional flow logic and mock response to inbound policy processing

{code:xml}<inbound>
        <base />
        <set-variable name=""mockZeroBounceRequest"" value=""@((bool){{MockZeroBounceResponseNamedValueFlag}})"" />
        <choose>
            <when condition=""@((bool)context.Variables[""mockZeroBounceRequest""])"">
                <mock-response status-code=""200"" content-type=""application/json"" />
            </when>
        </choose>
    </inbound>{code}

* raise separate ticket (EPIC Production Engineering) to provision namedvalue in automated fashion using AzureDevOps release pipeline. Set flag to true for non-production environments and on for production environment.",06/Dec/21 4:55 PM;616ee20e2097220071a975d2;BLOCKED - waiting for APIM permissions to set up changes. Access control request raised by [~accountid:5ed8c4bc4ec4270ba3725b85] on 6th Dec 2021.,"07/Dec/21 9:31 AM;616ee20e2097220071a975d2;(flagoff) Flag removed

Added as contributor in Azure APIM now","07/Dec/21 10:02 AM;616ee20e2097220071a975d2;!image-20211207-100008.png|width=1042,height=722!

Please note changes are applied to UWT:

* added named value to act as switch to turn mocking on and off (as shown)

*  added policy changes to zero bounce inbound processsing to use flag to decide if request should be mocked or not. Turned on in UWT

!image-20211207-100140.png|width=1883,height=254!",07/Dec/21 10:21 AM;616ee20e2097220071a975d2;Raised [https://gghltd.atlassian.net/browse/NBJ-920|https://gghltd.atlassian.net/browse/NBJ-920|smart-link]  as follow-up discussion for automated deployment across environments,08/Dec/21 5:39 PM;616ee20e2097220071a975d2;[~accountid:610c00d94e8d8d0069a20d6c] - further to our chat this morning I’ve reassign this to you so you can either close or discuss with testers/devops as to how you want to proceed,13/Dec/21 2:56 PM;6139c49114e8340071fcda09;tested various email addresses from [https://gghltd.atlassian.net/wiki/spaces/NP/pages/3092318522/ZeroBounce+Status+Codes|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3092318522/ZeroBounce+Status+Codes|smart-link]  and got the expected responses - invAlid email addresses were also identified as valid when the intergation was turned off.,,,,,,,,,,,,,,,,,,,,,,,,,Done
Provision and configure Service Bus instance,NBJ-793,40766,40742,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,mark.thurston@venture1consulting.com,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,Ian.Douglas,5e183e85c578120daca5bc7b,Ian.Douglas,5e183e85c578120daca5bc7b,23/Nov/21 4:01 PM,13/Jan/22 4:40 PM,02/Feb/22 6:31 PM,13/Jan/22 4:40 PM,,,,,,,"Add provisioning and configuration of Azure Service Bus to devOps pipelines

# Create ServiceBus Instance \[e.g. sb://ggh-uwt.servicebus.windows.net]
# Create Application Topic
# Create SalesforceSubscription Subscription to route events posted to the application topic
# Create Shared Access Policy “SalesforceSubscriptionAccessPolicy” with read-only access
# Add AccessPolicy name and Access Key to keyVault  ",,Ian.Douglas,mark.thurston@venture1consulting.com,,,,,,5e183e85c578120daca5bc7b,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"* outcome of work must operate as part of an infra pipeline
* Telemetry must reflect this process
* health metrics for this service must be reported to azure insights",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00umf:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,Guardian Sprint 6,Guardian Sprint 7,,,,23/Nov/21 4:01 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-24 08:23:10.77,"24/Nov/21 8:23 AM;557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96;[~accountid:5e183e85c578120daca5bc7b] - Re “Message posted to Application Topic must be routed to SalesforceSubscriptionQueue” - I haven’t looked at the SB yet, but transferring from a Queue to a Topic and vice versa would be an unusual thing to do (and would need to be done in code) - it would be more usual for the sender to post to either a Queue or a Topic and then the receiver to pull the message of the same Queue or Topic. The usual differentiator is simply whether it’s a one to one (Queue) or one to many (Topic). I have done a quick bit of research and so far can’t see a mechanism (except in code) to move between them.","03/Dec/21 1:36 PM;5e183e85c578120daca5bc7b;* removed need for the queue
* added requirement to create shared access policy
* added requirement to store access policy name and access key in keyvault",03/Dec/21 1:38 PM;5e183e85c578120daca5bc7b;Looks as if the basics are in place but a few bits still outstanding,"06/Dec/21 9:02 AM;557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96;[~accountid:5e183e85c578120daca5bc7b]  - As far as I’m aware, the missing bit is “health metrics for this service must be reported to azure insights”. is there anything else you’re aware of?","06/Dec/21 7:13 PM;557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96;[~accountid:5e183e85c578120daca5bc7b] - Metrics are in there (actually by default). So, just need to add whatever is missing.","14/Dec/21 10:26 AM;5e183e85c578120daca5bc7b;Looking at “sb-ggh-level2-dev-uksouth-11” & “sb-ggh-level2-sit-uksouth-11” it looks as if these steps have not been completed 

* Create SalesforceSubscription Subscription to route events posted to the application topic
* Create Shared Access Policy “SalesforceSubscriptionAccessPolicy” with read-only access
* Add AccessPolicy name and Access Key to keyVault",14/Dec/21 10:27 AM;5e183e85c578120daca5bc7b;Moved back to “In Progress”,"15/Dec/21 9:29 AM;557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96;[~accountid:5e183e85c578120daca5bc7b] - You’re right, there is a missing policy. I’ll pick this up.","12/Jan/22 9:05 AM;557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96;[~accountid:5e183e85c578120daca5bc7b] 

Re these…

* Create SalesforceSubscription Subscription to route events posted to the application topic

DONE

* Create Shared Access Policy “SalesforceSubscriptionAccessPolicy” with read-only access

DONE 

* Add AccessPolicy name and Access Key to keyVault

Assuming this means adding the access keys to the KV for later consumption by services: DONE



So, if you’re happy, I’ll move this to “DONE”?",,,,,,,,,,,,,,,,,,,,,40742,Update Salesforce when nbj.underwriting.start,Done
Provision SalesforceSubscription Service (Unite),NBJ-792,40765,40742,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Ian.Douglas,5e183e85c578120daca5bc7b,Ian.Douglas,5e183e85c578120daca5bc7b,Ian.Douglas,5e183e85c578120daca5bc7b,23/Nov/21 4:00 PM,08/Dec/21 9:34 AM,02/Feb/22 6:31 PM,08/Dec/21 9:34 AM,,,,,,,"# Provision SalesforceSubscription Service (Unite)
## Clone existing EventGrid.ApplicationsTopic.SalesforceSubscription Service (incl. YAML config)
## Rename to ServiceBus.ApplicationsTopic.SalesforceSync
## Modify to consume messages from ServiceBus Queue rather than Storage Account Queue
## Deploy new Unite Service to UWT environment",,Ian.Douglas,,,,,,,5e183e85c578120daca5bc7b,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* an event posted to the Application Topic is routed to the SalesforceSubscriptionQueue
*When* an event is posted to an Azure Service Bus Application Topic
*Then* it is received by the ServiceBus.ApplicationsTopic.SalesforceSync Service and processed according to the YAML definition contained in the corresponding appresources mappings.yaml file",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,"This service exists outside the NBJ devOps pipelines - will be addressed through devOps enablement of the Unite Services as part of the Tech Foundation Project. 

In addition to deployment and configuration of the service within the UniteServer Framework the following Secrets need to be added to the linked keyvault

* Environment-ServiceBus-Application-AccessPolicy
* Environment-ServiceBus-Application-AccessKey  

The YAML configuration file also exists outside the service itself. It is deployed to an Azure BlobStore

* gghuwtsa → Blob Containers → appresources → ServiceBus.ApplicationsTopic.SalesforceSync → mappings.yaml

The C# extension functions have also been extended ( managed as SharedFunctions.cs but deployed as a Unite Service application setting )",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00um7:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,Guardian Sprint 6,Guardian Sprint 7,,,,23/Nov/21 4:00 PM,,,,,Space Unite Service,,,,,,,,,,,,,,,"Basic Manual Unit Testing completed

End-to-end testing & test automation needs to be addressed in subsequent sprint",,,,,,,,,,,,,,,,23/Nov/21 4:11 PM;5e183e85c578120daca5bc7b;Will email to John Bartholomew ([john.bartholomew@space01.co.uk|mailto:john.bartholomew@space01.co.uk]) to assign to John Kelly to complete as discussed,03/Dec/21 12:46 PM;5e183e85c578120daca5bc7b;Work completed by John Kelly and deployed to UWT as a UniteService \[ ServiceBus.ApplicationsTopic.SalesforceSync v0.1.6.0 ],03/Dec/21 1:30 PM;5e183e85c578120daca5bc7b;As we are following the legacy delivery process I have requested a release note from Space (John Bartholomew),,,,,,,,,,,,,,,,,,,,,,,,,,,40742,Update Salesforce when nbj.underwriting.start,Done
Validation message on cover layout not quite right,NBJ-791,40750,40583,Story bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,23/Nov/21 12:52 PM,24/Nov/21 1:56 PM,02/Feb/22 6:31 PM,24/Nov/21 1:56 PM,,,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,23/Nov/21 12:54 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;actual.png;https://gghltd.atlassian.net/secure/attachment/23703/actual.png,23/Nov/21 12:54 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;expected.png;https://gghltd.atlassian.net/secure/attachment/23704/expected.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Actual layout in UWT:

 !actual.png|thumbnail! 

- Box is too tall compared to design
- Top edge of box isnt aligned vertically same as the design (needs spacing between the top of the cover box)

Expected layout:

 !expected.png|thumbnail! ",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00uiv:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,,,,,23/Nov/21 12:52 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,40583,Display cover validation errors on quote screen,Done
Update Salesforce when nbj.underwriting.start,NBJ-790,40742,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,High,Done,Ian.Douglas,5e183e85c578120daca5bc7b,Ian.Douglas,5e183e85c578120daca5bc7b,Ian.Douglas,5e183e85c578120daca5bc7b,23/Nov/21 10:15 AM,13/Jan/22 4:40 PM,02/Feb/22 6:31 PM,13/Jan/22 4:40 PM,,Foundation Release,,Sprint_6,,,"*As a* Salesforce user
*So that* I can view up to date information on applications
*I want* the application, applicant and applicant covers added to Salesforce",,Ian.Douglas,Justin.Smith,,,,,,5e183e85c578120daca5bc7b,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* an *nbj.underwriting.start* event posted to an Azure Service Bus Application Topic
*And* the event contains the full application document graph (Application | Applicants | Covers | Quote | UnderwritingOutcome)
*When* an *nbj.underwriting.start* event posted to an Azure Service Bus Application Topic
*Then* update the Application Data in Salesforce using the event message content",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-125,,,,,,,,,,,,,,,,None,,"# Provision and configure Service Bus instance
## Create ServiceBus Instance \[e.g. sb://ggh-uwt.servicebus.windows.net]
## Create Application Topic 
## Create SalesforceSubscriptionQueue
## Create SalesforceSubscription Subscription to route events posted to the application topic to the SalesforceSubscriptionQueue
# Provision SalesforceSubscription Service (Unite)
## Clone existing EventGrid.ApplicationsTopic.SalesforceSubscription Service (incl. YAML config)
## Rename to ServiceBus.ApplicationsTopic.SalesforceSync
## Modify to consume messages from ServiceBus Queue rather than Storage Account Queue
## Deploy new Unite Service to UWT environment
# Update YAML configuration to map from Event Message Body and update Salesforce Application Objects via REST API",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00ug7:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,Guardian Sprint 6,Guardian Sprint 7,,,,23/Nov/21 10:15 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-14 14:10:21.445,23/Nov/21 5:02 PM;5e183e85c578120daca5bc7b;Blocked pending completion of task [https://gghltd.atlassian.net/browse/NBJ-792|https://gghltd.atlassian.net/browse/NBJ-792|smart-link]  ,"26/Nov/21 10:58 AM;5e183e85c578120daca5bc7b;ServiceBus.ApplicationsTopic.SalesforceSync Service now created and provisioned to UWT

Update required to support use of sessionId to enforce FIFO requirement but unblocked and working on configuration / testing of the new service",14/Dec/21 2:10 PM;618bdfc5fba4d0006ad4853e;Hi [~accountid:5e183e85c578120daca5bc7b] [~accountid:60cc71a22bd21400692fd2af] this ticket looks very similar in terms of testing to [https://gghltd.atlassian.net/browse/NBJ-654|https://gghltd.atlassian.net/browse/NBJ-654|smart-link] .  Is there anything else we want to do under this ticket as we have seen the message being send to the service bus and the topic is consuming them.  Will any mapping issues be handled in 654 or this ticket? I’m not looking at salesforce but is there a requirement to do any testing in this?,"15/Dec/21 9:20 AM;5e183e85c578120daca5bc7b;[~accountid:618bdfc5fba4d0006ad4853e] This ticket is responsible for mapping the data provided in the event and populating Salesforce … I’m documenting the mapping in confluence [https://gghltd.atlassian.net/l/c/1f0q2k6H|https://gghltd.atlassian.net/l/c/1f0q2k6H|smart-link] 

Note that there is currently some misalignment between the Common Data Model and the contents of the event. Need to check whether the realignment should be handled as defects against [https://gghltd.atlassian.net/browse/NBJ-654|https://gghltd.atlassian.net/browse/NBJ-654|smart-link] or as separate tickets [~accountid:610c00d94e8d8d0069a20d6c] ???",,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
CI FIB totals are added to the wrong underwriting buckets,NBJ-789,40735,38242,Story bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,22/Nov/21 9:09 PM,23/Nov/21 9:19 PM,02/Feb/22 6:31 PM,23/Nov/21 9:19 PM,,,,,,,,,Chris.Hibbert,James Bartlett,,,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,23/Nov/21 9:19 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/23746/LivingDoc.html,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* When a CI family product is added to an applicant, the product total is added to 

* TOTAL_CI_COVER_LEVEL
* BASKET_CI_COVER
* TOTAL_CI_COVER_ONLY

instead of 

* TOTAL_CI_COVER_FIB
* BASKET_CI_COVER_FIB

*Business Impact:* CI family products will not be underwritten correctly

*Steps to Reproduce:* A a ci family product to an application/applicant

*Expected Results:* The underwriting questions TOTAL_CI_COVER_FIB and BASKET_CI_COVER_FIB are populated with the correct amounts (coverAmount * term in months)

*Actual Result:* The TOTAL_CI_COVER_FIB and BASKET_CI_COVER_FIB questions do not exist

*Version:* unknown",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00uen:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,,,,,22/Nov/21 9:09 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-23 09:36:13.299,"23/Nov/21 9:36 AM;60cc71a1d5dde800713a2124;(flag) Flag added

Rules need sorting out.","23/Nov/21 9:41 AM;60cc71a1d5dde800713a2124;Buckets are as specified, however rules arent in place.","23/Nov/21 3:55 PM;60cc71a1d5dde800713a2124;(flagoff) Flag removed

Added to GUARDIAN branch in staging",,,,,,,,,,,,,,,,,,,,,,,,,,,38242,Update URE with cover information on cover create/update/delete,Done
Sprint 5 - Term not updating when editing details in specific scenarios,NBJ-788,40734,37860,Story bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,22/Nov/21 5:28 PM,26/Nov/21 3:09 PM,02/Feb/22 6:31 PM,26/Nov/21 3:09 PM,,,,,,,,,Chris.Hibbert,Justin.Smith,Mike,Nathan Punzalan,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,613f22fdff23ba00715469d1,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,22/Nov/21 5:43 PM;nathan.punzalan;image-20211122-174227.png;https://gghltd.atlassian.net/secure/attachment/23693/image-20211122-174227.png,22/Nov/21 5:43 PM;nathan.punzalan;image-20211122-174255.png;https://gghltd.atlassian.net/secure/attachment/23692/image-20211122-174255.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: 
Term not updating correctly in the back-end when editing details in specific scenarios. I have managed to create this bug consistently with the steps below however it may occur in other similar scenarios.

Steps to Reproduce: 

# Go to [https://ggh-nbj-reactapp.azurewebsites.net/dashboard|https://ggh-nbj-reactapp.azurewebsites.net/dashboard|smart-link] 
# Create new application
# Fill in Client details and proceed
# Add a Life Cover
# Add a CI Cover
# For the life cover, select Level term, add a valid sum assured (e.g. 25000) and Term length (e.g. 11)
# For CI cover, select Decreasing term, add a valid sum assured (e.g. 26000) and Term until (e.g. 55)
# Change ALL details for the life cover; select Decreasing term, change sum assured (e.g. 25000) and delete Term length and add Term until (e.g. 56)
# Change ALL details for the CI cover; change sum assured (e.g. 27000) and delete Term until and add Term length (e.g. 12)
# Use a GET request to get applicant details by calling: \{\{base_url_apim}}/api/v1/application/\{\{application_id}}


Expected Results: 
Applicant details are returned via API and show the correct covers and cover details.

Actual Result: 
Applicant details are returned via API and show incorrect details for term or toAge properties (on some attempts other details may also be incorrect after editing).

!image-20211122-174227.png|width=1184,height=1284!

!image-20211122-174255.png|width=561,height=390!",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00uef:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,,,,,22/Nov/21 5:28 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-26 11:05:32.565,22/Nov/21 5:44 PM;613f22fdff23ba00715469d1;This issue only happens on specific scenarios so should not be a blocker for the related tickets however [~accountid:60cc71a1d5dde800713a2124] let me know if you think differently then I will update the tickets accordingly.,"26/Nov/21 11:05 AM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;[~accountid:613f22fdff23ba00715469d1] [~accountid:60cc71a1d5dde800713a2124] I think this may have been caused by the race conditions created when editing the fields too fast causing multiple requests at the same time. So what I’ve done in ticket [https://gghltd.atlassian.net/browse/NBJ-733|https://gghltd.atlassian.net/browse/NBJ-733|smart-link] is put in a disabled state while a request is being performed preventing the user from submitting any further requests until the first one is resolved.

I’ve been through the steps [~accountid:613f22fdff23ba00715469d1] provided above using the new branch with the disabled state and can’t replicate. But it would be good to get the [https://gghltd.atlassian.net/browse/NBJ-733|https://gghltd.atlassian.net/browse/NBJ-733|smart-link] into develop so it can be tested.",26/Nov/21 11:21 AM;60cc71a1d5dde800713a2124;I’ll move this one along in step with [https://gghltd.atlassian.net/browse/NBJ-733|https://gghltd.atlassian.net/browse/NBJ-733|smart-link].,26/Nov/21 3:09 PM;618bdfc5fba4d0006ad4853e;I have check [~accountid:613f22fdff23ba00715469d1] scenario and this looks fine as per the fix in [https://gghltd.atlassian.net/browse/NBJ-733|https://gghltd.atlassian.net/browse/NBJ-733|smart-link].  Marking as done.,,,,,,,,,,,,,,,,,,,,,,,,,,37860,Add a Life Cover,Done
Add total application commission to quote object,NBJ-787,40721,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,22/Nov/21 2:25 PM,07/Dec/21 8:56 PM,02/Feb/22 6:31 PM,07/Dec/21 8:56 PM,,Foundation Release,,Sprint_6,,,"As an API user
So that I do not have to calculate the total commission myself
I want the quote service to return the calculated total commission",,Antony.Gorman,Chris.Hibbert,Justin.Smith,,,,,6149b13472728e006f9441d6,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,Hidden from EXL,NBJ-909,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,06/Dec/21 4:17 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211206-161552.png;https://gghltd.atlassian.net/secure/attachment/24089/image-20211206-161552.png,06/Dec/21 4:17 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211206-161659.png;https://gghltd.atlassian.net/secure/attachment/24090/image-20211206-161659.png,,,,,,,,,,,"*Given*: A quote response
*Then*: The top level quote response contains an initialCommission value which is the sum of the initialCommission for all quoteCovers (across all quoteApplicants)
*and:* Is stored to 2 d.p

h4. New Response

{code:json}quote: {
    id: ""e3493eda-5825-4775-9e8b-04a1faf22900"",
    ....
    initialIndemnityPercentage: 0,
    initialCommissionSacrificePercentage: 0,
    initialCommission: 1054.8    // NEW FIELD ON RESPONSE
    premium: 61.42,
    ....
    quoteApplicants: [
        {
        id: ""901b9629-cddd-4914-9ba1-6b4fb6a3a7c6"",
        ....
        premium: 61.42,
        quoteCovers: [
        {
            id: ""c976410e-d7e2-487f-abe8-883cb9b17ce5"",
            productType: ""life"",
            ....
            premium: 17.21,
            initialCommission: 461.76,
            ....
        },
        {
            id: ""babc69dc-a3d5-46ef-928e-616a4b0800ac"",
            productType: ""aci"",
            ....
            premium: 44.21,
            initialCommission: 593.04,
            ....
        }
        ],
        quoteUnderwritingOutcomes: [ ]
    }
    ]
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-118,,,,,,,,,,,,,,,,None,,"h4. Example Current Full Response

{code:json}
quote: {
    id: ""e3493eda-5825-4775-9e8b-04a1faf22900"",
    quoteCreatedDate: ""2021-11-22T14:26:31.5043338+00:00"",
    quoteAgeDate: ""2021-11-22T00:00:00+00:00"",
    adviserAtFirmLocationId: ""a0r0E000004pFFfQAM"",
    initialIndemnityPercentage: 0,
    initialCommissionSacrificePercentage: 0,
    premium: 61.42,
    lifetimePremium: 4717.8,
    unloadedPremium: 0,
    discount: 0,
    quoteApplicants: [
        {
        id: ""901b9629-cddd-4914-9ba1-6b4fb6a3a7c6"",
        dateOfBirth: ""1976-09-15T00:00:00"",
        gender: ""Male"",
        premium: 61.42,
        quoteCovers: [
        {
            id: ""c976410e-d7e2-487f-abe8-883cb9b17ce5"",
            productType: ""life"",
            coverType: ""level"",
            coverAmount: 125000,
            toAge: null,
            term: 10,
            premium: 17.21,
            unloadedPremium: 17.21,
            initialCommission: 461.76,
            initialEarningsPeriod: 48,
            renewalCommission: 0.43,
            lifeTimePremium: 2065.2,
            childCovers: [ ]
        },
        {
            id: ""babc69dc-a3d5-46ef-928e-616a4b0800ac"",
            productType: ""aci"",
            coverType: ""level"",
            coverAmount: 50000,
            toAge: null,
            term: 5,
            premium: 44.21,
            unloadedPremium: 44.21,
            initialCommission: 593.04,
            initialEarningsPeriod: 24,
            renewalCommission: 1.11,
            lifeTimePremium: 2652.6,
            childCovers: [ ]
        }
        ],
        quoteUnderwritingOutcomes: [ ]
    }
    ]
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009dzzh,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,22/Nov/21 2:25 PM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-06 16:17:11.356,"06/Dec/21 4:17 PM;618bdfc5fba4d0006ad4853e;Hi [~accountid:6149b13472728e006f9441d6] is this change in as I can’t seem to see the initialComission value at the top level

!image-20211206-161552.png|width=615,height=586!

I have it in each quote which I believe is existing functionality

!image-20211206-161659.png|width=651,height=556!","06/Dec/21 4:33 PM;60cc71a1d5dde800713a2124;(flagoff) Flag removed

assigning back to Ant",06/Dec/21 4:40 PM;618bdfc5fba4d0006ad4853e;Thanks [~accountid:6149b13472728e006f9441d6] for pointing out I'm hitting the application service and not the quote service.  The AC mentions it is the quote service.  Sorry [~accountid:60cc71a1d5dde800713a2124] Ant asked me to ask you if  it is needed on the application service or just the quote service as mentioned.  If it is just quote service chuck it back.  Thanks,"06/Dec/21 4:56 PM;60cc71a1d5dde800713a2124;Ah, my apologies - its needed for the persisted quote that is stored against the application (so the front end can use it).",07/Dec/21 8:32 AM;6149b13472728e006f9441d6;no worries - I’ve pulled the change through into both the app service and the action service.,"07/Dec/21 8:56 PM;618bdfc5fba4d0006ad4853e;This is all good and I have added 2 automation tests. Marking as done.

_Scenario: Check quote initial commission is correct for 1 applicant and 2 covers_
_Given an application exists via the action service_
_And the initial applicant is updated on the application via the action service_
_And a cover is added via the action service_
_And I want to prepare a cover via the action service_
_And I prepare answer Ci for question cover.productType_
_And I prepare answer Decreasing for question cover.coverType_
_And I prepare answer 50000 for question cover.coverAmount_
_And the cover is added via the action service_
_When I trigger a quote for each application_
_Then the result is 200_
_And initial commission is calculated correctly_

_Scenario: Check quote initial commission is correct for 2 applicants each with a cover_
_Given an application exists via the action service_
_And the initial applicant is updated on the application via the action service_
_And a cover is added via the action service_
_And an applicant is added to the application via the action service_
_And I want to prepare a cover via the action service for applicant 1_
_And I prepare answer Decreasing for question cover.coverType_
_And I prepare answer 50000 for question cover.coverAmount_
_And the cover is added via the action service_
_When I trigger a quote for each application_
_Then the result is 200_
_And initial commission is calculated correctly_",,,,,,,,,,,,,,,,,,,,,,,,,,Done
Misc CSS tweaks,NBJ-786,40718,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Mike,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,22/Nov/21 1:46 PM,22/Nov/21 7:22 PM,02/Feb/22 6:31 PM,22/Nov/21 7:22 PM,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"A few minor miscellaneous CSS tweaks:

* Overall screen width is shorter than the design
* Dividers in the summary bar are currently equidistant but need different widths for the different sections.
* Application ref rather than Application Reference in the summary bar
* Double check the vertical height of the summary bar
* Vertical spacing above ""Add cover"" button
* Removing the ""please start by selecting a cover option"" text if a cover has been added
* Vertical height of the cover cell on the quote screen
* Vertical spacing after last cover box and end of the life boundary box",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04d,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,22/Nov/21 1:46 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Expose PATCH request to update applicant,NBJ-785,40709,40673,Sub-task,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Jon Reynolds,616ee20e2097220071a975d2,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,22/Nov/21 11:45 AM,25/Nov/21 2:56 PM,02/Feb/22 6:31 PM,,,,,,,,Need to allow fields on an Applicant to be updated one-by-one.,,Chris.Hibbert,Jon Reynolds,,,,,,60cc71a1d5dde800713a2124,616ee20e2097220071a975d2,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* an applicant
*When* updating one applicant property in the set \[dateOfBirth, firstName, gender, lastName, smoking, title] using

{noformat}PATCH /api/v1/application/{{applicationId}/applicant/{{appliicantId}}
{
  ""dateOfBirth | firstName | gender | lastName | smoking | title"": ""VALUE""
}{noformat}

*Then* the given property on the given applicant is saved

*Given* an applicant
*When* updating all of the applicant properties using

{noformat}PUT /api/v1/application/{{applicationId}/applicant/{{appliicantId}}
{
  ... applicantDto ...
}{noformat}

*Then* the given applicant is updated with the values in the payload",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,"In the ApplicationService:

# Replace the existing Applicant PATCH endpoint with PUT
# Implement PATCH to allow one or more properties to be updated on a given applicant, limited to the set:
## dateOfBirth
## firstName
## gender
## lastName
## smoking
## title",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00u9b:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,22/Nov/21 11:45 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-25 14:56:05.641,22/Nov/21 1:55 PM;60cc71a1d5dde800713a2124;[~accountid:610c00d94e8d8d0069a20d6c]  - can you provide the details for this one?,25/Nov/21 2:56 PM;616ee20e2097220071a975d2;Further to discussion with [~accountid:610c00d94e8d8d0069a20d6c]  and [~accountid:60cc71a1d5dde800713a2124]  partial updating of an applicant needs to consider Product Service validations. It would make sense to let the applicant update to be a UI concern that will update an applicant once it has fully established applicant details,,,,,,,,,,,,,,,,,,,,,,,,,,,,40673,Update add-client URE and application service interactions,Done
Update application in Salesforce when Applicant removed,NBJ-784,40706,,Story,In Progress,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Ian.Douglas,5e183e85c578120daca5bc7b,helen.scriven,5dbd6f97fc11e40c2ff452a7,helen.scriven,5dbd6f97fc11e40c2ff452a7,22/Nov/21 11:39 AM,01/Feb/22 12:43 PM,02/Feb/22 6:31 PM,,,,,,,,As a Salesforce user I want to be able to see when an applicant is removed from an application so that the details in SF are up to date to assist with queries.,,Graham.Smith,helen.scriven,,,,,,5db1914d2299c90da0133d7b,5dbd6f97fc11e40c2ff452a7,,,,,,,,,,,,,Hidden from EXL,SF-1416,,,,,,,,,,,,,,,SF-1369,,,,,,,,,,,,,,,,,,,,,,,,,,,"Given an NBJ2 Application in Salesforce in any status other than Went On Risk, with more than one Applicant, when the adviser removes the applicant from the Application then:

On the *Application* record:

* In the Details section the # Active Applicants = 1
* In the Application Members section, the Status of the App Member is shown as Not Taken Up

On the *Application Member* record in the header section, the Status is shown as Not Taken Up and the Stage Bar shows an additional stage (to the right of Went On Risk) of Not Taken Up which is highlighted. In the Application Member History section there is a record showing the change in Status. 

On the *Person Accoun*t record in the details section, the status is shown as Not Taken Up. In the Person Account History section on the Related Tab there is a record showing the change in Status. 

If there is NBJ2 *UW Case* associated with the Person Account then (note this should only be possible after a decision has been made on the UW Case because the adviser cannot remove an applicant whilst in MUW).:

* The Application Member Status in the Details section is shown as Not Taken Up (see dependent US). 
* In the Details section the # Active Applicants = 1
* The Status in the header and the Stage Bar is updated to Not Taken Up. 
* On the Case History section on the Related tab there is a record showing the change in Case status. 

The *Application Covers* that have been removed by virtue of removing the Applicant and updated Premiums should all be updated as per related US.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-125,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space-bx,,,,,,,No,,1|i00u8n:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,22/Nov/21 10:11 AM,,,,,Salesforce,Space Unite Service,,,,,,,,,,,,Andy Cole,5fa26bb0f7b30b006e1b6ad5,,,,,,,,,,,,,,,,2021-12-15 16:00:15.659,15/Dec/21 4:00 PM;5db1914d2299c90da0133d7b;[~accountid:5dbd6f97fc11e40c2ff452a7] - Just talking to [~accountid:5e183e85c578120daca5bc7b] about this. Would we want to have another status on the person account for Applicants that have been removed too?,15/Dec/21 4:15 PM;5dbd6f97fc11e40c2ff452a7;[~accountid:5db1914d2299c90da0133d7b] You and [~accountid:5e183e85c578120daca5bc7b] are quite right. Will include in the AC shortly,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress
Update application in Salesforce when Cover removed,NBJ-783,40704,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Jimmy Smith,5d3192ae3e80bd0c7f09c6f7,helen.scriven,5dbd6f97fc11e40c2ff452a7,helen.scriven,5dbd6f97fc11e40c2ff452a7,22/Nov/21 10:11 AM,01/Feb/22 12:43 PM,02/Feb/22 6:31 PM,,,,,,,,As a Salesforce user I want to be able to see when a cover is removed from an application so that the details in SF are up to date to assist with queries.,,helen.scriven,,,,,,,5dbd6f97fc11e40c2ff452a7,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,SF-1389,,,,,NBJ-784,,,,,,,,,,,,,,,,,,,,,,"Given an Application in any status other than Went on Risk, when the adviser removes a Cover that’s in a status of Applied For from an applicant:

On the *Application* record in the Application Covers section, the Status of the Cover is shown as Removed. The Total Premium in the Header section does not take the premium of the removed cover into account.

On the *Application Cover* record:

* In the header section, and in the Stage Bar the Status is shown as Removed. 
* In the Application Cover History section there is a record showing the change in Status. 
* All values associated with the removed Cover: Premium, Type, Amount, Monthly Benefit, Term, Until Age, and Has Payout Planner, all show the last valid values that were saved on the application in NBJ2. 

On the *Application Member* record in the Application Covers section, the status is shown as Removed, values as per on the main App Cover record.  

If there is an NBJ2 *UW Case* associated with the Person Account of the Application Member then (note this should only be possible after a decision has been made on the UW Case because the adviser cannot remove a cover whilst in MUW):

* The Application Cover Status in the Details section is shown as Removed, values as per on the main App Cover record.  
* The Life, CI and TPD sections in the UWOC section of the case _may_ be updated depending on which covers have been removed.  See rules in the *UWOC Sections* section of  [https://gghltd.atlassian.net/browse/SF-1369|https://gghltd.atlassian.net/browse/SF-1369|smart-link] ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-125,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space-bx,,,,,,,No,,1|i00u87:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,22/Nov/21 10:11 AM,,,,,,,,,,,,,,,,,,Andy Cole,5fa26bb0f7b30b006e1b6ad5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Implement GET on contact details for an applicant,NBJ-781,40698,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,20/Nov/21 2:45 PM,24/Nov/21 10:00 PM,02/Feb/22 6:31 PM,24/Nov/21 10:00 PM,,Foundation Release,,,,,"*As an* API User
*I want* to get the contact details for an applicant through the API
*So that* I can display these to my users on navigation",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-653,,,,,,,,,,24/Nov/21 9:59 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/23771/LivingDoc.html,,,,,,,,,,,,"*Given*: An application with an applicant
*When*: GETing the contact details for an applicant
*Then*: Any persisted contact details are returned",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,"h4. Request

{noformat}GET /api/v1/application/{{application_id}}/applicant/{{applicant_id}}/contact{noformat}

h4. Response JSON Payload

{code:json}{
    ""address1"": ""46 Springfield Road"",
    // address 2 is optional, return if has value
    ""address2"": ""address line 2"",    
    ""city"": ""Guildford"",
    ""county"": ""Surrey"",
    ""postcode"": ""GU1 4DP"",
    ""email"": ""test@test.com"",
    ""telephone"": ""+44 01483 434234""
}{code}

h4. Exceptions:

* Cannot find *Application* - HTTP 404; and
* Cannot find *Applicant* - HTTP 404
{code:json}{
    ""errors"": {
        ""type"": ""https://tools.ietf.org/html/rfc7231#section-6.5.4"",
        ""title"": ""Not Found"",
        ""status"": 404,
        ""traceId"": ""00-2a0791b2cd451748810724b0565db4a3-eeac52cb1cce1b4d-00""
    }
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00plw:i,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,20/Nov/21 2:45 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Implement update on contact details for an applicant,NBJ-780,40697,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,20/Nov/21 2:45 PM,26/Nov/21 12:03 PM,02/Feb/22 6:31 PM,26/Nov/21 12:03 PM,,Foundation Release,,,,,"*As an* API User
*I want* to update the contact details for an applicant through the API
*So that* I can update these as my users make updates",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-653,,,,,,,,,,26/Nov/21 12:03 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/23822/LivingDoc.html,,,,,,,,,,,,"*Given*: An application with an applicant
*When*: PATCHing the contact details for an applicant
*Then*: Any persisted contact details are updated",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,"h4. Request

{noformat}PATCH /api/v1/application/{{application_id}}/applicant/{{applicant_id}}/contact{noformat}

h4. JSON Payload

{code:json}{
    ""address1"": ""46 Springfield Road"",
    ""address2"": ""optional"",
    ""city"": ""Guildford"",
    ""county"": ""Surrey"",
    ""postcode"": ""GU1 4DP"",
    ""email"": ""test@test.com"",
    ""telephone"": ""+44 01483 434234""
}{code}

h4. Response

If the applicant exists and the update succeeded, return HTTP 200

{code:json}{
  ""data"": {
    ""address1"": ""46 Springfield Road"",
    ""address2"": ""optional"",
    ""city"": ""Guildford"",
    ""county"": ""Surrey"",
    ""postcode"": ""GU1 4DP"",
    ""email"": ""test@test.com"",
    ""telephone"": ""+44 01483 434234""
  }
}{code}

h4. Exceptions:

* Cannot find *Application* - HTTP 404
{code:json}{
  ""errors"": [""Application not found.""]
}{code}
* Cannot find *Applicant* - HTTP 404
{code:json}{
  ""errors"": [Applicant not found.""]
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00pln:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,20/Nov/21 2:45 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
"Include the option whether to refer, and the display of indicative outcomes when referred.",NBJ-779,40696,,Epic,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,John.LeQuesne,5db187687b20d80c2a25b574,John.LeQuesne,5db187687b20d80c2a25b574,20/Nov/21 12:18 PM,15/Dec/21 5:40 PM,02/Feb/22 6:31 PM,,,Phase 1 - Menu,,,,,"Linked US to allow an Adviser to choose whether to refer with improving the information for the Adviser on likely outcomes with referral.

2 US are mutually exclusive (i,.e. display outcome as rating vs display outcome as premium) Display indicative rating as a premium (preferred by Alan W).
",,John.LeQuesne,,,,,,,5db187687b20d80c2a25b574,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,ghx-label-10,,Ability for Adviser to choose whether to refer a case to underwriting,To Do,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00u73:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,20/Nov/21 12:18 PM,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
To cover the rules on how much you can increase the cover amount by on Decision without needing to return to quote,NBJ-778,40695,,Epic,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,John.LeQuesne,5db187687b20d80c2a25b574,John.LeQuesne,5db187687b20d80c2a25b574,20/Nov/21 12:06 PM,02/Feb/22 4:45 PM,02/Feb/22 6:31 PM,,,,,,,,"See Edit Cover on Decision screen spec in Confluence
https://gghltd.atlassian.net/wiki/spaces/NP/pages/2979266605/Decision+Page",,John.LeQuesne,,,,,,,5db187687b20d80c2a25b574,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,ghx-label-10,,Edit Cover at Decision (including Upsell amount),To Do,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00u6v:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,20/Nov/21 12:06 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Underwriter reduces term or cover amount in Manual underwriting,NBJ-777,40694,,Epic,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,John.LeQuesne,5db187687b20d80c2a25b574,John.LeQuesne,5db187687b20d80c2a25b574,20/Nov/21 11:58 AM,02/Feb/22 3:41 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"To cover SF interface, validates on the Decision screen & uw alerts

uw alert messages - see 'uw reduces term', 'uw reduces sum assured', 'uw reduces term and sum assured' on
[https://gghltd.atlassian.net/wiki/spaces/NP/pages/3058827339/UW+alerts|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3058827339/UW+alerts]

SF interface - tbc

Decision screen - tbc",,John.LeQuesne,,,,,,,5db187687b20d80c2a25b574,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,ghx-label-12,,Underwriter reduces term or cover amount in Manual underwriting,To Do,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,NBJ-148,,,,,,,,,No,,1|i00u6n:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,20/Nov/21 11:58 AM,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Queuing GoLive requests so they run outside batches,NBJ-776,40693,,Epic,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,John.LeQuesne,5db187687b20d80c2a25b574,John.LeQuesne,5db187687b20d80c2a25b574,20/Nov/21 11:54 AM,15/Dec/21 5:39 PM,02/Feb/22 6:31 PM,,,Phase 4 - Productivity,,,,,To handle creating a process to queue GoLive requests if a Lissia batch runs. Also changes to the Finish screen to explain the change in process,,John.LeQuesne,,,,,,,5db187687b20d80c2a25b574,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,ghx-label-2,,Queuing GoLive requests so they run outside batches ,To Do,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00u6f:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,20/Nov/21 11:54 AM,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Validate applicant details,NBJ-775,40692,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,20/Nov/21 11:50 AM,30/Nov/21 10:02 PM,02/Feb/22 6:31 PM,30/Nov/21 10:02 PM,,Foundation Release,,,,,"*As an* API user
*I want* the client details to be validated
*So that* I can be sure my application will proceed correctly",,Chris.Hibbert,Jon Reynolds,,,,,,60cc71a1d5dde800713a2124,616ee20e2097220071a975d2,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-222,,,,,,,,,,30/Nov/21 10:02 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;CreateApplicants.html;https://gghltd.atlassian.net/secure/attachment/23934/CreateApplicants.html,30/Nov/21 10:02 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;UpdateApplicants.html;https://gghltd.atlassian.net/secure/attachment/23933/UpdateApplicants.html,30/Nov/21 10:05 AM;ug:117ea4bb-8992-4456-92e8-f3d84c2d6b41;image-20211130-100132.png;https://gghltd.atlassian.net/secure/attachment/23917/image-20211130-100132.png,,,,,,,,,,"Given: An application
When: An applicant is added or updated with data
Then: The following restrictions apply

* Title is no longer than 8 characters
* First name is no longer than 30 characters
* Last name is no longer than 40 characters
* Date of Birth is a date in the format yyyy-mm-dd

*Given:* an HTTP request to POST \{\{DEPLOYMENT_ENV}}/api/v1/application/\{\{APPLICATION_ID}}/applicant
*When:* any of the fields <{{title}}>,<{{firstName}}>, <{{lastName}}>, <{{dateOfBirth}}> fail valiation
*Then:* validation fails so no record of the Applicant is added the application
*And:* an HTTP 400 is returned
*And:* the following HTTP payload is returned:

{code:json}{
  ""errors"": [
    { 
      ""errorMessage"": ""Title maximum length is 8 characters"",
      ""propertyName"": ""$.title"",
      ""attemptedValue"": ""Ruler of the known Universe""
    }
  ]
}{code}

*Given:* an HTTP request to PATCH \{\{DEPLOYMENT_ENV}}/api/v1/application/\{\{APPLICATION_ID}}/applicant
*When:* any of the fields <{{title}}>,<{{firstName}}>, <{{lastName}}>, <{{dateOfBirth}}> fail valiation
*Then:* validation fails so the applicant is not updated
*And:* an HTTP 400 is returned
*And:* the following HTTP payload is returned:

{code:json}{
  ""errors"": [
    { 
      ""errorMessage"": ""Date of birth is not in the format yyyy-mm-dd"",
      ""propertyName"": ""$.dateOfBirth"",
      ""attemptedValue"": ""30th October 1978""
    }
  ]
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,"When applicant is created with data

{noformat}POST /api/v1/application/{applicationId}/applicant/
{
  ""firstName"": ""Sam"",
  ""lastName"": ""Gamble"",
  ""dateOfBirth"": ""1978-10-30T00:00:00""
  ""gender"": ""Male"",
  ""height"": 178,
  ""weight"": 88,
  ""title"": ""Mr""
}{noformat}

* Or when an applicant is updated

*Request*

{noformat}PATCH /api/v1/application/{applicationId}/applicant/{applicantId}
{
 ....
}{noformat}

*If the applicant fails validation return an error*

{code:json}HTTP 400
{
  ""errors"": [
    { 
      ""errorMessage"": ""Title maximum length is 8 characters"",
      ""propertyName"": ""$.title"",
      ""attemptedValue"": ""Ruler of the known Universe""
    }
  ]
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00plw:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,20/Nov/21 11:50 AM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-30 10:05:18.238,"30/Nov/21 10:05 AM;616ee20e2097220071a975d2;As shown in attached if the date passed in is not in the correct format then the following error will be displayed. 

!image-20211130-100132.png|width=83.33%!

To make this error message as: 

{noformat}{
  ""errors"": [
    { 
      ""errorMessage"": ""Date of birth is not in the format yyyy-mm-dd"",
      ""propertyName"": ""$.dateOfBirth"",
      ""attemptedValue"": ""30th October 1978""
    }
  ]
}{noformat}

would require additional work (custom model binder development) which as discussed with Chris.Hibbert may be unnecessary at this time. I would advise raising another ticket to specifically address/prioritise this issue if it is felt necessary in the future.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Displaying correct versions of static documents (T&C and Key Facts),NBJ-774,40691,,Epic,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,John.LeQuesne,5db187687b20d80c2a25b574,John.LeQuesne,5db187687b20d80c2a25b574,20/Nov/21 11:49 AM,02/Feb/22 3:51 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"This covers the display of the KFD & T&C on the NBJ2, Client extranet & Adviser extranet

The quoteAgeDate for applications & QuotationDate (for Lissia policies) is used to determine which versions of the KFD / T&C to display.

Where the application quioteAgeDate is equal or above a new version of the T&C / KFD, then this should be shown.

Where a client has more than one policy with different quotationDates, the earliest applicable version of the T&C / KFD is displayed (** check with Helen)

* 
** check how much of this will be new dev with Mike H ** ",,John.LeQuesne,,,,,,,5db187687b20d80c2a25b574,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,ghx-label-7,,Displaying correct versions of static documents (T&C and Key Facts),To Do,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,NBJ-148,,,,,,,,,No,,1|i00u5z:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,20/Nov/21 11:49 AM,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Client extranet created & displays correct documentation,NBJ-773,40690,,Epic,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,John.LeQuesne,5db187687b20d80c2a25b574,John.LeQuesne,5db187687b20d80c2a25b574,20/Nov/21 11:39 AM,02/Feb/22 12:10 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"This Epic covers triggering the creation of a Client Extranet account & the documents displayed on it

When an application is put on risk a separate client extranet account is created for each client.

For dual life applications, separate accounts are created for each client (where email is the same - add text description) 

A client extranet account will display the following documents (tbc):-

* Statement of Facts
* Cover Summary
* DD confirmation



Points estimate added by JLQ as it has 0 points. To cover triggering the creation of the extranet accounts etc ",,John.LeQuesne,,,,,,,5db187687b20d80c2a25b574,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,ghx-label-3,,Client extranet created & displays correct documentation,To Do,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,NBJ-148,,,,,,,,,No,,1|i00u5r:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,20/Nov/21 11:39 AM,,21.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Cover Summary document,NBJ-772,40689,,Epic,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,John.LeQuesne,5db187687b20d80c2a25b574,John.LeQuesne,5db187687b20d80c2a25b574,20/Nov/21 11:34 AM,02/Feb/22 3:49 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"Produce a cover summary document & the logic to cover getting the underwriting alerts from EXL / NBJ2 correctly

[https://gghltd.atlassian.net/wiki/spaces/NP/pages/3012591635/Cover+Summary+Document+Mapping|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3012591635/Cover+Summary+Document+Mapping]

This must also cover all types of policy coverage on Lissia including escalations, UWEX (underwriter exclusions), MTA & GIO",,John.LeQuesne,,,,,,,5db187687b20d80c2a25b574,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,ghx-label-13,,Cover Summary document,To Do,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,NBJ-148,,,,,,,,,No,,1|i00u5j:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,20/Nov/21 11:34 AM,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
To produce SoF document & rules of when it is triggered,NBJ-771,40688,,Epic,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,John.LeQuesne,5db187687b20d80c2a25b574,John.LeQuesne,5db187687b20d80c2a25b574,20/Nov/21 11:18 AM,02/Feb/22 3:49 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,**Add link to Confluence page**,,John.LeQuesne,,,,,,,5db187687b20d80c2a25b574,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,ghx-label-4,,Statement of Facts document,To Do,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,NBJ-148,,,,,,,,,No,,1|i00u5b:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,20/Nov/21 11:18 AM,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
To cover the production of the app answers document & when it is triggered / stored,NBJ-770,40687,,Epic,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,John.LeQuesne,5db187687b20d80c2a25b574,John.LeQuesne,5db187687b20d80c2a25b574,20/Nov/21 11:16 AM,02/Feb/22 3:48 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"Link to App Answers Conflunce page:

** add link here **
",,John.LeQuesne,,,,,,,5db187687b20d80c2a25b574,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,ghx-label-6,,App answers document,To Do,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,NBJ-148,,,,,,,,,No,,1|i00u53:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,20/Nov/21 11:16 AM,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Covers the production of the decision document,NBJ-769,40686,,Epic,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,John.LeQuesne,5db187687b20d80c2a25b574,John.LeQuesne,5db187687b20d80c2a25b574,20/Nov/21 11:15 AM,02/Feb/22 3:48 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"Note - do not progress until confirmation on whether Foundation & Menu are merged

**Add link to Decision document spec on Confluence**",,John.LeQuesne,,,,,,,5db187687b20d80c2a25b574,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,ghx-label-8,,Create Decision document,To Do,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,NBJ-148,,,,,,,,,No,,1|i00u4v:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,20/Nov/21 11:15 AM,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Apply expiry date rules to applications,NBJ-768,40685,,Epic,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,John.LeQuesne,5db187687b20d80c2a25b574,John.LeQuesne,5db187687b20d80c2a25b574,20/Nov/21 11:11 AM,02/Feb/22 3:23 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"This covers how long an Adviser gets to complete an application before it disappears from their dashboard

The rules are described in Confluence page:
[https://gghltd.atlassian.net/wiki/spaces/NP/pages/2979070018/Expiry+periods+in+the+new+world|https://gghltd.atlassian.net/wiki/spaces/NP/pages/2979070018/Expiry+periods+in+the+new+world]",,John.LeQuesne,,,,,,,5db187687b20d80c2a25b574,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,ghx-label-8,,Apply expiry date rules to applications,Done,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,NBJ-148,,,,,,,,,No,,1|i00u4n:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,20/Nov/21 11:11 AM,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Capture & validate bank account,NBJ-767,40684,,Epic,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,John.LeQuesne,5db187687b20d80c2a25b574,John.LeQuesne,5db187687b20d80c2a25b574,20/Nov/21 11:09 AM,02/Feb/22 3:21 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"This Epic covers the capture of the bank account details, validation via Experian & passing to Lissia via GoLive

The layout of the screen to capture the bank details is found at:
[https://gghltd.atlassian.net/wiki/spaces/NP/pages/3110141957/Set-up+page#Bank-Account|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3110141957/Set-up+page#Bank-Account|smart-link] 

The bank details must be passed on the GoLive service and the details be displayed on Lissia under the 'View bank account(s)' link for all applicants on the application.

* 
** move the rules for name / address match to a separate Confluence page **",,John.LeQuesne,,,,,,,5db187687b20d80c2a25b574,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,ghx-label-10,,Capture & validate bank account,To Do,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,NBJ-148,,,,,,,,,No,,1|i00u4f:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,20/Nov/21 11:09 AM,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Display a review page for an Adviser to confirm all details before purchase,NBJ-766,40683,,Epic,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,John.LeQuesne,5db187687b20d80c2a25b574,John.LeQuesne,5db187687b20d80c2a25b574,20/Nov/21 11:01 AM,02/Feb/22 3:16 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"This covers the new page to allow an Adviser to confirm the final details are correct before going on risk

Page described at (tbc):",,John.LeQuesne,,,,,,,5db187687b20d80c2a25b574,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,ghx-label-8,,Display a review page for an Adviser to confirm all details before purchase,To Do,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,NBJ-148,,,,,,,,,No,,1|i00u47:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,20/Nov/21 11:01 AM,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Add Child Details where Child CI is on the application,NBJ-765,40682,,Epic,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,John.LeQuesne,5db187687b20d80c2a25b574,John.LeQuesne,5db187687b20d80c2a25b574,20/Nov/21 10:59 AM,02/Feb/22 3:14 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"This Epic covers the capture of the child names & DoB on the NBJ2 screens and passing this information via GoLive to Lissia

Where Child CI is selected, at least one Child must be captured (First name, last name & date of birth). These are passed to Lissia and a client is created.
These are captured on the contact details screen described at (o/s):-
[https://gghltd.atlassian.net/wiki/spaces/NP/pages/3079405569/Contact+Details+-+To+Be|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3079405569/Contact+Details+-+To+Be]

On Lissia, confirm that the children are created under the correct applicant



As Children are created on Lissia  as clients - they must follow Lissia rules for name lengths",,John.LeQuesne,,,,,,,5db187687b20d80c2a25b574,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,ghx-label-12,,Add Child Details where Child CI is on the application,To Do,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,NBJ-148,,,,,,,,,No,,1|i00u3z:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,20/Nov/21 10:59 AM,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Capture beneficiary details,NBJ-764,40681,,Epic,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,John.LeQuesne,5db187687b20d80c2a25b574,John.LeQuesne,5db187687b20d80c2a25b574,20/Nov/21 10:49 AM,02/Feb/22 3:11 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"This epic covers the UI to capture beneficiary information and the changes to GoLive to pass the information to Lissia

For each life or aci cover on the application, the a separate question is asked if payout planner is wanted. If so, the beneficiaries are captured to allow faster payouts in the case of a claim.
Where beneficiaries are selected, the name & Date of birth is captured & the % for each beneficiary (up to a maximum of 8 per cover). The % total must be 100.
Beneficiaries are created as clients on Lissia they must follow rules for first name  surname…

The screen design is described at:-
[Determining the beneficiaries for each cover|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3110141957/Set-up+page#Determining-the-beneficaries-for-each-cover]

The answer to the payout planner question is shown on the policy screen in Lissia in the Beneficiaries field.",,John.LeQuesne,,,,,,,5db187687b20d80c2a25b574,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,ghx-label-14,,Capture beneficiary details,To Do,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,NBJ-148,,,,,,,,,No,,1|i00u3r:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,20/Nov/21 10:49 AM,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Commission values not shown following quote,NBJ-763,40680,39697,Story bug,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Mike,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,20/Nov/21 10:44 AM,21/Nov/21 7:16 PM,02/Feb/22 6:31 PM,,,,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* Commission values not shown following quote

*Steps to Reproduce:* 

# Add a life
# Add a product
# Hit Get Prices

*Expected Results:* In the summary bar, we show the application commission.  This should be 0 when there are no products in the application and following a successful quote, should display the total commission for the application.

*Actual Result:* Commission is hard-coded to £100 whether or not you have products and quotes.",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00u3j:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,,,,,20/Nov/21 10:44 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,21/Nov/21 7:16 PM;60cc71a1d5dde800713a2124;We will need to plan this in alongside a quote service change.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,39697,Show quote values on screen when quote requested by user,Done
Underwriter returns a case to Manual Underwriting,NBJ-762,40679,,Epic,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,John.LeQuesne,5db187687b20d80c2a25b574,John.LeQuesne,5db187687b20d80c2a25b574,20/Nov/21 10:32 AM,02/Feb/22 3:06 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"This covers the Salesforce & NBJ2 changes to allow an underwriter to return an application to manual underwriting when requested by a client

This feature is available before an application is on risk and allows an underwriter to return a case to manual underwriting. The applicant being returned must be at an uwStatus of 'STP Decision' or 'Manual Decision'. 
The request is triggered using the 'Return to Underwriting' button on the Application Member screen in Salesforce and will re-open the existing underwriting Salesforce case if the applicant has previously been manually underwritten and create a new case if the applicant was previously completed STP.",,John.LeQuesne,,,,,,,5db187687b20d80c2a25b574,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,ghx-label-3,,Underwriter returns a case to Manual Underwriting,To Do,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,NBJ-148,,,,,,,,,No,,1|i00u3b:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,20/Nov/21 10:32 AM,,13.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
To cover editing commission at Quote & Decision,NBJ-761,40678,,Epic,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,John.LeQuesne,5db187687b20d80c2a25b574,John.LeQuesne,5db187687b20d80c2a25b574,20/Nov/21 10:10 AM,02/Feb/22 1:27 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"To cover editing the initial commission sacrifice % and the indemnity %. The panel will look the same when called from Quote & Decision and is described in the Edit Commission section of the Decision page spec
https://gghltd.atlassian.net/wiki/spaces/NP/pages/2979266605/Decision+Page

When building this feature, it must be built to support 2 future features within firm specific customisations epic.:-
- To have a 'flag' disable the indemnity % & fix at a specific number (used to pass 0 where an firm is blocked from taking indemnity)
- To only allow 0 or 100 for indemnity % (where firms are restricted from having hybrid commission models).
",,John.LeQuesne,,,,,,,5db187687b20d80c2a25b574,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,ghx-label-11,,Edit commission ,Done,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,NBJ-148,,,,,,,,,No,,1|i00u33:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,20/Nov/21 10:10 AM,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Display pre & post underwriting declarations,NBJ-760,40677,,Epic,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,John.LeQuesne,5db187687b20d80c2a25b574,John.LeQuesne,5db187687b20d80c2a25b574,20/Nov/21 10:00 AM,02/Feb/22 1:31 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"This covers the display of the pre& post underwriting declarations and when they are displayed in dual life apps & when additional disclosures are made

The details are described at:-
[https://gghltd.atlassian.net/wiki/spaces/NP/pages/3086876673/Underwriting|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3086876673/Underwriting]",,John.LeQuesne,,,,,,,5db187687b20d80c2a25b574,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,ghx-label-6,,Display pre & post underwriting declarations,To Do,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,NBJ-148,,,,,,,,,No,,1|i00u2v:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,20/Nov/21 10:00 AM,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Restrict changes whilst an application is in manual underwriting,NBJ-759,40676,,Epic,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,John.LeQuesne,5db187687b20d80c2a25b574,John.LeQuesne,5db187687b20d80c2a25b574,20/Nov/21 9:45 AM,01/Feb/22 9:49 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"For progress updates - see Hearder section of Decision page functional spec on Confluence
https://gghltd.atlassian.net/wiki/spaces/NP/pages/2979266605/Decision+Page

For locking down an application, the following actions should not be possible:-
- Updating answers to underwriting questions
- Changing commission & requoting
- Adding a cover / life & updating a quote
- Changing client details

The following is allowed:-
- Changing contact details
- Adding beneficiaries, bank details & child details ",,helen.scriven,John.LeQuesne,,,,,,5dbd6f97fc11e40c2ff452a7,5db187687b20d80c2a25b574,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,ghx-label-11,,Restrict changes whilst an application is in manual underwriting,To Do,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,NBJ-148,,,,,,,,,No,,1|i00u2n:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,20/Nov/21 9:45 AM,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-17 17:36:30.228,"17/Jan/22 5:36 PM;5dbd6f97fc11e40c2ff452a7;Propose to build so that an internal user can still CR20 in to make changes such as remove a life. 

[~accountid:5db187687b20d80c2a25b574] If we allow updates to contact details wouldn’t we need to alert the UWs, as they use those contact details for obtaining evidence?",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Add advice question and policyStartDate to application model,NBJ-758,40675,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,19/Nov/21 7:12 PM,21/Jan/22 9:46 AM,02/Feb/22 6:31 PM,06/Jan/22 6:24 PM,,Foundation Release,,Sprint_7,,,"*As an* API User
*I want* to have an isAdvisedSale flag available on the application
*So that* I can store whether an application was advised or not",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,NBJ-435,NBJ-1129,,,,,,,,,,,,,,,,,,,NBJ-957,NBJ-1239,,,,,,,,,06/Jan/22 6:24 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/24837/LivingDoc.html,,,,,,,,,,,,"*Scenario:* {{isAdvisedSale}}
*Given:* an HTTP request to POST {{/api/v1/backendforfrontend/application/isAdvisedSale}}

{code:java}{
    ""applicationId"": ""{{applicationId}}"",
    ""isAdvisedSale"": true | false
}{code}

*Then:* an HTTP 200 status code is returned


*Scenario:* {{policyStartDate}}
*Given:* an HTTP request to POST {{/api/v1/backendforfrontend/application/policyStartDate}}

{code:java}{
    ""applicationId"": ""{{applicationId}}"",
    ""policyStartDate"": <dategoeshere>
}{code}

*Then:* an HTTP 200 status code is returned
*and*: the date format is the same as all our persisted dates",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-123,,,,,,,,,,,,,,,,None,,"Stored on the application entity. isAdvisedSale true | false
and policyStartDate (date)",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwigu:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,19/Nov/21 7:12 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Update FIB totals passed to URE for toAge based quotes,NBJ-757,40674,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,19/Nov/21 7:09 PM,02/Feb/22 10:26 AM,02/Feb/22 6:31 PM,,,Foundation Release,,Sprint_6,,,"*As an* adviser
*I want* the URE update with information about the covers my applicant is applying for
*So that* the correct questions are asked and the decision is relevant to my applicant’s covers",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"
*Given*: An applicant with 1 or more covers of {{productType = life}} and {{coverType = family}} and have a {{toAge}} but no term
*When*: The URE is updated for that life
*Then*: The following questions are answered including the calculated sum based on the Life Cover sum assured (fib cover * total calculated term in months):

* TOTAL_LIFE_COVER
* BASKET_LIFE_COVER
* TOTAL_LIFE_COVER_ONLY

*Given*: An applicant with 1 or more covers of {{productType = life}}
*When*: The Life Cover is on a *FIB* sum assured basis <{{coverType}}>
*Then*: The following questions are answered including the sum of the FIB Life Cover sum assureds (fib cover * total calculated term in months):

* TOTAL_LIFE_COVER_FIB
* BASKET_LIFE_COVER_FIB

*Given*: An applicant with 1 or more covers of {{productType = ci}} and {{coverType = family}} and have a {{toAge}} but no term
*When*: The URE is initialised for that life
*Then*: The following questions are answered including the calculated sum based on the Critical Illness Cover sum assured (fib cover * total calculated term in months):

* TOTAL_CI_COVER
* BASKET_CI_COVER
* TOTAL_CI_COVER_ONLY
* TOTAL_TPD_COVER
* BASKET_TPD_COVER

*Given*: An applicant with 1 or more covers of {{productType = ci}}
*When*: The Cover is on a *FIB* sum assured basis <{{coverType}}>
*Then*: The following questions are answered including the calculated sum based on the Critical Illness Cover sum assured (fib cover * total calculated term in months):

* TOTAL_CI_COVER_FIB
* BASKET_CI_COVER_FIB

Note: you cannot have FIB on aci covers, so nothing to do there.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,"_Note: when_ {{Cover.CoverType == ""Family""}} _we are dealing with a_ *_Family Income Benefit (FIB)_* _cover._

To ensure the correct totals are passed for FIB covers, we need to extend the *MutateCovers* actions to read the Application.QuoteAgeDate and Applicant.DateOfBirth.

Where the cover is on a toAge basis (rather than a term basis) we need to calculate the whole number of months from the quoteAgeDate that will take us on or after the customer’s selected toAge. This is stored in the quote response from Lissia in toAgeTermMonths

*For example:*

* Given:
** {color:#36b37e}*Application*{color}.QuoteAgeDate = 2021-11-18
** {color:#ff5630}*Applicant*{color}.DateOfBirth = 1976-09-15
** {color:#00b8d9}*Cover*{color}.ToAge = 60 
** {color:#00b8d9}*Cover*{color}.CoverAmount = £1500
* Result 
** effective term of 14 years and 10 months = 178 months
** so for the CoverAmount of £1500, would result in a total cover amount of £178,000",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwiiz:v,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,19/Nov/21 7:09 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Feb/22 10:26 AM;60cc71a1d5dde800713a2124;[~accountid:60cc71a1d5dde800713a2124]  - this needs to happen post quote using the new FIB coverAmount commuted value.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Update add-client URE and application service interactions,NBJ-756,40673,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Max Silva,6139c4f3e2a0d60069cf8994,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,19/Nov/21 7:08 PM,26/Nov/21 6:19 PM,02/Feb/22 6:31 PM,26/Nov/21 6:19 PM,,Foundation Release,,,,,"*As an* adviser
*So that* I can add my client details
*I want* the screen to have a consistent behaviour with the rest of the site",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,NBJ-745,NBJ-710,NBJ-749,,,,,,NBJ-280,NBJ-234,NBJ-746,,,,,,,,,,,,,,,,,,,,"*Given*: An application
*When*: Adding an applicant
*Then*: The underwriting is updated (and saved against the session) as each underwriting question is answered
*and*: The applicant is updated in the application as each applicant question is answered",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,"Under [NBJ-280] when we call to create an application, that will also add an applicant and an underwriting session:

_Start application_

{noformat}POST /api/v1/actions/StartApplication{noformat}

This gives us everything we need for the first applicant, and no further calls to /v1/actions/AddApplicant need to be made.

The screen designs have changed, so that it is no longer necessary to make *transient* calls to underwriting to supply the underwriting data.  
*Instead, we can make regular update calls.*

_Save answers to questions in an applicant's underwriting session_

{noformat}POST  /api/v1/underwriting/{{applicantId}}{noformat}

The consequence of now being able to make update calls is that we should no longer have race conditions waiting for the underwriting to respond.

The final persist call built in [NBJ-504] for the URE data is of course no longer required since we will be persisting on every call.


Given that there is no 'cancel' button and updates to underwriting get persisted on blur, we should do the same for updates to the normal client details.  Full update when data is available of entire applicant.
e.g.

{noformat}PATCH /api/v1/application/{applicationId}/applicant/{applicantId}{noformat}

as each question in answered.",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00plb:c,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,19/Nov/21 7:08 PM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Nov/21 2:21 PM;60cc71a1d5dde800713a2124;(flag) Flag added

Blocked pending NBJ-808","25/Nov/21 9:33 AM;60cc71a1d5dde800713a2124;(flagoff) Flag removed

NBJ-808 delivered.","26/Nov/21 6:19 PM;60cc71a1d5dde800713a2124;Tested in UWT - the network calls look correct now, although we are still posting the entire set of underwriting questions each time unnecessarily.  This isnt harmful so I will raise a ticket in the backlog to clear up in future.

The PATCH on applicant needs further consideration given the validation scenarios.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Update top nav to include navigable client details,NBJ-755,40672,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,19/Nov/21 7:08 PM,22/Nov/21 3:53 PM,02/Feb/22 6:31 PM,22/Nov/21 3:49 PM,,Foundation Release,,,,,"*As an* adviser
*So that* I can edit my client details
*I want* to be able to navigate to the screen using the top nav

The top nav has had a ""Client details"" section added to it

!Screenshot 2021-11-20 at 10.36.08.png|width=200,height=183!

 

We would like to add this into our existing version of the nav and make it navigate to the client details page

*NOTE: In this story, we are not worried about tracking the state of menu just the navigation between pages.*",,Chris.Hibbert,Mike,,,,,,60cc71a1d5dde800713a2124,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,20/Nov/21 10:36 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-11-20 at 10.36.08.png;https://gghltd.atlassian.net/secure/attachment/23671/Screenshot+2021-11-20+at+10.36.08.png,,,,,,,,,,,,"*Given*: An application
*Then*: The top nav displays:
- Client details
- Quote
- Application
- Underwriting
- Decision
- Set-up
*and* clicking in the nav navigates the user to
- Client details - base_url/application/{{applicationId}}/add-client
- Quote - base_url/application/{{applicationId}}/quote
- Application - base_url/application/{{applicationId}}/contact-details
- Underwriting -  - base_url/application/{{applicationId}}/underwriting",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00plb:b,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,19/Nov/21 7:08 PM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-22 15:00:34.463,22/Nov/21 3:00 PM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;Hi [~accountid:60cc71a1d5dde800713a2124] - I think we should create a ticket to update the urls to make them reflect the tab names. e.g 'add-client' should be 'client-details' and 'contact-details' should be 'application',"22/Nov/21 3:41 PM;60cc71a1d5dde800713a2124;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] agreed, I’ll create.",22/Nov/21 3:50 PM;60cc71a1d5dde800713a2124;Tested in UWT - all good.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
On add applicant set uwStatus to new,NBJ-752,40666,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,19/Nov/21 4:31 PM,01/Dec/21 11:04 AM,02/Feb/22 6:31 PM,,,,,,,,"*As a* consumer of NBJ data (Salesforce and Fact Service)
*So that* I know the underwriting status of an applicant
*I want* an application status set to New on creating an applicant",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* any application
*When* adding an applicant
*Then* set the applicant underwriting status to New ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,on the applicant set uwStatus to New,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x00a,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,19/Nov/21 4:31 PM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
'Transient' calls to the underwriting service can often be very slow.,NBJ-751,40663,,Bug,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Chris.Hibbert,60cc71a1d5dde800713a2124,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,19/Nov/21 2:02 PM,02/Dec/21 8:49 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,James Bartlett,,,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,19/Nov/21 2:08 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;transient_calls_to_underwriting_service_list.txt;https://gghltd.atlassian.net/secure/attachment/23659/transient_calls_to_underwriting_service_list.txt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* The performance of transient calls to the underwriting service is very variable. At a glance the average time is 300-500 ms but the attached shows one sequence of calls that averaged at well over 1 second each.

*Business Impact:* critical if this does not improve

*Steps to Reproduce:* Run through the 'Create your user profile' screen and monitor the network traffic.

*Expected Results:* Transient calls to the underwriting service are <500s each (finger in the air guess)

*Actual Result:* Transient calls to the underwriting service vary from <500s each to > 1 second each

*Version:* ?",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00ply:zzz,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,19/Nov/21 2:02 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-19 19:07:44.554,19/Nov/21 7:07 PM;60cc71a1d5dde800713a2124;Going to reject as we will be removing transient calls next sprint.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Create your client profile page | Metric element for different questions has the same name and value attributes,NBJ-750,40662,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Chris.Hibbert,60cc71a1d5dde800713a2124,Justin.Smith,618bdfc5fba4d0006ad4853e,Justin.Smith,618bdfc5fba4d0006ad4853e,19/Nov/21 1:58 PM,29/Nov/21 11:39 AM,02/Feb/22 6:31 PM,,,,,,,,"I have noticed that the value and name attributes for the metric radio buttons are the same which is -

<input class=""PrivateSwitchBase-input css-1m9pwf3"" name=""*metric*"" type=""radio"" value=""*metric*"" checked="""">

any chance we can have a different name or value like - metricM and metricKg just so we can distinguish between them for automation testing.

I had the following chat with Mike about this -

Hi Mike, how's it going?  I'm not sure if you are the right person but I'm looking at automating the covers but have a slight issue on the initial page - create profile as the metric radio button for both height and weight have the same name and value.  I was wondering if there is any chance we could have a different name or value in this element?

Hi Justin, yeh that's true. Luckily they are both two different components so we can pretty easily change the name I think
",,Justin.Smith,,,,,,,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-820,,,,,,,,,,,,,,,,,,,,,,"*When:* the source is viewed for pages showing the metric/imperial radio buttons
*Then:* those radio buttons have unique identifiers so that the right buttons for related fields can be selected - e.g. metricM relates to the height field, metricKg relates to the weight field.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00u07:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,19/Nov/21 1:58 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Incorrect call to underwriting made after the dashboard button 'Create new application' is made,NBJ-749,40661,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Low,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,19/Nov/21 1:57 PM,26/Nov/21 1:42 PM,02/Feb/22 6:31 PM,26/Nov/21 1:42 PM,,Foundation Release,,,,,,,Chris.Hibbert,James Bartlett,Max Silva,,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,6139c4f3e2a0d60069cf8994,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* Every time the the dashboard button 'Create new application' is clicked, a GET call is made to /api/v1/underwriting/<applicantId>?embed=true that always returns 404.

The next (non-OPTIONS) call is a POST to /api/v1/underwriting/<applicantId>/start?embed=true which actually creates the session

*Business Impact:* little/none

*Steps to Reproduce:* Click the dashboard button 'Create new application'

*Expected Results:* In developer console there should be no calls to the underwriting service which result in a 404 response

*Actual Result:* A call to the underwriting service always results in a 404 response.

*Version:* ?",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04v,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,19/Nov/21 1:57 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-22 11:32:21.68,"22/Nov/21 11:32 AM;6139c4f3e2a0d60069cf8994;[~accountid:6139c49114e8340071fcda09] , [~accountid:60cc71a1d5dde800713a2124] - This 404 is actually necessary, We need to make that request to see if there's an existing UW journey. If there isn't we get a 404 and create one. ","26/Nov/21 1:42 PM;60cc71a1d5dde800713a2124;Tested, call no longer there.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Height and weight are shown to multiple decimal places upon navigation in the application,NBJ-748,40660,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Mike,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,19/Nov/21 1:52 PM,23/Nov/21 11:17 AM,02/Feb/22 6:31 PM,23/Nov/21 11:17 AM,,Foundation Release,,,,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* When the ‘Create your client profile' screen is completed and 'Continue’ is clicked, the underlying underwriting session is correctly updated with the full height/weight. Alternatively this can be seen by updating the height/weight in the underwriting section of the application.

If you navigate away from an entered height / weight and back again, on redisplay, the height/weight is shown to 6 decimal places.. *Height and weight should never be shown to the user with more than 2 decimal places.*

*Business Impact:* 

* No impact to the URE of having multiple decimal places (and makes our imperial / metric conversions work)
* Confusing to the user when a height / weight is shown to many decimal places

*Steps to Reproduce:* 

* Complete the ‘Create your client profile' screen with a height of 1.83 and weight of 78 (male)
* Click ‘Continue’
* Proceed into underwriting and check the displayed values

(Alternatively, proceed an app into underwriting, enter a height or weight, navigate to another underwriting section and back to height/weight).

*Expected Result:*

* HEIGHT metric is only ever displayed to 2 d.p.
* WEIGHT_MALE is only ever displayed to 2 d.p.

*Actual Result:*

* HEIGHT is shown to 5 d.p.
* WEIGHT_MALE is shown to 5 d.p.",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,19/Nov/21 1:52 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Unable to proceed after adding a CCIC and filling in required fields,NBJ-747,40659,41612,Story bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Highest,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,19/Nov/21 1:25 PM,06/Jan/22 1:12 PM,02/Feb/22 6:31 PM,06/Jan/22 1:12 PM,,Foundation Release,,,,,,,Antony.Gorman,Chris.Hibbert,Nathan Punzalan,,,,,6149b13472728e006f9441d6,60cc71a1d5dde800713a2124,613f22fdff23ba00715469d1,,,,,,,,,,,,Hidden from EXL,NBJ-257,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue:

Unable to proceed after adding a CCIC and filling in sum assured field; Get price button is greyed out.

Steps to Reproduce:

# Go to [https://ggh-nbj-reactapp.azurewebsites.net/dashboard|https://ggh-nbj-reactapp.azurewebsites.net/dashboard|smart-link] 
# Create new application
# Fill in client details and proceed
# Add any cover
# Fill in required details
# Add a CCIC
# Fill in sum assured field
# Click away from sum assured field (to register sum assured value)

Expected Results:

CCIC added to applicant as all required fields have been filled and Get price button is selectable.

Actual Result:

CCIC not added to applicant and Get price button is greyed out.",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00tzj:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,19/Nov/21 1:25 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-23 11:23:15.453,23/Nov/21 11:23 AM;60cc71a1d5dde800713a2124;[~accountid:610c00d94e8d8d0069a20d6c]  - one for us to chat about.  I think the issue is that on the UX we only need a sum assured to add a CCIC product and it inherits the rest from its parents whereas I think the add product needs the other attributes.  So possibly we need to change to allow CCIC to be created without anything other than the sum assured.,"05/Dec/21 1:39 PM;60cc71a1d5dde800713a2124;[~accountid:610c00d94e8d8d0069a20d6c] - looking at this, the CCIC is actually added correctly to the applicant



{code:json}{
applicantId: ""aa90068e-1b37-4c3d-8460-0454000e3984"",
firstName: ""Chris"",
lastName: ""Hibbert"",
dateOfBirth: ""1976-09-15T00:00:00"",
gender: ""Male"",
height: null,
weight: null,
title: ""Mr"",
smoker: null,
smoking: ""NON_SMOKER"",
covers: [
    {
    id: ""0ffad321-7872-482c-abe6-f20dc6f426fa"",
    guardianRefWithSuffix: ""aa90068e-1b37-4c3d-8460-0454000e3984"",
    productType: ""life"",
    coverType: ""decreasing"",
    term: 10,
    toAge: null,
    coverAmount: 100000,
    childCovers: [
        {
        id: ""9a6570f5-2aae-499c-a78c-531f757d6f4e"",
        productType: ""ccic"",
        coverType: ""Undefined"",
        toAge: null,
        term: null,
        coverAmount: 20000
        }
    ]
    }
],
acceptedPreUnderwritingDeclaration: false
}{code}

The triggerQuote errors.  I think at this point it is expecting the CCIC to have a coverType and either term or toAge defined.  These should be inherited from the parent cover, so in the case above the coverType would be “decreasing” and it would have a term of 10 years.",04/Jan/22 2:07 PM;60cc71a1d5dde800713a2124;Moved this under 947 so its clear where this is getting fixed.,05/Jan/22 1:16 PM;6149b13472728e006f9441d6;I found a missing automapping profile in the action service which created an error on successfully quoting with a CCIC. I can get this end to end with a fix for that in.,,,,,,,,,,,,,,,,,,,,,,,,,,41612,Inherit CCIC values from parent cover,Done
Wrong DoB sometimes passed to UW when applicant created,NBJ-746,40658,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,19/Nov/21 1:22 PM,29/Nov/21 2:36 PM,02/Feb/22 6:31 PM,29/Nov/21 2:36 PM,,Foundation Release,,,,,,,Chris.Hibbert,James Bartlett,Justin.Smith,,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,26/Nov/21 3:53 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211126-155127.png;https://gghltd.atlassian.net/secure/attachment/23839/image-20211126-155127.png,26/Nov/21 3:53 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211126-155158.png;https://gghltd.atlassian.net/secure/attachment/23841/image-20211126-155158.png,26/Nov/21 3:53 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211126-155249.png;https://gghltd.atlassian.net/secure/attachment/23840/image-20211126-155249.png,29/Nov/21 2:36 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211129-143632.png;https://gghltd.atlassian.net/secure/attachment/23903/image-20211129-143632.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Defect Description
Description of Issue: When the ‘Create your client profile' screen is completed and 'Continue’ is clicked, the underlying underwriting session is updated. The date of birth is updated with the wrong date. For example, a date of birth of 13/01/1978 on-screen becomes 0197-01-13 in the underwriting session.

Business Impact: blocker - DoB drives just about everything in the journey

Steps to Reproduce:

Complete the ‘Create your client profile' screen with a date of birth of 13/01/1978

Click ‘Continue’

Expected Results: The underwriting session has answer 13/01/1978 for question BIRTHDATE

Actual Result: The underwriting session has answer 0197-01-13 for question BIRTHDATE

Version: ?
",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04r,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,19/Nov/21 1:22 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-21 11:21:20.102,"21/Nov/21 11:21 AM;60cc71a1d5dde800713a2124;Looking at the network calls going on here, it looks like the date of birth field is trying to pass a value on every key press when you manually enter a date of birth.","26/Nov/21 3:53 PM;618bdfc5fba4d0006ad4853e;[~accountid:60cc71a1d5dde800713a2124] I have noticed that each time I enter a digit for the year on dob a call is being made to the underwriting service.

!image-20211126-155127.png|width=1208,height=477!



!image-20211126-155158.png|width=1215,height=527!

!image-20211126-155249.png|width=1206,height=514!

This doesn’t seem right.  Shouldn’t one call be made when the full DOB is provided.   I have tested this with [https://gghltd.atlassian.net/browse/NBJ-756|https://gghltd.atlassian.net/browse/NBJ-756|smart-link] delivered.",26/Nov/21 5:16 PM;60cc71a1d5dde800713a2124;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] - can we update so this isnt on every keypress?,"29/Nov/21 2:36 PM;618bdfc5fba4d0006ad4853e;This looks good to me.  There is only one request made after I enter the full date

!image-20211129-143632.png|width=1780,height=887!

Marking as done.",,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Sprint 4 - Continue button greyed out even after all required fields are filled on the Create profile page on certain scenario,NBJ-745,40656,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,19/Nov/21 12:40 PM,02/Dec/21 9:54 AM,02/Feb/22 6:31 PM,02/Dec/21 9:54 AM,,Foundation Release,,,,,,,Chris.Hibbert,Nathan Punzalan,,,,,,60cc71a1d5dde800713a2124,613f22fdff23ba00715469d1,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,19/Nov/21 12:39 PM;nathan.punzalan;image-2021-11-19-12-39-34-934.png;https://gghltd.atlassian.net/secure/attachment/23653/image-2021-11-19-12-39-34-934.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: 
Continue button greyed out even after all required fields are filled on the Create profile page when details are entered quickly. Seems to happen when details are filled in before the system can catch up. 

Steps to Reproduce:
1) Go to: https://ggh-nbj-reactapp.azurewebsites.net/dashboard
2) Click Create new application
3) Fill in details quickly

Expected Results: 
Continue button is selectable and all fields filled in.

Actual Result: 
Continue button greyed out even after all required fields are filled when answers are entered quickly. *(Please note this issue was uncovered manually without much effort, not via automation and is reproducable)*
 !image-2021-11-19-12-39-34-934.png|thumbnail! 
",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00ple:f,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,19/Nov/21 12:40 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-19 21:13:20.141,"19/Nov/21 9:13 PM;60cc71a1d5dde800713a2124;[~accountid:613f22fdff23ba00715469d1]  - one for us to keep an eye on.  We will be changing some of the interactions on this page in the next sprint, so will need to re-evaluate this defect after that.",29/Nov/21 2:16 PM;60cc71a1d5dde800713a2124;[~accountid:613f22fdff23ba00715469d1]  - I think this is resolved following the changes on this screen to how the APIs operate.,"29/Nov/21 4:48 PM;613f22fdff23ba00715469d1;[~accountid:60cc71a1d5dde800713a2124] , I am still able to reproduce this manually with the steps above. Not sure if it’s because we’re testing on a dev environment, but when you replicate the steps quickly, the issue still occurs.","01/Dec/21 2:47 PM;613f22fdff23ba00715469d1;[~accountid:60cc71a1d5dde800713a2124] , I’ve tried manually and it looks better now as I am unable to recreate this issue manually however I am still able to recreate this issue in my automation tests which run alot faster.

Did you want to ignore this issue for now as it’s only occurring on fast runs via automation?","01/Dec/21 7:52 PM;60cc71a1d5dde800713a2124;[~accountid:613f22fdff23ba00715469d1]  - I think if this works 100% of the time at human speeds, I am comfortable.",,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Question completion indicator causes metric/imperial option on height/weight to break onto a new line,NBJ-744,40652,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Low,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,19/Nov/21 10:27 AM,22/Nov/21 3:54 PM,02/Feb/22 6:31 PM,22/Nov/21 3:47 PM,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: Question completion indicator causes metric/imperial option on height/weight to break onto a new line

Business Impact: Looks rubbish, no actual impact

Steps to Reproduce: 
1. Got to underwriting
2. Select imperial for either height or weight

Expected Results: As per design, all displayed on one line

Actual Result: imperial / metric units selection breaks onto a 2nd row",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,19/Nov/21 10:27 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Nov/21 3:48 PM;60cc71a1d5dde800713a2124;Retested in UWT, all good.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Increasing tick box should only be active if cover type of Level/increasing is selected,NBJ-743,40642,37860,Story bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,18/Nov/21 8:59 PM,19/Nov/21 1:33 PM,02/Feb/22 6:31 PM,19/Nov/21 1:33 PM,,,,,,,,,Chris.Hibbert,Nathan Punzalan,,,,,,60cc71a1d5dde800713a2124,613f22fdff23ba00715469d1,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: Increasing tick box should only be active if cover type of Level/increasing is selected

Business Impact: Users can incorrectly select a decreasing cover with an increasing option selected…madness ensues…brains explode.

Steps to Reproduce: 

# Add a life
# Add a Life Cover, select decreasing coverType and then select the increasing tick box

Expected Results: Increasing tick box is only available for a coverType of increasing/level

Actual Result: Increasing tick box is always available.

Note: If the user chooses an alternative covertype after selecting the tickbox, it should be blanked out and disabled.",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00twn:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,,,,,18/Nov/21 8:59 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-19 12:30:20.673,19/Nov/21 12:30 PM;613f22fdff23ba00715469d1;Increasing checkbox still not disabled when cover type is selected or changed to decreasing or Family income.,19/Nov/21 1:16 PM;60cc71a1d5dde800713a2124;Deployment issue resolved and smoke tested in env.,,,,,,,,,,,,,,,,,,,,,,,,,,,,37860,Add a Life Cover,Done
Covers with a Family coverType are not calculating the correct sum assured totals,NBJ-742,40641,38242,Story bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Jon Reynolds,616ee20e2097220071a975d2,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,18/Nov/21 8:34 PM,21/Nov/21 10:15 PM,02/Feb/22 6:31 PM,21/Nov/21 10:15 PM,,,,,,,,,Chris.Hibbert,Jon Reynolds,,,,,,60cc71a1d5dde800713a2124,616ee20e2097220071a975d2,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-757,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: Cover with a coverType of Family need to use a calculated total when reporting their amounts to the rules engine.  The calculation for this is currently wrong.

Business Impact: We are under-calculating the totals at the moment, meaning we are not correctly underwriting these covers and would accept risk that our reinsurers would not support.

Steps to Reproduce: 

# Add a life cover with coverType of family on a 20 year term with a cover amount of 2500
# Check the updated URE session for the FIB totals

Expected Results: 

A 20 year term with 2500 sum assured should calculate as:

20 x 12 x 2500 = 600,000

Actual Result: We are calculating 20 x 2500 = 50,000

We need to use the term calculated in months rather than years.

Where the cover is on a toAge basis rather than a term basis we need to calculate the whole number of months from the quoteAgeDate that will take us on or after the customer’s selected toAge.
E.g. quoteAgeDate 18/11/2021, dateOfBirth 15/09/1976 and toAge 60 would result in an effective term of 14 years and 10 months = 178 months, so for a cover amount of 2500, would result in a total of 445,000

NOTE: This calculated sum assured for a coverType of Family should be used for all totals that cover is included in.  At the moment we only perform the calculation for TOTAL_*_COVER_FIB whereas on TOTAL_*_COVER we are using the raw cover amount which is wrong.  If a cover type of Family is used, then on a life cover, then all of TOTAL_LIFE_COVER, BASKET_LIFE_COVER, TOTAL_LIFE_COVER_ONLY, etc. also need to use the calculated sum assured.",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00twf:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,,,,,18/Nov/21 8:34 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-19 14:04:46.677,"18/Nov/21 8:47 PM;60cc71a1d5dde800713a2124;Kinda 2 bugs in one here, but they feel very related so thought I would combine into the single ticket.  Happy to bust this out if you think easier.",19/Nov/21 2:04 PM;616ee20e2097220071a975d2;[~accountid:60cc71a1d5dde800713a2124] - Fix applied for terms in months and not years. Please note as per our slack conversation that this fix will not accomodate ToAge yet as the original ticket did not cater for having a quoteagedate and the applicant providing their Date of birth. Please raise a separate ticket to manage ToAge taking on board the logic as you described ^^. Thx,,,,,,,,,,,,,,,,,,,,,,,,,,,,38242,Update URE with cover information on cover create/update/delete,Done
Family coverType should not be available for Life & Critical Illness Cover,NBJ-741,40640,38107,Story bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,18/Nov/21 8:13 PM,19/Nov/21 12:44 PM,02/Feb/22 6:31 PM,19/Nov/21 12:44 PM,,,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: Family coverType should not be available for Life & Critical Illness Cover

Business Impact: We cant sell products that we dont support\!

Steps to Reproduce: 

# Add a life
# Add a Life & Critical Illness Cover

Expected Results: From the a/c , only Level/Increasing and Decreasing options should be available

Actual Result: Family option is available",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00tw7:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,,,,,18/Nov/21 8:13 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,38107,Add an Accelerated CI Cover,Done
The life products checkboxes caused an error / pre defined values were not displayed on URE load / closeEnquiry was using the old URE sandbox service,NBJ-740,40639,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Sam Gamble,610c00d94e8d8d0069a20d6c,Max Silva,6139c4f3e2a0d60069cf8994,Max Silva,6139c4f3e2a0d60069cf8994,18/Nov/21 6:56 PM,17/Dec/21 5:17 PM,02/Feb/22 6:31 PM,17/Dec/21 5:17 PM,,,,,,,,,Max Silva,,,,,,,6139c4f3e2a0d60069cf8994,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,The life products checkboxes caused an error / pre defined values were not displayed on URE load / closeEnquiry was using the old URE sandbox service,,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i015mu:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,18/Nov/21 6:56 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Date of birth is not passed correctly to the underwriting session,NBJ-739,40638,39570,Story bug,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Mike,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Nov/21 6:08 PM,19/Nov/21 1:24 PM,02/Feb/22 6:31 PM,,,,,,,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,NBJ-746,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Critical,,,,,,,,,,,,,,"*Description of Issue:* When the ‘Create your client profile' screen is completed and 'Continue’ is clicked, the underlying underwriting session is updated. The date of birth is updated with the wrong date. For example, a date of birth of 13/01/1978 on-screen becomes 0197-01-13 in the underwriting session.

*Business Impact:* blocker - DoB drives just about everything in the journey

*Steps to Reproduce:*

* Complete the ‘Create your client profile' screen with a date of birth of 13/01/1978
* Click ‘Continue’

*Expected Results:* The underwriting session has answer 13/01/1978 for question BIRTHDATE

*Actual Result:* The underwriting session has answer 0197-01-13 for question BIRTHDATE

Version: ?",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00tvr:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,,,,,,18/Nov/21 6:08 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,19/Nov/21 1:01 PM;6139c49114e8340071fcda09;Not reproducible,19/Nov/21 1:20 PM;6139c49114e8340071fcda09;And now I have reproduced again,19/Nov/21 1:24 PM;6139c49114e8340071fcda09;replaced by NBJ-746,,,,,,,,,,,,,,,,,,,,,,,,,,,39570,Persist client details on submit,Done
Underwriting tab bug fix,NBJ-738,40636,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Sam Gamble,610c00d94e8d8d0069a20d6c,Max Silva,6139c4f3e2a0d60069cf8994,Max Silva,6139c4f3e2a0d60069cf8994,18/Nov/21 4:42 PM,21/Nov/21 6:32 PM,02/Feb/22 6:31 PM,21/Nov/21 6:32 PM,,Foundation Release,,,,,,,Chris.Hibbert,Max Silva,,,,,,60cc71a1d5dde800713a2124,6139c4f3e2a0d60069cf8994,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"

When clicking through underwriting tabs the getEnquiryById was being called using the old service.

Causing undefined network requests.",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00tz1:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,,,,,,18/Nov/21 4:42 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-20 11:05:38.324,20/Nov/21 11:05 AM;60cc71a1d5dde800713a2124;[~accountid:610c00d94e8d8d0069a20d6c]  - this may have got merged and deployed on Friday.  Can you check?,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Sprint 4 - Covers that have Term until (Age) specified are not added to the user,NBJ-737,40629,37860,Story bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,High,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,18/Nov/21 3:36 PM,22/Nov/21 3:29 PM,02/Feb/22 6:31 PM,22/Nov/21 3:29 PM,,,,,,,,,Chris.Hibbert,Nathan Punzalan,,,,,,60cc71a1d5dde800713a2124,613f22fdff23ba00715469d1,,,,,,,,,,,,,Hidden from EXL,NBJ-228,NBJ-256,NBJ-255,,,,,,,,,,,,,,,,,,,,,,,,,,,,19/Nov/21 12:42 PM;nathan.punzalan;image-20211119-124157.png;https://gghltd.atlassian.net/secure/attachment/23654/image-20211119-124157.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: 
When you add a cover and enter the ""Term until (Age)"" field (instead of the Term length field), when all valid fields have been completed, the cover is not added to the user. 

Steps to Reproduce: 
1) Go to https://ggh-nbj-reactapp.azurewebsites.net/application/G000069373/quote
2) Add any cover
3) Select any type of cover, fill in Sum Assured and Term until (Age)
4) Check the cover is added to the applicant using an API request (use GET request to {{base_url_apim}}/api/v1/application/{{application_id}})

Expected Results:
Cover should be added to the applicant upon entering all valid details.

Actual Result:
Cover is not added to the applicant. This is still true even after clicking on the Setup policy button.",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,No,,1|i00ttr:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,,,,,18/Nov/21 3:36 PM,,,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-18 15:41:42.868,18/Nov/21 3:41 PM;60cc71a1d5dde800713a2124;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5]  - not needed for the demo on Friday,"19/Nov/21 12:42 PM;613f22fdff23ba00715469d1;Issue still occurring.

!image-20211119-124157.png|width=1216,height=1217!",19/Nov/21 12:51 PM;60cc71a1d5dde800713a2124;[~accountid:613f22fdff23ba00715469d1]  - you might need to refresh your browser.  Working successfully for me on the latest deploy.,"19/Nov/21 1:18 PM;613f22fdff23ba00715469d1;[~accountid:60cc71a1d5dde800713a2124] I’ve cleared my cache and closed and reopened my browser. I can see that it works for me when I add a new cover however I can stil reproduce the issue when I start editing values in the cover fields.

Steps to reproduce issue:
1) Add a cover
2) Select a cover type, 
3) Add a sum assured
4) Add Term length C
5) Click anywhere outside the Term length box (to make sure the cover is added to the user)
6) Erase term length value
7) Enter a Term until (age) - e.g. 56
8 Click anywhere outside of term until box

Might have to try a few times, as sometimes it does work however you should eventually be able to reproduce it.","21/Nov/21 10:17 PM;60cc71a1d5dde800713a2124;[~accountid:613f22fdff23ba00715469d1] - I’ve tried a few times and I cannot reproduce this.  Perhaps we should screenshare tomorrow and see whats up? I suspect it might be that currently we dont expose validation failures, so one of those might be the cause.",22/Nov/21 3:29 PM;613f22fdff23ba00715469d1;[~accountid:60cc71a1d5dde800713a2124]  have also tried to reproduce this issue and have not gotten it to occur for me. Will pass this bug for now as I am unable to reproduce it and will keep my eye out for it in the future.,,,,,,,,,,,,,,,,,,,,,,,,37860,Add a Life Cover,Done
Sprint 4 - Covers getting added as Level instead of Increasing,NBJ-736,40628,37860,Story bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,High,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,18/Nov/21 3:32 PM,19/Nov/21 1:33 PM,02/Feb/22 6:31 PM,19/Nov/21 1:33 PM,,,,,,,,,Chris.Hibbert,Mike,Nathan Punzalan,,,,,60cc71a1d5dde800713a2124,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,613f22fdff23ba00715469d1,,,,,,,,,,,,Hidden from EXL,NBJ-255,NBJ-228,NBJ-256,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Nov/21 3:31 PM;nathan.punzalan;image-2021-11-18-15-31-08-770.png;https://gghltd.atlassian.net/secure/attachment/23643/image-2021-11-18-15-31-08-770.png,18/Nov/21 3:32 PM;nathan.punzalan;image-2021-11-18-15-32-37-788.png;https://gghltd.atlassian.net/secure/attachment/23642/image-2021-11-18-15-32-37-788.png,19/Nov/21 1:09 PM;nathan.punzalan;image-20211119-130745.png;https://gghltd.atlassian.net/secure/attachment/23658/image-20211119-130745.png,19/Nov/21 1:09 PM;nathan.punzalan;image-20211119-130942.png;https://gghltd.atlassian.net/secure/attachment/23657/image-20211119-130942.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: 
When you add a cover and check the Increased checkbox, the cover added to the user is added with a type of cover = ""Level"" instead of an ""Increasing"".

Steps to Reproduce: 
1) Go to https://ggh-nbj-reactapp.azurewebsites.net/application/G000069373/quote
2) Add any cover
3) Select Level term/Increasing, fill in Sum Assured and term length
4) Check the Increasing checkbox
5) Check the cover is added to the applicant using an API request (use GET request to {{base_url_apim}}/api/v1/application/{{application_id}})

Expected Results:
Cover shown in response body is listed with a coverType = increasing

Actual Result:
Cover shown in response body is listed with a coverType = level

 !image-2021-11-18-15-31-08-770.png|thumbnail! 
 !image-2021-11-18-15-32-37-788.png|thumbnail! ",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00ttj:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,,,,,18/Nov/21 3:32 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-18 15:41:29.024,18/Nov/21 3:41 PM;60cc71a1d5dde800713a2124;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5]  - not needed for the demo on Friday,19/Nov/21 12:42 PM;613f22fdff23ba00715469d1;Issue still occurring.,19/Nov/21 12:50 PM;60cc71a1d5dde800713a2124;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] rather than passing increasing:true in the message you need to change the covertype that is passed from “level” to “increasing”,19/Nov/21 12:55 PM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;[~accountid:60cc71a1d5dde800713a2124] [~accountid:613f22fdff23ba00715469d1] Looks like the site you’re testing isn’t the latest develop branch.,"19/Nov/21 1:09 PM;613f22fdff23ba00715469d1;I’ve cleared my cache and still reproduced the issue by creating a new application and adding a new cover, selecting increasing checkbox and coverType Level/increasing.

!image-20211119-130745.png|width=1177,height=1219!

!image-20211119-130942.png|width=860,height=505!



Also, checked using my personal computer and reproduced the issue. [~accountid:60cc71a1d5dde800713a2124] [~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] have you checked using a new application or are you going directly to an existing application?",19/Nov/21 1:17 PM;60cc71a1d5dde800713a2124;Deployment issue resolved and smoke tested,,,,,,,,,,,,,,,,,,,,,,,,37860,Add a Life Cover,Done
DecisionService - add pmRating and indicative pm to risk decision,NBJ-735,40624,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,18/Nov/21 2:48 PM,02/Feb/22 10:22 AM,02/Feb/22 6:31 PM,,,Foundation Release,,Decision,Sprint_4,,"*As an* api consumer of the underwriting service
*So that* I can determine the current risk level decisions referred to underwriting
*I want* the service will respond with PM ratings plus Indicative PM ratings for each risk",,Chris.Hibbert,Jim Houghton,,,,,,60cc71a1d5dde800713a2124,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,NBJ-481,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* an active enquiry response from URE
*And* active enquiry has answers to PRODUCT in allAnswers with a list of risks
*And* riskTypes wth decision type of EVIDENCE_REQUIRED or REFER
*When* constructing the output message
*Then* create a pm section foreach risktype with the presence of PM_<shortRef> bucket or IND_PM_<shirtRef> present
*And* map totalRating within pm from PM_<shortRef>.sum.value plus IND_PM_<shortref>.sum.value
*And* within pm create a ratings section, mapping each contribution in PM_<shortRef>.contributions with a value that is not equal to zero

* rating = contribution.value
* reasons = contribution.sources
* duration = contribution.for
* isIndicative = false

*And* within pm create a ratings section, mapping each contribution in IND_PM_<shortref>.contributions with a value that is not equal to zero

* rating = contribution.value
* reasons = contribution.sources
* duration = contribution.for
* isIndicative = true",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,"# This story is about outputting the PM decisions per riskType for overall decisions of REFER and EVIDENCE_REQUIRED
# To get a successful response from URE, applicantId must be first mapped to enquiryId
# we will create a *short reference (shortRef)* foreach risk:
## Life → LIFE
## Critical Illness → CI
## Total Permanent Disability → TPD

{noformat}POST /api/v1/decision/{applicantId}{noformat}

_activeEnquiry response from URE]_

{code:json}{
  ...
  ""buckets"": [
  ...,
    {
      ""type"": ""NUMBER"",
      ""name"": ""PM_LIFE"",
      ""contributions"": [
        {
          ""value"": 5,
          ""sources"": [
            ""Non_Medical_Limits""
          ],
          ""duration"": <time_period> //P5Y0M0D
        },
        ...
      ],
      ""min"": {
        ...
      },
      ""max"": {
        ...
      },
      ""sum"": {
        ""value"": 5,
        ""sources"": [
          ""Non_Medical_Limits"",
          ""Build"", ...
        ]
      }
    },
    {
      ""type"": ""NUMBER"",
      ""name"": ""IND_PM_LIFE"",
      ""contributions"": [
        {
          ""value"": 5,
          ""sources"": [
            ""Non_Medical_Limits""
          ],
          ""duration"": <time_period> //P5Y0M0D
        },
        ...
      ],
      ""min"": {
        ...
      },
      ""max"": {
        ...
      },
      ""sum"": {
        ""value"": 5,
        ""sources"": [
          ""Non_Medical_Limits"",
          ""Build"", ...
        ]
      }
    },
  ...,
  ],
  ""sections"": [...],
  ""allAnswers"": {
   ...
  },
  ""debugInfo"": {}
}{code}

_Response_

Decision with a section per risk

{code:json}{
  data: {
    ""applicantId"": ""<applicantId>"",
    ""smokerStatus"": ""<GUARDIAN smoker statuses>"",
    ""riskDecisions"": [
      {
        ""riskType"": ""life | ci | tpd"",
        ""isIndicative"": true | false
        ...,
        ""pm"": {
          ""totalRating"": 100, // the sum of all individual ratings 
          ""ratings"": [
           {
             ""rating"": 50,
             ""duration"": ""<time_period>"", -- format is number of months 0|12|24|36|48|60|72|84|96|108|120
             ""reasons"": ["""", """"],
             ""isIndicative"": true | false
           },
           ...
         ]
        }
        ...
      },
      {...}
    ]
  }
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwiiz:r,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,20/Oct/21 9:39 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-02-02 10:22:51.32,02/Feb/22 10:22 AM;60cc71a1d5dde800713a2124;[~accountid:60cc71a22bd21400692fd2af] - decision from review is to remove the IND_ ratings.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
smokerStatus not included in the response,NBJ-734,40623,38232,Story bug,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Nov/21 2:45 PM,18/Nov/21 2:59 PM,02/Feb/22 6:31 PM,,,,,,,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00tsf:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,,,,,18/Nov/21 2:45 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Nov/21 2:59 PM;6139c49114e8340071fcda09;Only noticed [NBJ-572]  after raising this.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,38232,API - trigger a quick quote for Application,Done
Sprint 4 - Editing details of a cover where all valid fields have been filled in creates/adds a completely new cover,NBJ-733,40622,37860,Story bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Highest,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,18/Nov/21 2:37 PM,26/Nov/21 2:37 PM,02/Feb/22 6:31 PM,26/Nov/21 2:00 PM,,,,,,,,,Chris.Hibbert,Justin.Smith,Mike,Nathan Punzalan,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,613f22fdff23ba00715469d1,,,,,,,,,,,Hidden from EXL,NBJ-228,NBJ-256,NBJ-257,NBJ-518,,,,,,,,,,,,,,,,,NBJ-255,,,,,,,,,,26/Nov/21 2:37 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211126-142734.png;https://gghltd.atlassian.net/secure/attachment/23828/image-20211126-142734.png,26/Nov/21 2:37 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211126-143716.png;https://gghltd.atlassian.net/secure/attachment/23829/image-20211126-143716.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: 
When you add a cover and input data, if you then edit that data then a new cover is created.

Steps to Reproduce: 
1) Go to [https://ggh-nbj-reactapp.azurewebsites.net/application/G000069373/quote|https://ggh-nbj-reactapp.azurewebsites.net/application/G000069373/quote]
2) Add a Life cover
3) Select Type of Cover, fill in Sum Assured and term length (NOTE: issue does not occur when you choose term until instead of term length)
4) Edit any of the details you just entered (e.g change Sum Assured

Expected Results:
Details are edited for the cover you are editing.

Actual Result:
A completely new cover is added to the user after editing.",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00ts7:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,,,,,18/Nov/21 2:37 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-18 20:50:50.857,18/Nov/21 8:50 PM;60cc71a1d5dde800713a2124;[~accountid:613f22fdff23ba00715469d1]  - retested this following the fix and the issue no longer happens.,19/Nov/21 2:53 PM;613f22fdff23ba00715469d1;[~accountid:60cc71a1d5dde800713a2124] is there scope to investigate this issue as it still seems to be happening intermittently as seen during the demo. I have also got it to occur a few times but have been unable to reproduce it consistently. ,22/Nov/21 9:29 AM;613f22fdff23ba00715469d1;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] have you managed to figure out what was causing this issue? As it was only happening intermittently for me and are there certain steps that would reproduce this issue consistently that I can use to retest this issue once it’s ready to test?,22/Nov/21 9:33 AM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;Hi [~accountid:613f22fdff23ba00715469d1] yeh - it’s the issue with the amount of api requests happening when you onblur. If you have two or more resolving at the same time (e.g. an add and an edit) it wouldn’t find the cover ID from the edit response as the add hadn’t finished resolving. So it would push a new cover onto the cover array. It should never push a new cover anyway onto the array from a patch (edit) so I removed that bit of logic.,"22/Nov/21 4:22 PM;613f22fdff23ba00715469d1;thanks [~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] , will retest it based on the below once it is ready to test.","23/Nov/21 2:12 PM;618bdfc5fba4d0006ad4853e;Hi @Mike, I have been automating the add covers.  I changed the term to age and noticed I now have 2 covers

\{
""applicationId"": ""G000072105"",
""isMortgageRelated"": false,
""quoteAgeDate"": ""2021-11-23T00:00:00+00:00"",
""applicants"": \[
\{
""applicantId"": ""f476a2b6-8212-4237-a001-618042e49d61"",
""firstName"": ""Justin"",
""lastName"": ""Smith"",
""dateOfBirth"": ""2003-11-19T00:00:00"",
""gender"": ""Male"",
""height"": 178,
""weight"": 88,
""title"": ""Mr"",
""smoker"": null,
""smoking"": ""NON_SMOKER"",
*""covers"": \[*
*\{*
*""id"": ""b4077acc-3c2f-4fbf-9950-080ec98b5ddd"",*
*""guardianRefWithSuffix"": ""f476a2b6-8212-4237-a001-618042e49d61"",*
*""productType"": ""ci"",*
*""coverType"": ""level"",*
*""term"": 12,*
*""toAge"": null,*
*""coverAmount"": 20000,*
*""childCovers"": \[]*
*},*
*\{*
*""id"": ""135b89f5-c5b1-4ea2-8209-651ea59b1a34"",*
*""guardianRefWithSuffix"": ""f476a2b6-8212-4237-a001-618042e49d61"",*
*""productType"": ""ci"",*
*""coverType"": ""level"",*
*""term"": null,*
*""toAge"": 50,*
*""coverAmount"": 20000,*
*""childCovers"": \[]*
*}*
*]*
}
],
""quote"": null,
""status"": ""pre-quote""
}

It looks like this was fixed.  Has something changed on this?",26/Nov/21 9:32 AM;618bdfc5fba4d0006ad4853e;Hi [~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] as mentioned on the stand-up not sure if the remove covers issue - [https://gghltd.atlassian.net/browse/NBJ-825|https://gghltd.atlassian.net/browse/NBJ-825|smart-link] is related to this issue as well.,"26/Nov/21 2:00 PM;618bdfc5fba4d0006ad4853e;This is all good. Automation tests updated to check the covers on the application after changing all cover values and the number of covers created on the application.  Will attach evidence.

!image-20211126-142734.png|width=468,height=168!

!image-20211126-143716.png|width=389,height=170!",,,,,,,,,,,,,,,,,,,,,,37860,Add a Life Cover,Done
DecisionService - add emRating and indicative em to risk decision,NBJ-732,40620,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,18/Nov/21 2:16 PM,02/Feb/22 10:22 AM,02/Feb/22 6:31 PM,,,Foundation Release,,Decision,Sprint_4,,"*As an* api consumer of the underwriting service
*So that* I can determine the current risk level decisions referred to underwriting
*I want* the service will respond with EM ratings plus Indicative EM ratings for each risk",,Chris.Hibbert,Jim Houghton,,,,,,60cc71a1d5dde800713a2124,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,NBJ-481,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* an active enquiry response from URE
*And* active enquiry has answers to PRODUCT in allAnswers with a list of risks
*And* riskTypes wth decision type of EVIDENCE_REQUIRED or REFER
*When* constructing the output message
*Then* create an em section foreach risktype with the presence of EM_<shortRef> bucket or IND_EM_<shortRef> present
*And* map totalRating within em from EM_<shortRef>.sum.value plus IND_EM_<shortref>.sum.value
*And* within em create a ratings section, mapping each contribution in EM_<shortRef>.contributions with a value that is not equal to zero

* rating = contribution.value
* reasons = contribution.sources
* duration = contribution.for
* isIndicative = false


*And* within em create a ratings section, mapping each contribution in IND_EM_<shortref>.contributions with a value that is not equal to zero

* rating = contribution.value
* reasons = contribution.sources
* duration = contribution.for
* isIndicative = true",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,"# This story is about outputting the EM decisions per riskType for overall decisions of NON_STANDARD
# To get a successful response from URE, applicantId must be first mapped to enquiryId
# we will create a *short reference (shortRef)* foreach risk:
## Life → LIFE
## Critical Illness → CI
## Total Permanent Disability → TPD

{noformat}POST /api/v1/decision/{applicantId}{noformat}

_activeEnquiry response from URE]_

{code:json}{
  ...
  ""buckets"": [
  ...,
    {
      ""type"": ""NUMBER"",
      ""name"": ""EM_LIFE"",
      ""contributions"": [
        {
          ""value"": 50,
          ""sources"": [
            ""Non_Medical_Limits""
          ],
          ""duration"": <time_period> //P5Y0M0D
        },
        ...
      ],
      ""min"": {
        ...
      },
      ""max"": {
        ...
      },
      ""sum"": {
        ""value"": 100,
        ""sources"": [
          ""Non_Medical_Limits"",
          ""Build"", ...
        ]
      }
    },
  ...,
  ],
  ""sections"": [...],
  ""allAnswers"": {
   ...
  },
  ""debugInfo"": {}
}{code}

_Response_

Decision with a section per risk

{code:json}{
  data: {
    ""applicantId"": ""<applicantId>"",
    ""smokerStatus"": ""<GUARDIAN smoker statuses>"",
    ""riskDecisions"": [
      {
        ""riskType"": ""life | ci | tpd"",
        ""isIndicative"": true | false
        ...,
        ""em"": {
          ""totalRating"": 100, // the sum of all individual ratings 
          ""ratings"": [
           {
             ""rating"": 50,
             ""duration"": ""<time_period>"", -- format is number of months 0|12|24|36|48|60|72|84|96|108|120
             ""reasons"": ["""", """"],
             ""isIndicative"": true | false
           },
           ...
         ]
        }
        ...
      },
      {...}
    ]
  }
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwiiz:i,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,20/Oct/21 9:39 AM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-02-02 10:22:21.185,02/Feb/22 10:22 AM;60cc71a1d5dde800713a2124;[~accountid:60cc71a22bd21400692fd2af] - decision from review is to remove the IND_ ratings.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Lissia quote request for mutiple covers does not have a ImpItmPlcQrefWebService node,NBJ-731,40616,,Bug,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Jim Houghton,60cc71a22bd21400692fd2af,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Nov/21 1:32 PM,19/Nov/21 9:09 AM,02/Feb/22 6:31 PM,,,,,,,,,,Chris.Hibbert,James Bartlett,Jim Houghton,,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Nov/21 1:34 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;NBJ-731_raw_request.json;https://gghltd.atlassian.net/secure/attachment/23634/NBJ-731_raw_request.json,18/Nov/21 1:38 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;cosmos_request.json;https://gghltd.atlassian.net/secure/attachment/23637/cosmos_request.json,18/Nov/21 1:38 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;cosmos_request.xml;https://gghltd.atlassian.net/secure/attachment/23638/cosmos_request.xml,18/Nov/21 1:38 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;cosmos_response.json;https://gghltd.atlassian.net/secure/attachment/23636/cosmos_response.json,18/Nov/21 1:38 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;cosmos_response.xml;https://gghltd.atlassian.net/secure/attachment/23639/cosmos_response.xml,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: When a quote is requested there is no ImpItmPlcQrefWebService in the message sent to Lissia quote. This is a regression from previous messages.

Business Impact: Unknown

Steps to Reproduce: Send attached request to quote service

Expected Results: Lissia quote request contains a ImpItmPlcQrefWebService node

Actual Result: Lissia quote request does *not* contain a ImpItmPlcQrefWebService node

Version: ?",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00tr3:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Nov/21 1:32 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-18 13:44:15.126,18/Nov/21 1:44 PM;60cc71a1d5dde800713a2124;[~accountid:60cc71a22bd21400692fd2af]  - can you triage please?,19/Nov/21 9:09 AM;60cc71a22bd21400692fd2af;[~accountid:60cc71a1d5dde800713a2124] - this is not a bug.  this section is only required for exclusion discounts.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Zero premiums returned with triggering a quote,NBJ-730,40615,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,High,Done,Jason Hughes,613f60991370f00069033c68,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,18/Nov/21 1:23 PM,19/Nov/21 6:58 PM,02/Feb/22 6:31 PM,19/Nov/21 6:58 PM,,Foundation Release,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Nov/21 1:35 PM;ug:25aea830-2a92-4e11-af0d-e074adc458e2;G000069551_quote.json;https://gghltd.atlassian.net/secure/attachment/23635/G000069551_quote.json,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: TriggerQuote always returns zero premiums

Business Impact: returning prices is a key part of the sprint goal

Steps to Reproduce: Trigger the Postman collection steps in the ActionService for the TriggerQuote action

Expected Results: The quote from the TriggerQuote action should contain a premium greater than £0.00

Actual Result: Zero premiums are returned instead

Version: current in UWT",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00tqv:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,,,,,,18/Nov/21 1:23 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Nov/21 1:35 PM;610c00d94e8d8d0069a20d6c;[~accountid:613f60991370f00069033c68] after looking in Cosmos in the quote container, I can see quoteApplicant.smokerStatus is not being mapped - the value is ‘Undefined’.

Cosmos query:

Container: quote

filter: SELECT * FROM c WHERE c.partitionKey = 'G000069551'

Result attached to this ticket",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
API - Updating a productType from (e.g.) life to ccic throws a 500,NBJ-729,40614,,Bug,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,James Bartlett,6139c49114e8340071fcda09,18/Nov/21 1:16 PM,18/Nov/21 1:22 PM,02/Feb/22 6:31 PM,,,,,,,,,,Chris.Hibbert,James Bartlett,,,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* Create an application with one applicant with in turn one life cover. Now update the productType of the cover to ccic. This fails with a 500 response. Given the refactor of covers so that ccic is now a 'child' cover, this scenario should fail. However, it should tell the consumer why it has failed.

*Business Impact:* unlikely to have any

*Steps to Reproduce:* Create an application with one applicant with in turn one life cover. Now attempt to update the productType of the cover to ccic. This fails with a 500 response.

*Expected Results:* The update fails with a 400 response and a helpful message

*Actual Result:* The update fails with a 500 response.

*Version:* unknown",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00tqn:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Nov/21 1:16 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Nov/21 1:22 PM;60cc71a1d5dde800713a2124;Rejecting as consumers of the API are in our control.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Handle free format exclusions & removals in uw alerts,NBJ-728,40610,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Graham.Smith,5db1914d2299c90da0133d7b,John.LeQuesne,5db187687b20d80c2a25b574,John.LeQuesne,5db187687b20d80c2a25b574,18/Nov/21 11:51 AM,01/Feb/22 12:43 PM,02/Feb/22 6:31 PM,,,,,,,,"As an underwriter
I want to be able to specify my own exclusion / removal text
So that I can reflect exact wording provided by the reassurer when there is not suitable existing wording

Created as a separate ticket after review of 697/699 as this scenario will only occur when a case has been manually referred",,Graham.Smith,John.LeQuesne,,,,,,5db1914d2299c90da0133d7b,5db187687b20d80c2a25b574,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-125,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space-bx,,,,,,,No,,1|i00tpr:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Nov/21 11:51 AM,,3.0,,,,,,,,,,,,,,,,Andy Cole,5fa26bb0f7b30b006e1b6ad5,,,,,,,,,,,,,,,,2021-11-25 17:39:35.129,25/Nov/21 5:39 PM;5db1914d2299c90da0133d7b;There is already a text field called UW Free Text on the Underwriting Outcome. GS to check with JLQ as to whether this will be sufficient.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Fix Action Service solution file,NBJ-727,40606,,Task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Jason Hughes,613f60991370f00069033c68,Jason Hughes,613f60991370f00069033c68,Jason Hughes,613f60991370f00069033c68,18/Nov/21 10:56 AM,04/Jan/22 9:28 AM,02/Feb/22 6:31 PM,04/Jan/22 9:28 AM,,Foundation Release,,,,,"Got an error dialog when opening the solution in Visual Studio:

One or more projects in the solution were not loaded correctly.
Some of the properties associated with the solution could not be read.

Need to regenerate the solution file to fix it",,Jason Hughes,,,,,,,613f60991370f00069033c68,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00tov:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,18/Nov/21 10:56 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Contact details - address lookup service,NBJ-726,40605,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,18/Nov/21 10:56 AM,30/Nov/21 9:34 AM,02/Feb/22 6:31 PM,30/Nov/21 9:34 AM,,Foundation Release,,,,,"*As an* adviser
*So that* I can enter a valid address based on my client’s postcode
*I want* an address lookup service from a valid postcode",,Antony.Gorman,Chris.Hibbert,Jim Houghton,Justin.Smith,,,,6149b13472728e006f9441d6,60cc71a1d5dde800713a2124,60cc71a22bd21400692fd2af,618bdfc5fba4d0006ad4853e,,,,,,,,,,,Hidden from EXL,NBJ-514,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Nov/21 2:41 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;screenshot.docx;https://gghltd.atlassian.net/secure/attachment/23640/screenshot.docx,,,,,,,,,,,,"*Given* a valid postcode
*Then* return with a list of matching addresses

* Address 1 
* Address 2
* Town/City
* County
* Postcode",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,"# Postcode service to use is Experian, already implemented at Guardian
# New service available through APIM
# Will need to be able to stub by environment
# BFF?
# [~accountid:5d94816eefc9290c2e625a11] can act as a point of contact",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00pll:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,18/Nov/21 10:56 AM,,8.0,,,,,,,,,,,,,,,,,,"Endpoint to be provided by devs

Will need to be enabled in UWT so that it can be tested (or 2 endpoints in APIM)",,,,,,,,,,,,,,,2021-11-26 08:51:23.842,"26/Nov/21 8:51 AM;6149b13472728e006f9441d6;[~accountid:610c00d94e8d8d0069a20d6c] could you add these to the apim? ta

[https://wa-uwt-backendforfrontendservice.azurewebsites.net/swagger|https://wa-uwt-backendforfrontendservice.azurewebsites.net/swagger]",26/Nov/21 8:51 AM;6149b13472728e006f9441d6;direct uris can be found under address on the swagger page [https://wa-uwt-backendforfrontendservice.azurewebsites.net/swagger|https://wa-uwt-backendforfrontendservice.azurewebsites.net/swagger|smart-link] ,"29/Nov/21 12:11 PM;618bdfc5fba4d0006ad4853e;I have tested both endpoints - 

/api/v1/backendforfrontend/address/lookup/\{search}

using a number of postcodes

HD7 5UZ - 46 addresses

GU27 3AD - 6 addresses

BN1 6UD - 36 addresses

RG1 1PZ - 6 addresses

{noformat}{
    ""data"": {
        ""count"": 6,
        ""results"": [
            {
                ""id"": ""762GBR-IOGBREQnlBwAAAAABAwEAAAAAGBaBUgAhEAIQACAAAAAAAAAAAP..ZAAAAAD.....AAAAAAAAAAAAAAAAAAAAUkcxIDFQWgAAAAAA$ql7hp1xXkFFBx"",
                ""text"": ""Cross Country Trains, 37-43 Blagrave Street, READING RG1 1PZ""
            },
            {
                ""id"": ""762GBR-vOGBREQnlBwAAAAABAwEAAAAAGBaDUgAhEAIQACAAAAAAAAAAAP..ZAAAAAD.....AAAAAAAAAAAAAAAAAAAAUkcxIDFQWgAAAAAA$ql70c6pn0RoFX"",
                ""text"": ""Guardian Financial Services, 37-43 Blagrave Street, READING RG1 1PZ""
            },
            {
                ""id"": ""762GBR-yOGBREQnlBwAAAAABAwEAAAAAGBaFUgAhEAIQACAAAAAAAAAAAP..ZAAAAAD.....AAAAAAAAAAAAAAAAAAAAUkcxIDFQWgAAAAAA$ql7CynQ4mQ559"",
                ""text"": ""H R Trustees Ltd, 37-43 Blagrave Street, READING RG1 1PZ""
            },
            {
                ""id"": ""762GBR-hOGBREQnlBwAAAAABAwEAAAAAGBaHUgAhEAIQACAAAAAAAAAAAP..ZAAAAAD.....AAAAAAAAAAAAAAAAAAAAUkcxIDFQWgAAAAAA$ql7mFQNRR62Ct"",
                ""text"": ""Robert Half Ltd, 37-43 Blagrave Street, READING RG1 1PZ""
            },
            {
                ""id"": ""762GBR-8OGBREQnlBwAAAAABAwEAAAAAGBaKEgAhEAIQACAAAAAAAAAAAP..ZAAAAAD.....AAAAAAAAAAAAAAAAAAAAUkcxIDFQWgAAAAAA$ql7_hTtKOTK6Z"",
                ""text"": ""Oakford Social Club, 53 Blagrave Street, READING RG1 1PZ""
            },
            {
                ""id"": ""762GBR-nOGBREQnlBwAAAAABAwEAAAAAGBZ_EgAhAAYAAAAAAAAAAAD..2QAAAAA.....wAAAAAAAAAAAAAAAAAAAFJHMSAxUFoAAAAAAA--$ql7o3Hht-BTtL"",
                ""text"": ""Brook Henderson House, Blagrave Street, READING RG1 1PZ""
            }
        ]
    }
}{noformat}



You don’t always get the county for town/cities. I guess this is acceptable [~accountid:60cc71a22bd21400692fd2af] 

I also checked the other endpoint 

*​/api​/v1​/backendforfrontend​/address​/\{id}*

[https://wa-uwt-backendforfrontendservice.azurewebsites.net/api/v1/backendforfrontend/address/762GBR-vOGBREQnlBwAAAAABAwEAAAAAGBaDUgAhEAIQACAAAAAAAAAAAP..ZAAAAAD|https://wa-uwt-backendforfrontendservice.azurewebsites.net/api/v1/backendforfrontend/address/762GBR-vOGBREQnlBwAAAAABAwEAAAAAGBaDUgAhEAIQACAAAAAAAAAAAP..ZAAAAAD].....AAAAAAAAAAAAAAAAAAAAUkcxIDFQWgAAAAAA$ql70c6pn0RoFX

{noformat}{
    ""data"": {
        ""address1"": ""Guardian Financial Services"",
        ""address2"": ""37-43 Blagrave Street"",
        ""address3"": """",
        ""town"": ""Reading"",
        ""county"": """",
        ""postcode"": ""RG1 1PZ""
    }
}{noformat}

Just looking to automate this before closing.",29/Nov/21 12:13 PM;60cc71a22bd21400692fd2af;[~accountid:618bdfc5fba4d0006ad4853e] - it is acceptable to not always get the county.,30/Nov/21 9:34 AM;618bdfc5fba4d0006ad4853e;Automation test added but marked as ignored with a comment as not sure about the cost implication of running this every time.  It was mentioned in the stand-up having a feature flag to run at certain times. ,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
DecisionService - add evidences to risk decision,NBJ-725,40601,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,18/Nov/21 10:25 AM,14/Dec/21 5:14 PM,02/Feb/22 6:31 PM,14/Dec/21 5:14 PM,,Foundation Release,,Decision,Sprint_4,,"*As an* api consumer of the underwriting service
*So that* I can determine the current risk level decisions
*I want* the service will respond with evidences for each risk",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,NBJ-481,,,,,NBJ-603,,,,,,,,,,14/Dec/21 5:14 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/24352/LivingDoc.html,,,,,,,,,,,,"*Given* an active enquiry response from URE
*And* active enquiry has answers to PRODUCT in allAnswers with a list of risks
*And* riskTypes wth decision type of EVIDENCE_REQUIRED or REFER
*When* rationalising the URE decision
*Then* the risk may have an EVIDENCE_<shortRef> , collect each contribution within contributions the contribution.value
*And* contribution.sources

_Building on the above_

*Given* each evidence contribution.value
*When* requesting detail of each evidence option GET → /v4/option/\{branch}/\{tag}/EvidenceCodesOptions/<contribution.value>
*Then* populate the service response message from the URE option response with evidences.code = attributes.insurerEvidenceCode
*And* populate the service response message from the URE option response with evidences.text = text
*And*  populate the service response message from the corresponding contribution.sources from the activeEnquiry response with evidences.reasons = contribution.sources",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,"# This story is about outputting the evidences per riskType (should there be any) for overall decisions of EVIDENCE_REQUIRED or REFER
# To get a successful response from URE, applicantId must be first mapped to enquiryId
# we will create a *short reference (shortRef)* foreach risk:
## Life → LIFE
## Critical Illness → CI
## Total Permanent Disability → TPD
# branch and tag can be located on the active enquiry response

{noformat}POST /api/v1/decision/{applicantId}{noformat}

_activeEnquiry response from URE]_

{code:json}{
  ...
  ""branch"": ""DEV_RULESET"",
  ""tag"": ""v0_11"",
  ...
  ""buckets"": [
  ...,
    {
      ""type"": ""OPTION"",
      ""name"": ""EVIDENCE_LIFE"",
      ""contributions"": [
        {
          ""value"": ""GPR"",
          ""sources"": [
            ""Diabetes""
          ]
        },
        ...
        ,
      ""min"": {
        ...
      },
      ""max"": {
        ""value"": ""GPR"",
          ""sources"": [
            ""Diabetes""
          ]
      }
    },
  ...,
  ],
  ""sections"": [...],
  ""allAnswers"": {
   ...
  },
  ""debugInfo"": {}
}{code}

_URE option request/response_

{noformat}GET → /v4/option/{branch}/{tag}/exclusionOptions/<contribution.value>
{
  ""name"": ""GPR"",
  ""text"": ""General Practitioner's Report"",
  ""aliases"": [],
  ""categories"": [],
  ""tags"": [],
  ""attributes"": [
    ""insurerEvidenceCode"": ""GPR"",
    ""medicalDirectCode"": ""GP report""
  ]
  }
}{noformat}

_Response_

underwritingOutcomes with a section per risk

{code:json}{
  data: {
    ""applicantId"": ""<applicantId>"",
    ""smokerStatus"": ""<GUARDIAN smoker statuses>"",
    ""riskDecisions"": [
      {
        ""riskType"": ""life | ci | tpd"",
        ...,
        ""evidences"": [
          {
            ""code"": """", // GUARDIAN evidence code
            ""text"": """", // GUARDIAN evidence text
            ""reasons"": ["""", """"]
          },
          ...
        ]
        ...
      },
      {...}
    ]
  }
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009fm,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,20/Oct/21 9:39 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Sprint 4 - Responsiveness for checkboxes is quite slow when checking/unchecking options,NBJ-724,40600,,Bug,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Chris.Hibbert,60cc71a1d5dde800713a2124,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,18/Nov/21 10:02 AM,01/Feb/22 12:43 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,Chris.Hibbert,Nathan Punzalan,,,,,,60cc71a1d5dde800713a2124,613f22fdff23ba00715469d1,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Nov/21 10:01 AM;nathan.punzalan;image-2021-11-18-10-01-49-371.png;https://gghltd.atlassian.net/secure/attachment/23624/image-2021-11-18-10-01-49-371.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue:
When checking boxes for multiple choice checkbox questions, the responsiveness for selecting the checkboxes is quite slow.

Steps to Reproduce: 
1) Go to: https://ggh-nbj-reactapp.azurewebsites.net/dashboard
2) Click Create New Application
3) For ""Are you a smoker?"", select No
4) Check multiple options (do a few different combinations)

Expected Results: 
Options are selected/unselected instantaneously when clicked.

Actual Result:
Responsiveness is quite slow. There is a delay when options are selected/unselected.
 !image-2021-11-18-10-01-49-371.png|thumbnail! ",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space-bx,,,,,,,No,,1|i00tn3:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,,,,,,18/Nov/21 10:02 AM,,,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-18 10:08:59.45,18/Nov/21 10:08 AM;60cc71a1d5dde800713a2124;Discussed this with [~accountid:610c00d94e8d8d0069a20d6c] - the UWT environment is very small and underpowered in Azure.  Will reject for now and we will need to reassess in higher environments.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
"Build initial set-up screen structure (dd, start date and advice only)",NBJ-723,40594,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,17/Nov/21 9:14 PM,30/Nov/21 3:08 PM,02/Feb/22 6:31 PM,30/Nov/21 3:08 PM,,Foundation Release,,,,,"*As an* adviser
*So that* I can complete the purchase step of an application
*I want* to be able to collect purchase information (DD details, start date and advice flag)

[https://projects.invisionapp.com/d/main#/console/21691096/460930049/preview|https://projects.invisionapp.com/d/main#/console/21691096/460930049/preview] from the wireframes.

We will pickup the payout planner and children’s details later.
Persisting these details we will pick up in another ticket, for now this is about getting the screen structure in place.

 !Screenshot 2021-11-18 at 09.10.40.png|thumbnail! 
 !Screenshot 2021-11-18 at 09.10.49.png|thumbnail! ",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Nov/21 9:11 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-11-18 at 09.10.40.png;https://gghltd.atlassian.net/secure/attachment/23622/Screenshot+2021-11-18+at+09.10.40.png,18/Nov/21 9:11 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-11-18 at 09.10.49.png;https://gghltd.atlassian.net/secure/attachment/23621/Screenshot+2021-11-18+at+09.10.49.png,,,,,,,,,,,"*Given*: An application
*When*: On the set-up screen
*Then*: I can see the DD details collection as per the design wireframes
*and:* We ignore the “address of the account holder question”

*Given*: An application
*When*: On the set-up screen
*Then*: I can see the start date question as per the design wireframes

* Start date of the policy
* Date control

*Given*: An application
*When*: On the set-up screen
*Then*: I can see the advice question as per the design wireframes:

* Was advice given on the sale of this policy?
* Radio selection of Advised or Not-advised",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-123,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00plc:r,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,17/Nov/21 9:14 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Nov/21 1:35 PM;60cc71a1d5dde800713a2124;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] - Some minor changes here from the wireframes:

[https://projects.invisionapp.com/d/main#/console/21691096/460784238/preview|https://projects.invisionapp.com/d/main#/console/21691096/460784238/preview]","30/Nov/21 3:08 PM;60cc71a1d5dde800713a2124;Reviewed this in UWT.  Happy with the general structure.

The DD details doesnt have applicant names but that can be picked up under the DD epic.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Ensure the quote service response includes applicant and cover IDs,NBJ-722,40591,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Highest,Done,James Bartlett,6139c49114e8340071fcda09,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,17/Nov/21 5:23 PM,23/Nov/21 1:16 PM,02/Feb/22 6:31 PM,23/Nov/21 1:16 PM,,Foundation Release,,Sprint_4,,,"*As an* api user
*So that* I can understand which applicant or cover a premium is for
*I want* the quote response to contain applicant and cover IDs that match the IDs on the incoming request",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,23/Nov/21 1:16 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/23706/LivingDoc.html,,,,,,,,,,,,"*Given*: An application
*When*: the /triggerQuote endpoint is called
*Then:* the returned quote response with quoteApplicants and quoteCovers contains the matching applicant ID and cover IDs from the application
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-118,,,,,,,,,,,,,,,,None,,"* At the moment we have a /triggerQuote action service endpoint that takes an application and calls our quote microservice (which then calls Lissia) and returns premiums and commission.
* However the returned response does not contain any applicant or cover IDs, so cannot be used to display quotes or trigger a quote document.",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzf,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,,,,,17/Nov/21 5:23 PM,,5.0,,,,,,,,,,,,,,,,,,"Note to testers - the persisted quote can be retrieved by getting the application object.

e.g. [https://ggh-uwt-apim.azure-api.net/api/v1/application/G000071472|https://ggh-uwt-apim.azure-api.net/api/v1/application/G000071472]",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Upgrade Example Service to .NET 6,NBJ-721,40589,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Jason Hughes,613f60991370f00069033c68,Jason Hughes,613f60991370f00069033c68,Jason Hughes,613f60991370f00069033c68,17/Nov/21 4:25 PM,06/Jan/22 9:21 AM,02/Feb/22 6:31 PM,06/Jan/22 9:21 AM,,,,,,,"We need to upgrade to .NET 6 as it is the long term support version of the framework which will be supported for 3 years.

When upgrading the Example Service need to keep note of the changes required so we can do the other services. In particular changes to 
* Code to use new framework
* Package updates
* Pipeline files to specify 6
* App Services to use the new .NET 6 Runtime ",,Jason Hughes,,,,,,,613f60991370f00069033c68,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i015mu:i,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,Guardian Sprint 7,,,,,17/Nov/21 4:25 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Sprint 4 - Newer cover does not show on top of the list when there is an existing cover of a different cover type,NBJ-720,40588,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,17/Nov/21 4:16 PM,08/Dec/21 4:10 PM,02/Feb/22 6:31 PM,08/Dec/21 4:10 PM,,,,,,,,,Chris.Hibbert,Nathan Punzalan,,,,,,60cc71a1d5dde800713a2124,613f22fdff23ba00715469d1,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue:
Newer cover does not show on top of the list when there is an existing cover of a different cover type

Steps to Reproduce: 
1) Go to https://ggh-nbj-reactapp.azurewebsites.net/application/G000069373/quote
2) Add a Life cover
3) Add another cover with a different cover type (e.g. Critical illness)

Expected Results:
Using the example described in steps to replicate, Critical Illness should show on the top of the list with the Life cover sitting below it; the newest added cover should always go on top.

Actual Result: 
Using the example described in steps to replicate, Life cover is listed on top whereas the newly added Critical Illness cover sits below it.
",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwik9:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,17/Nov/21 4:16 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-17 20:52:04.594,17/Nov/21 8:52 PM;60cc71a1d5dde800713a2124;[~accountid:613f22fdff23ba00715469d1]  - changed this from blocking to relating to the ticket.  I think we are OK to proceed with [https://gghltd.atlassian.net/browse/NBJ-228|https://gghltd.atlassian.net/browse/NBJ-228|smart-link] and we will pick this ticket up to correct in due course.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Sprint 4 - Term until (Age) box not aligned with other items on smaller (windows laptop) screen,NBJ-719,40587,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,High,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,17/Nov/21 4:06 PM,23/Nov/21 5:09 PM,02/Feb/22 6:31 PM,23/Nov/21 5:09 PM,,Foundation Release,,,,,,,Chris.Hibbert,Nathan Punzalan,,,,,,60cc71a1d5dde800713a2124,613f22fdff23ba00715469d1,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,17/Nov/21 4:05 PM;nathan.punzalan;image-2021-11-17-16-05-28-381.png;https://gghltd.atlassian.net/secure/attachment/23620/image-2021-11-17-16-05-28-381.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue:
Term until (Age) box appears onto another row on windows laptop screen. Issue does not occur on bigger screen sizes or higher resolutions. The device I used when I found this issue was a standard Dell XPS windows laptop with a screen resolution of 1920x1080.

Steps to Reproduce: 
1) Go to: [https://ggh-nbj-reactapp.azurewebsites.net/application/G000069377/quote|https://ggh-nbj-reactapp.azurewebsites.net/application/G000069377/quote]
2) If no cover has been added, add any cover

Expected Results:
Items under cover should fit into a single row on a laptop screen.

Actual Result: 
Term until (Age) box appears onto another row on smaller (windows laptop) screen. 

!image-2021-11-17-16-05-28-381.png|width=200,height=183!

 ",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,No,,1|i00tz0:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,17/Nov/21 4:06 PM,,,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-17 20:53:48.514,17/Nov/21 8:53 PM;60cc71a1d5dde800713a2124;[~accountid:613f22fdff23ba00715469d1]  - changed the linked ticket to a relates to rather than blocks.  We will look at this ticket in due course.  I’ll up the priority as could be a more generic issue with breakpoints in the app.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Sprint 4 - Lifetime Premium returning as double the expected amount when an exclusion discount/tag is applied,NBJ-718,40585,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,High,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,17/Nov/21 12:13 PM,20/Nov/21 2:58 PM,02/Feb/22 6:31 PM,18/Nov/21 2:06 PM,,Foundation Release,,,,,,,Nathan Punzalan,,,,,,,613f22fdff23ba00715469d1,,,,,,,,,,,,,,Hidden from EXL,NBJ-235,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,17/Nov/21 12:16 PM;nathan.punzalan;LissiaResponse.txt;https://gghltd.atlassian.net/secure/attachment/23616/LissiaResponse.txt,17/Nov/21 12:16 PM;nathan.punzalan;request.txt;https://gghltd.atlassian.net/secure/attachment/23617/request.txt,17/Nov/21 12:16 PM;nathan.punzalan;response.txt;https://gghltd.atlassian.net/secure/attachment/23618/response.txt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: 
Lifetime Premium returning as double the expected amount when an exclusion discount/tag is applied.

Steps to Reproduce:
1) POST API request to {{base_url_apim}}/api/v1/quote with given request body:
\{
""applicationId"": ""{{application_id}}"",
""quoteAgeDate"": ""2020-12-13"",
""InitialIndemnityPercentage"" : 100,
""InitialCommissionSacrificePercentage"" : 50,
""quoteApplicants"": \[
\{
""dateOfbirth"": ""1981-10-05"",
""gender"": ""female"",
""smokerStatus"": ""None in the last 5 years"",
""quoteCovers"": \[
\{
""productType"": ""ci"",
""coverType"": ""level"",
""term"": 15, 
""coverAmount"": 25000
}
],
""quoteUnderwritingOutcomes"": \[
\{
""productType"": ""ci"",
""emRating"": 200,
""quoteExclusions"": \[
\{
""exclusionOrRemoval"": ""Exclude"", 
""exclusionValue"": 1094
}]
}]
}
]
}

Expected Results: 
Lifetime premium shown in the response should be 34.05*180=6129 (using formula from ticket)

Actual Result: 
Lifetime premium is showing double the expected amount: 12258.

See example requests and responses below that I used to test:

[^response.txt]
[^request.txt]
[^LissiaResponse.txt]

",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,No,,1|i00tk7:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,,,,,,17/Nov/21 12:13 PM,,,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Underwriting answers are not persisted,NBJ-717,40584,39570,Story bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Mike,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,17/Nov/21 11:39 AM,21/Nov/21 10:18 PM,02/Feb/22 6:31 PM,21/Nov/21 10:18 PM,,,,,,,,,Chris.Hibbert,James Bartlett,,,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* When I click ‘continue’ from the add-client screen, the applicant on the application is updated as expected but the underwriting session has not been updated.

*Business Impact:* blocker for release

*Steps to Reproduce:* Fill in all fields on the add-client screen with valid values and click continue.

*Expected Results:* both the applicatimikeon and the underwriting session have been updated with the answers from the add-client screen.

*Actual Result:* the application has been updated with the answers from the add-client screen but the underwriting session has not been updated.

See application G000069347 in uwt (with applicant ID 447a959a-816c-4398-af81-7c8223433125)

*Version:* unknown",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00tjz:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,,,,,,17/Nov/21 11:39 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-17 11:58:54.306,"17/Nov/21 11:58 AM;60cc71a1d5dde800713a2124;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] In case this is the obvious issue…

On the final save the underwriting questions need to be posted to

/api/v1/underwriting/\{\{applicantId}}

rather than

/api/v1/underwriting/transient/\{applicantId}",21/Nov/21 10:18 PM;60cc71a1d5dde800713a2124;Retested this bug and applicant details being persisted as expected.  This changes next sprint too to a simpler pattern.,,,,,,,,,,,,,,,,,,,,,,,,,,,,39570,Persist client details on submit,Done
Display cover validation errors on quote screen,NBJ-716,40583,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,17/Nov/21 11:06 AM,26/Nov/21 5:34 PM,02/Feb/22 6:31 PM,26/Nov/21 5:33 PM,,Foundation Release,,,,,"*As an* Adviser
*I want* to be able to validation failures for covers when I add them
*So that* I can successfully add valid covers

 !Screenshot 2021-11-17 at 11.10.44.png|thumbnail! ",,Chris.Hibbert,Max Silva,Mike,,,,,60cc71a1d5dde800713a2124,6139c4f3e2a0d60069cf8994,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,NBJ-835,,,,,,,,,,,17/Nov/21 11:11 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-11-17 at 11.10.44.png;https://gghltd.atlassian.net/secure/attachment/23609/Screenshot+2021-11-17+at+11.10.44.png,19/Nov/21 2:38 PM;ug:40c0a037-60a5-47d1-812c-a831d94ce168;Screenshot 2021-11-19 at 14.28.02.png;https://gghltd.atlassian.net/secure/attachment/23666/Screenshot+2021-11-19+at+14.28.02.png,19/Nov/21 2:38 PM;ug:40c0a037-60a5-47d1-812c-a831d94ce168;Screenshot 2021-11-19 at 14.30.14.png;https://gghltd.atlassian.net/secure/attachment/23664/Screenshot+2021-11-19+at+14.30.14.png,19/Nov/21 2:38 PM;ug:40c0a037-60a5-47d1-812c-a831d94ce168;Screenshot 2021-11-19 at 14.31.58.png;https://gghltd.atlassian.net/secure/attachment/23661/Screenshot+2021-11-19+at+14.31.58.png,19/Nov/21 2:38 PM;ug:40c0a037-60a5-47d1-812c-a831d94ce168;Screenshot 2021-11-19 at 14.33.31.png;https://gghltd.atlassian.net/secure/attachment/23665/Screenshot+2021-11-19+at+14.33.31.png,19/Nov/21 2:38 PM;ug:40c0a037-60a5-47d1-812c-a831d94ce168;Screenshot 2021-11-19 at 14.35.09.png;https://gghltd.atlassian.net/secure/attachment/23662/Screenshot+2021-11-19+at+14.35.09.png,19/Nov/21 2:38 PM;ug:40c0a037-60a5-47d1-812c-a831d94ce168;Screenshot 2021-11-19 at 14.37.03.png;https://gghltd.atlassian.net/secure/attachment/23663/Screenshot+2021-11-19+at+14.37.03.png,21/Nov/21 6:56 PM;ug:26a792cd-dfe9-448c-bf46-2bae83ed90e8;Screenshot 2021-11-21 at 18.53.27.png;https://gghltd.atlassian.net/secure/attachment/23672/Screenshot+2021-11-21+at+18.53.27.png,,,,,"Given: A user adding a Cover
When: there are validation errors on the cover
Then: the validation errors returned from the add covers endpoint are shown to the user",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1id,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,,,,,17/Nov/21 11:06 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-19 14:38:21.023,"19/Nov/21 2:38 PM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;[~accountid:6139c4f3e2a0d60069cf8994] Applicant covers are stored in state here:
state.application.applicant.data.covers

!Screenshot 2021-11-19 at 14.28.02.png|width=1519,height=1000!

When you add a new cover it will add a placeholder cover object to that array.

!Screenshot 2021-11-19 at 14.30.14.png|width=1519,height=995!

When you complete the required inputs for a cover it will send a post request
to POST {{https://ggh-uwt-apim.azure-api.net/api/v1/actions/MutateCovers/add}}
A successful response will update that placeholder cover object in the state:


!Screenshot 2021-11-19 at 14.31.58.png|width=1509,height=995!

When you update a cover it will send a PATCH request to 
{{https://ggh-uwt-apim.azure-api.net/api/v1/actions/MutateCovers/edit}}

*These requests are all done in the application slice and application service*

If you have a validation error you will receive a 400 error


!Screenshot 2021-11-19 at 14.33.31.png|width=1492,height=676!

These errors in the response is what you’ll need to save in the state then display on the specific product component.

The product components are all in components / products

!Screenshot 2021-11-19 at 14.35.09.png|width=966,height=597!

These are all dumb components not connected to the state and the props are generated and supplied to them in containers/QuoteBuilder/index.js

!Screenshot 2021-11-19 at 14.37.03.png|width=446,height=795!

So I think you should follow the pattern and feed the error in a props to the product components e.g.




{noformat}          <LifeCover
            key={`${cover.productType}${index}`}
            cover={cover}
            premium={getQuoteCoverByCoverId(cover.id)}
            valid={quoteValid}
            onChange={updateCover}
            error={error} <- new prop
          />{noformat}",19/Nov/21 3:41 PM;6139c4f3e2a0d60069cf8994;Thanks [~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] ,"21/Nov/21 6:56 PM;6139c4f3e2a0d60069cf8994;[~accountid:60cc71a1d5dde800713a2124] This is nearly complete just trying to figure out how to remove the errors now.

Do you want errors shown individually like in the screenshot provided or in one box?

!Screenshot 2021-11-21 at 18.53.27.png|width=1920,height=1200!",21/Nov/21 7:59 PM;60cc71a1d5dde800713a2124;[~accountid:6139c4f3e2a0d60069cf8994]  - to confirm our slack chat - multiple errors should be presented in a single box 👍 ,23/Nov/21 7:54 AM;60cc71a1d5dde800713a2124;[~accountid:610c00d94e8d8d0069a20d6c]  + [~accountid:6139c4f3e2a0d60069cf8994]  - not deployed.  No validation errors show in UWT.,23/Nov/21 10:26 AM;6139c4f3e2a0d60069cf8994;[~accountid:610c00d94e8d8d0069a20d6c]  - Can you please look at UWT please it works on develop branch,26/Nov/21 5:34 PM;60cc71a1d5dde800713a2124;Manually tested error messages display in UWT.  Raised [https://gghltd.atlassian.net/browse/NBJ-835|https://gghltd.atlassian.net/browse/NBJ-835|smart-link] as a low priority future task.  Ticket in the backlog for top level errors.,,,,,,,,,,,,,,,,,,,,,,,,,Done
Allow user to delete cover on quote screen,NBJ-715,40582,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,17/Nov/21 11:05 AM,29/Nov/21 8:40 AM,02/Feb/22 6:31 PM,29/Nov/21 8:40 AM,,Foundation Release,,,,,"*As an* Adviser
*I want* to be able to remove covers on the quote screen
*So that* I only proceed with the covers my client needs",,Chris.Hibbert,Justin.Smith,,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,26/Nov/21 3:16 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211126-151608.png;https://gghltd.atlassian.net/secure/attachment/23830/image-20211126-151608.png,29/Nov/21 8:36 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211129-083611.png;https://gghltd.atlassian.net/secure/attachment/23884/image-20211129-083611.png,,,,,,,,,,,"*Given:* A user in the process of adding a Cover (i.e. after starting to edit covers and before hitting the Get Prices button)
*and:* the cover has already been added to the applicant
*When:* the user clicks the bin icon to remove the cover
*Then:* the cover is removed from the applicant

*Given:* A user in the process of adding a Cover (i.e. after starting to edit covers and before hitting the Get Prices button)
*and:* the cover has not yet been added to the applicant
*When:* the user clicks the bin icon to remove the cover
*Then:* the cover is removed from the screen

*Given:* A user with Covers and valid prices on the quote screen
*When:* the user clicks the bin icon to remove the cover
*Then:* the cover is removed from the applicant
*and*: the quote screen shows the Get Prices button",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,"Remove a cover from an application:

{code:json}DELETE /api/v1/actions/MutateCovers/remove
{
  ""applicationId"": {applicationId},
  ""applicantId"": {applicantId},
  ""cover"": { cover DTO, with coverId }
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00tyz:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,,,,,17/Nov/21 11:05 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-26 09:08:05.678,26/Nov/21 9:08 AM;618bdfc5fba4d0006ad4853e;There is some strange behaviour going on with removing the cover and I’m not sure if it is related to [https://gghltd.atlassian.net/browse/NBJ-733|https://gghltd.atlassian.net/browse/NBJ-733|smart-link] .  I will raise a separate bug to describe it. Flagging this for now.,"26/Nov/21 1:02 PM;60cc71a1d5dde800713a2124;(flagoff) Flag removed

[~accountid:618bdfc5fba4d0006ad4853e] - The blocking tickets are hopefully resolved now.","26/Nov/21 3:15 PM;618bdfc5fba4d0006ad4853e;I click on get price for the third AC and it spins for a while and then I get a zero pound quote.  The network tab has the following - 

\{""errors"":\{""type"":""[https://tools.ietf.org/html/rfc7231#section-6.6.1%22,%22title%22:%22An|https://tools.ietf.org/html/rfc7231#section-6.6.1%22,%22title%22:%22An|smart-link]  error occurred while processing your request."",""status"":500,""traceId"":""00-db17a423cf6dc24fab095834ce2d463c-1512ba6d2451b244-00""}}

However, the applicant has -

{noformat} ""quote"": {
            ""id"": ""e3aea745-e977-499e-b8d6-e56ab3263488"",
            ""quoteCreatedDate"": ""2021-11-26T15:11:52.0976671+00:00"",
            ""quoteAgeDate"": ""2021-11-26T00:00:00+00:00"",
            ""adviserAtFirmLocationId"": ""a0r0E000004pFFfQAM"",
            ""initialIndemnityPercentage"": 0,
            ""initialCommissionSacrificePercentage"": 0,
            ""premium"": 2.59,
            ""lifetimePremium"": 341.88,
            ""unloadedPremium"": 0.0,
            ""discount"": 0.0,
            ""quoteApplicants"": [
                {
                    ""id"": ""aa288363-d8ec-4d62-88a7-5f9433728c51"",
                    ""dateOfBirth"": ""1990-01-01T00:00:00"",
                    ""gender"": ""Male"",
                    ""premium"": 2.59,
                    ""quoteCovers"": [
                        {
                            ""id"": ""097fb1e3-d0a0-4413-ae36-c587ec6d1b4c"",
                            ""productType"": ""life"",
                            ""coverType"": ""decreasing"",
                            ""coverAmount"": 25000,
                            ""toAge"": null,
                            ""term"": 11,
                            ""premium"": 2.59,
                            ""unloadedPremium"": 2.59,
                            ""initialCommission"": 69.60,
                            ""initialEarningsPeriod"": 48,
                            ""renewalCommission"": 0.07,
                            ""lifeTimePremium"": 341.88,
                            ""childCovers"": []
                        }
                    ],
                    ""quoteUnderwritingOutcomes"": []
                }
            ]
        },
        ""status"": ""quote""{noformat}

!image-20211126-151608.png|width=1168,height=503!



So not sure it is the correct state for 3.  [~accountid:60cc71a1d5dde800713a2124] do you want me to raise an issue on the quote?",26/Nov/21 4:12 PM;618bdfc5fba4d0006ad4853e;Linked [https://gghltd.atlassian.net/browse/NBJ-816|https://gghltd.atlassian.net/browse/NBJ-816|smart-link] as not sure if this impacts - *_Given:_* _A user with Covers and valid prices on the quote screen_ ,"26/Nov/21 8:01 PM;60cc71a1d5dde800713a2124;(flagoff) Flag removed

Quotes working again in UWT.","29/Nov/21 8:36 AM;618bdfc5fba4d0006ad4853e;This looks ok now on the page.  I get the price.  Marking as done.

!image-20211129-083611.png|width=1651,height=879!","29/Nov/21 8:40 AM;618bdfc5fba4d0006ad4853e;The cover goes when the cover with a price is deleted as per AC3.

\{
""data"": \{
""applicationId"": ""G000079719"",
""isMortgageRelated"": false,
""quoteAgeDate"": ""2021-11-29T00:00:00+00:00"",
""applicants"": \[
\{
""applicantId"": ""05a46907-52cf-4502-b8b5-16e02a4d6c31"",
""firstName"": ""Justin"",
""lastName"": ""Smith"",
""dateOfBirth"": ""1990-01-01T00:00:00"",
""gender"": ""Male"",
""height"": null,
""weight"": null,
""title"": ""Mr"",
""smoker"": null,
""smoking"": ""SMOKER"",
""covers"": \[

{noformat}    ]
  }
],
""quote"": {
  ""id"": ""8a6eb9d9-0547-45d1-aa13-4078feefd9cf"",
  ""quoteCreatedDate"": ""2021-11-29T08:35:16.2701528+00:00"",
  ""quoteAgeDate"": ""2021-11-29T00:00:00+00:00"",
  ""adviserAtFirmLocationId"": ""a0r0E000004pFFfQAM"",
  ""initialIndemnityPercentage"": 0,
  ""initialCommissionSacrificePercentage"": 0,
  ""premium"": 2.76,
  ""lifetimePremium"": 397.44,
  ""unloadedPremium"": 0.0,
  ""discount"": 0.0,
  ""quoteApplicants"": [
    {
      ""id"": ""05a46907-52cf-4502-b8b5-16e02a4d6c31"",
      ""dateOfBirth"": ""1990-01-01T00:00:00"",
      ""gender"": ""Male"",
      ""premium"": 2.76,
      ""quoteCovers"": [
        {
          ""id"": ""09683f69-5b10-4b10-b02d-dc85cbc8280f"",
          ""productType"": ""life"",
          ""coverType"": ""level"",
          ""coverAmount"": 25000,
          ""toAge"": null,
          ""term"": 12,
          ""premium"": 2.76,
          ""unloadedPremium"": 2.76,
          ""initialCommission"": 73.92,
          ""initialEarningsPeriod"": 48,
          ""renewalCommission"": 0.07,
          ""lifeTimePremium"": 397.44,
          ""childCovers"": [
            
          ]
        }
      ],
      ""quoteUnderwritingOutcomes"": [
        
      ]
    }
  ]
},
""status"": ""quote""{noformat}

}
}",,,,,,,,,,,,,,,,,,,,,,,,,Done
"Extend Trigger Quote Command: retrieve URE data, add to document request, trigger quote document and save documentId",NBJ-714,40578,39698,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Jon Reynolds,616ee20e2097220071a975d2,Jon Reynolds,616ee20e2097220071a975d2,Jon Reynolds,616ee20e2097220071a975d2,17/Nov/21 10:44 AM,25/Nov/21 8:23 AM,02/Feb/22 6:31 PM,25/Nov/21 8:23 AM,,,,,,,,,Jon Reynolds,,,,,,,616ee20e2097220071a975d2,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00tj3:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,,,,,17/Nov/21 10:44 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,39698,Generate quote doc for application,Done
Application Service - save generated document Id in new document map in application object,NBJ-713,40577,39698,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Jon Reynolds,616ee20e2097220071a975d2,Jon Reynolds,616ee20e2097220071a975d2,Jon Reynolds,616ee20e2097220071a975d2,17/Nov/21 10:43 AM,23/Nov/21 8:27 AM,02/Feb/22 6:31 PM,23/Nov/21 8:27 AM,,,,,,,"In the trigger quote command within the Action Service we need to initiate a document service create quote once we have gathered all quote details (including KeyInfo from URE).

The response returns a document Id which needs to be stored in the Application object as part of the application service. 

{code:json}{
  ""documents"" : {
    ""quote"" : ""[quote_document_id]"",
    ""keyFacts"" : ""[keyfacts_document_id]"",
    ""decision"" : ""[decision_document_id]"",
    ""qA"" : ""[QA_document_id]"",
    ""sOF"" : ""[SOF_document_id]"",
    ""coverSummary"" : ""[coverSummary_document_id]""
  }
}{code}



Quote
Key Facts
Decision
Q&A
SOF
Cover Summary (check)

Need to create new endpoint for saving document Id",,Jon Reynolds,,,,,,,616ee20e2097220071a975d2,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00tiv:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,,,,,17/Nov/21 10:43 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,39698,Generate quote doc for application,Done
Underwriting Service - new endpoint to retrieve applicant KeyInfo,NBJ-712,40576,39698,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Jon Reynolds,616ee20e2097220071a975d2,Jon Reynolds,616ee20e2097220071a975d2,Jon Reynolds,616ee20e2097220071a975d2,17/Nov/21 10:40 AM,25/Nov/21 9:29 PM,02/Feb/22 6:31 PM,23/Nov/21 8:27 AM,,,,,,,"Create new endpoint in underwriting service to get appliant keyInfo.

call \{\{base_url_apim_underwriteme}}/v4/enquiry/\{\{enquiryId}} and retrieve specific answers from allanswers section.

Response back in json format ",,Jon Reynolds,,,,,,,616ee20e2097220071a975d2,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,"h3. Endpoint:

{noformat}{{uw_url}}/api/v1/underwriting/{{applicantId}}/keyinfo{noformat}



h3. Example output:

{noformat}{
    ""data"": {
        ""height"": 1.83,
        ""heightUnit"": ""metric"",
        ""weight"": 80,
        ""weightUnit"": ""metric"",
        ""waistSize"": null,
        ""dressSize"": null,
        ""smokerStatus"": ""Undefined"",
        ""gender"": ""male""
    }
}{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00tin:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,,,,,17/Nov/21 10:40 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,39698,Generate quote doc for application,Done
Build Document Service API client,NBJ-711,40575,39698,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Jon Reynolds,616ee20e2097220071a975d2,Jon Reynolds,616ee20e2097220071a975d2,Jon Reynolds,616ee20e2097220071a975d2,17/Nov/21 10:40 AM,18/Nov/21 8:30 PM,02/Feb/22 6:31 PM,18/Nov/21 8:29 PM,,,,,,,Need to create API client for Document Service so it can be consumed from within the Action Service. First use within trigger quote command,,Chris.Hibbert,Jon Reynolds,,,,,,60cc71a1d5dde800713a2124,616ee20e2097220071a975d2,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00tif:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,,,,,17/Nov/21 10:40 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-18 20:30:07.965,18/Nov/21 8:30 PM;60cc71a1d5dde800713a2124;Moving to done as I think the testers will test the story on this one rather than the tasks.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,39698,Generate quote doc for application,Done
Possible to answer questions quickly enough on the add-client screen that make requests clash,NBJ-710,40565,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,17/Nov/21 9:19 AM,30/Nov/21 9:42 PM,02/Feb/22 6:31 PM,30/Nov/21 9:41 PM,,Foundation Release,,,,,,,Chris.Hibbert,James Bartlett,,,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,17/Nov/21 9:18 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;Screenshot 2021-11-17 at 09.13.09.png;https://gghltd.atlassian.net/secure/attachment/23591/Screenshot+2021-11-17+at+09.13.09.png,29/Nov/21 2:51 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;Screenshot 2021-11-29 at 14.51.29.png;https://gghltd.atlassian.net/secure/attachment/23904/Screenshot+2021-11-29+at+14.51.29.png,30/Nov/21 9:41 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;mochawesome_059.html;https://gghltd.atlassian.net/secure/attachment/23932/mochawesome_059.html,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: If certain questions are answered quickly enough on the add-client screen, some subsequent questions do not appear as expected.

I qould guess this is a race condition when multiple requests are made to get question definitions for display.

I can recreate this manually - this is not just via automated tests.

!Screenshot 2021-11-17 at 09.13.09.png|width=200,height=183!

 

Business Impact: If it happened regularly, users would not trust the site

Steps to Reproduce: Answer the gender question (with any answer) and then quickly answer the first smoking question as 'No'.

Expected Results: Both the subsequent smoking question (NON_SMOKER_STATUS) and the gender-specific weight question should appear.

Actual Result: The gender-specific weight question appears as expected but the subsequent smoking question (NON_SMOKER_STATUS) does *not* appear.

Version: unknown",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00ple:d,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,17/Nov/21 9:19 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-19 21:16:49.465,"19/Nov/21 9:16 PM;60cc71a1d5dde800713a2124;[~accountid:6139c49114e8340071fcda09] - one for us to keep an eye on. We will be changing some of the interactions on this page in the next sprint, so will need to re-evaluate this defect after that.",29/Nov/21 2:18 PM;60cc71a1d5dde800713a2124;[~accountid:6139c49114e8340071fcda09]  - can you check this has been resolved following the API updates to this screen?,29/Nov/21 3:02 PM;6139c49114e8340071fcda09;[~accountid:60cc71a1d5dde800713a2124] It’s better but if I remove my 1 second wait before each interaction with a field I still get inconsistencies (see most recent screenshot).,30/Nov/21 9:42 PM;6139c49114e8340071fcda09;re-ran the tests several times manually with no waits any more and all was well.,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Retrieve application by G-Reference,NBJ-709,40542,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Highest,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,16/Nov/21 12:06 PM,17/Nov/21 2:48 PM,02/Feb/22 6:31 PM,17/Nov/21 2:48 PM,,Foundation Release,,,,,"As an Advisor
I want to retrieve an application using its Guardian Reference (aka G-ref or applicationId)
So that I can continue to work on the application after I created it",,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* an applicationId
*When* I navigate to any page in the front-end
*Then* I can see that page populated with the correct data for the given applicationId",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,* Put the applicationId in the URL so it can be used in the app,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8xg,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,,,,,,16/Nov/21 12:06 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
DecisionService - include descriptive text for standard reasons,NBJ-708,40538,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,16/Nov/21 11:28 AM,07/Dec/21 3:41 PM,02/Feb/22 6:31 PM,07/Dec/21 3:41 PM,,Foundation Release,,Decision,Sprint_4,,"*As an* api consumer of the underwriting service
*So that* I can get a decision in the correct format to display to the customer
*I want* the service to respond with the current underwriting standard decision alerts per product type",,James Bartlett,Jim Houghton,,,,,,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,NBJ-213,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,07/Dec/21 3:40 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/24120/LivingDoc.html,06/Dec/21 7:33 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;product_decision.json;https://gghltd.atlassian.net/secure/attachment/24093/product_decision.json,06/Dec/21 7:33 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;quote_decision.json;https://gghltd.atlassian.net/secure/attachment/24092/quote_decision.json,,,,,,,,,,"*Given* any POST /api/v1/decision/\{applicantid}/quote
*Then* Get product decisions as per requested (respecting the filtered decision described in [NBJ-606])

_Building on the above_

*Given* successful response from product decision
*And* product decision is Standard Terms
*When* formulating response to product quote outcome
*And* Add an entry to the reasonsText with the following content:

We’ve offered  \[Life Protection / Critical Illness Protection / Combined Life and Critical Illness Protection]^1^ based on our standard premiums.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,"#  based on  product type map the following product types to the following:

|life|Life Protection|
|ci|Critical Illness Protection|
|aci|Combined Life and Critical Illness Protection|

_Service request_

{code:json}POST /api/v1/decision/{applicantid}/quote{code}

_Service response_

{code:json}{
  data: {  
    ...
    ""quoteDecisions"": [
      {
        ""productType"": ""life | ci | aci"",
        ""decision"": ""Standard Terms"",
        ""decisionText"": ""No terms available"",
        ""reasons"": ["""", , .."""".], //raw reasons
        ""reasonText"": [""We’ve offered Life Protection based on our standard premiums.""],
        ...
      }
    ]
  }
}{code}

_ProductType decision format, used as a source of the service response_

{code:json}{
  ""applicantId"": ""<applicantId>"",
  ...,
  ""productDecisions"": [ // one product decision per cover in the applicant's application
    {
      ""productType"": ""life | ci | aci "",
      ""decision"": ""Standard Terms"",
      ""reasons"": [<list of strings, giving reasons for decision>],
      ...
    }
  ]    
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00tku:i,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,Guardian Sprint 6,,,,,20/Oct/21 9:39 AM,,3.0,,,EXL Lissia,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-06 13:35:19.515,06/Dec/21 1:35 PM;6139c49114e8340071fcda09;No idea what the actual endpoint is. Have looked at {{{{decision_url}}/api/v1/decision/{{applicantId}}/quote}} but that doesn’t match the description given here [~accountid:60cc71a22bd21400692fd2af] ,06/Dec/21 7:35 PM;6139c49114e8340071fcda09;[~accountid:616ee20e2097220071a975d2] I’ve created an application with a single applicant with standard life cover. I’ve attached both the product and quote decisions I get - there’s no reasonsText at all.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
On final decision for both applicants set application status to decision,NBJ-706,40520,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,15/Nov/21 8:53 PM,31/Jan/22 2:27 PM,02/Feb/22 6:31 PM,,,,,,,,,,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-122,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00t6f:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15/Nov/21 8:53 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
On add applicant set application status to pre-quote,NBJ-705,40519,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,15/Nov/21 8:52 PM,09/Dec/21 6:15 PM,02/Feb/22 6:31 PM,23/Nov/21 8:54 PM,,Foundation Release,,,,,"*As an* api user of the NBJ
*So that* I can start to track the state the application is in
*I want* to set application status to pre-quote when adding a new applicant",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,23/Nov/21 8:54 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/23744/LivingDoc.html,,,,,,,,,,,,"*Given* any application in any status except went on risk
*When* adding a new applicant
*Then* set application.status to pre-quote",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,Extend the AddApplicantCommand in the ApplicationService to set application.status to pre-quote. Simples\!,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00tnb:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,,,,,15/Nov/21 8:52 PM,,2.0,,,,,,,,,,,,,,,,,,Not much point testing this until contact details can be added (so that we can test this state transition from more than one other state,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
On click apply set application status to apply,NBJ-704,40518,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,15/Nov/21 8:51 PM,20/Dec/21 2:04 PM,02/Feb/22 6:31 PM,23/Nov/21 9:08 PM,,Foundation Release,,,,,"*As an* api user of the NBJ
*So that* I can start to track the state of the application
*I want* to set application status to apply when starting underwriting",,Antony.Gorman,Jim Houghton,,,,,,6149b13472728e006f9441d6,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,NBJ-1004,,,,,,,,,,,,,,,,,,,,NBJ-1042,,,,,,,,,,23/Nov/21 9:04 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/23745/LivingDoc.html,,,,,,,,,,,,"*Given* any application with an applicationStatus of quote
*When* a user clicks on apply
*Then* set application.status to apply",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,"As we will be hanging more actions off this state change, worth making an orchestration action.",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00plh:9,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,15/Nov/21 8:51 PM,,3.0,,,,,,,,,,,,,,,,,,"Back end story

this is in the action service at the end point

{noformat}POST {environment}/api/v1/actions/applyapplication{noformat}

with a request body

{noformat}{
    ""applicationId"": ""{{applicationId}}""
}
{noformat}

 

it returns the application json.",,,,,,,,,,,,,,,2021-11-23 11:05:24.325,"23/Nov/21 11:05 AM;6149b13472728e006f9441d6;details;

this is in the action service at the end point 

{code:javascript}POST {environment}/api/v1/actions/applyapplication{code}

with a request body

{noformat}{
    ""applicationId"": ""{{applicationId}}""
}{noformat}



it returns the application json.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
On receipt of a successful quote - set application status to quote,NBJ-703,40517,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,15/Nov/21 8:51 PM,09/Dec/21 6:15 PM,02/Feb/22 6:31 PM,23/Nov/21 3:19 PM,,Foundation Release,,,,,"*As an* api user of the NBJ
*So that* I can track the state of the application
*I want* to set the application status to quote on receipt of a quick quote",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,23/Nov/21 3:19 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/23730/LivingDoc.html,,,,,,,,,,,,"*Given* any application
*When* requesting a non-underwritten quote
*Then* update application.status to quote",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,"In the ApplicationService, extend AddQuoteCommand to always set the application.status to quote.",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00tnj:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,,,,,15/Nov/21 8:51 PM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
On create application - set initial status to pre-quote,NBJ-702,40516,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,15/Nov/21 8:50 PM,09/Dec/21 6:15 PM,02/Feb/22 6:31 PM,17/Nov/21 12:14 PM,,Foundation Release,,,,,"*As an* API Consumer
*So that* I can start to track the status of an application
*I want* to set the status of the application to “pre-quote” when initially created",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,17/Nov/21 12:14 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/23615/LivingDoc.html,17/Nov/21 12:14 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;mochawesome_050.html;https://gghltd.atlassian.net/secure/attachment/23612/mochawesome_050.html,,,,,,,,,,,"*Given*: an HTTP request to POST {{deployment_env}}/api/v1/application
*Then*: an HTTP 201 status code is returned
*And:* the response payload is in the format:

{code:json}{
  ""data"": {
    ""applicationId"": ""APPLICATION_ID_IN_THE_G-REF_FORMAT"", // NBJ-263
    ""status"": ""pre-quote""
  }
}{code}

*and*: the new {{status}} property is set to ""pre-quote""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,"* {{status}} in the [Common Data Model|https://gghltd.atlassian.net/wiki/spaces/NP/pages/2953674839/Data+Dictionary]
* {{status}} is an enum:
** Pre-Quote
** Quote
** Apply
** Underwriting
** Decision
** On Risk
** Not Taken Up",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00s99:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,,,,,,15/Nov/21 8:50 PM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
DecisionService - include descriptive text for TPD reasons,NBJ-700,40514,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,15/Nov/21 6:31 PM,10/Jan/22 9:45 AM,02/Feb/22 6:31 PM,10/Jan/22 9:45 AM,,Foundation Release,,Decision,Sprint_4,,"*As an* api consumer of the underwriting service
*So that* I can get a decision in the correct format to display to the customer
*I want* the service to respond with the current underwriting tpd alerts per product type",,Jim Houghton,Nathan Punzalan,,,,,,60cc71a22bd21400692fd2af,613f22fdff23ba00715469d1,,,,,,,,,,,,,Hidden from EXL,NBJ-213,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,16/Dec/21 2:43 PM;nathan.punzalan;tpdenquiry.txt;https://gghltd.atlassian.net/secure/attachment/24435/tpdenquiry.txt,,,,,,,,,,,,"*Given* any request for a product decision

{noformat}POST /api/v1/decision/{applicantId}/product{noformat}

*And* product decision contains a tpd.isIncluded = false
*When* formulating response
*Then* populate text within tpd on product decision:

We’re unable to offer you total and permanent disability, therefore we won’t pay a claim and you won’t be covered for, total and permanent disability as a specified condition. 


*Given* any request for a product decision

{noformat}POST /api/v1/decision/{applicantId}/product{noformat}

*And* product decision contains a tpd.disabilityDefintion = Activities
*And* product decision contains a tpd.isIncluded = true
*When* formulating response to product quote outcome and/or product decision
*Then* populate text within tpd on product decision:

We’re unable to offer you own occupation total and permanent disability.  We will pay a claim if you meet the daily activities or mental incapacity definitions.

*Given* any request for a product decision

{noformat}POST /api/v1/decision/{applicantId}/product{noformat}

*And* product decision contains a tpd.disabilityDefintion = Own
*And* product decision contains a tpd.isIncluded = true
*When* formulating response to product quote outcome and/or product decision
*Then*  populate text within tpd on product decision:

We’ll provide total and permanent disability cover based on your own occupation.

_Building on the above_

*Given* any POST /api/v1/decision/\{applicantId}/quote or POST /api/v1/decision/\{applicantId}/quickQuote
*Then* Get product decisions as per requested (respecting the filtered decision described in NBJ-606)

_Building on the above_

*Given* successful response from product decision
*And* product decision contains a tpd.isIncluded = false
*When* formulating response to quote and/or quickQuote
*Then* Add an entry to the reasonsText with the following content:

We’re unable to offer you total and permanent disability, therefore we won’t pay a claim and you won’t be covered for, total and permanent disability as a specified condition. 

*Given* successful response from product decision
*And* product decision contains a tpd.disabilityDefintion = Activities
*And* product decision contains a tpd.isIncluded = true
*When* formulating response to quote and/or quickQuote
*Then* Add an entry to the reasonsText with the following content:

We’re unable to offer you own occupation total and permanent disability.  We will pay a claim if you meet the daily activities or mental incapacity definitions.

*Given* successful response from product decision
*And* product decision contains a tpd.disabilityDefintion = Own
*And* product decision contains a tpd.isIncluded = true
*When* formulating response to quote and/or quickQuote
*Then* Add an entry to the reasonsText with the following content:

We’ll provide total and permanent disability cover based on your own occupation.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,"_Service request_

{code:json}POST /api/v1/decision/{applicantId}/quickQuote{code}

_Body_

{code:json}{
  productTypes:[
    ""life"",
    ""ci"",
    ""aci""
  ]
}{code}

_Service response_

{code:json}{
  data: {  
    ...
    ""quoteUnderwritingOutcomes"": [
      {
        ""productType"": ""life | ci | aci"",
        ""decision"": ""Standard Terms | Non standard Terms | Additional Evidence | Manual UW | Postponed | Declined"",
        ""decisionText"": ""Standard terms | Non-standard terms | Underwriting | No terms available"",
        ""reasons"": ["""", """", ...], //raw reasons
        ""reasonText"": ["""", """", """"],
        ""emRating"": 200,
        ""permPMRating"": 5,
        ""quoteExclusions"": [
          {
            ""isRemoval"": true | false,
            ""exclusionValue"": 1001
          },
          {...}
      }
    ]
  }
}{code}

_ProductType decision data used for source of response_

{code:json}{
  ""applicantId"": ""<applicantId>"",
  ...,
  ""productDecisions"": [ // one product decision per cover in the applicant's application
    {
      ""productType"": ""ci | aci"",
      ...
      ""tpd"": {
        ""isIncluded"": true | false,
        ""disabilityDefinition"": ""Own | Activites"",
        ""text"": """",
        ""reasons"": ["""", """"]
      },
      ...
    }
  ]    
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009hv,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,Guardian Sprint 7,,,,,20/Oct/21 9:39 AM,,5.0,,,EXL Lissia,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-16 14:43:23.615,"16/Dec/21 2:43 PM;613f22fdff23ba00715469d1;[~accountid:6149b13472728e006f9441d6]  and [~accountid:60cc71a22bd21400692fd2af] , I have tried different combinations of enquiry line answers and have fulfilled the conditions specified in the AC (tpd.isIncluded = true and tpd.isIncluded = false, tpd.disabilityDefintion = Activities etc) however none of the responses I got back included any of the expected text specified in the AC.

The basis that I am building my enquiry over is that I have both a ci and tpd product type and fudge my answers based on the AC provided. Can you both take a look at one of the examples of an enquiry I used below and see if there’s anything I am missing or if this ticket just hasn’t been implemented:

[^tpdenquiry.txt]

","16/Dec/21 2:52 PM;613f22fdff23ba00715469d1;As discussed with [~accountid:60cc71a22bd21400692fd2af] , it looks like the steps and enquiries I’ve sent are correct and the text is not appearing as expected.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
DecisionService - include descriptive text for removal reasons,NBJ-699,40513,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Kevin.Amoa,6149b160fac3ce0069d80d37,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,15/Nov/21 6:29 PM,13/Jan/22 9:31 PM,02/Feb/22 6:31 PM,13/Jan/22 9:31 PM,,Foundation Release,,Decision,Sprint_4,,"*As an* api consumer of the underwriting service
*So that* I can get a decision in the correct format to display to the customer
*I want* the service to respond with the current underwriting removal alerts per product type",,James Bartlett,Jim Houghton,,,,,,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,NBJ-213,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Jan/22 9:31 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/25052/LivingDoc.html,,,,,,,,,,,,"*Given any* product decision request

{noformat}POST /api/v1/decision/{applicantId}/product{noformat}

{noformat}{
  ""productTypes"": [
    ""life | ci | aci"",
    ""...""
  ]
}{noformat}

*When* formulating response from product decision request
*Then* for each exclusion  with isRemoval=true on the product decision populate the <text> field with:

We won’t provide cover for \[exclusion.text] as a listed condition under \[Critical Illness Protection / Combined Life and Critical Illness Protection]^1^.

*Given* any POST /api/v1/decision/\{applicantId}/quote 
*or* POST /api/v1/decision/\{applicantId}/outcome/quickQuote
*Then* Get product decisions as per requested (respecting the filtered decision described in NBJ-606)

_Building on the above_

*Given* successful response from product decision
*And* product decision is Non standard terms
*And* has exclusions with property isRemoval = true
*When* formulating response to product quote outcome
*Then* for the matching product type, output reasons from product decision to response message in their raw format
*And* Add an entry to the reasonsText *for each* exclusion with isRemoval=true with the following content:

We won’t provide cover for \[exclusion.text] as a listed condition under \[Critical Illness Protection / Combined Life and Critical Illness Protection]^1^.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,"#  based on productDecisions.productType map the following product types to the following:

|life|Life Protection|
|ci|Critical Illness Protection|
|aci|Combined Life and Critical Illness Protection|

_Service request_

{code:json}POST /api/v1/decision/{applicantId}/quote{code}

or

{noformat}/api/v1/decision/{applicantId}/quote/applicant{noformat}

_Service response_

{code:json}{
  data: {  
    ...
    ""quoteUnderwritingOutcomes"": [
      {
        ""productType"": ""life | ci | aci"",
        ""decision"": ""Standard Terms | Non standard Terms | Additional Evidence | Manual UW | Postponed | Declined"",
        ""decisionText"": ""Standard terms | Non-standard terms | Underwriting | No terms available"",
        ""reasons"": ["""", """", ...], //raw reasons
        ""reasonText"": ["""", """", """"],
        ""emRating"": 200,
        ""permPMRating"": 5,
        ""quoteExclusions"": [
          {
            ""isRemoval"": true | false,
            ""exclusionValue"": 1001
          },
          {...}
      }
    ]
  }
}{code}

_ProductType decision Response used as source of data_

{code:json}{
  ""applicantId"": ""<applicantId>"",
  ""smokerStatus"": ""<GUARDIAN smoker statuses>"",
  ""productDecisions"": [ // one product decision per cover in the applicant's application
    {
      ""productType"": ""life | ci | aci "",
      ""decision"": ""Standard Terms | Non standard Terms | Additional Evidence | Manual UW | Postponed | Declined"",
      ""reasons"": [<list of strings, giving reasons for decision>],
      ...,
      ""exclusions"": [ -- not present for DECLINE | POSTPONES
        {
          ""riskType"": ""Life | Critical Illness | Total Permanent Disability"", -- needs to be mapped from risk
          ""code"": """",
          ""text"": """",
          ""reasons"": ["""", """"],
          ""hasDiscount"": true | false,
          ""isRemoval"": ""true | false"" 
        },
        ...
      ],
      ...
    }
  ]    
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009hr,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,Guardian Sprint 7,,,,,20/Oct/21 9:39 AM,,3.0,,,EXL Lissia,,,,,,,,,,,,,,,"Removals and exclusions are only ever on ci risks, i.e. ci and aci products.

NB. product decision used to generate the text is based on everything in current URE text for request:

{{/api/v1/decision/{applicantId}/quote}}

product decision used to generate text is based on the information collected when adding an applicant (CLIENT_DETAILS)

{{/api/v1/decision/{applicantId}/applicant}}",,,,,,,,,,,,,,,2022-01-12 21:53:49.883,"12/Jan/22 9:53 PM;6139c49114e8340071fcda09;[~accountid:6149b160fac3ce0069d80d37] the expected reasonText doesn’t appear for quickQuote.

h4. *Example:*

applicantId 3024955f-86f9-4a44-b0c0-8f182e8ea71c in UWT has the reasonText in product decision.

The exclusion is from the Build rule, which is one of the CLIENT_DETAILS rules.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
DecisionService - include descriptive text for rating reasons,NBJ-698,40512,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,15/Nov/21 5:59 PM,13/Dec/21 4:25 PM,02/Feb/22 6:31 PM,13/Dec/21 4:25 PM,,Foundation Release,,Decision,Sprint_4,,"*As an* api consumer of the underwriting service
*So that* I can get a decision in the correct format to display to the customer
*I want* the service to respond with the current underwriting rating alerts per product type",,James Bartlett,Jim Houghton,,,,,,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,NBJ-213,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Dec/21 4:24 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/24298/LivingDoc.html,,,,,,,,,,,,"*Given* any POST /api/v1/underwriting/\{applicantId}/outcome/quote or POST /api/v1/underwriting/\{applicantId}/outcome/quote/applicant
*Then* Get product decisions as per requested (respecting the filtered decision described in NBJ-606)

_Building on the above_

*Given* successful response from product decision
*And* product decision is Non standard terms
*And* has pm ratings
*When* formulating response to product and quote outcome
*Then* Add text to each pm rating on product decision as detailed below:

We’ve increased the premium on \[Life Protection | Critical Illness Protection | Combined Life and Critical Illness Protection]^1^ because of your \[reasons]^2^.

*And* for the matching product type, output reasons from product decision to response message in their raw format
*And* Add an entry to the reasonsText with the following content:

We’ve increased the premium on \[Life Protection | Critical Illness Protection | Combined Life and Critical Illness Protection]^1^ because of your \[reasons]^2^.

*Given* successful response from product decision
*And* product decision is Non standard terms
*And* has em ratings
*When* formulating response to product and quote outcome
*Then* Add text to each em rating on product decision as detailed below:

We’ve increased the premium on \[Life Protection | Critical Illness Protection | Combined Life and Critical Illness Protection]^1^ because of your \[reasons]^2^.

*And* for the matching product type, output reasons from product decision to response message in their raw format
*And* Add an entry to the reasonsText with the following content:

We’ve increased the premium on \[Life Protection | Critical Illness Protection | Combined Life and Critical Illness Protection]^1^ because of your \[reasons]^2^.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,"#  based on  product type map the following product types to the following:

|life|Life Protection|
|ci|Critical Illness Protection|
|aci|Combined Life and Critical Illness Protection|

2. take the list of reasons from each instance of a rating *em.reasons plus pm.reasons (de-duplicate)* and reformat to a comma separated list, examples below (make lower case):

* a list of one is simply inserted
* a list of two becomes, <reason1> and <reason2>
* a list of three plus becomes <reason1>, <reason2> and <reason3>

_Service request_

{code:json}POST /api/v1/underwriting/{applicantId}/outcome/quote{code}

_Body_

{code:json}{
  productTypes:[
    ""life"",
    ""ci"",
    ""aci""
  ]
}{code}

_Service response_

{code:json}{
  data: {  
    ...
    ""quoteUnderwritingOutcomes"": [
      {
        ""productType"": ""life | ci | aci"",
        ""decision"": ""Non standard Terms"",
        ""decisionText"": ""Non-standard terms"",
        ""reasons"": ["""", """", ...], //raw reasons
        ""reasonText"": ["""", """", """"],
        ...,
      }
    ]
  }
}{code}

_ProductType decision Request_

Any request that has an activeEnquiry response

{noformat}POST /api/v1/underwriting/{applicantId}/outcome{noformat}

_Body_

{code:json}{
  productTypes:[
    ""life"",
    ""ci"",
    ""aci""
  ]
}{code}

_ProductType decision Response_

{code:json}{
  ""applicantId"": ""<applicantId>"",
  ...,
  ""productDecisions"": [ // one product decision per cover in the applicant's application
    {
      ""productType"": ""life | ci | aci "",
      ""decision"": ""Non standard Terms"",
      ""reasons"": [<list of strings, giving reasons for decision>],
      ...,
      ""em"": {  -- not present for STANDARD | DECLINE | POSTPONES
        ""totalRating"": 200, // the sum of all individual ratings 
        ""ratings"": [
          {
            ""rating"": 50,
            ""duration"": ""<time_period>"",
            ""reasons"": ["""", """"],
            ""text"": """"
          },
          ...
        ]
      ],
      ""pm"": {  -- not present for STANDARD | DECLINE | POSTPONES
        ""totalRating"": 200, // the sum of all individual ratings 
        ""ratings"": [
          {
            ""rating"": 50,
            ""duration"": ""<time_period>"",
            ""reasons"": ["""", """"],
            ""text"": """"
          },
          ...
        ]
      ]
    }
  ]    
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00tku:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,Guardian Sprint 6,,,,,20/Oct/21 9:39 AM,,3.0,,,EXL Lissia,,,,,,,,,,,,,,,This text will only be generated if the decision includes em or pm loadings.,,,,,,,,,,,,,,,2021-12-07 15:58:00.126,07/Dec/21 3:58 PM;6139c49114e8340071fcda09;Moved back as allReasons is empty now and another approach is required - Kevin and Jim to discuss.,"09/Dec/21 4:02 PM;6139c49114e8340071fcda09;[~accountid:6149b160fac3ce0069d80d37] the list of reasons needs to be as per the implementation notes if there is more than one reason. Currently for

{noformat}https://wa-uwt-decisionservice.azurewebsites.net/api/v1/decision/713207b1-4b81-41a8-af28-8afef43edf86/quote{noformat}

the reasonText is

{noformat}""reasonText"": [
                    ""We've increased the premium on Life Protection because of your Build, TEST_EL, Sports_Diving.""
                ],{noformat}

but it should be

{noformat}""reasonText"": [
                    ""We've increased the premium on Life Protection because of your Build, TEST_EL and Sports_Diving.""
                ],{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
DecisionService - include descriptive text for exclusion reasons,NBJ-697,40511,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,15/Nov/21 5:50 PM,05/Jan/22 9:10 AM,02/Feb/22 6:31 PM,05/Jan/22 9:10 AM,,Foundation Release,,Decision,Sprint_4,,"*As an* api consumer of the underwriting service
*So that* I can get a decision in the correct format to display to the customer
*I want* the service to respond with the current underwriting exclusion alerts per product type",,James Bartlett,Jim Houghton,,,,,,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,NBJ-213,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,05/Jan/22 9:10 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/24777/LivingDoc.html,,,,,,,,,,,,"*Given* *any* product decision request

{noformat}POST /api/v1/decision/{applicantId}/product{noformat}

{noformat}{
  ""productTypes"": [
    ""life | ci | aci"",
    """"
  ]
}{noformat}

*And* has exclusions with isRemoval = false
*When* generating the exclusion.text on the product decision for a particular product type
*Then* the <current exclusion text> mapped from the risk decision should be enriched as follows:

We won’t pay a \[Critical Illness | Total Permanent Disability]^1^ claim arising directly or indirectly <current exclusion text>. 

*And* populate exclusion.discountText on each exclusion on the product decision with hasDiscount=true as detailed below:

Because of the limitation to your cover, we’ve reduced the premium.

_Building on the above_

*Given* any POST /api/v1/decision/\{applicantId}/quote or POST /api/v1/decision/\{applicantId}/quickQuote
*Then* Get product decisions as per requested (respecting the filtered decision described in NBJ-606)

_Building on the above_

*Given* successful response from product decision
*And* has decision Non-Standard Terms
*And* has exclusions with isRemoval = false
*And* has exclusions with hasDiscount = true
*When* formulating response to product quote or quickQuote outcome
*Then* foreach exclusion on product decision with properties<isRemoval> and/or <hasDiscount> add to the <reasonText> on the quote (or quickQuote) response 



{noformat}| isRemoval | hasDiscount | add to <reasonText>                                           |
| true      | true        |                                                               |
| true      | false       |                                                               |
| false     | true        | productType.exclusion.text, productType.exclusion.discoutText |
| false     | false       | productType.exclusion.text                                    |{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,"#  based on productDecisions.exclusions.riskType map the following risk types to the following:

|life|life|
|ci|critical illness|
|tpd|total permanent disability|

_Service request_

{code:json}POST /api/v1/decision/{applicantId}/quickQuote{code}

_Body_

{code:json}{
  productTypes:[
    ""life"",
    ""ci"",
    ""aci""
  ]
}{code}

_Service response_

{code:json}{
  data: {  
    ...
    ""quoteUnderwritingOutcomes"": [
      {
        ""productType"": ""life | ci | aci | ccic"",
        ""decision"": ""Non standard Terms"",
        ""decisionText"": ""Non-standard terms"",
        ""reasons"": ["""", """", """"], //raw reasons
        ""reasonText"": ["""", """", """"],
        ...,
        ""quoteExclusions"": [
          {
            ""isRemoval"": true | false,
            ""exclusionValue"": 1001
          },
          {...}
      }
    ]
  }
}{code}

_ProductType decision Request_

Any request that has an activeEnquiry response

{noformat}POST /api/v1/decision/{applicantId}/product{noformat}

_Body_

{code:json}{
  productTypes:[
    ""life"",
    ""ci"",
    ""aci""
  ]
}{code}

_ProductType decision Response_

{code:json}{
  ""applicantId"": ""<applicantId>"",
  ...
  ""productDecisions"": [ // one product decision per cover in the applicant's application
    {
      ""productType"": ""life | ci | aci "",
      ""decision"": ""Non standard Terms"",
      ""reasons"": [<list of strings, giving reasons for decision>],
      ...,
      ""exclusions"": [
        {
          ""riskType"": ""Life | Critical Illness | Total Permanent Disability"", -- needs to be mapped from risk
          ""code"": """",
          ""text"": """",
          ""reasons"": ["""", """"],
          ""hasDiscount"": true | false,
          ""discountText"": """",
          ""isRemoval"": ""true | false"" 
        },
        ...
      ],
      ...
    }
  ]    
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009g,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,Guardian Sprint 7,,,,,20/Oct/21 9:39 AM,,5.0,,,EXL Lissia,,,,,,,,,,,,,,,"Exclusions are currently only available on ci and tpd.

Exclusions with discounts are currently only available on ci.",,,,,,,,,,,,,,,2021-12-16 22:59:25.182,"16/Dec/21 10:59 PM;6139c49114e8340071fcda09;[~accountid:613f60991370f00069033c68]  -I can’t see the exclusions at all in the quickQuote decision but they do look like they appear in the quote decision.-



-See application- *-G000103372-* -and applicant- *-3d6eba28-a824-4ca5-a535-3c662d65eae2-* -for an example.-



EDIT: Only just realised this is working as expected","04/Jan/22 2:55 PM;6139c49114e8340071fcda09;awaiting results of investigation from dev, don’t know if there’s a problem here yet.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
DecisionService - include descriptive text for postpone reasons,NBJ-696,40510,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,15/Nov/21 5:40 PM,14/Jan/22 9:49 AM,02/Feb/22 6:31 PM,14/Jan/22 9:49 AM,,Foundation Release,,Decision,Sprint_4,,"*As an* api consumer of the underwriting service
*So that* I can get a decision in the correct format to display to the customer
*I want* the service to respond with the current underwriting postpone alerts per product type",,Jim Houghton,Jon Reynolds,Nathan Punzalan,,,,,60cc71a22bd21400692fd2af,616ee20e2097220071a975d2,613f22fdff23ba00715469d1,,,,,,,,,,,,Hidden from EXL,NBJ-213,,,,,,,,,,,,,,,NBJ-603,,,,,,,,,,,,,,,05/Jan/22 2:58 PM;nathan.punzalan;response.json;https://gghltd.atlassian.net/secure/attachment/24797/response.json,,,,,,,,,,,,"*Given* *any* product decision request

{noformat}POST /v1/api/decision/{applicantId}/product{noformat}

{noformat}{
  ""peoductTypes"": [
    ""life | ci | aci"",
    ""...""
  ]
}{noformat}

*When* formulating response product decision response
*Then* on product decision set productDecision.reasonText:

Unfortunately, we’re unable to offer you the \[Life Protection | Critical Illness Protection | Combined Life and Critical Illness Protection]^1^ cover you’ve applied for because of your \[reasons]^2^.

*And* on the product decision postpone.max set the text:

However, we’ll be happy to reassess your situation \[postpone.text].

*And* on the product decision foreach productDecisions.postpone set the text:

However, we’ll be happy to reassess your situation \[postpone.text].

*But*  postpone text on quickQuote decisions will be included in future stories (NBJ-1072)

_Building on the above_

*Given* any POST /api/v1/decision/\{applicantId}/quote or POST /api/v1/decision/\{applicantId}/quickQuote
*Then* Get product decisions as per requested (respecting the filtered decision described in NBJ-606)

_Building on the above_

*Given* successful response from product decision
*And* product decision is Postponed
*When* formulating response to quote or quickQuote decision
*And* for the matching product type, output reasons from product decision to quote/quickQuote decision response message in their raw format
*And* Add an entry to the reasonsText with the following content:

Unfortunately, we’re unable to offer you the \[Life Protection | Critical Illness Protection | Combined Life and Critical Illness Protection]^1^ cover you’ve applied for because of your \[reasons]^2^.

*And* from the product decision response, foreach productDecisions.postpones.text add an entry to reasonsText:

 However, we’ll be happy to reassess your situation \[postpone.text].

*But*  postpone text on quickQuote decisions will be included in future stories (NBJ-1072)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,"#  based on  product type map the following product types to the following:

|life|Life Protection|
|ci|Critical Illness Protection|
|aci|Combined Life and Critical Illness Protection|

2. take the list of reasons and reformat to a comma separated list, examples below (make lower case):

* a list of one is simply inserted
* a list of two becomes, <reason1> and <reason2>
* a list of three plus becomes <reason1>, <reason2> and <reason3>

_Service request_

{code:json}POST /api/v1/underwriting/{applicantId}/outcome/quote{code}

_Body_

{code:json}{
  productTypes:[
    ""life"",
    ""ci"",
    ""aci""
  ]
}{code}

_Service response_

{code:json}{
  data: {  
    ...
    ""quoteUnderwritingOutcomes"": [
      {
        ""productType"": ""life | ci | aci"",
        ""decision"": ""Standard Terms | Non standard Terms | Additional Evidence | Manual UW | Postponed | Declined"",
        ""decisionText"": ""Standard terms | Non-standard terms | Underwriting | No terms available"",
        ""reasons"": ["""", """", ...], //raw reasons
        ""reasonText"": ["""", """", """"],
        ...
      }
    ]
  }
}{code}

_ProductType decision Response used as the source data to map to the response_

{code:json}{
  ""applicantId"": ""<applicantId>"",
  ...
  ""productDecisions"": [ // one product decision per cover in the applicant's application
    {
      ""productType"": ""life | ci | aci"",
      ""decision"": ""Postponed"",
      ""reasonText"": """",
      ""reasons"": [<list of strings, giving reasons for decision>],
      ...,
      ""postpone"": [ -- only present if decision POSTPONE or indicativeDecision POSTPONE
        ""max"": {
          ""code"": """",
          ""text"": """",
          ""reasons"": ["""", """"]
        },
        ...
      ],
      ...,
    }
  ]    
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009hi,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,Guardian Sprint 7,,,,,20/Oct/21 9:39 AM,,5.0,,,EXL Lissia,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-16 13:15:40.08,16/Dec/21 1:15 PM;616ee20e2097220071a975d2;Using Applicant \[8dafa018-7c61-4e11-93ff-9abff0c61d6c] in UWT as example,"05/Jan/22 2:56 PM;613f22fdff23ba00715469d1;[~accountid:616ee20e2097220071a975d2]  and [~accountid:60cc71a22bd21400692fd2af] , I’ve looked at the product decision response using the applicant ID Jon provided for UWT however the text in the response doesn’t look quite right. 

I was unable to find any object in the response for postpone.text; the only text I found was for postpone.max.text and postpone.postpones.text and for each of these the text response was as followed:

“{{However, we'll be happy to reassess your situation Unable to offer cover until 12 months after surgery.”}}

Not sure if it’s just this specific example however this does not sound grammatically correct. Please see the product response using Jon’s applicantId example below:

[^response.json]

Also, I am unable to generate an enquiry to get a Postponed decision for quickQuote as quickQuote only takes into account the questions with the ClientDetails tag. Do either of you have an example applicantId or enquiry that I can use to test quickQuote?","05/Jan/22 5:05 PM;60cc71a22bd21400692fd2af;[~accountid:613f22fdff23ba00715469d1]  - the postpone text will need updating to make the text work I will chase underwritiers

In terms of an example for quick quote, there probably is not one. ","06/Jan/22 4:35 PM;613f22fdff23ba00715469d1;[~accountid:60cc71a22bd21400692fd2af]  do we need to wait for the underwriters to change the text or can we pass this ticket as it is then? Also, as there’s not an example for quick quote is there a way to test the related AC or should we except that there would be no way to currently test that AC?","07/Jan/22 10:29 AM;613f22fdff23ba00715469d1;[~accountid:60cc71a22bd21400692fd2af] , James has built in a way in UWE to get a POSTPONED decision at quickQuote level however I am getting a 500 status returned when using relevant enquiry so have raised a bug for this issue [https://gghltd.atlassian.net/browse/NBJ-1070|https://gghltd.atlassian.net/browse/NBJ-1070|smart-link] .

You can also take a look at the enquiry I built using:

Enquiry ID: d6bd84bf-8276-4845-be15-5745f56e38b5

Have asked James to take a look aswell and the enquiry itself looks fine in UWE. Can you take a look and assign the bug to the relevant dev to investigate?",14/Jan/22 9:25 AM;60cc71a22bd21400692fd2af;[~accountid:613f22fdff23ba00715469d1] - I have added *But* clause for postpone text and removed flag,"14/Jan/22 9:49 AM;613f22fdff23ba00715469d1;Thanks [~accountid:60cc71a22bd21400692fd2af] , as discussed will pass through this ticket as postpone text for quickQuote will be looked at in separate stories.",,,,,,,,,,,,,,,,,,,,,,,,,Done
DecisionService - include descriptive text for decline reasons,NBJ-695,40509,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,15/Nov/21 5:21 PM,05/Jan/22 2:41 PM,02/Feb/22 6:31 PM,05/Jan/22 2:41 PM,,Foundation Release,,Decision,Sprint_4,,"*As an* api consumer of the underwriting service
*So that* I can get a decision in the correct format to display to the customer
*I want* the service to respond with the current underwriting decline alerts per product type",,Chris.Hibbert,Jim Houghton,,,,,,60cc71a1d5dde800713a2124,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,NBJ-213,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* any POST /api/v1/decision/\{applicantId}/quickQuote or POST /api/v1/decision/\{applicantId}/product
*Then* Get product decisions as per requested (respecting the filtered decision described in NBJ-606)

_Building on the above_

*Given* successful response from product decision
*And* product decision is Declined
*When* formulating response to quote and/or product decision
*Then* populate reasonText on product decision to:

Unfortunately, we’re unable to offer you the \[Life Protection | Critical Illness Protection | Combined Life and Critical Illness Protection]^1^ cover you’ve applied for because of your \[reasons]^2^.

*And* for the matching product type, output reasons from product decision to quote response message in their raw format
*And* Add an entry to the reasonsText with the following content:

Unfortunately, we’re unable to offer you the \[Life Protection | Critical Illness Protection | Combined Life and Critical Illness Protection]^1^ cover you’ve applied for because of your \[reasons]^2^.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,"This is a change to 2 endpoints in the DecisionService:

# product decision
# quick quote decision

Based on  product type map the following product types to the following:

|life|Life Protection|
|ci|Critical Illness Protection|
|aci|Combined Life and Critical Illness Protection|

* take the list of reasons and reformat t a comma separated list, examples below (make lower case):
** a list of one is simply inserted
** a list of two becomes, <reason1> and <reason2>
** a list of three plus becomes <reason1>, <reason2> and <reason3>



_Service request_

{code:json}POST /api/v1/decision/{applicantId}/quickQuote{code}

_Body_

{code:json}{
  productTypes:[
    ""life"",
    ""ci"",
    ""aci""
  ]
}{code}

_Service response_

{code:json}{
  data: {  
    ...
    ""quoteUnderwritingOutcomes"": [
      {
        ""productType"": ""life | ci | aci"",
        ""decision"": ""Declined"",
        ""decisionText"": ""No terms available"",
        ""reasons"": ["""", """", ...], //raw reasons
        ""reasonText"": [""Unfortunately, we’re unable to offer you the [Life Protection | Critical Illness | Combined Life and Critical Illness] cover you’ve applied for because of your [reasons].""],
        ...
      }
    ]
  }
}{code}

_ProductType decision format, used as a source of the service response_

{code:json}{
  ""applicantId"": ""<applicantId>"",
  ...,
  ""productDecisions"": [ // one product decision per cover in the applicant's application
    {
      ""productType"": ""life | ci | aci "",
      ""decision"": ""Declined"",
      ""reasonText"": """",
      ""reasons"": [<list of strings, giving reasons for decision>],
      ...
    }
  ]    
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009h,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,Guardian Sprint 7,,,,,20/Oct/21 9:39 AM,,3.0,,,EXL Lissia,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-17 18:20:23.074,"17/Dec/21 6:20 PM;60cc71a1d5dde800713a2124;(flagoff) Flag removed

Associated defect now code delivered",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
DecisionService - include descriptive text to quote decision,NBJ-694,40488,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,15/Nov/21 1:23 PM,09/Dec/21 4:16 PM,02/Feb/22 6:31 PM,09/Dec/21 4:16 PM,,Foundation Release,,Decision,Sprint_4,,"*As an* api consumer of the underwriting service
*So that* I can get a decision in the correct format to display to the customer
*I want* the service to respond with the current decision",,James Bartlett,Jim Houghton,,,,,,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,NBJ-206,NBJ-213,NBJ-573,,,,,,,,,,,,,,,,,,,,,,,,,,,,09/Dec/21 4:16 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/24204/LivingDoc.html,,,,,,,,,,,,"*Given* any POST /api/v1/underwriting/\{applicantId}/outcome/quote or POST /api/v1/underwriting/\{applicantId}/outcome/quote/applicant
*Then* Get product decisions as per the body of the request (respecting the filtered decision described in NBJ-606)

_Building on the above_

*Given* successful response from product decision
*When* formulating response to product quote decision
*Then* map from productDecisions.decision into matching product type quoteUnderwritingOutcomes.decision on the response
*And* map resulting decision to decisionText into matching product type on response using the mapping rules in implementation notes",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,"*Mapping rules for decision to decisionText*

|Standard Terms|Standard terms|
|Non standard Terms|Non-standard terms|
|Additional Evidence|Underwriting|
|Manual UW|Underwriting|
|Postponed|Unable to offer terms|
|Declined|Unable to offer terms|

_Service request_

{code:json}POST /api/v1/underwriting/{applicantId}/outcome/quote{code}

_Body_

{code:json}{
  productTypes:[
    ""life"",
    ""ci"",
    ""aci""
  ]
}{code}

_Service response_

{code:json}{
  data: {  
    ...
    ""quoteUnderwritingOutcomes"": [
      {
        ""productType"": ""life | ci | aci"",
        ""decision"": ""Standard Terms | Non standard Terms | Additional Evidence | Manual UW | Postponed | Declined""
        ""decisionText"": ""Standard terms | Non-standard terms | Underwriting | Unable to offer terms""
        ...
      }
    ]
  }
}{code}

_Product decision, used as source data for response_

{code:json}{
  ""applicantId"": ""<applicantId>"",
  ...
  ""productDecisions"": [ // one product decision per cover in the applicant's application
    {
      ""productType"": ""life | ci | aci "",
      ""decision"": ""Standard Terms | Non standard Terms | Additional Evidence | Manual UW | Postponed | Declined"",
      ...
    }
  ]    
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009e9,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,20/Oct/21 9:39 AM,,3.0,,,EXL Lissia,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-08 11:30:38.26,08/Dec/21 11:30 AM;6139c49114e8340071fcda09;none of the quote decisions apart from Standard seem to be coming through yet so I can’t test this.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Single adviser dashboard for all applications and policies,NBJ-693,40486,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Andy Green,6061ac5d00b79f0070aa4ad3,Andy Green,6061ac5d00b79f0070aa4ad3,15/Nov/21 12:40 PM,15/Nov/21 12:40 PM,02/Feb/22 6:31 PM,,,Phase 1 - Menu,,,,,"As an adviser
I want to see all WIP applications and live policies in a single dashboard for old or new NBJs 
So that I access all of my applications from a single place without the overhead of remembering when I started the application.",,Andy Green,,,,,,,6061ac5d00b79f0070aa4ad3,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-113,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00t0f:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15/Nov/21 12:40 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Capture client's permission to access their medical records during application process (eAMRA),NBJ-692,40484,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Andy Green,6061ac5d00b79f0070aa4ad3,Andy Green,6061ac5d00b79f0070aa4ad3,15/Nov/21 12:27 PM,15/Nov/21 12:27 PM,02/Feb/22 6:31 PM,,,Phase 1 - Menu,,,,,"As an adviser and underwriter
I want to capture the client's permission to access their medical records during the application journey
So that there is no delay if these are required if medical evidence is required prior to going on risk or for post-issue sampling ",,Andy Green,,,,,,,6061ac5d00b79f0070aa4ad3,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-122,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00szz:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15/Nov/21 12:27 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Modify application whilst application is in manual underwriting,NBJ-690,40482,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Andy Green,6061ac5d00b79f0070aa4ad3,Andy Green,6061ac5d00b79f0070aa4ad3,15/Nov/21 12:21 PM,15/Nov/21 12:21 PM,02/Feb/22 6:31 PM,,,Phase 1 - Menu,,,,,"As an adviser
I want to amend my application whilst my application is in manual underwriting
So that I can adjust to my client's needs (This is a broad story that will likely be broken down further)

This covers the following functions:
* Update disclosure
* Add client
* Add cover
* Remove life
* Remove cover
* Change commission
* Edit client details
* Edit contact details",,Andy Green,,,,,,,6061ac5d00b79f0070aa4ad3,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-122,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00szj:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15/Nov/21 12:21 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Display indicative decision as rating range when referred to manual underwriting,NBJ-689,40481,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Andy Green,6061ac5d00b79f0070aa4ad3,Andy Green,6061ac5d00b79f0070aa4ad3,15/Nov/21 12:15 PM,16/Nov/21 2:38 PM,02/Feb/22 6:31 PM,,,,,,,,"As an adviser
I want to give my client an indicative decision as a range of ratings for the condition they are referred for prior to submitting the cover for manual underwriting 
So that I can choose whether it is worth the time and effort for both the UW and client if the premium is likely to be too high.  ",,Andy Green,,,,,,,6061ac5d00b79f0070aa4ad3,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,NBJ-688,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-122,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00szb:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15/Nov/21 12:14 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Display indicative premium following manual UW prior to manual UW,NBJ-688,40480,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Andy Green,6061ac5d00b79f0070aa4ad3,Andy Green,6061ac5d00b79f0070aa4ad3,15/Nov/21 12:14 PM,16/Nov/21 2:40 PM,02/Feb/22 6:31 PM,,,,,,,,"As an adviser
I want to give my client any indicative decisions as a premium for the condition they are referred for prior to submitting the cover for manual underwriting 
So that I can choose whether it is worth the time and effort for both the UW and client if the premium is likely to be too high.  ",,Andy Green,,,,,,,6061ac5d00b79f0070aa4ad3,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-122,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00sz3:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15/Nov/21 12:14 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Display decision and premium so far (partially underwritten premium) when part way through application answers,NBJ-687,40478,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Andy Green,6061ac5d00b79f0070aa4ad3,Andy Green,6061ac5d00b79f0070aa4ad3,15/Nov/21 12:06 PM,16/Nov/21 2:42 PM,02/Feb/22 6:31 PM,,,Phase 1 - Menu,,,,,"As an adviser
I want to be able to see the decision, premium and underwriting alerts when I have partially completed underwriting
So that I can choose whether to continue with the application. I might not want to continue in the following scenarios:

* The premium is too high.
* The decision is declined or postponed meaning I shouldn't bother continuing.
* Manual underwriting is required meaning I can't provide quick enough cover.",,Andy Green,,,,,,,6061ac5d00b79f0070aa4ad3,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-122,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00syn:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15/Nov/21 12:06 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Manually submit cases for underwriting,NBJ-686,40477,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Andy Green,6061ac5d00b79f0070aa4ad3,Andy Green,6061ac5d00b79f0070aa4ad3,15/Nov/21 11:59 AM,15/Nov/21 12:31 PM,02/Feb/22 6:31 PM,,,Phase 1 - Menu,,,,,"As an adviser
I want to choose whether to submit lives and covers for underwriting when the URE has given the decision that manual underwriting is required
So that I can control whether to proceed with the application as it stands or remove covers that require manual underwriting.



There are multiple benefits that this gives including:

* Allows the adviser to remove lives and covers from the application and allow them to go live immediately for all covers which are STP without delay.
* Ensures the underwriters aren’t going to waste time on covers that are unlikely to be taken up. ",,Andy Green,,,,,,,6061ac5d00b79f0070aa4ad3,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-122,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00syf:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15/Nov/21 11:59 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
"DecisionService - add upsell, gioEntitlement and disability definition to risk decision",NBJ-684,40472,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,15/Nov/21 11:15 AM,29/Nov/21 8:43 PM,02/Feb/22 6:31 PM,29/Nov/21 8:43 PM,,Foundation Release,,Decision,Sprint_4,,"*As an* api consumer of the underwriting service
*So that* I can determine the current risk level decisions
*I want* the service will respond with Upsell, Gios and disability definition within risk",,Antony.Gorman,Chris.Hibbert,Jim Houghton,,,,,6149b13472728e006f9441d6,60cc71a1d5dde800713a2124,60cc71a22bd21400692fd2af,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,29/Nov/21 8:43 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;CI_TPD_attributes.html;https://gghltd.atlassian.net/secure/attachment/23916/CI_TPD_attributes.html,29/Nov/21 8:43 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LIFE_attributes.html;https://gghltd.atlassian.net/secure/attachment/23915/LIFE_attributes.html,,,,,,,,,,,"*Given* an active enquiry response from URE
*And* active enquiry has answers to PRODUCT in allAnswers with a list of risks
*When* constructing the output message
*Then* foreach risk map to upsell.isAllowed from the ure response buckets.name=UPSELL_ALLOWED_<shortRef>.max.value (converting YES to true and NO to false) in the corresponding riskType section
*And* foreach risk map to upsell.amount within riskType section from the ure resonse buckets.name=UPSELL_AMOUNT_<shortRef>.min.value
*And* foreach risk map to gioEntitlement from the ure response buckets.name=GIO_ENTITLEMENT_<shortRef>.max.value (converting YES to true and NO to false) in the corresponding riskType section
*And* foreach risk map to disabilityDefinition from the ure resonse buckets.name=DISDEF_<shortRef>.max.value in the corresponding riskType section

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,"# This story is about starting to output the Upsell, GIO and disability definition decisions within risk
# To get a successful response from URE, applicantId must be first mapped to enquiryId
# we will create a *short reference (shortRef)* foreach risk:
## Life → LIFE
## Critical Illness → CI
## Total Permanent Disability → TPD

{noformat}POST /api/v1/decision/{applicantId}{noformat}

_activeEnquiry response from URE]_

{noformat}{
  ...
  ""buckets"": [
  ...,
      {
      ""type"": ""OPTION"",
      ""name"": ""GIO_ENTITLEMENT_LIFE"",
      ""contributions"": [
        {
          ""value"": ""NON_SMOKER5"",
          ""sources"": [
            ""Client_Details""
          ]
        },
        ...
        ,
      ""min"": {
        ...
      },
      ""max"": {
        ""value"": ""YES"",
        ""sources"": [
          ""GIO_Entitlement""
        ]
      }
    },
    {
      ""type"": ""NUMBER"",
      ""name"": ""UPSELL_AMOUNT_LIFE"",
      ""contributions"": [
        {
          ""value"": 50,
          ""sources"": [
            ""Non_Medical_Limits""
          ]
        },
        ...
      ],
      ""min"": {
        ""value"": 550000,
        ""sources"": [
          ""Non_Medical_Limits""
        ]
      },
      ""max"": {
        ...
      },
      ""sum"": {
        ...
      }
    },
  ...,
  ],
  ""sections"": [...],
  ""allAnswers"": {
   ...
  },
  ""debugInfo"": {}
}{noformat}

_Response_

underwritingOutcomes with a section per risk

{code:json}{
  data: {
    ""applicantId"": ""<applicantId>"",
    ""smokerStatus"": ""<GUARDIAN smoker statuses>"",
    ""riskDecisions"": [
      {
        ""riskType"": ""life | ci | tpd"",
        ...,
        ""upsell"": {
          ""isAllowed"": true | false, -- change to true | false
          ""amount"": 100000        
        },
        ""gioEntitlement"": true | false,
        ""disabilityDefinition"": ""Own | Activities"", -- will only exist for tpd for now, but assume could be on any risk
        ...
      },
      {...}
    ]
  }
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00rl2:d,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,,,,,20/Oct/21 9:39 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-22 16:43:08.288,22/Nov/21 4:43 PM;6149b13472728e006f9441d6;leaving this in review for a bit as we’re still waiting on foundational work so it cant be end to end tested as yet. will update the ticket once its good to test.,"26/Nov/21 9:12 AM;60cc71a1d5dde800713a2124;(flagoff) Flag removed

NBJ-481 fixed",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Special styling for waist size question,NBJ-683,40455,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,14/Nov/21 5:13 PM,09/Dec/21 8:05 AM,02/Feb/22 6:31 PM,09/Dec/21 8:05 AM,,Foundation Release,,Sprint_6,,,"*As a* User
*I want* the waist size question to have an imperial / metric equivalent
*So that* I can answer the question in the unit of my choice…

!Screenshot 2021-11-27 at 18.55.37.png|width=1170,height=83!

The waist size question appears early in the application and is another imperial / metric selection question, a bit like height, however this time we are only either cm or inches (i.e. we do not show feet).",,Chris.Hibbert,Justin.Smith,,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,Hidden from EXL,NBJ-850,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,27/Nov/21 6:56 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-11-27 at 18.55.37.png;https://gghltd.atlassian.net/secure/attachment/23872/Screenshot+2021-11-27+at+18.55.37.png,08/Dec/21 10:22 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211208-222130.png;https://gghltd.atlassian.net/secure/attachment/24170/image-20211208-222130.png,08/Dec/21 10:31 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211208-222739.png;https://gghltd.atlassian.net/secure/attachment/24171/image-20211208-222739.png,,,,,,,,,,"*Given:* an underwriting session
*When:* the session requests a WAIST_SIZE question
*Then:* a special control is shown that offers a choice of imperial or metric, with imperial selected as the default
*and:* imperial (inches) and metric cm) options are displayed accordingly

*Given:* a WAIST_SIZE control with a metric value entered
*When:* a user updates to view as imperial
*Then:* the inches are displayed using the following formula:
0.39370079 inches per cm
waist in centimetres * 0.39370079 = height in inches

*Given:* a WAIST_SIZE control with an imperial value entered
*When:* a user updates to view as metric
*Then:* the metric values is calculated using the following formula:
height in inches * 2.54 = height in cm

*Given:* a WAIST_SIZE control
*When:* the unit of entry is selected in +imperial+
*Then:* the rules engine has the WAIST_UNITS question updated with the value +Imperial+
*and:* only ever displayed as an integer number

*Given:* a WAIST_SIZE control
*When:* the unit of entry is selected in +metric+
*Then:* the rules engine has the WAIST_UNITS question updated with the value +Metric+
*and:* only ever displayed as an integer number

*Given:* a WAIST_SIZE control
*When:* either imperial or metric data is input
*Then:* the rules engine has the WAIST_SIZE question updated with the value in +metric+, regardless of the unit chosen",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,"* Rules engine is always told metric
* Needs a WAIST_UNITS imperial / metric question in the rules like HEIGHT_UNITS and WEIGHT_UNITS
* If a user updates any field, then the other fields change accordingly (e.g. update metric value and the imperial value is updated, or update imperial inches and the metric value updates).",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009dzv,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,14/Nov/21 5:13 PM,,8.0,,,,,,,,,,,,,,,,,,"Height : 1.8

Weight : 80

Gender: Male",,,,,,,,,,,,,,,2021-12-08 22:22:59.722,"08/Dec/21 10:22 PM;618bdfc5fba4d0006ad4853e;[~accountid:60cc71a1d5dde800713a2124] 

I noticed if I put 99 inchs (max size for imperial) then I get the error - 

!image-20211208-222130.png|width=1764,height=138!

This is a conversion to 251 cms and the maximum allowed is 200 in cms.  Doesn’t really make much sense to show this on the inchs selection.

They would be very large with this waist 🙂 

Also, the same on the other questions

!image-20211208-222739.png|width=1780,height=160!

Are you worried about this and want a bug on it so the error matches the measurement you are putting in?","08/Dec/21 10:33 PM;618bdfc5fba4d0006ad4853e;Frontend stuff automated just need to do the underwriting bit.

{noformat}  @ACTest2
  Scenario: Create client profile for a male exceeds average BMI
    Given I add a new client
    | Title             | Mr          |
    | FirstName         | Fred        |
    | Surname           | Bloggs      |
    | DOB               | 01/01/1990  |
    | Gender            | Male        |
    | Smoker            | Yes         |
    | Height            | Metric      |
    | HeightValue       | 1.8         |
    | Weight            | KG          |
    | WeightValue       | 80          | 
    | Waist             | CM          |
    | WaistValue        | 102         |
    When I modify the waist to ""imperial""
    Then the ""imperial"" waist is the value 40
    When I modify the waist to ""metric""
    Then the ""metric"" waist is the value 102{noformat}",09/Dec/21 12:08 AM;60cc71a1d5dde800713a2124;[~accountid:618bdfc5fba4d0006ad4853e]  - if you can raise a bug for the backlog that would be helpful.  It might be in the short term we need to think about removing the upper limit from the questions and handling within the rules (i.e. get the URE to refer).,09/Dec/21 8:04 AM;618bdfc5fba4d0006ad4853e;Will do [~accountid:60cc71a1d5dde800713a2124].  This is now complete.,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Add drop down question type for manual underwriting (e.g. for dress size),NBJ-682,40454,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,14/Nov/21 5:13 PM,09/Dec/21 4:44 PM,02/Feb/22 6:31 PM,09/Dec/21 4:44 PM,,Foundation Release,,Sprint_6,,,"*As a* User
*I want* to see a drop down control when its requested by the underwriters
*So that* my data input is relevant to my question type

This is to support drop down lists in the URE.
At the moment not concerning ourselves with multi-select drop down lists, so will ignore this property.

!Screenshot 2021-11-28 at 10.56.32.png|width=1244,height=106!",,Chris.Hibbert,James Bartlett,,,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28/Nov/21 10:56 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-11-28 at 10.56.32.png;https://gghltd.atlassian.net/secure/attachment/23875/Screenshot+2021-11-28+at+10.56.32.png,,,,,,,,,,,,"*Given*: An OPTION_LIST question and multivalued=false
*Then*: The font and weight are correct as per the style guide as a drop down list
*and*: Question text and help text are laid out correctly
*and*: The error state is represented correctly
*and*: The control is the right size for the page
*and:* Answer options are shown as per the style guide

*Given*: An OPTION_LIST question and multivalued=true
*Then*: The SHORT_LIST question control is used instead",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,OPTION_LIST question type,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwik1:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,Guardian Sprint 6,,,,,14/Nov/21 5:13 PM,,3.0,,,,,,,,,,,,,,,,,,"* Will need to be added to the DEV_RULESET for both multivalued and not
* I have an outstanding question with [~accountid:60cc71a3dae56700689f920a]  around what the display should look like for an option list where no value has been selected.  I’ll pick this up in another ticket…",,,,,,,,,,,,,,,2021-12-09 16:42:11.577,"07/Dec/21 10:35 AM;60cc71a1d5dde800713a2124;[~accountid:6139c4f3e2a0d60069cf8994]  - my apologies, I should have specified in the a/c.  Can we add a “Please select” at the top of the option list displayed for all option lists when we show the control?  This acts as if no answer is selected..","09/Dec/21 4:42 PM;6139c49114e8340071fcda09;I’ve added the DRESS_SIZE question to TEST_EL in the Guardian ruleset, so it can be triggered even for a man/woman inside the BMI limits. It appears as expected both on the add client screens and within the underwriting journey, and is persisted in underwriting as expected.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Cover edit on decision screen,NBJ-681,40452,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,13/Nov/21 5:16 PM,21/Jan/22 4:55 PM,02/Feb/22 6:31 PM,21/Jan/22 4:55 PM,,Foundation Release,,Sprint_9,,,"*As* an advisor 
*I want* to be able to edit covers on the decision screen
*So that* I can adjust the cover to suit my client 

!Screenshot 2022-01-16 at 13.30.11.png|width=1261,height=664!",,Chris.Hibbert,Justin.Smith,,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,Hidden from EXL,NBJ-320,NBJ-1236,,,,,,,,,,,,,,,,,,,,,,,,,,,,,16/Jan/22 1:34 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2022-01-16 at 13.30.11.png;https://gghltd.atlassian.net/secure/attachment/25121/Screenshot+2022-01-16+at+13.30.11.png,16/Jan/22 1:41 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2022-01-16 at 13.40.34.png;https://gghltd.atlassian.net/secure/attachment/25122/Screenshot+2022-01-16+at+13.40.34.png,20/Jan/22 3:40 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220120-153943.png;https://gghltd.atlassian.net/secure/attachment/25239/image-20220120-153943.png,20/Jan/22 4:11 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220120-161124.png;https://gghltd.atlassian.net/secure/attachment/25240/image-20220120-161124.png,20/Jan/22 4:48 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220120-164415.png;https://gghltd.atlassian.net/secure/attachment/25243/image-20220120-164415.png,21/Jan/22 3:50 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220121-154841.png;https://gghltd.atlassian.net/secure/attachment/25291/image-20220121-154841.png,21/Jan/22 3:50 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220121-154949.png;https://gghltd.atlassian.net/secure/attachment/25290/image-20220121-154949.png,,,,,,"*Given*: An application with covers
*When*: Viewing the decision screen
*Then*: each cover has an edit button after the cover name

!Screenshot 2022-01-16 at 13.40.34.png|width=1167,height=253!



*Given*: A cover on the decision screen
*When*: editing the cover
*Then*: the following can be edited for that cover only

* Type of cover
* Cover Amount
* Term or Until (age)

*and*: all other edit buttons are disabled
*and*: you can still remove the cover
*and*: all prices and commission are greyed out
*and*: the decision for the edited cover is no longer shown
*and*: the underwriting notes for the edited cover are removed
*and*: a Get price button is shown

*Given*: A cover on the decision screen
*When*: using Get price
*Then*: triggerDecisionQuote is called
*and*: the new decision and price is shown for all covers",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-122,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01bsb:p9,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,13/Nov/21 5:16 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-20 15:40:19.676,"20/Jan/22 3:40 PM;618bdfc5fba4d0006ad4853e;[~accountid:60cc71a1d5dde800713a2124] noticed that there is an issue with remove now.  So if you attempt to remove a single cover - trigger quote gets called and returns a 400 error - 

{{https://ggh-uwt-api.gghltest.co.uk/api/v1/actions/TriggerDecisionQuote/G000147904}}

\{""errors"":\[\{""errorMessage"":""This action requires all lives to have completed underwriting"",""propertyName"":""Id"",""attemptedValue"":""G000147904""}]}

Mike said the following - 

Ah yeh - if you look it calls trigger decision and that returns an error
So the f/e thinks nothing has happened, but the api has removed the cover. So on refresh the cover is actually removed
But because the API returned an error the f/e can't confirm that it should remove the cover from the screen

!image-20220120-153943.png|width=1896,height=988!","20/Jan/22 4:10 PM;618bdfc5fba4d0006ad4853e;I’m hitting an issue when I edit my life cover and change the type of cover to family income

When the close undewriting session is called it is returning a 422 unprocessable entity.

!image-20220120-161124.png|width=1911,height=960!

no new price is got.","20/Jan/22 4:23 PM;60cc71a1d5dde800713a2124;[~accountid:618bdfc5fba4d0006ad4853e]  - I think the remove issue relates to [https://gghltd.atlassian.net/browse/NBJ-1222|https://gghltd.atlassian.net/browse/NBJ-1222|smart-link].

For the other issue, please raise a bug in backlog for us to prioritise.","20/Jan/22 4:48 PM;618bdfc5fba4d0006ad4853e;Thanks [~accountid:60cc71a1d5dde800713a2124] raised [https://gghltd.atlassian.net/browse/NBJ-1238|https://gghltd.atlassian.net/browse/NBJ-1238|smart-link] about the cover type change.

Sorry [~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] any chance we can get some test data ids in for the buttons and increasing check box

!image-20220120-164415.png|width=1839,height=810!

Looks like on quote we are using 

{{ chkIncreasing = '.PrivateSwitchBase-input.css-1m9pwf3' }}

{{cy.get('button').contains(cover).should('not.be.disabled').click()}}

{noformat} switch (coverType) {
            case ""Level"":
                this.clickOnCoverType(""Level term/Increasing"")
                break
            case ""Increasing"":
                this.clickOnCoverType(""Level term/Increasing"")
                //Check the checkbox
                this.clickOnIncreasingCheckBox()
                break
            case ""Decreasing"":
                this.clickOnCoverType(""Decreasing"")
                break
            case ""Family"":
                this.clickOnCoverType(""Family income"")
                break
        }{noformat}

I'm not that keen on .contains as if text changes or that text appears on the page in multiple places it will cause issues.  Thanks.","21/Jan/22 3:47 PM;618bdfc5fba4d0006ad4853e;Also, seeing an issue where you can modify the amount and get an error but still click on ‘Get Price’.   If an error occurs then I would have thought that the ‘Get Price’ was not enabled.

Quote

!image-20220121-154841.png|width=1505,height=1030!

Decision

!image-20220121-154949.png|width=1458,height=955!

[~accountid:60cc71a1d5dde800713a2124] Will raise a bug on this unless you want this to be fixed in this ticket.","21/Jan/22 4:54 PM;618bdfc5fba4d0006ad4853e;There are issues - [https://gghltd.atlassian.net/browse/NBJ-1248|https://gghltd.atlassian.net/browse/NBJ-1248|smart-link], [https://gghltd.atlassian.net/browse/NBJ-1238|https://gghltd.atlassian.net/browse/NBJ-1238|smart-link] , [https://gghltd.atlassian.net/browse/NBJ-1249|https://gghltd.atlassian.net/browse/NBJ-1249|smart-link] but to get the initial capability to modify covers this is ok.  I would run a full regression when all stories and bugs are fixed.  Some of this has been automated so we have those in our back pocket to run.  Marking as done.",,,,,,,,,,,,,,,,,,,,,,,,,,Done
Orchestrate getting a price and decision when first visiting the decision screen,NBJ-680,40451,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,13/Nov/21 1:45 PM,13/Jan/22 11:21 AM,02/Feb/22 6:31 PM,13/Jan/22 11:21 AM,,Foundation Release,,Sprint_6,,,"*As an* API User
*So that* prices on the decision screen reflect the final underwriting for a life
*I want* the decision to be used when formulating any full quotes",,Chris.Hibbert,James Bartlett,Kevin.Amoa,,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,6149b160fac3ce0069d80d37,,,,,,,,,,,,Hidden from EXL,NBJ-878,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Jan/22 11:20 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/25016/LivingDoc.html,,,,,,,,,,,,"*Given*: An Application with any applicant having an underwriting session where isOpen=true
*When*: Calling the new action endpoint
*Then*: An error is returned “This action requires all lives to have completed underwriting”

*Given*: An Application with closed underwriting sessions
*When*: A decision is triggered for that application
*Then*: This quote includes the full FAT underwriting decision for all covers

*Given*: A declined or postponed cover
*When*: triggering the quote against Lissia
*Then*: The cover is not included in any quote request to Lissia
*And*: The cover is returned with a zero premium and zero commission

*Given*: A successful quote with a final decision
*Then*: The decision and reason text is persisted against each cover
*and:* The decision quote is stored in cosmos",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-122,,,,,,,,,,,,,,,,None,,"Orchestrate:

* triggerDecisionQuote?
* Can only be triggered if all lives are closed UW
* Get Decision for all covers
* Get Quote using decision above
* Persist decision + decision text
* Filter decline/postpone and treat as £0",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009f,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,Guardian Sprint 7,,,,,13/Nov/21 1:45 PM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-15 10:02:41.193,"12/Dec/21 4:23 PM;60cc71a1d5dde800713a2124;[~accountid:6149b160fac3ce0069d80d37] - Just to help me plan the rest of the sprint, do you have an ETA on this one?",15/Dec/21 10:02 AM;6149b160fac3ce0069d80d37;with the URI /api/v1/actions/TriggerDecisionQuote/\{applicationId},"13/Jan/22 9:56 AM;6139c49114e8340071fcda09;(flag) Flag added

Just need confirmation on messages in Cosmos",13/Jan/22 11:21 AM;6139c49114e8340071fcda09;small issue with ids in the messages stored in Cosmos which I’ll raise separately.,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Action Service - orchestrate application/underwrite calls,NBJ-679,40449,38242,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Jon Reynolds,616ee20e2097220071a975d2,Jon Reynolds,616ee20e2097220071a975d2,Jon Reynolds,616ee20e2097220071a975d2,12/Nov/21 9:48 PM,17/Nov/21 8:30 AM,02/Feb/22 6:31 PM,17/Nov/21 8:30 AM,,,,,,,,,Jon Reynolds,,,,,,,616ee20e2097220071a975d2,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00ssv:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,,,,,12/Nov/21 9:48 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,38242,Update URE with cover information on cover create/update/delete,Done
Underwriting service - Update Applicant Covers endpoint,NBJ-678,40448,38242,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Jon Reynolds,616ee20e2097220071a975d2,Jon Reynolds,616ee20e2097220071a975d2,Jon Reynolds,616ee20e2097220071a975d2,12/Nov/21 9:47 PM,16/Nov/21 9:01 AM,02/Feb/22 6:31 PM,16/Nov/21 9:01 AM,,,,,,,,,Jon Reynolds,,,,,,,616ee20e2097220071a975d2,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00ssn:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,,,,,12/Nov/21 9:47 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,38242,Update URE with cover information on cover create/update/delete,Done
Add 2nd life to underwriting display,NBJ-677,40447,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,12/Nov/21 9:02 PM,26/Nov/21 7:11 PM,02/Feb/22 6:31 PM,26/Nov/21 7:11 PM,,Foundation Release,,,,,"*As an* adviser
*So that* I can get my clients underwritten
*I want* to be able to complete separate underwriting for each life in the application

We need to layer in the life tabs in the underwriting section and display underwriting for the 2nd life if on the application.

 !Screenshot 2021-11-13 at 13.03.16.png|thumbnail! 
",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,NBJ-845,,,,,,,,,,,13/Nov/21 1:04 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-11-13 at 13.03.16.png;https://gghltd.atlassian.net/secure/attachment/23536/Screenshot+2021-11-13+at+13.03.16.png,13/Nov/21 1:08 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-11-13 at 13.06.26.png;https://gghltd.atlassian.net/secure/attachment/23537/Screenshot+2021-11-13+at+13.06.26.png,,,,,,,,,,,"*Given*: An application with 1 applicant
*When*: Displaying the underwriting page
*Then*: The tabbed display for lives is shown
*And*: The applicant 1 name is shown with a link that returns the user to the client details screen
*and*: The 2nd tab shows Add person and the link takes a user back to the client details screen
 !Screenshot 2021-11-13 at 13.06.26.png|thumbnail! 

*Given*: An application with 2 applicants
*When*: Displaying the underwriting page
*Then*: The tabbed display for lives is shown
*And*: each tab shows the applicant names with a link that returns the user to the client details screen

*Given*: An application with 2 applicants
*When*: Selecting the 2nd applicant on the underwriting page
*Then*: The underwriting details and sections for that applicant are shown
*And*: Any question updates only apply to that applicant


",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00plb:m,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,12/Nov/21 9:02 PM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Nov/21 7:11 PM;60cc71a1d5dde800713a2124;Tested in UWT - works perfectly.  Raised a bug into the backlog around some inconsistent navigation that can be picked up later.

Tested single lives

Tested joint lives (including product totals and pre-pop from the app), independence of answers between lives, adding covers later.  All working correctly.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Show / Hide 2nd life contact details,NBJ-676,40446,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,12/Nov/21 9:02 PM,02/Dec/21 1:17 PM,02/Feb/22 6:31 PM,02/Dec/21 1:17 PM,,Foundation Release,,,,,"*As an* adviser
*So that* I can set the contact details for my client/s
*I want* to be able to see contact details for the right number of clients in the application on the contact details screen",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Dec/21 1:17 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-02 at 13.12.01.png;https://gghltd.atlassian.net/secure/attachment/23993/Screenshot+2021-12-02+at+13.12.01.png,02/Dec/21 1:17 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-02 at 13.13.12.png;https://gghltd.atlassian.net/secure/attachment/23992/Screenshot+2021-12-02+at+13.13.12.png,,,,,,,,,,,"*Given*: An application with 1 applicant
*When*: Displaying the contact details page
*Then*: only the contact details for the 1 applicant are shown
*And*: The mortgage related question is still shown 

*Given*: An application with 2 applicants
*When*: Displaying the contact details page
*Then*: contact details for both applicants are shown
*And*: The mortgage related question is still shown",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00ple:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,12/Nov/21 9:02 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Dec/21 1:17 PM;60cc71a1d5dde800713a2124;Tested in UWT, screenshots of single and joint life views attached.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Display 2nd life on quote screen and allow products to be added,NBJ-675,40445,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,12/Nov/21 9:01 PM,30/Nov/21 10:41 AM,02/Feb/22 6:31 PM,30/Nov/21 10:40 AM,,Foundation Release,,,,,"*As an* adviser
*So that* I can select the covers for all of my clients
*I want* to be able to see both lives on the quote screen and add the relevant covers for them



{color:#ff5630}*The intention here is that a user can only switch between lives on the screen if all the covers for the life you are switching from are in a valid state (have no validation errors) or the life you are switching from has no covers.*{color}",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,30/Nov/21 10:41 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-11-30 at 10.41.25.png;https://gghltd.atlassian.net/secure/attachment/23921/Screenshot+2021-11-30+at+10.41.25.png,,,,,,,,,,,,"*Given*: An application with 1 applicant
*When*: Displaying the quote page
*Then*: The tabbed display for lives is shown
*And*: The applicant 1 name is shown with a link that returns the user to the client details screen
*and*: The 2nd tab shows Add person and the link takes a user back to the client details screen

*Given*: An application with 2 applicants
*When*: Displaying the quote page
*Then*: The tabbed display for lives is shown
*And*: each tab shows the applicant names with a link that returns the user to the client details screen

*Given*: An application with 2 applicants and the currently viewed applicant is in a valid state (either has no covers or if they have covers, all are in a valid state)
*When*: Selecting the other applicant on the quote page
*Then*: Any existing covers for that applicant are shown

*Given*: An application with 2 applicants
*When*: On the 2nd applicant tab and selecting Add Cover
*Then*: Covers can be added to that applicant",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00plb:r,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,12/Nov/21 9:01 PM,,5.0,,,,,,,,,,,,,,,,,,Make sure all the product total questions are filled in (NBJ-278),,,,,,,,,,,,,,,,"30/Nov/21 10:41 AM;60cc71a1d5dde800713a2124;Tested in UWT with multiple combinations of lives and covers.

Lives added both before and after covers added.

All working as expected",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Underwriting questions of type INTEGER do not render,NBJ-674,40444,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,High,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,12/Nov/21 7:09 PM,20/Nov/21 2:58 PM,02/Feb/22 6:31 PM,15/Nov/21 4:45 PM,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,12/Nov/21 7:08 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-11-12 at 19.08.33.png;https://gghltd.atlassian.net/secure/attachment/23533/Screenshot+2021-11-12+at+19.08.33.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Description of Issue:* If you have a question of type INTEGER then they do not render and cannot be answered

*Business Impact*: No user can complete underwriting

*Steps to Reproduce:* If you go to the first page of underwriting on the GUARDIAN branch and answer the PRODUCT question as LIFE you will see a number of INTEGER questions.

*Expected Results:* Questions of type INTEGER should be the same as questions of type NUMBER

*Actual Result:* No answer field is visible though the question text can be seen

 !Screenshot 2021-11-12 at 19.08.33.png|thumbnail! ",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8xb,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,,,,,,12/Nov/21 7:09 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
"Quote response - quoteAgeDate is returned with an extra ""+00:00"" suffix",NBJ-673,40435,,Bug,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Low,,Chris.Hibbert,60cc71a1d5dde800713a2124,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,12/Nov/21 4:14 PM,17/Dec/21 5:16 PM,02/Feb/22 6:31 PM,,,,,,,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,12/Nov/21 4:10 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;default_quote_request.json;https://gghltd.atlassian.net/secure/attachment/23526/default_quote_request.json,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: when a quote is requested, the quoteAgeDate is changed when it is replayed in the quote response. This does not follow the agreed date/time format and has regressed.

Business Impact: unknown, unlikely to have any.

Steps to Reproduce: make a POST request with the attached body to https://ggh-uwt-api.gghltest.co.uk/api/v1/quote

Expected Results: the response quoteAgeDate is ""2020-12-13T00:00:00""

Actual Result: the response quoteAgeDate is ""2020-12-13T00:00:00+00:00""

Version: unknown",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00u0m:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,12/Nov/21 4:14 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Update application in Salesforce on closing the underwriting session,NBJ-670,40431,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Ian.Douglas,5e183e85c578120daca5bc7b,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,12/Nov/21 3:45 PM,02/Feb/22 12:08 PM,02/Feb/22 6:31 PM,02/Feb/22 12:08 PM,,Foundation Release,,Sprint_6,,,"*As a* Salesforce user
*So that* I can see application decisions as soon as uw applicant questions are complete
*I want* the application, applicant, applicant covers and decision updated on Salesforce",,Antony.Gorman,Chris.Hibbert,Ian.Douglas,Jim Houghton,Justin.Smith,Mike,mike hill,6149b13472728e006f9441d6,60cc71a1d5dde800713a2124,5e183e85c578120daca5bc7b,60cc71a22bd21400692fd2af,618bdfc5fba4d0006ad4853e,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,5d94816eefc9290c2e625a11,,,,,,,,Hidden from EXL,NBJ-811,NBJ-1204,,,,,,,,,,,NBJ-68,,,,,,,,NBJ-1314,,,,,,,,,,19/Jan/22 2:41 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;NBJ-670-Discrepencies.xlsx;https://gghltd.atlassian.net/secure/attachment/25203/NBJ-670-Discrepencies.xlsx,25/Jan/22 9:29 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;decision-applicant-one.json;https://gghltd.atlassian.net/secure/attachment/25361/decision-applicant-one.json,25/Jan/22 9:31 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;decision-applicant-two.json;https://gghltd.atlassian.net/secure/attachment/25363/decision-applicant-two.json,18/Jan/22 3:33 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220118-152757.png;https://gghltd.atlassian.net/secure/attachment/25170/image-20220118-152757.png,18/Jan/22 3:33 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220118-152927.png;https://gghltd.atlassian.net/secure/attachment/25169/image-20220118-152927.png,19/Jan/22 3:20 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220119-150848.png;https://gghltd.atlassian.net/secure/attachment/25209/image-20220119-150848.png,19/Jan/22 3:20 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220119-150930.png;https://gghltd.atlassian.net/secure/attachment/25208/image-20220119-150930.png,20/Jan/22 11:42 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220120-113955.png;https://gghltd.atlassian.net/secure/attachment/25224/image-20220120-113955.png,21/Jan/22 9:45 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220121-093945.png;https://gghltd.atlassian.net/secure/attachment/25252/image-20220121-093945.png,,,,"*Given* an applicant with uw questions complete
*When* closing uw session
*And* latest quote available (new quote required if all sessions are closed)
*And* status is updated (status needs to updating prior to sending data to Salesforce)
*Then* post *nbj*.*applicant.ureDecision* event to the ACL for salesforce
*And* provide application data
*And* provide quote data
*And* provide risk decision data",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-125,,,,,,,,,,,,,,,,None,,"Add new endpoint to orchestrate closing an underwriting session. Add to ActionService:

*Request*

{code:json}POST /api/v1/actions/AcceptUwDeclaration
{
  ""applicationId"": ""{{applicationId}}"",
  ""applicantId"": ""{{applicantId}}""
}{code}

*Command*

* Read the underwriting session for the applicant
* Check the underwriting session can be closed
* Close the underwriting session 
* Get the risk-level decision for the applicant -(ensure stp decision)-
* Raise a new event *nbj*.*applicant.ureDecision*
** Event payload:
*** Application
*** Array of UnderwritingOutcomes populated with the underwritingOutcome of each applicant with a closed underwriting session

*Response - success*

{noformat}HTTP 200 OK{noformat}



*Event details*

post event type *nbj*.*applicant.ureDecision*

Provide the following data:

{code:json}{
  ""application"": {
    ""applicationId"": """",
    ""adviserAtFirmLocationId"": <adviserId>,
    ""applicationStatus"": ""Pre-quote | Quote | Apply | Decision | Underwriting | Went on Risk"",
    ""applicationStartDate"": ddmmyyyy,
    ""applicationExpiryDate"": ddmmyyyy,
    ""mortgageRelated"": true | false,
    ""thirdPartyRef"": ""adviserOwnRef?""
    ...
    ""applicants"":[
      {
        ""applicantId"": <guid>,
        ""title"": """",
        ""firstName"": """",
        ""lastName"": """",
        ""gender"": ""male | female"",
        ""smokerStatus"": <GUARDIAN smoker statuses>,
        ""uwStatus"": ""STP Decision | MUW Required""
        ...
        ""contactDetails"":{
          ""address1"": """",
          ""cityName"": """",
          ""county"": """",
          ""postcode"": """",
          ""email"": """",
          ""phone"": """",
          ...
        },
        ""covers"":{
          ""coverId"": <guid>,
          ...
        },
        ureDecision: { //Double check this is how risk decision is passed across
          ""riskType"": ""life | ci | tpd"",
          ""decision"": ""Standard Terms | Non standard Terms | Additional Evidence | Manual UW | Postponed | Declined"",
          ""reasons"": [<list of strings, giving reasons for decision>],
          ""upsell"": {
            ""isAllowed"": true | false, -- change to true | false
            ""amount"": 100000        
          },
          ""gioEntitlement"": true | false,
          ""disabilityDefinition"": ""Own | Activities"", // only tpd 
          ""postpone"": { // only present if decision POSTPONE or indicativeDecision POSTPONE
            ""max""{
              ""code"": """",
              ""text"": """",
              ""reasons"": """"
            },
            postpones: [
              {
                ""code"": """",
                ""text"": """",
                ""reasons"": ["""", """"]
              },
              ...
            ]
          },
          ""evidences"": [ // only present if decision EVIDENCE_REQUIRED | REFER
            {
              ""code"": """",
              ""text"": """",
              ""reasons"": ["""", """"]
            },
            ...
          ],
          ""exclusions"": [ // not present for DECLINE | POSTPONES
            {
              ""code"": """",
              ""text"": """",
              ""reasons"": ["""", """"],
              ""hasDiscount"": true | false,
              ""exclusionOrRemoval"": ""exclusion | removal"" // baking all possible answers into the field name?
            },
            ...
          ],
          ""em"": {  -- not present for STANDARD | DECLINE | POSTPONES
            ""totalRating"": 200, // the sum of all individual ratings 
            ""ratings"": [
              {
                ""rating"": 50,
                ""duration"": ""<time_period>"",
                ""reasons"": ["""", """"]
              },
              ...
            ]
          ],
          ""pm"": {  -- not present for STANDARD | DECLINE | POSTPONES
            ""totalRating"": 200, // the sum of all individual ratings 
            ""ratings"": [
              {
                ""rating"": 50,
                ""duration"": ""<time_period>"",
                ""reasons"": ["""", """"]
              },
              ...
            ]
         }
      }
    },
    {...}
  ] 
      },
      ...
    ],
    ""quote"": {
      ""applicationId"": """",
      ""adviserAtFirmLocationId"": <adviserId>,
      ""quoteAgeDate"": """",
      ""quoteExpiryDate"": ddmmyyyy,
      ""quotePremium"": 0.00,
      ""initialIndemnityPercentage"": 0-100,
      ""initialCommissionSacrificePercentage"": 0-100,
      ...
      ""quoteApplicants"":  [
        {
          ""applicantId"": <guid>,
          ""gender"": ""male | female"",
          ""smokerStatus"": <guardian smoker statuses>,
          ...,
          ""quoteCovers"": [
            {
              ""coverId"": <guid>,
              ""productType"": ""life | ci | aci | ccic"",
              ""coverType"": ""Increasing | Level | Decreasing | Family"",
              ""term"": 25,
              ""toAge"": 55,
              ""coverAmount"": 250000,
              ""premium"": 0.00,
              ""initialCommission"": 0.00,
              ...
            },
            {...}
          ],
          ...
        },
        ...
      ]
    }
  }
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwiib:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,Guardian Sprint 6,Guardian Sprint 7,Guardian Sprint 8,Guardian Sprint 9,,09/Nov/21 4:25 PM,,8.0,,,,,,,,,,,,,,,,,,"See [https://gghltd.atlassian.net/browse/NBJ-654|https://gghltd.atlassian.net/browse/NBJ-654|smart-link] for reading items from the queue.

[~accountid:618bdfc5fba4d0006ad4853e] -please ensure that if the active enquiry that is closed means all activeEnquiries are closed. then make sure that the quote information sent to Salesforce is the latest quote and that the application.status has been updated to Decision or Underwriting",,,,,,,,,,,,,,,2021-12-01 10:04:03.841,"01/Dec/21 10:04 AM;5d94816eefc9290c2e625a11;[~accountid:5e183e85c578120daca5bc7b] - I have updated the Risk Decision page (here: [https://gghltd.atlassian.net/wiki/spaces/NP/pages/3065839660/DecisionService+-+encapsulating+underwriting+outcomes#Underwriting-Workbench-Decision|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3065839660/DecisionService+-+encapsulating+underwriting+outcomes#Underwriting-Workbench-Decision|smart-link] ), to hold the link to the ure and muw elements of the JSON payload you are sending to salesforce. Once you have the overall JSON structure agreed, please let me know and I will updated the page again to show everything (and not just ure/muw elements).","15/Dec/21 3:02 PM;5e183e85c578120daca5bc7b;[~accountid:60cc71a22bd21400692fd2af] Just looked at this with Mike … excluding how exclusions are presented for the moment … I would expect decision to be a child of the applicant in the event structure, not an independent root element

i.e. 

{code:json}{
  ""application"": {
    ""applicationId"": """",
    ....
    ""applicants"":[
      {
        ""applicantId"": <guid>,
        ""decisionUre"": [
              {
              ""riskType"": ""life | ci | tpd"",
              ""decision"": ""Standard Terms | Non standard Terms | Additional Evidence | Manual UW | Postponed | Declined"",
              ""reasons"": [<list of strings, giving reasons for decision>],
              ""upsell"": {
                ""isAllowed"": true | false, -- change to true | false
                ""amount"": 100000
              }
          ],
      ...{code}

to be aligned to the Common Data Model","18/Jan/22 3:33 PM;618bdfc5fba4d0006ad4853e;I have closed an underwriting session -

{{https://ggh-uwt-api.gghltest.co.uk/api/v1/underwriting/6c84895f-0245-4aae-9867-e1f2c7e3b36b/close?embed=true}}

I then taken a look at the service bus but can only see messages for eventType - nbj.underwriting.start

{{""eventType"": ""nbj.underwriting.start"",}}

!image-20220118-152757.png|width=1913,height=738!

I have looked at the dead letter queue and can’t see any messages for this eventType *nbj*.*applicant.ureDecision*

!image-20220118-152927.png|width=1915,height=1017!

So I’m wondering if the messages are being sent to the service bus for *nbj*.*applicant.ureDecision*

The connection string I’m using  is -

Endpoint=sb://ggh-uwt.servicebus.windows.net/;SharedAccessKeyName=SalesforceSubscriptionAccessPolicy;SharedAccessKey=

[~accountid:6149b13472728e006f9441d6] is this were the message should be sent to?  Is there anyway I can tell they are being sent as I don’t see anything on the browser network tab for salesforce events.",18/Jan/22 3:38 PM;618bdfc5fba4d0006ad4853e;My application was - G000143557 {color:#ffffff}G000143557G000143557G000143557{color},18/Jan/22 3:41 PM;618bdfc5fba4d0006ad4853e;[~accountid:6149b13472728e006f9441d6] can you see any events being sent for *nbj*.*applicant.ureDecision* on the UWT environment as I can’t see anything on the service bus.,18/Jan/22 3:47 PM;6149b13472728e006f9441d6;as discussed you need to invoke via the action service to get the publishing etc.,"18/Jan/22 4:23 PM;618bdfc5fba4d0006ad4853e;Thanks [~accountid:6149b13472728e006f9441d6] .  [~accountid:60cc71a22bd21400692fd2af] is the frontend suppose to be calling this action endpoint at the post underwriting declaration stage as [~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5]  confirmed this is not happening at the moment.

_I don't think I was given an action to call for PostDec?_

_There's not one in our f/e code base, so we'll need to add it if it's required_

Happy to test just calling the endpoint directly for now.",18/Jan/22 5:38 PM;618bdfc5fba4d0006ad4853e;As discussed with [~accountid:60cc71a22bd21400692fd2af] he is going to raising some extra stories to cover the frontend and additional logic when the event is called on dual life.  Will test manually by hitting the endpoint for the moment.,"19/Jan/22 9:34 AM;618bdfc5fba4d0006ad4853e;So I have hit the endpoint manually using postman.  One important point is not to close the underwriting session before you call the action endpoint otherwise you get a 422 - Unprocessable Entity. [~accountid:6149b13472728e006f9441d6] is going to change this to a 412 - Precondition fail.  This is the code check - 

Ensure(Enquiry.CreateFor(session.Data).IsCloseable, $""Underwriting session for applicant \{applicantIdLiteral} is not closeable"");

Have to check the order that these calls are made when the call is triggered via the frontend.

So having not closed the underwriting session I hit the endpoint and it was successful.

The event was created and sent to salesforce.

{noformat}{
  ""id"": ""1c376b6e-e62b-4dd9-9ae7-06fb8fc015a7"",
  ""eventType"": ""nbj.applicant.ureDecision"",
  ""eventTime"": ""2022-01-19T09:29:42.3685937+00:00"",
  ""dataVersion"": ""1.0"",
  ""data"": {
    ""application"": {
      ""id"": ""G000146788"",
      ""isMortgageRelated"": false,
      ""adviserAtFirmLocationId"": ""a0r0E0000073fQ3QAI"",
      ""sourceApplication"": ""nbj2"",
      ""quoteAgeDate"": ""2022-01-19T00:00:00+00:00"",
      ""applicants"": [
        {
          ""id"": ""941ada81-548c-4d2d-9af4-7e2b43bde992"",
          ""title"": ""Mr"",
          ""firstName"": ""Justin"",
          ""lastName"": ""Smith"",
          ""dateOfBirth"": ""1990-11-19T00:00:00"",
          ""gender"": ""Male"",
          ""height"": 178.0,
          ""weight"": 88.0,
          ""covers"": [
            {
              ""id"": ""459e2084-6bd5-47a7-8a32-9f8b79e8818f"",
              ""guardianRefWithSuffix"": ""00000000-0000-0000-0000-000000000000"",
              ""productType"": ""life"",
              ""coverType"": ""level"",
              ""term"": 12,
              ""coverAmount"": 25000,
              ""childCovers"": []
            }
          ],
          ""acceptedPreUnderwritingDeclaration"": true
        }
      ],
      ""status"": ""pre-quote"",
      ""createdDate"": ""2022-01-19T00:00:00+00:00""
    },
    ""decision"": {
      ""applicantId"": ""941ada81-548c-4d2d-9af4-7e2b43bde992"",
      ""smokerStatus"": ""None in the last 5 years"",
      ""riskDecisions"": [
        {
          ""riskType"": 1,
          ""decision"": 1,
          ""decisionText"": ""Standard terms"",
          ""reasons"": [
            ""Alcohol_IFA"",
            ""Build"",
            ""CV_Risk_Calculator_Life"",
            ""Client_Details_Build_GFS"",
            ""Key_Info_IFA"",
            ""Max_Loading"",
            ""Non_Medical_Limits"",
            ""Tobacco_Use""
          ],
          ""upsell"": {
            ""isAllowed"": true,
            ""amount"": 550000
          },
          ""gioEntitlement"": true,
          ""exclusions"": [],
          ""evidences"": []
        }
      ]
    }
  }
}{noformat}","19/Jan/22 2:40 PM;618bdfc5fba4d0006ad4853e;I have completed a round of testing on a single life application with single and multiple covers and different underwriting outcomes.

The issues I have found so far are as follows:-

# You cannot trigger the {{AcceptUwDeclaration}} action from post underwriting declaration.  This has been reported to [~accountid:60cc71a22bd21400692fd2af] and he has raised - [https://gghltd.atlassian.net/browse/NBJ-1204|https://gghltd.atlassian.net/browse/NBJ-1204|smart-link] 
# The actual message and the example message on this ticket differ in some cases.  Attaching spreadsheet.  
## riskType and decision are numeric values in the actual message and not strings as in the example.  There is also an extra attribute called decisionText in the actual message.
## em cannot have a duration.  I think the example is incorrect.  Probably copy paste from pm as the rating is 200 - {{""em"": { -- not present for STANDARD | DECLINE | POSTPONES 78 ""totalRating"": 200, // the sum of all individual ratings 79 ""ratings"": [ 80 { 81 ""rating"": 50, 82 ""duration"": ""<time_period>"", 83 ""reasons"": ["""", """"] 84 }, 85 ... 86 ] 87 ],}}
## exclusions - the actual message has isRemoval and not exclusionOrRemoval
## I also gave a EM decision and a Evidence decision and only got the Evidence and no EM.  Reading the example it looks like I should get EM with evidence. {{""em"": { -- not present for STANDARD | DECLINE | POSTPONES}}","19/Jan/22 3:04 PM;60cc71a22bd21400692fd2af;riskType and decision - as numeric values is an issue

decisionText is fine

em with duration is only required for IP on URE so a low priority

isRemoval is correct the story is out of date

Evidence with an EM decision is require for Salesforce, but not for front end.  A wider project issue that needs to be addressed.","19/Jan/22 3:20 PM;618bdfc5fba4d0006ad4853e;Dual life looks ok when I make a request using the particular applicant id 

{noformat}{
 ""applicationId"": ""G000147039"",
 ""applicantId"": ""85cd9bf3-86ed-4f8c-9c4a-03ac64818788""
}{noformat}

!image-20220119-150848.png|width=498,height=523!

{noformat}{
 ""applicationId"": ""G000147039"",
 ""applicantId"": ""0ec1ec05-353e-471a-bcb8-dd62e90dc36b""
}{noformat}

!image-20220119-150930.png|width=606,height=563!

[~accountid:60cc71a22bd21400692fd2af] both applicants are listed at the top of the payload but we only get the decision for the relevant applicant as per the request applicant id.  I guess this as expected as the action service will be called per applicant confirming declaration.

Am I right in thinking I only need to raise an issue on riskType and decision at this stage?

More widely do we want to bloke this story until [https://gghltd.atlassian.net/browse/NBJ-1204|https://gghltd.atlassian.net/browse/NBJ-1204|smart-link] is complete or are you and [~accountid:60cc71a1d5dde800713a2124] not wanting to do that based on the workaround of reopening the underwriting session and directly hitting the the action endpoint.  I assume [~accountid:5e183e85c578120daca5bc7b] will want to look at these events in more detail inside salesforce and will need a way to trigger these through NBJ.",19/Jan/22 3:20 PM;6149b13472728e006f9441d6;[~accountid:60cc71a22bd21400692fd2af] [~accountid:618bdfc5fba4d0006ad4853e] Hey both - yeah I see the issue in the salesforce code - currently I haven’t tagged up the enums to be sent as strings when I fire them over the bus - if you push this back to me I will sort out.,20/Jan/22 9:23 AM;6149b13472728e006f9441d6;Pushed a fix for the enums showing in json as numbers - should be in UWT now.,"20/Jan/22 10:52 AM;618bdfc5fba4d0006ad4853e;All good.

Standard

{noformat}          ""riskType"": ""life"",
          ""decision"": ""Standard Terms"",
          ""riskType"": ""tpd"",
          ""decision"": ""Standard Terms"",{noformat}

Non standard - EM rating

{noformat}          ""riskType"": ""life"",
          ""decision"": ""Non standard Terms"",{noformat}

Non standard - PM rating

{noformat}""riskType"": ""life"",
          ""decision"": ""Non standard Terms"",{noformat}

Refer

{noformat}          ""riskType"": ""life"",
          ""decision"": ""Manual UW"",{noformat}

Evidence

{noformat}          ""riskType"": ""ci"",
          ""decision"": ""Additional Evidence"",{noformat}

Postpone

{noformat}          ""riskType"": ""life"",
          ""decision"": ""Postponed"",{noformat}

Decline

{noformat}          ""riskType"": ""life"",
          ""decision"": ""Declined"",{noformat}

{noformat}          ""riskType"": ""ci"",
          ""decision"": ""Declined"",{noformat}

Exclusion

{noformat}        ""riskType"": ""life"",
        ""decision"": ""Non standard Terms"",{noformat}","20/Jan/22 11:42 AM;618bdfc5fba4d0006ad4853e;Hi [~accountid:60cc71a22bd21400692fd2af], thanks for the catch up.  So I have answered all the questions and landed on the post-declaration underwriting page.  I then called the end point - \{\{action_url}}/api/v1/actions/AcceptUwDeclaration as will happen in the UI fix - [https://gghltd.atlassian.net/browse/NBJ-1204|https://gghltd.atlassian.net/browse/NBJ-1204|smart-link].  The decision event has an application status of - “quote” 

!image-20220120-113955.png|width=645,height=631!

As we discussed I believe this should be as per the decision outcome - decision or underwriting.  [~accountid:6149b13472728e006f9441d6] are we updating the application status as part of the call.

*And* status is updated (status needs to updating prior to sending data to Salesforce)",20/Jan/22 11:49 AM;60cc71a22bd21400692fd2af;Updating application status on closing an enquiry is covered by [https://gghltd.atlassian.net/browse/NBJ-879|https://gghltd.atlassian.net/browse/NBJ-879|smart-link],"20/Jan/22 11:56 AM;6149b13472728e006f9441d6;[~accountid:618bdfc5fba4d0006ad4853e] [~accountid:60cc71a22bd21400692fd2af] I don’t requote as that was added to the story after I did it.

Do I need to do that also?",20/Jan/22 11:58 AM;60cc71a22bd21400692fd2af;[~accountid:6149b13472728e006f9441d6] - You do need to requote only if the application.status = decision,20/Jan/22 11:59 AM;6149b13472728e006f9441d6;[~accountid:60cc71a22bd21400692fd2af] right o - yeah I didn’t do that. Will sort and repush asap.,"20/Jan/22 3:22 PM;6149b13472728e006f9441d6;further changes in latest push.

We now reuse the existing close session action (so it does all the other things instead of just closing the session).

If once closed the application is at Decision status we trigger quote to update everything and then we push what we have at that point to salesforce.","21/Jan/22 9:45 AM;618bdfc5fba4d0006ad4853e;I have completed all the questions through the frontend and called the AcceptUwDeclaration endpoint and I was expecting standard terms so a decision application status but I’m still seeing quote

!image-20220121-093945.png|width=616,height=605!

[~accountid:60cc71a22bd21400692fd2af] [~accountid:6149b13472728e006f9441d6] have I missed something here?  Is it best to wait until [~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5]   has implemented the frontend [https://gghltd.atlassian.net/browse/NBJ-1204|https://gghltd.atlassian.net/browse/NBJ-1204|smart-link] to call the API?","21/Jan/22 9:55 AM;6149b13472728e006f9441d6;[~accountid:618bdfc5fba4d0006ad4853e] [~accountid:60cc71a22bd21400692fd2af] Hey both we’re just chatting about all of this now. If you trigger a new quote it moves the app back quote status. We’re decided how to do all this now.



I think fire this back to me (again, sighs) until we resolve.",21/Jan/22 10:01 AM;618bdfc5fba4d0006ad4853e;Thanks [~accountid:6149b13472728e006f9441d6].  Sounds painful 😭 ,21/Jan/22 10:17 AM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;[~accountid:618bdfc5fba4d0006ad4853e] Also the UI doesn’t call the acceptUWdeclaration endpoint yet as it won’t work. [~accountid:616ee20e2097220071a975d2] is going to put together the single endpoint for TriggerDecisionQuote and the we can test if acceptUWdecision works with that.,21/Jan/22 11:06 AM;6149b13472728e006f9441d6;[~accountid:616ee20e2097220071a975d2] [~accountid:618bdfc5fba4d0006ad4853e] [~accountid:60cc71a22bd21400692fd2af] [~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] Hey all - just a note on the audit here that JR is picking this up as part of a set of wider changes across the actions related to quote triggers and session closures. cheers,21/Jan/22 5:15 PM;60cc71a1d5dde800713a2124;[~accountid:616ee20e2097220071a975d2] - as discussed on Friday I think this needs to be part of triggerDecisionQuote.,"25/Jan/22 9:28 PM;618bdfc5fba4d0006ad4853e;The {{nbj.applicant.ureDecision}} is called now on ‘Get Decision’

For standard terms, postpone, decline, exclusion, EM rating, PM rating I got an application status - decision

{{      ""status"": ""decision"",}}

and when I put in evidence or refer I get an application status - underwriting

{{      ""status"": ""underwriting"",}}

New quote is sent through

I have noticed that we have a quoteUnderwritingOutcomes in the message.  

""quoteUnderwritingOutcomes"": \[
\{
""productType"": ""life"",
""quoteExclusions"": \[]
}
]

[~accountid:60cc71a22bd21400692fd2af] I don’t think I was seeing this before and is not in the example above.  Is this now expected?

Attaching json for both candidates,","26/Jan/22 9:19 AM;618bdfc5fba4d0006ad4853e;I have spoken to [~accountid:60cc71a22bd21400692fd2af] regarding quoteUnderwritingOutcomes and we are ok with -

""quoteUnderwritingOutcomes"": \[
\{
""productType"": ""life"",
""quoteExclusions"": \[]
}
]

this is for when we will have exclusion discounts on quote.  Marking as done, but we need the Salesforce guys to verify they are happy with the message.  I believe this is covered in the e2e testing and the work [~accountid:5e183e85c578120daca5bc7b] is doing.",,,Done
Find client references in microservices,NBJ-669,40430,,Task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,12/Nov/21 3:02 PM,02/Feb/22 11:14 AM,02/Feb/22 1:44 PM,,,,,Backend_Dev,,,"As a back-end developer
I want to understand which versions of our microservice client libs are used in the NBJ solution
So that I can update microservices when I make a breaking change in another service",,Jon Reynolds,Sam Gamble,,,,,,616ee20e2097220071a975d2,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,Need to run a script that queries the .csproj file for each microservice.,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00spj:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,12/Nov/21 3:02 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-02-02 11:14:23.497,02/Feb/22 11:14 AM;616ee20e2097220071a975d2;Internal dev tooling to establish the impact of change,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Align smoker data across services,NBJ-668,40429,,Task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,12/Nov/21 3:02 PM,12/Nov/21 11:55 PM,02/Feb/22 6:31 PM,,,,,,,,"There is a difference in smoker semantics between the ApplicationService and the QuoteService:

* ApplicationService
** Applicant.Smoker is an enum value that has a string value
* QuoteService
** QuoteApplicant.SmokerStatus is a string value that gets converted to a SmokerStatus enum value",,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"* Model the smoker status in the same way in the Applicant and QuoteApplicant
* In the ApplicationService Applicant {{public SmokerStatus? Smoker { get; set; }}}
* In the QuoteService QuoteApplicant {{public SmokerStatus? Smoker { get; set; }}}

Resulting in the quote request being change from this:

{code:json}POST /api/v1/quote
{
  ""quoteApplicants"": [
    { 
      ...
      ""smokerStatus"": ""Some long string describing the smoker status""
      ...
    }
  ]
}{code}

to this

{code:json}POST /api/v1/quote
{
  ""quoteApplicants"": [
    { 
      ...
      ""smoker"": ""Last12Months""
      ...
    }
  ]
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00spb:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,12/Nov/21 3:02 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Microservice deep health checks,NBJ-667,40414,,Task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Jason Hughes,613f60991370f00069033c68,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,12/Nov/21 10:09 AM,14/Dec/21 11:20 AM,02/Feb/22 6:31 PM,14/Dec/21 11:20 AM,,,,,,,"We need to determine two things about the health of each microservice:

# *Liveness* check - whether a microservice started up successfully
# *Readiness* check - whether a microservice is ready to service requests

Liveness check is already covered with the /health endpoint.

Need to add in a readiness check that does checks the dependent services, e.g. Cosmos, Lissia etc.",,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* a microservice
*When* the {color:#6554c0}+*liveness*+{color} route returns an HTTP 200
*Then* the microservice has started up successfully

*Given* a microservice
*When* the {color:#ff991f}+*readiness*+{color} route returns an HTTP 200
*Then* the microservice can access all of its dependencies and is ready to service requests",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,"Now there need to be *two* health check endpoints:

h3. 1. Liveness:

Request

{noformat}GET /health{noformat}

Response

{noformat}HTTP 200 OK
Healthy{noformat}

h3. 2. Readiness

Request

{noformat}GET /health/ready{noformat}

Response - healthy

{noformat}HTTP 200 OK
{ 
  ""status"": ""Healthy"", 
  ""checks"": [ 
    { 
      ""name"": ""{SUB_SYSTEM_NAME}"", // e.g. Cosmos
      ""status"": ""Healthy"",
      ""exception"": ""none"",
      ""duration"": ""00:00:00.0238535"" 
    } 
  ]
}{noformat}

Response - unhealthy

{noformat}HTTP 200 OK
{ 
  ""status"": ""Unhealthy"", 
  ""checks"": [ 
    { 
      ""name"": ""{SUB_SYSTEM_NAME}"", // e.g. Cosmos
      ""status"": ""Unhealthy"",
      ""exception"": ""The operation was canceled."""",
      ""duration"": ""00:00:00.0238535"" 
    } 
  ]
}{noformat}

Possible choices for implementing deep health checks:

* [https://github.com/Xabaril/AspNetCore.Diagnostics.HealthChecks|https://github.com/Xabaril/AspNetCore.Diagnostics.HealthChecks|smart-link] ",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00yd2:i,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,12/Nov/21 10:09 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Visiting the Lifestyle page causes all subsequent pages to show Lifestyle at the top,NBJ-666,40374,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,High,Done,Mike,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,10/Nov/21 6:05 PM,21/Nov/21 10:20 PM,02/Feb/22 6:31 PM,21/Nov/21 10:20 PM,,Foundation Release,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: Visiting the Lifestyle page causes all subsequent pages to show Lifestyle at the top

Business Impact: really poor underwriting journey

Steps to Reproduce:

# Add a life
# Add a cover
# Go through underwriting - click on Lifestyle
# Click on a different underwriting section, note that the Lifestyle questions are still displayed.  Note that any subsequent visit to Lifestyle will add them in again (and again…)

Expected Results: The visited underwriting section only displays when looking at the page",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00tqz:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,,,,,,10/Nov/21 6:05 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Sprint 4 - Gender missing on quote documents,NBJ-665,40351,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Jim Houghton,60cc71a22bd21400692fd2af,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,10/Nov/21 1:59 PM,20/Nov/21 2:58 PM,02/Feb/22 6:31 PM,10/Nov/21 2:21 PM,,Foundation Release,,,,,,,Andy Green,Nathan Punzalan,,,,,,6061ac5d00b79f0070aa4ad3,613f22fdff23ba00715469d1,,,,,,,,,,,,,Hidden from EXL,NBJ-417,NBJ-420,,,,,,,,,,,,,,,,,,,,,,,,,,,,,10/Nov/21 1:58 PM;nathan.punzalan;document (4).pdf;https://gghltd.atlassian.net/secure/attachment/23465/document+%284%29.pdf,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: 
When a quote document is generated the gender is missing.

Steps to Reproduce: 
1) Generate a quote document; POST a request to {{base_url_quote}}/api/v1/document/quote
with example body:
{
    ""applicants"": [
        {
            ""dateOfBirth"": ""1977-01-13T11:40:10.612Z"",
            ""firstName"": ""User1"",
            ""gender"": ""male"",
            ""heightft"": 5,
            ""heightInches"": 14,
            ""heightUnit"": ""imperial"",
            ""id"": ""5ceccbdb-4976-4fa8-a641-18b2970ba95e"",
            ""lastName"": ""Test"",
            ""smokerStatus"": ""None in last 12 months"",
            ""title"": ""Mr"",
            ""weightStones"": 14,
            ""weightPounds"": 3,
            ""weightUnit"": ""imperial""
        }
    ],
    ""quote"": {
        ""adviserAtFirmLocationId"": ""advisor"",
        ""applicationId"": ""G0000001"",
        ""discount"": 10.23,
        ""initialCommissionSacrificePercentage"": 15,
        ""initialIndemnityPercentage"": 10,
        ""lifetimePremium"": 12.2,
        ""premium"": 2322.22,
        ""quoteAgeDate"": ""2021-11-04T11:40:10.612Z"",
        ""quoteApplicants"": [
            {
                ""covers"": [
                    {
                        ""coverAmount"": 30000,
                        ""coverType"": ""decreasing"",
                        ""initialCommission"": 4.54,
                        ""initialEarningsPeriod"": 1,
                        ""isParentCoverForCcic"": true,
                        ""lifetimePremium"": 20.23,
                        ""premium"": 1670.34,
                        ""productType"": ""ci"",
                        ""renewalCommission"": 2.33,
                        ""term"": 3,
                        ""toAge"": 60,
                        ""unloadedPremium"": 10.99
                    }
                ],
                ""dateOfBirth"": ""2021-11-04T11:40:10.612Z"",
                ""gender"": 1,
                ""premium"": 230.33
            }
        ],
        ""quoteCreatedDate"": ""2021-11-04T11:40:10.612Z"",
        ""unloadedPremium"": 9.45
    }
}
2) Get the base64 string back; use a GET request to {{base_url_apim}}/api/v1/document/sojpAek8ljOKnWXUkOV1KFrvXV2bRUjYVHADMARq
3) Decode the base64 string (located in the data.document) into a PDF

Expected Results: 
Gender is shown in the PDF file matching what was given in the request.

Actual Result: 
Gender not shown in the output document. (See example attached)
 [^document (4).pdf] ",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,No,,1|i00s93:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,,,,,,10/Nov/21 1:59 PM,,,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-10 14:12:27.191,10/Nov/21 2:12 PM;6061ac5d00b79f0070aa4ad3;I’ve just double checked and Gender is not output on the Quote Document. We can close off this defect.,"10/Nov/21 2:21 PM;613f22fdff23ba00715469d1;Cool, sounds good, will close this defect and update the related ticket.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
On new quote update Salesforce,NBJ-664,40339,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,10/Nov/21 10:33 AM,24/Nov/21 7:27 PM,02/Feb/22 6:31 PM,,,,,,,,"As a Salesforce user
So that accurate price information is displayed in Salesforce
I want Salesforce updated each time a new quote is recieved",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,NBJ-218,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* an application that has previously been in the apply state
*When* quoting
*Then* post application.upsertQuote event
*And*  include renewed quote information",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-798,,,,,,,,,,,,,,,,None,,"*application.upsertQuote*

{noformat}""application"": {
  ""applicationId"": """",
  ""adviserAtFirmLocationId"": <adviserId>,
  ""applicationStatus"": ""Pre-quote | Quote | Apply | Decision | Underwriting | Went on Risk"",
  ""applicationStartDate"": ddmmyyyy,
  ""applicationExpiryDate"": ddmmyyyy,
  ""mortgageRelated"": true | false,
  ""thirdPartyRef"": ""adviserOwnRef?""
  ...,
  ""quote"": {
    ""applicationId"": """",
    ""adviserAtFirmLocationId"": <adviserId>,
    ""quoteAgeDate"": """",
    ""quoteExpiryDate"": ddmmyyyy,
    ""quotePremium"": 0.00,
    ""initialIndemnityPercentage"": 0-100,
    ""initialCommissionSacrificePercentage"": 0-100,
    ...
    ""quoteApplicants"":  [
      {
        ""applicantId"": <guid>,
        ""gender"": ""male | female"",
        ""smokerStatus"": <guardian smoker statuses>,
        ...,
        ""quoteCovers"": [
          {
            ""coverId"": <guid>,
            ""productType"": ""life | ci | aci | ccic"",
            ""coverType"": ""Increasing | Level | Decreasing | Family"",
            ""term"": 25,
            ""toAge"": 55,
            ""coverAmount"": 250000,
            ""premium"": 0.00,
            ""initialCommission"": 0.00,
            ...
          },
          {...}
        ],
        ...
      },
      ...
    ]
  }
}{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00u0j:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,10/Nov/21 10:33 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
On CRUD contact details update Salesforce,NBJ-663,40338,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,10/Nov/21 10:31 AM,28/Jan/22 11:42 AM,02/Feb/22 6:31 PM,,,,,,,,"*As a* Salesforce user
*So that* customer contact details are accurate in Salesforce
*I want* Salesforce updated each time contact details are updated",,Ian.Douglas,Jim Houghton,,,,,,5e183e85c578120daca5bc7b,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,NBJ-218,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* an application that has been in an apply state
*When* updating any applicant contact details
*Then* post *application.upsertContact* to Salesforce
*And* provide updated contact details",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-798,,,,,,,,,,,,,,,,None,,"*application.upsertContact* event



{noformat}To be updated{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00dle:v,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,10/Nov/21 10:31 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-28 11:42:57.733,28/Jan/22 11:42 AM;5e183e85c578120daca5bc7b;Orphan story?,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
On CRUD applicant update Salesforce,NBJ-662,40337,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,10/Nov/21 10:30 AM,28/Jan/22 11:41 AM,02/Feb/22 6:31 PM,,,,,,,,"*As a* Salesforce user
*So that* I can see applications with accurate applicant information
*I want* the applicant to be updated in Salesforce each time it is updated in NBJ",,Ian.Douglas,Jim Houghton,,,,,,5e183e85c578120daca5bc7b,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,NBJ-218,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* a NBJ application that has previously been through apply state
*When* CRUD of any applicant
*Then* post an *application.upsertApplication* event",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-798,,,,,,,,,,,,,,,,None,,"

{noformat}Needs to be updated{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00dle:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,10/Nov/21 10:30 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-28 11:41:23.328,28/Jan/22 11:41 AM;5e183e85c578120daca5bc7b;This looks like an orphan story,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
On CRUD cover update Salesforce,NBJ-658,40331,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,10/Nov/21 9:59 AM,24/Nov/21 7:27 PM,02/Feb/22 6:31 PM,,,,,,,,"*As a* Salesforce user
*So that* I can see applications with accurate cover information
*I want* the applicant covers updated in Salesforce",,,,,,,,,,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,NBJ-218,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* an application that has previously been through apply state
*And* quoteCovers have been updated
*When* quoteCover updated
*Then* post *application.upsertCover* event to the ACL for salesforce
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-798,,,,,,,,,,,,,,,,None,,"*application.upsertCover*

Provide the following data:

{code:json}""application"": {
  ""applicationId"": """",
  ""adviserAtFirmLocationId"": <adviserId>,
  ""applicationStatus"": ""Pre-quote | Quote | Apply | Decision | Underwriting | Went on Risk"",
  ""applicationStartDate"": ddmmyyyy,
  ""applicationExpiryDate"": ddmmyyyy,
  ""mortgageRelated"": true | false,
  ""thirdPartyRef"": ""adviserOwnRef?""
  ...
  ""applicants"":[
    {
      ...,
      ""covers"":{
        ""coverId"": <guid>,
        ""productType"": """",
        ""coverType"": """",
        ""term"": """",
        ""toAge"": """",
        ""coverAmount"": """"
      }
    },
    ...
  ],
  ...
  }
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00u0f:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,09/Nov/21 4:25 PM,,5.0,,,,,,,,,,,,,,,,,,Make sure you test all the acceptance criteria,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Provision and deploy one microservice to SIT,NBJ-655,40316,,Technical Story,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,mark.thurston@venture1consulting.com,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,09/Nov/21 4:33 PM,06/Dec/21 9:24 AM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"*What*
Work with Asta to deploy the QuoteService to SIT, and the service functions correctly.

*How*
Automate the provisioning and deployment of the QuoteService, using the same pipelines for UWT and SIT

*Why*
To eliminate the human element from the deployment process",,mark.thurston@venture1consulting.com,Sam Gamble,,,,,,557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"* The QuoteService is stood up and working in SIT
* For each deployment of the QuoteService artefact:
** new infrastructure is provisioned for the service
** the artefact is deployed to the new infrastructure
** the QuoteService can be accessed via an API Gateway, APIM
* The QuoteService is deployed uses the same pipeline for UWT and SIT, different inputs",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00s27:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,,,,,09/Nov/21 4:33 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-06 09:24:51.479,06/Dec/21 9:24 AM;557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96;Done as per acceptance criteria,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
On apply update Salesforce - Application,NBJ-654,40315,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,09/Nov/21 4:25 PM,11/Jan/22 9:50 AM,02/Feb/22 6:31 PM,15/Dec/21 3:43 PM,,Foundation Release,,Sprint_6,,,"*As a* Salesforce user
*So that* I can see applications as soon as the client is identifiable
*I want* the application, applicant and applicant covers added to Salesforce

NB - please complete a story kickoff with [~accountid:5e183e85c578120daca5bc7b]  and [~accountid:60cc71a22bd21400692fd2af] ",,Chris.Hibbert,Ian.Douglas,Jim Houghton,Justin.Smith,,,,60cc71a1d5dde800713a2124,5e183e85c578120daca5bc7b,60cc71a22bd21400692fd2af,618bdfc5fba4d0006ad4853e,,,,,,,,,,,Hidden from EXL,NBJ-662,NBJ-658,NBJ-664,NBJ-663,NBJ-704,,,,,,,,NBJ-310,,,,,,,,NBJ-1004,,,,,,,,,,13/Dec/21 5:04 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211213-170126.png;https://gghltd.atlassian.net/secure/attachment/24305/image-20211213-170126.png,,,,,,,,,,,,"*Given* an application with a valid quote
*And* contact details completed
*When* apply clicked (action from NBJ-704)
*Then* post *nbj.underwriting.start* event to the ACL for salesforce
*And* provide application data",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-125,,,,,,,,,,,,,,,,None,,"# service bus to be configured and deployed

2. Post event type *nbj.underwriting.start*

Provide the following data (all current application, applicant and quote data):

{code:json}{
    ""id"": ""32d69a5f-9b15-4374-a85b-10ee52ae8b32"",
    ""eventType"": ""nbj.underwriting.start"",
    ""eventTime"": ""2021-11-26T00:00:00"",
    ""dataVersion"": ""1.0"",
    ""data"": {
        ""application"": {
            ""id"": ""G111078934"",  
            ""portal"": ""Extranet"",  
            ""sourceApplication"": ""nbj1"",
            ""status"": ""apply"", 
            ""isAdvisedSale"": true,
            ""thirdPartyRef"": ""Plink"",
            ""isMortgageRelated"": false,
            ""applicationStartDate"": ""2021-11-26T00:00:00"",
            ""applicationApplyDate"": ""2021-11-26T00:00:00"",
            ""applicationExpiryDate"": ""2021-12-28T00:00:00"",
            ""quoteAgeDate"": ""2021-11-29T00:00:00+00:00"",             
            ""offerCreationDate"": """",
            ""preferredCollectionDate"": """",
            ""offerExpiryDate"": """",            
            ""policyStartDate"": """",
            ""bankAccountOwner"": ""John Smith"",
            ""bankAccountNumber"": ""12345678"", 
            ""bankSortCode"": ""102030"",
            ""isBankAddressSame"": false,
            ""adviserAtFirmLocationId"": ""a0r0E0000073fQ3QAI"",
            ""applicants"": [
                {
                    ""id"": ""32d69a5f-9b15-4374-a85b-10ee52ae8b32"",
                    ""status"": ""Questions Outstanding"",
                    ""policyReference"": """",
                    ""title"": ""Mr"",
                    ""firstName"": ""Sam"",
                    ""lastName"": ""Gamble"",
                    ""dateOfBirth"": ""1978-10-30T00:00:00"",
                    ""gender"": ""Male"",
                    ""contactDetails"": {
                        ""address1"": ""Flat 3"",
                        ""address2"": ""123 High Street"",
                        ""address3"": ""Trumpton"",                        
                        ""cityName"": ""Toytown"",
                        ""county"": """",
                        ""postcode"": ""AA1 2BB"",
                        ""emailAddress"": ""Sam.Gamble@somedomain.com"",
                        ""phoneNumber"": ""+441234999999""
                    },
                    ""height"": 178,
                    ""isHeightMetric"": true,
                    ""weight"": 88,
                    ""isWeightMetric"": true,
                    ""bmi"": 21,
                    ""waist"": 75,
                    ""isWaistMetric"": false,
                    ""occupation"": ""Accountant"",
                    ""dressSize"": 12,                    
                    ""isExistingCoverLife"": false,
                    ""isExistingCoverCi"": false,
                    ""annualIncome"": """",
                    ""questionsCompletedDate"": """",
                    ""smokerStatus"": ""None in the last 12 months"",
                    ""isAcceptedPreUnderwritingDeclaration"": false,                    
                    ""covers"": [
                        {
                            ""id"": ""6c9fd049-8243-4663-8b77-d792875ecc52"",
                            ""productType"": ""aci"",
                            ""coverType"": ""level"",
                            ""term"": 5,
                            ""toAge"": null,
                            ""toAgeTermMonths"": null,
                            ""coverAmount"": 60000,
                            ""monthlyBenefit"": null,
                            ""isPayoutPlannerUsed"": false                        
                        },
                        {
                            ""id"": ""f8d9cd8a-c788-4f68-baf7-507eef67c755"",
                            ""productType"": ""family"",
                            ""coverType"": ""increasing"",
                            ""term"": null,
                            ""toAge"": 65, 
                            ""toAgeTermMonths"": 265,                                                       
                            ""coverAmount"": null,
                            ""monthlyBenefit"": 5000,
                            ""isPayoutPlannerUsed"": false                     
                        }
                    ]
                }
            ],
            ""quote"": {
                ""id"": ""9dbce817-ee4f-4f3c-be88-4f0984c38ee7"",
                ""quoteCreatedDate"": ""2021-11-29T00:18:46.1664477+00:00"",
                ""quoteAgeDate"": ""2021-11-29T00:00:00+00:00"",
                ""quoteExpiryDate"": ""2021-12-28T00:00:00+00:00"",
                ""adviserAtFirmLocationId"": ""a0r0E0000073fQ3QAI"",
                ""initialIndemnityPercentage"": 100,
                ""initialCommissionSacrificePercentage"": 0,
                ""initialCommissionAmount"": ""2596.77"",
                ""premium"": 10.55,
                ""lifetimePremium"": 633,
                ""unloadedPremium"": 0,
                ""discount"": 0,
                ""quoteApplicants"": [
                    {
                        ""id"": ""32d69a5f-9b15-4374-a85b-10ee52ae8b32"",
                        ""dateOfBirth"": ""1978-10-30T00:00:00"",
                        ""gender"": ""Male"",
                        ""premium"": 25.55,
                        ""quoteCovers"": [
                            {
                                ""id"": ""6c9fd049-8243-4663-8b77-d792875ecc52"",
                                ""productType"": ""aci"",
                                ""toAge"": null,
                                ""coverAmount"": 60000,
                                ""coverType"": ""level"",
                                ""term"": 5,
                                ""premium"": 11.50,
                                ""unloadedPremium"": 11.50,
                                ""initialCommission"": 141.6,
                                ""initialEarningsPeriod"": 24,
                                ""renewalCommission"": 0.26,
                                ""lifeTimePremium"": 633,
                                ""childCovers"": []
                            },
                            {
                                ""id"": ""f8d9cd8a-c788-4f68-baf7-507eef67c755"",
                                ""productType"": ""life"",
                                ""coverType"": ""increasing"",
                                ""term"": null,
                                ""toAge"": 65,
                                ""toAgeTermMonths"": 265,
                                ""coverAmount"": null,
                                ""monthlyBenefit"": 5000,
                                ""premium"": 14.05,
                                ""unloadedPremium"": 10.55,
                                ""initialCommission"": 141.6,
                                ""initialEarningsPeriod"": 24,
                                ""renewalCommission"": 0.26,
                                ""lifeTimePremium"": 633,
                                ""childCovers"": []
                            }
                        ],
                        ""quoteUnderwritingOutcomes"": []
                    }                
                ]
            }
        }
    }
}{code}



3. Guaranteed delivery and delivery in order - so restful API on the service bus to check for a 200",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00plh:d,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,Guardian Sprint 6,,,,,09/Nov/21 4:25 PM,,13.0,,,,,,,,,,,,,,,,,,"Make sure you test all the acceptance criteria

[~accountid:6149b13472728e006f9441d6]  to show the service bus explorer so that you can check messages going onto the queue.",,,,,,,,,,,,,,,2021-11-12 17:48:53.861,"12/Nov/21 5:48 PM;5e183e85c578120daca5bc7b;[~accountid:60cc71a22bd21400692fd2af] some initial comments … 

{{""productType"": ""Life | Critical Illness | aci""}} should be as per data dictionary 

|productType|* {{life}}
* ci
* aci
* ccic|

{{""applicantId"": <guid>}} is Gref_n according to the data dictionary

|applicantId|* Derived from applicationId and adding suffixes:
** “_1” for first applicant
** “_2” for second applicant
** Etc|

application Status is missing","13/Dec/21 5:04 PM;618bdfc5fba4d0006ad4853e;With [~accountid:5e183e85c578120daca5bc7b] help I was able to see my messages going through to salesforce.  

I ran our automation test to add contact details and click on the underwrite button and this created application id {{G000097378}}

I then looked in the application hub - [https://unitev2-dev.gghltest.co.uk/environments/applicationdatauwt|https://unitev2-dev.gghltest.co.uk/environments/applicationdatauwt|smart-link] the microservice used for salesforce and could see my application

!image-20211213-170126.png|width=1920,height=619!

and the following message was sent

 

{noformat}{
  ""id"": ""465933bd-5e6b-43f8-9dfa-68a594b726af"",
  ""eventType"": ""nbj.underwriting.start"",
  ""eventTime"": ""2021-12-13T16:40:22.0492811+00:00"",
  ""dataVersion"": ""1.0"",
  ""data"": {
    ""application"": {
      ""id"": ""G000097378"",
      ""isMortgageRelated"": false,
      ""adviserAtFirmLocationId"": ""a0r0E0000073fQ3QAI"",
      ""sourceApplication"": ""SpaceBX"",
      ""quoteAgeDate"": ""2021-12-13T00:00:00+00:00"",
      ""applicants"": [
        {
          ""id"": ""61da2e3b-c2fc-41c3-9969-c3a5497a2312"",
          ""title"": ""Mr"",
          ""firstName"": ""Justin"",
          ""lastName"": ""Smith"",
          ""dateOfBirth"": ""1990-11-19T00:00:00"",
          ""gender"": ""Male"",
          ""height"": 178,
          ""weight"": 88,
          ""covers"": [
            {
              ""id"": ""697be27e-e05c-437a-b789-c58a05abf1e7"",
              ""guardianRefWithSuffix"": ""00000000-0000-0000-0000-000000000000"",
              ""productType"": ""ci"",
              ""coverType"": ""level"",
              ""term"": 12,
              ""coverAmount"": 20000,
              ""childCovers"": []
            }
          ],
          ""acceptedPreUnderwritingDeclaration"": false
        }
      ],
      ""quote"": {
        ""id"": ""33b7e0e7-0f27-48cf-a0e0-62b9a623f0b4"",
        ""quoteCreatedDate"": ""2021-12-13T16:40:19.127961+00:00"",
        ""quoteAgeDate"": ""2021-12-13T00:00:00+00:00"",
        ""adviserAtFirmLocationId"": ""a0r0E000004pFFfQAM"",
        ""initialIndemnityPercentage"": 0,
        ""initialCommissionSacrificePercentage"": 0,
        ""premium"": 7.66,
        ""lifetimePremium"": 1103.04,
        ""unloadedPremium"": 0,
        ""discount"": 0,
        ""quoteApplicants"": [
          {
            ""id"": ""61da2e3b-c2fc-41c3-9969-c3a5497a2312"",
            ""dateOfBirth"": ""1990-11-19T00:00:00"",
            ""gender"": ""Male"",
            ""premium"": 7.66,
            ""quoteCovers"": [
              {
                ""id"": ""697be27e-e05c-437a-b789-c58a05abf1e7"",
                ""productType"": ""ci"",
                ""coverType"": ""level"",
                ""coverAmount"": 20000,
                ""term"": 12,
                ""premium"": 7.66,
                ""unloadedPremium"": 7.66,
                ""initialCommission"": 205.44,
                ""initialEarningsPeriod"": 48,
                ""renewalCommission"": 0.19,
                ""lifeTimePremium"": 1103.04,
                ""childCovers"": []
              }
            ],
            ""quoteUnderwritingOutcomes"": []
          }
        ]
      },
      ""status"": ""apply""
    }
  }
}{noformat}



The payload doesn’t look quite the same as yours [~accountid:60cc71a22bd21400692fd2af] .  For example there is no start and expiry date.  Are these suppose to be there for a full fat quote?  Also, I believe the thirdpartyref has not been implemented as yet.  Would you mind reviewing to make sure you are happy with this. Thanks",14/Dec/21 9:32 AM;60cc71a22bd21400692fd2af;[~accountid:618bdfc5fba4d0006ad4853e] please can we pick up once [~accountid:5e183e85c578120daca5bc7b]  has completed his analysis of the data issues with the Salesforce integration.,14/Dec/21 12:25 PM;618bdfc5fba4d0006ad4853e;[~accountid:60cc71a1d5dde800713a2124] has confirmed only to test this direct with the apply application api.  The frontend has not been implemented yet.  I tried a few variations but updating [~accountid:6139c49114e8340071fcda09] api test to have the most fullest application I can.  I can provide the message that is sent later for [~accountid:5e183e85c578120daca5bc7b] to have a look at.  ,"14/Dec/21 1:48 PM;618bdfc5fba4d0006ad4853e;[~accountid:5e183e85c578120daca5bc7b] this is the fullest message I can create at the moment which is going to salesforce.  It has 2 applicants, one with just life and the other with life, ci and aci.  It has quote on it as well.  



{noformat}{
  ""id"": ""b75cf14b-ca96-4206-af10-f969aa53295c"",
  ""eventType"": ""nbj.underwriting.start"",
  ""eventTime"": ""2021-12-14T13:17:11.2694389+00:00"",
  ""dataVersion"": ""1.0"",
  ""data"": {
    ""application"": {
      ""id"": ""G000097584"",
      ""isMortgageRelated"": false,
      ""adviserAtFirmLocationId"": ""a0r0E0000073fQ3QAI"",
      ""sourceApplication"": ""SpaceBX"",
      ""quoteAgeDate"": ""2021-12-14T00:00:00+00:00"",
      ""applicants"": [
        {
          ""id"": ""fb0fe52c-7413-4c02-ad71-99b49b3253a5"",
          ""title"": ""Mr"",
          ""firstName"": ""Sam"",
          ""lastName"": ""Gamble"",
          ""dateOfBirth"": ""1978-10-30T00:00:00"",
          ""gender"": ""Male"",
          ""height"": 178.0,
          ""weight"": 88.0,
          ""covers"": [
            {
              ""id"": ""e1469425-979c-45b8-b33c-7ba0f0bfa071"",
              ""guardianRefWithSuffix"": ""00000000-0000-0000-0000-000000000000"",
              ""productType"": ""life"",
              ""coverType"": ""level"",
              ""term"": 5,
              ""coverAmount"": 100000,
              ""childCovers"": []
            }
          ],
          ""acceptedPreUnderwritingDeclaration"": false
        },
        {
          ""id"": ""cdd03d58-d8b8-44b7-8984-1af7cd274ae5"",
          ""title"": ""Mr"",
          ""firstName"": ""Sam"",
          ""lastName"": ""Gamble"",
          ""dateOfBirth"": ""1978-10-30T00:00:00"",
          ""gender"": ""Male"",
          ""height"": 178.0,
          ""weight"": 88.0,
          ""covers"": [
            {
              ""id"": ""a4edd167-1a93-4c69-a580-9fa1db94a9d2"",
              ""guardianRefWithSuffix"": ""00000000-0000-0000-0000-000000000000"",
              ""productType"": ""life"",
              ""coverType"": ""level"",
              ""term"": 5,
              ""coverAmount"": 100000,
              ""childCovers"": []
            },
            {
              ""id"": ""616a03af-fa81-440b-8587-53fdd3c221d3"",
              ""guardianRefWithSuffix"": ""00000000-0000-0000-0000-000000000000"",
              ""productType"": ""ci"",
              ""coverType"": ""level"",
              ""term"": 5,
              ""coverAmount"": 100000,
              ""childCovers"": []
            },
            {
              ""id"": ""969d5852-4b14-4ca7-8571-930336584025"",
              ""guardianRefWithSuffix"": ""00000000-0000-0000-0000-000000000000"",
              ""productType"": ""aci"",
              ""coverType"": ""level"",
              ""term"": 5,
              ""coverAmount"": 100000,
              ""childCovers"": []
            }
          ],
          ""acceptedPreUnderwritingDeclaration"": false
        }
      ],
      ""quote"": {
        ""id"": ""0af0bdce-02fa-429c-9be2-4f4e050cf598"",
        ""quoteCreatedDate"": ""2021-12-14T13:17:08.3709238+00:00"",
        ""quoteAgeDate"": ""2021-12-14T00:00:00+00:00"",
        ""adviserAtFirmLocationId"": ""a0r0E000004pFFfQAM"",
        ""initialIndemnityPercentage"": 0,
        ""initialCommissionSacrificePercentage"": 0,
        ""premium"": 161.71,
        ""lifetimePremium"": 9702.6,
        ""unloadedPremium"": 0.0,
        ""discount"": 0.0,
        ""quoteApplicants"": [
          {
            ""id"": ""fb0fe52c-7413-4c02-ad71-99b49b3253a5"",
            ""dateOfBirth"": ""1978-10-30T00:00:00"",
            ""gender"": ""Male"",
            ""premium"": 10.34,
            ""quoteCovers"": [
              {
                ""id"": ""e1469425-979c-45b8-b33c-7ba0f0bfa071"",
                ""productType"": ""life"",
                ""coverType"": ""level"",
                ""coverAmount"": 100000,
                ""term"": 5,
                ""premium"": 10.34,
                ""unloadedPremium"": 10.34,
                ""initialCommission"": 138.72,
                ""initialEarningsPeriod"": 24,
                ""renewalCommission"": 0.26,
                ""lifeTimePremium"": 620.4,
                ""childCovers"": []
              }
            ],
            ""quoteUnderwritingOutcomes"": []
          },
          {
            ""id"": ""cdd03d58-d8b8-44b7-8984-1af7cd274ae5"",
            ""dateOfBirth"": ""1978-10-30T00:00:00"",
            ""gender"": ""Male"",
            ""premium"": 151.37,
            ""quoteCovers"": [
              {
                ""id"": ""a4edd167-1a93-4c69-a580-9fa1db94a9d2"",
                ""productType"": ""life"",
                ""coverType"": ""level"",
                ""coverAmount"": 100000,
                ""term"": 5,
                ""premium"": 10.34,
                ""unloadedPremium"": 10.34,
                ""initialCommission"": 138.72,
                ""initialEarningsPeriod"": 24,
                ""renewalCommission"": 0.26,
                ""lifeTimePremium"": 620.4,
                ""childCovers"": []
              },
              {
                ""id"": ""616a03af-fa81-440b-8587-53fdd3c221d3"",
                ""productType"": ""ci"",
                ""coverType"": ""level"",
                ""coverAmount"": 100000,
                ""term"": 5,
                ""premium"": 70.99,
                ""unloadedPremium"": 70.99,
                ""initialCommission"": 952.08,
                ""initialEarningsPeriod"": 24,
                ""renewalCommission"": 1.78,
                ""lifeTimePremium"": 4259.4,
                ""childCovers"": []
              },
              {
                ""id"": ""969d5852-4b14-4ca7-8571-930336584025"",
                ""productType"": ""aci"",
                ""coverType"": ""level"",
                ""coverAmount"": 100000,
                ""term"": 5,
                ""premium"": 70.04,
                ""unloadedPremium"": 70.04,
                ""initialCommission"": 939.36,
                ""initialEarningsPeriod"": 24,
                ""renewalCommission"": 1.75,
                ""lifeTimePremium"": 4202.4,
                ""childCovers"": []
              }
            ],
            ""quoteUnderwritingOutcomes"": []
          }
        ]
      },
      ""status"": ""apply""
    }
  }
}{noformat}","14/Dec/21 1:57 PM;618bdfc5fba4d0006ad4853e;[~accountid:60cc71a22bd21400692fd2af] [~accountid:5e183e85c578120daca5bc7b] I have called the application apply on a number of applications.  Including one that was the fullest I could get with 2 applicants, first applicant with life and second applicant with life, ci and aci.  There is a quote for each cover.  I don't think that ccic works at the moment with quote.  The message was consumed from salesforce.  I attached it here for Ian to look at.  Is there anything else I can do on this ticket?  Ian and Jim can we catch up?",14/Dec/21 1:59 PM;618bdfc5fba4d0006ad4853e;I spoke to [~accountid:60cc71a22bd21400692fd2af] and he is going to catch up with [~accountid:5e183e85c578120daca5bc7b] to find out how he is getting on with his documentation and whether any issues need to be raised.  He has asked me to block and assign to him.,15/Dec/21 3:42 PM;60cc71a1d5dde800713a2124;[~accountid:618bdfc5fba4d0006ad4853e]  - I’ve discussed with [~accountid:60cc71a22bd21400692fd2af] .  The intention for this ticket is to get the application onto the salesforce queue .  Discrepancies in the common data model are all being handled by other tickets.,15/Dec/21 3:43 PM;618bdfc5fba4d0006ad4853e;[~accountid:60cc71a1d5dde800713a2124] sounds good.  Marking as done.,"15/Dec/21 6:57 PM;5e183e85c578120daca5bc7b;[~accountid:60cc71a1d5dde800713a2124] I’ve updated the sample messsage on this ticket for posterity but, having discussed with Sam, will raise defects against this ticket to deal with discrepancies in the event structure/content",,,,,,,,,,,,,,,,,,,,,,Done
Add Contact Details for applicants,NBJ-653,40314,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,09/Nov/21 4:17 PM,15/Dec/21 3:40 PM,02/Feb/22 6:31 PM,15/Dec/21 3:39 PM,,Foundation Release,,Sprint_6,,,"*As an* adviser
*So that* I can ensure my clients contact details are save correctly
*I want* these persisted against the application


",,Chris.Hibbert,Justin.Smith,,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Dec/21 9:46 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211202-214531.png;https://gghltd.atlassian.net/secure/attachment/24029/image-20211202-214531.png,14/Dec/21 11:44 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211214-114434.png;https://gghltd.atlassian.net/secure/attachment/24335/image-20211214-114434.png,15/Dec/21 10:23 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211215-102123.png;https://gghltd.atlassian.net/secure/attachment/24365/image-20211215-102123.png,,,,,,,,,,"*Given*: A user on the contact details screen
*When*: The user has completed contact details for an applicant
*Then*: Those contact details are persisted against the applicant

*Given*: A user on the contact details screen
*When*: The user has completed both email address fields
*Then* the email is validated using zero bounce",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,"

* Save the full contact details per applicant
* Zerobounce to be called from react when both email address fields completed

h4. Request

{noformat}POST /api/v1/application/{{application_id}}/applicant/{{applicant_id}}/contact{noformat}

h4. JSON Payload

{code:json}{
    ""address1"": ""46 Springfield Road"",
    ""address2"": ""optional"",
    ""address3"": ""optional"",
    ""city"": ""Guildford"",
    ""county"": ""Surrey"",
    ""postcode"": ""GU1 4DP"",
    ""email"": ""test@test.com"",
    ""telephone"": ""+44 01483 434234""
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zt,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,Guardian Sprint 6,,,,,09/Nov/21 4:17 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-02 16:23:52.824,"02/Dec/21 4:23 PM;618bdfc5fba4d0006ad4853e;Slight issue when trying to answer the mortgage question on the contact details tab.  You can’t.  I have spoken to [~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] about this and he told me the following -

I think i've found the issue - it's checking for a valid 2nd applicant, but if there's only 1 applicant it won't let you continue - I'll fix

I raised [https://gghltd.atlassian.net/browse/NBJ-888|https://gghltd.atlassian.net/browse/NBJ-888|smart-link] on this","02/Dec/21 5:32 PM;60cc71a1d5dde800713a2124;(flagoff) Flag removed

Issue related has been resolved.","02/Dec/21 9:46 PM;618bdfc5fba4d0006ad4853e;It looks like you can add address three on the page but this is not stored in the payload.

!image-20211202-214531.png|width=1529,height=727!

{noformat}{
    ""data"": {
        ""address1"": ""4 Chiltern Close"",
        ""address2"": ""address two"",
        ""city"": ""Haslemere"",
        ""county"": ""Surrey"",
        ""postcode"": ""GU27 3AD"",
        ""email"": ""justin.smith1327@gmail.com"",
        ""telephone"": ""07766667130""
    }
}{noformat}",14/Dec/21 11:33 AM;618bdfc5fba4d0006ad4853e;[https://gghltd.atlassian.net/browse/NBJ-903|https://gghltd.atlassian.net/browse/NBJ-903|smart-link] has been fixed.  Resuming test on this.,"14/Dec/21 11:44 AM;618bdfc5fba4d0006ad4853e;Something has regressed in this area as the underwrite button is enabled before selecting an answer to the mortgage question

!image-20211214-114434.png|width=1516,height=940!

I’m going to add this check to the automation test.",14/Dec/21 11:50 AM;618bdfc5fba4d0006ad4853e;We need to get [https://gghltd.atlassian.net/browse/NBJ-939|https://gghltd.atlassian.net/browse/NBJ-939|smart-link] fixed before this can be closed.,15/Dec/21 9:13 AM;618bdfc5fba4d0006ad4853e;[~accountid:6139c49114e8340071fcda09] has zero bounce been turned off now as I don’t see any validation on the email address.,"15/Dec/21 9:39 AM;60cc71a1d5dde800713a2124;Note I have removed the persisting of the mortgage related question for [https://gghltd.atlassian.net/browse/NBJ-1006|https://gghltd.atlassian.net/browse/NBJ-1006|smart-link] to come in next sprint.
I think [~accountid:6139c49114e8340071fcda09]  was testing hte zero bounce on/off yesterday which is probably why that no longer reports issues.","15/Dec/21 10:23 AM;618bdfc5fba4d0006ad4853e;Thanks [~accountid:60cc71a1d5dde800713a2124] .  I spoke to [~accountid:610c00d94e8d8d0069a20d6c]  and at the moment zero bounce is stubbed to always respond with a valid email response.

{noformat}{
    ""address"": ""sample.user@space-bx.co.uk"",
    ""status"": ""valid"",
    ""sub_status"": """",
    ""free_email"": false,
    ""did_you_mean"": null,
    ""account"": ""sam.gamble"",
    ""domain"": ""space-bx.co.uk"",
    ""domain_age_days"": null,
    ""smtp_provider"": ""microsoft"",
    ""mx_found"": ""true"",
    ""mx_record"": ""spacebx-co-uk01c.mail.protection.outlook.com"",
    ""firstname"": ""sam"",
    ""lastname"": ""gamble"",
    ""gender"": ""male"",
    ""country"": null,
    ""region"": null,
    ""city"": null,
    ""zipcode"": null,
    ""processed_at"": ""2021-11-18 22:12:07.773""
}{noformat}

so defo always saying the email address is valid

So I’m not sure that the AC on this ticket is correct at the moment -

*Given*: A user on the contact details screen
*When*: The user has completed both email address fields
*Then*: the email address is validated

Unless this is referring to checking the 2 email addresses are the same -

!image-20211215-102123.png|width=1366,height=544!

I’m sure I used to see invalid email address messages [~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] but maybe that was frontend validation that has been removed due to zero bounce coming in.","15/Dec/21 3:29 PM;60cc71a1d5dde800713a2124;[~accountid:618bdfc5fba4d0006ad4853e] - that AC was just reiterating the zero bounce validation, but that has all been tested under another ticket anyway. 👍 ","15/Dec/21 3:39 PM;618bdfc5fba4d0006ad4853e;Bye bye ticket.  I’m closing this down now as the contact details are persisted and zero bounce (although currently stubbed with a valid response) is called.

FYI [~accountid:60cc71a1d5dde800713a2124] ",15/Dec/21 3:40 PM;60cc71a1d5dde800713a2124;😭 - this ticket has been like an old and glorious relative that now needs to pass into the mists of time…,,,,,,,,,,,,,,,,,,,,Done
Move Product Service to its own repository,NBJ-652,40307,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Jason Hughes,613f60991370f00069033c68,Jason Hughes,613f60991370f00069033c68,Jason Hughes,613f60991370f00069033c68,09/Nov/21 2:42 PM,09/Nov/21 3:45 PM,02/Feb/22 6:31 PM,09/Nov/21 3:45 PM,,,,,,,"This will require

* New repository
* Develop branch with correct policies
* Source code copied over
* yaml pipeline files updated with new folder structure
* New Azure DevOps pipelines
* Old Azure DevOps pipelines deleted
* Old PR build policy removed from original repo
* Old code removed from NBJ-Microservices repo",,Jason Hughes,,,,,,,613f60991370f00069033c68,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,NBJ-646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00s07:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,08/Nov/21 3:29 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Map-reduce the UnderwriteMe model into our RiskDecision model,NBJ-651,40303,39458,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,09/Nov/21 1:33 PM,23/Nov/21 4:32 PM,02/Feb/22 6:31 PM,23/Nov/21 4:32 PM,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00rzb:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,,,,,09/Nov/21 1:33 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,39458,DecisionService - create a risk decision from a UME enquiry,Done
Read underwriting session using the UnderwritingService,NBJ-650,40302,39458,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,09/Nov/21 1:32 PM,23/Nov/21 4:32 PM,02/Feb/22 6:31 PM,23/Nov/21 4:32 PM,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00rz3:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,,,,,09/Nov/21 1:32 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,39458,DecisionService - create a risk decision from a UME enquiry,Done
Stand-up new DecisionService,NBJ-649,40301,39458,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Antony.Gorman,6149b13472728e006f9441d6,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,09/Nov/21 1:30 PM,15/Nov/21 9:40 AM,02/Feb/22 6:31 PM,15/Nov/21 9:40 AM,,,,,,,,,Antony.Gorman,James Bartlett,Sam Gamble,,,,,6149b13472728e006f9441d6,6139c49114e8340071fcda09,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00ryv:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,,,,,09/Nov/21 1:30 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-12 15:11:23.538,12/Nov/21 3:11 PM;6149b13472728e006f9441d6;service isn’t starting up correctly,12/Nov/21 3:43 PM;6149b13472728e006f9441d6;you can see it lives at the health check end point [https://wa-uwt-decisionservice.azurewebsites.net/health|https://wa-uwt-decisionservice.azurewebsites.net/health],15/Nov/21 9:40 AM;6139c49114e8340071fcda09;healthcheck verified,,,,,,,,,,,,,,,,,,,,,,,,,,,39458,DecisionService - create a risk decision from a UME enquiry,Done
Oddities with imperial / metric conversion,NBJ-648,40292,37552,Story bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,High,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,09/Nov/21 11:18 AM,11/Nov/21 6:16 PM,02/Feb/22 6:31 PM,11/Nov/21 6:16 PM,,,,,,,,,Chris.Hibbert,Mike,,,,,,60cc71a1d5dde800713a2124,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: A couple of small issues with the imperial / metric conversion for HEIGHT

Business Impact: The customer’s answer is getting changed - this isnt allowed to ever happen

Steps to Reproduce: 

# Answer the HEIGHT question as imperial 5' 11”
# Check the metric equivalent (1.803m)
# Change your answer back to imperial … note you are now 5' 10”

Expected Results: Your imperial height should stay as displayed

Actual Result: Your height is getting changed



I suspect the actual answer here is to model the metric as lots of decimal places, but only ever display 2 d.p. to the user.  Currently we are displaying as 3 d.p. and we could lose detail in the answer. The URE will handle 5/6 d.p if that helps.",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00rxb:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,Guardian Sprint 4,,,,,09/Nov/21 11:18 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-09 19:44:17.181,09/Nov/21 7:39 PM;60cc71a1d5dde800713a2124;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] - we should only be *displaying* 2 decimal places.  What we use for the URE can remain as 5 d.p. but its not good for a user to see that we think they are 1.80340m tall.,09/Nov/21 7:44 PM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;[~accountid:60cc71a1d5dde800713a2124] I’ll have a look and check if I can round and then maintain the larger decimal figure to do the conversions,,,,,,,,,,,,,,,,,,,,,,,,,,,,37552,Special styling for HEIGHT question,Done
Height unit selection not remembered on navigating,NBJ-647,40291,37552,Story bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,09/Nov/21 11:17 AM,09/Nov/21 7:37 PM,02/Feb/22 6:31 PM,09/Nov/21 7:37 PM,,,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: After selecting the unit for the HEIGHT question, upon navigating away and back to the page, it always sets back to Metric, even if you chose Imperial

Steps to Reproduce: 

# Answer the question as Imperial
# Navigate to a different section
# Navigate back to the Personal page and look at the HEIGHT question

Expected Results: If Imperial has been selected, this should be replayed as the selected unit

Actual Result: Question always defaults to show in Metric",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00rx3:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,Guardian Sprint 4,,,,,09/Nov/21 11:17 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,37552,Special styling for HEIGHT question,Done
Move Quote Service to its own repository,NBJ-646,40277,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Jason Hughes,613f60991370f00069033c68,Jason Hughes,613f60991370f00069033c68,Jason Hughes,613f60991370f00069033c68,08/Nov/21 3:29 PM,09/Nov/21 2:42 PM,02/Feb/22 6:31 PM,08/Nov/21 5:26 PM,,,,,,,"This will require

* New repository
* Develop branch with correct policies
* Source code copied over
* yaml pipeline files updated with new folder structure
* New Azure DevOps pipelines
* Old Azure DevOps pipelines deleted
* Old PR build policy removed from original repo
* Old code removed from NBJ-Microservices repo",,Jason Hughes,,,,,,,613f60991370f00069033c68,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00rtz:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,08/Nov/21 3:29 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Add accordions to Additional screen,NBJ-642,40249,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,08/Nov/21 8:23 AM,20/Jan/22 3:44 PM,02/Feb/22 6:31 PM,14/Dec/21 10:39 AM,,Foundation Release,,Sprint_10,,,"*As a* User
*I want* to have different conditions on the Additional screen expandable / collapsible
*So that* I see only the questions relevant to a particular condition when I want them

On the “Additional” section in underwriting (and only this section) we want to show accordions to differentiate between the different enquirylines

!Screenshot 2021-11-29 at 14.11.38.png|width=994,height=933!



* There is an indicator that shows if you have questions outstanding within a section on this page
* When you visit the page, all collapsed by default other than the first section with outstanding questions
* Don’t worry about auto collapsing when you finish an enquiryLine",,Chris.Hibbert,Nathan Punzalan,,,,,,60cc71a1d5dde800713a2124,613f22fdff23ba00715469d1,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-1237,,,,,,,,,,29/Nov/21 2:12 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-11-29 at 14.11.38.png;https://gghltd.atlassian.net/secure/attachment/23900/Screenshot+2021-11-29+at+14.11.38.png,13/Dec/21 1:25 PM;nathan.punzalan;image-20211213-132439.png;https://gghltd.atlassian.net/secure/attachment/24295/image-20211213-132439.png,,,,,,,,,,,"*Given:* Underwriting for an applicant with an “Additional” section
*When:* Displaying the additional section
*Then:* each enquiryLine in the section has its contents within an accordion (preamble and questions)
*and:* the accordion name is the “alias” property of the enquiryLine
*and:* the enquiryLines within the Additional section are still ordered as per the underwriting object

*Given:* Underwriting for an applicant with an “Additional” section
*When:* Navigating to the additional section
*Then:* All accordions are collapsed by default, other than any accordion with an incomplete (isSatisfied = false) enquiryLine

*Given:* Underwriting for an applicant with an “Additional” section
*Then:* Accordions can be expanded / collapsed as desired

*Given:* A satisfied enquiryLine on the “Additional” section
*Then:* it shows the green completed indicator

*Given:* An unsatisfied enquiryLine on the “Additional” section
*Then:* it shows the empty incomplete indicator",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,"* Need to use the enquiryLine “alias” property as the heading for the accordion rather than the enquiryLine name
* Keeping it simple - still show an accordion even if only 1 enquiryline in this section",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009dzz,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,08/Nov/21 8:23 AM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-13 13:24:20.655,10/Dec/21 2:04 PM;60cc71a1d5dde800713a2124;Note: Guardian have agreed to try it with all incomplete accordions open by default.,"13/Dec/21 1:24 PM;613f22fdff23ba00715469d1;[~accountid:60cc71a1d5dde800713a2124] , taking another look, I have also noticed the indicators shown in the original design are aligned to the left however in actuality the indicators are currently aligned to the right. Do you want me to raise this as an issue or was this on purpose?

!image-20211213-132439.png|width=1160,height=218!

(Incorrect Indicator text is already addressed in a separate bug)",13/Dec/21 3:19 PM;60cc71a1d5dde800713a2124;[~accountid:613f22fdff23ba00715469d1]  - in the final design they are aligned to the right.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Add mortgageRelated flag to application,NBJ-641,40239,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,06/Nov/21 5:57 PM,15/Dec/21 9:41 AM,02/Feb/22 6:31 PM,12/Nov/21 2:43 PM,,Foundation Release,,,,,"*As an* API user
*So that* I can indicate whether an application is mortgage related
*I want* to be able to set a mortgage related flag on an application

h4. Implementation Notes

* {{isMortgageRelated}} in the common data model
* yes/no in the data dictionary",,Antony.Gorman,Chris.Hibbert,,,,,,6149b13472728e006f9441d6,60cc71a1d5dde800713a2124,,,,,,,,,,,,,Hidden from EXL,NBJ-653,,,,,,,,,,,,,,,NBJ-263,,,,,NBJ-1006,,,,,,,,,,12/Nov/21 2:43 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/23521/LivingDoc.html,,,,,,,,,,,,"*Given*: An application
*When*: Updating the application
*Then*: I can set {{isMortgageRelated}} to either true or false
*and:* this value is persisted",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,,,,,,06/Nov/21 5:57 PM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-12 09:54:57.905,07/Nov/21 3:18 PM;60cc71a1d5dde800713a2124;[~accountid:610c00d94e8d8d0069a20d6c]  - in case you want to decorate with more details.,12/Nov/21 9:54 AM;6149b13472728e006f9441d6;changed mortgageRelated to isMortgageRelated to better communicate it’s a flag.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
App Q&A,NBJ-640,40235,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Graham.Smith,5db1914d2299c90da0133d7b,helen.scriven,5dbd6f97fc11e40c2ff452a7,helen.scriven,5dbd6f97fc11e40c2ff452a7,05/Nov/21 6:02 PM,02/Feb/22 5:05 PM,02/Feb/22 6:31 PM,,,,,,,,As a Salesforce user I want to view the Application Q&A as submitted by the adviser for each Application Member on an application. As an UW I want to see what other users can see plus an additional 'Referral answers' view.,,Graham.Smith,helen.scriven,Jim Houghton,,,,,5db1914d2299c90da0133d7b,5dbd6f97fc11e40c2ff452a7,60cc71a22bd21400692fd2af,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-596,,,,,,,,,,18/Jan/22 4:54 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;MockUp.xlsx;https://gghltd.atlassian.net/secure/attachment/25186/MockUp.xlsx,,,,,,,,,,,,"Given an NBJ2 UW Case Member in Salesforce when an UW clicks on ‘App Questions & Answers’:

Then the following options are available:

* Referral Answers (helptext: The answers that caused the application to be referred to manual underwriting)
* Current Answers (helptext: The application questions and answers most recently submitted by the user)
* Changed Answers (helptext: Answers that have changed at any point in the quote or application)
* Orphaned Answers (helptext: Sub-level answers that are no longer current due to the higher-level answer having been changed.)

Each view option shows the total number of answered questions it contains.

When the user selects an option the following fields are displayed for each item:

* Full question (including options that were asked)
* Answer
* Date and time last answered
* UMe session number (snapshot) in which it was answered (1 means prior to initial app submission, above 1 means which subsequent session)
* App Section name 
* Helptext
* The user that answered the question

If not all columns are viewable in a standard screen layout then the user can scroll to the right.

The default view is Referral answers.  The user can choose any of the alternative views.

Items in all views are sequenced as close to the app form as possible i.e. as they asked in the NBJ within the Apply tabs left to right, then within sections.

All questions will have been answered so all fields are populated

Given an Application Member in Salesforce in any status, when a non-UW user clicks on the App Questions & Answers then the same behavior as above is expected except:

* The default view is Current Answers 
* The Referral Answers view is not available to select
* Some columns may be blank e.g. for unanswered questions.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-125,,,,,,,,,,,,,,,,None,,"The assumption is that Permissions would be used to restrict the view of Referral Answers, but if it is easier to use Profiles please discuss with Helen. I notice that the ex-Triage team has a profile of Underwriting so would need to check that it’s OK for them to see the view. ",,,,,,,,,,,,,,,,,,,Space-bx,,,,,,,No,,1|i00qc6:x,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,05/Nov/21 6:02 PM,,12.0,,,Salesforce,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-01 19:36:01.405,"01/Dec/21 7:36 PM;60cc71a22bd21400692fd2af;[~accountid:5dbd6f97fc11e40c2ff452a7] - [https://gghltd.atlassian.net/browse/NBJ-516|https://gghltd.atlassian.net/browse/NBJ-516|smart-link] contains all logic to provide Q&A data for Salesforce, including current statuses (apart from level 1 changes), this can be included but would require rules configuration as part of implementing application form (i.e. tag each application form question (or enquiryLine) as LEVEL 1 and add small dev to recognise tag to set correct status).  I am using this method to identify quote already with enquiryLines tagged as CLIENT_DETAILS.",12/Jan/22 9:31 AM;5dbd6f97fc11e40c2ff452a7;[~accountid:60cc71a22bd21400692fd2af] and [~accountid:5db1914d2299c90da0133d7b] have updated the AC as per our discussion. Will validate this with UWs today. Jim - is there anything else useful available and easily provided e.g. the rule id that caused the referral (for the Referral Questions view)? And Gra - I’m assuming that all views need to have the same layout/columns but could the different views easily have different columns if needed easily (although can’t see a need at the moment)? ,"12/Jan/22 10:22 AM;60cc71a22bd21400692fd2af;[~accountid:5dbd6f97fc11e40c2ff452a7] - as soon as I start interrogating the actual page/enquiryLine structure to give you order akin to layout on screen, all the decision data is also there.  So deciding what caused the referral/evidence is straight forward thus can label or affect order of those questions.  Moreover conditions/reasons for decision are readily available and are currently passed separately through the body data of the Salesforce events.  Once we get into the detail of this, some re-engineering of rules may be required for maximum benefit, but I suggest this is handled later on a case-by-case basis.","13/Jan/22 8:09 AM;5dbd6f97fc11e40c2ff452a7;[~accountid:60cc71a22bd21400692fd2af] Thanks Jim - the AC as are were agreed with the UWs yesterday so please go ahead with these, for now, we can add over time if required as you say. [~accountid:5db1914d2299c90da0133d7b] please keep all views the same for now, likewise. I’ve updated to reflect the new restricted view. Thanks both.","13/Jan/22 10:11 AM;60cc71a22bd21400692fd2af;[~accountid:5dbd6f97fc11e40c2ff452a7] One thing that jumps out at me everytime I look at this… You do not collect who answered the question, i.e. the logged on user.","13/Jan/22 10:15 AM;5dbd6f97fc11e40c2ff452a7;[~accountid:60cc71a22bd21400692fd2af] For the foreseeable that’s only one person, the firm adviser, who is already against the app and UW case. Once we enable multi-user access we’ll look to add that to the screens. But thanks for checking. ","14/Jan/22 8:52 AM;5dbd6f97fc11e40c2ff452a7;[~accountid:60cc71a22bd21400692fd2af] Ah - on reflection, it could be an internal user (via CR20) if we need to do a rekey. Yes that would be useful. This makes this US depended on [https://gghltd.atlassian.net/browse/NBJ-341|https://gghltd.atlassian.net/browse/NBJ-341|smart-link] though. [~accountid:5db1914d2299c90da0133d7b] If we can get this in as well in the time available then let’s put it to the far right. It doesn’t matter if it is off-screen and the user has to scroll as these should be super rare. I’ll add to AC.  ",14/Jan/22 1:48 PM;5db1914d2299c90da0133d7b;[~accountid:5d3192ae3e80bd0c7f09c6f7] we touched on this earlier in the week. I will create a related US for us to add to the Salesforce board but based on the above could you confirm the effort you think this will require is 15 points and that 10 of 15 will be on the integration (sending request to UME and translating the response back).,"18/Jan/22 4:54 PM;60cc71a22bd21400692fd2af;[~accountid:5dbd6f97fc11e40c2ff452a7] and [~accountid:5db1914d2299c90da0133d7b] - these are two simple mockups in excel, orphaned and referred answers.  Might be worth a walkthru'.  I have simplified timestamp to order I answered questions, but I will provide a proper timestamp from the service. I have left code blank, but again I will provide in service.

[^MockUp.xlsx]

","19/Jan/22 3:01 PM;5dbd6f97fc11e40c2ff452a7;[~accountid:60cc71a22bd21400692fd2af] Have looked together with GS and all looks pretty straightforward. I think we’ll only get a real sense of it when we can see a full set of answers with all 4 statuses represented, which I gess means building it? ",,,,,,,,,,,,,,,,,,,,,,To Do
UME Exclusion and Removal lists,NBJ-639,40231,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Graham.Smith,5db1914d2299c90da0133d7b,helen.scriven,5dbd6f97fc11e40c2ff452a7,helen.scriven,5dbd6f97fc11e40c2ff452a7,05/Nov/21 4:07 PM,02/Feb/22 4:59 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,An an Underwriter I want to see the same list of exclusions and removals as those used by the URE so I can apply consistent decisions. ,,Graham.Smith,helen.scriven,,,,,,5db1914d2299c90da0133d7b,5dbd6f97fc11e40c2ff452a7,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Given an NBJ2 UW case, in the CI and TPD sections, when the UW selects the UW Exclusions field the down list is populated with the Exclusions list available in UME. This is dynamically generated so is aligned with the latest rules in UMe. 

The list displays the *GFSShortText* of each UME Exclusion item where *Removal* is false and the GFSShortText is not ‘NA’. See Exlusion file in the related link for values to be loaded from UME:

[https://gryphongroup.sharepoint.com/gryphonprogrammesprojects/GryphonTeam/Project Documents/Forms/AllItems.aspx?csf=1&web=1&e=dw0dCu&cid=457aff18-94da-402b-bcf9-8c6a51f33fe8&RootFolder=%2Fgryphonprogrammesprojects%2FGryphonTeam%2FProject Documents%2F6. Big Projects%2FNBJ %26 UnderwriteMe%2FUME%2FUME Lists&FolderCTID=0x012000963B4FEAE27FC34B981FF8032C320473|https://gryphongroup.sharepoint.com/gryphonprogrammesprojects/GryphonTeam/Project%20Documents/Forms/AllItems.aspx?csf=1&web=1&e=dw0dCu&cid=457aff18%2D94da%2D402b%2Dbcf9%2D8c6a51f33fe8&RootFolder=%2Fgryphonprogrammesprojects%2FGryphonTeam%2FProject%20Documents%2F6%2E%20Big%20Projects%2FNBJ%20%26%20UnderwriteMe%2FUME%2FUME%20Lists&FolderCTID=0x012000963B4FEAE27FC34B981FF8032C320473]

In the CI section only, when the UW selects the UW Removals field the list displays the *GFSShortText* of each UME Exclusion item where *Removal* is true and the GFSShortText is not ‘NA’.

The UW is able to select one of the codes for each fields which is stored against the Underwriting Outcome in Salesforce

When the decision is applied the corresponding text for the code is displayed to the adviser on the decision screen, in the decision doc, and when the cover is put on risk, on the Cover Summary.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-125,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space-bx,,,,,,,No,,1|i00qc6:v,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,05/Nov/21 4:07 PM,,0.0,,,,,,,,,,,,,,,,Andy Cole,5fa26bb0f7b30b006e1b6ad5,,,,,,,,,,,,,,,,2022-02-02 15:19:46.167,02/Feb/22 12:07 PM;5dbd6f97fc11e40c2ff452a7;[~accountid:5d3192ae3e80bd0c7f09c6f7] [~accountid:5db1914d2299c90da0133d7b] This has got quite nasty with the way it’s being implemented in UME and I can see there are no points on this at the moment. Can we cover in stand up please?,"02/Feb/22 3:19 PM;5db1914d2299c90da0133d7b;[~accountid:5dbd6f97fc11e40c2ff452a7] I’d assigned 8 points to this but because it’s a Space-BX story it was affecting the points total and therefore I’d removed them. Will create a story related to this for the SF work, which we can track on the SF board.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Sprint 3 - Term not getting recorded in response when POSTing a request to generate a quote for an applicant with child cover,NBJ-638,40230,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Highest,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,05/Nov/21 4:05 PM,20/Nov/21 2:58 PM,02/Feb/22 6:31 PM,11/Nov/21 11:57 AM,,Foundation Release,,,,,,,Nathan Punzalan,,,,,,,613f22fdff23ba00715469d1,,,,,,,,,,,,,,Hidden from EXL,NBJ-309,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,05/Nov/21 4:04 PM;nathan.punzalan;LissiaResponse.txt;https://gghltd.atlassian.net/secure/attachment/23349/LissiaResponse.txt,05/Nov/21 4:01 PM;nathan.punzalan;request.txt;https://gghltd.atlassian.net/secure/attachment/23351/request.txt,05/Nov/21 4:02 PM;nathan.punzalan;response.txt;https://gghltd.atlassian.net/secure/attachment/23350/response.txt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue:
Term not getting recorded in the response when you POST a request to generate a quote for an applicant with child cover where the term for the child cover is set. As the term does not get set in the response when a LissiaRequest is generated, Lissia responds with an error as the term for child cover is missing meaning no premiums or commissions are returned. Issue only occurs when term is used instead of toAge in the request body. 

Steps to Reproduce: 
1) POST a request to {{base_url_apim}}/api/v1/quote with request:

[^request.txt]

 

Expected Results:
Term shows in response for both applicant and child cover.

Actual Result: 
Term only shows in response for applicant; term for child cover is not recorded in the response. See response below:

[^response.txt]

 

As the term for child cover does not get recorded in the response when it generates a request to Lissia, the Lissia Response will give you an error asking to specify a term. See LissiaResponse below:

[^LissiaResponse.txt]

 ",,{},,,,,,NBJ-118,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,No,,1|i00rkn:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,Guardian Sprint 4,,,,,05/Nov/21 4:05 PM,,,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Contact details - initial screen,NBJ-637,40225,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,05/Nov/21 3:17 PM,15/Nov/21 4:45 PM,02/Feb/22 6:31 PM,15/Nov/21 4:45 PM,,Foundation Release,,Sprint_4,,,"*As an* Adviser
*I want* a clearly designed contact details screen
*So that* I can set my customer's name and address

h4. Implementation Notes
- Putting in place the general layout of the contact details screen
- Covers the following elements
-- Life 1 initial contact details box
-- Mortgage Related question
-- Links to proceed to underwriting",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,06/Nov/21 5:51 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-11-06 at 17.51.30.png;https://gghltd.atlassian.net/secure/attachment/23369/Screenshot+2021-11-06+at+17.51.30.png,,,,,,,,,,,,"*Given*: An Application
*When*: Landing on the contact details screen
*Then*: The application summary header is shown:

* Reference (note not: Application Ref:)
* Quote
* Underwrite buttons

*Given*: An Application
*When*: Landing on the contact details screen
*Then*: The contact details box for Life 1 is shown:

* Includes applicants name in the header
* Email address
* Confirm email address
* Telephone / Mobile
* Initial postcode field

*Given*: An Application
*When*: Landing on the contact details screen
*Then*: The mortgage related question is shown

*Given*: An Application
*When*: Clicking on one of the underwrite buttons
*Then*: The underwriting pages are shown",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzlv,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,,,,,,05/Nov/21 3:17 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Nov/21 2:36 PM;60cc71a1d5dde800713a2124;[~accountid:6139c4f3e2a0d60069cf8994]  - in addition to the /application path issue, the “Underwrite” button should move the user forward to the /underwriting part of the site.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Add apply buttons following valid quote,NBJ-636,40224,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,05/Nov/21 3:16 PM,20/Nov/21 2:58 PM,02/Feb/22 6:31 PM,19/Nov/21 11:30 AM,,Foundation Release,,,,,"*As an* Adviser
*I want* to be able to see that I can proceed through the app
*So that* I have a visual indicator that the state of my app is correct

h4. Implementation Notes

* Should only be visible if there is a valid quote

!Screenshot 2021-11-05 at 15.15.22.png|width=200,height=183!

 ",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,05/Nov/21 3:16 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-11-05 at 15.15.22.png;https://gghltd.atlassian.net/secure/attachment/23343/Screenshot+2021-11-05+at+15.15.22.png,,,,,,,,,,,,"*Given*: An application
*When*: A valid quote is returned
*Then*: Two links labelled apply are shown on the quote screen (in the summary bar and bottom of the screen)

*Given*: An application
*When*: Hitting the apply button
*Then*: I am taken to the contact details screen NBJ-637

*Given*: An application
*When*: A invalid quote is returned
*Then*: No apply link is available",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzlr,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,,,,,,05/Nov/21 3:16 PM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Stand-up AppInsights for all microservices in UWT,NBJ-635,40217,39848,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Jason Hughes,613f60991370f00069033c68,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,05/Nov/21 2:26 PM,08/Nov/21 4:31 PM,02/Feb/22 6:31 PM,08/Nov/21 4:31 PM,,,,,,,"Create 1 new Log Analytics Workspace

* log-ggh-uwt-microservices

And 5 Application Insight Instances that use it

* appi-ggh-uwt-applicationservice
* appi-ggh-uwt-documentservice
* appi-ggh-uwt-productservice
* appi-ggh-uwt-quoteservice
* appi-ggh-uwt-underwritingservice",,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00ri7:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,05/Nov/21 2:26 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,39848,"Add logging, instrumentation and metrics to microservices",Done
Spike AppInsights in UWT,NBJ-634,40216,39848,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Jason Hughes,613f60991370f00069033c68,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,05/Nov/21 2:26 PM,05/Nov/21 2:26 PM,02/Feb/22 6:31 PM,05/Nov/21 2:26 PM,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00rhz:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,05/Nov/21 2:26 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,39848,"Add logging, instrumentation and metrics to microservices",Done
Integrate acceptance tests into pipelines,NBJ-633,40215,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Jason Hughes,613f60991370f00069033c68,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,05/Nov/21 2:18 PM,02/Dec/21 8:49 AM,02/Feb/22 6:31 PM,26/Nov/21 2:00 PM,,Foundation Release,,,,,"* Upgrade the code base to .NET Core5  - done
* Get basic build & test pipeline working - done
* Try and get Specflow Living Docs working in Azure DevOps - done
* Print out versions of Microservice *Develop* pipelines - done, they can been seen in the pipeline log under this step: “*Versions of Microservice Develop pipelines”*",,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00rhr:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,05/Nov/21 2:18 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Repo for TokenManager lib,NBJ-632,40214,39851,Sub-task,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,05/Nov/21 2:15 PM,05/Nov/21 2:15 PM,02/Feb/22 6:31 PM,,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00rhj:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,05/Nov/21 2:15 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,39851,Split mono-repo into one repo per microservice,To Do
Repo for Cosmos lib,NBJ-631,40213,39851,Sub-task,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,05/Nov/21 2:14 PM,05/Nov/21 2:15 PM,02/Feb/22 6:31 PM,,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00rhb:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,05/Nov/21 2:14 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,39851,Split mono-repo into one repo per microservice,To Do
Repo for ProductService,NBJ-630,40211,39851,Sub-task,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,05/Nov/21 2:13 PM,05/Nov/21 2:14 PM,02/Feb/22 6:31 PM,,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00rgv:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,05/Nov/21 2:13 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,39851,Split mono-repo into one repo per microservice,To Do
Repo for ApplicationService,NBJ-629,40210,39851,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,05/Nov/21 2:13 PM,05/Nov/21 2:13 PM,02/Feb/22 6:31 PM,05/Nov/21 2:13 PM,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00rgn:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,05/Nov/21 2:13 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,39851,Split mono-repo into one repo per microservice,Done
Repo for ExampleService,NBJ-628,40209,39851,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,05/Nov/21 2:12 PM,05/Nov/21 2:12 PM,02/Feb/22 6:31 PM,05/Nov/21 2:12 PM,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00rgf:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,05/Nov/21 2:12 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,39851,Split mono-repo into one repo per microservice,Done
Repo for UnderwritingService,NBJ-627,40208,39851,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,05/Nov/21 2:12 PM,05/Nov/21 2:14 PM,02/Feb/22 6:31 PM,05/Nov/21 2:13 PM,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00rg7:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,05/Nov/21 2:12 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,39851,Split mono-repo into one repo per microservice,Done
Repo for QuoteService,NBJ-626,40207,39851,Sub-task,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,05/Nov/21 2:12 PM,05/Nov/21 2:14 PM,02/Feb/22 6:31 PM,,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00rfz:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,05/Nov/21 2:12 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,39851,Split mono-repo into one repo per microservice,To Do
Repo for DocumentService,NBJ-625,40206,39851,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,05/Nov/21 2:11 PM,05/Nov/21 2:12 PM,02/Feb/22 6:31 PM,05/Nov/21 2:12 PM,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00rfr:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,05/Nov/21 2:11 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,39851,Split mono-repo into one repo per microservice,Done
Quote Service,NBJ-623,40181,40177,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,Jason Hughes,613f60991370f00069033c68,Jason Hughes,613f60991370f00069033c68,05/Nov/21 11:34 AM,05/Nov/21 4:09 PM,02/Feb/22 6:31 PM,05/Nov/21 4:09 PM,,,,,,,,,Jason Hughes,,,,,,,613f60991370f00069033c68,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00ra7:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,05/Nov/21 11:34 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,40177,Use same OpenAPI generation across the services,Done
Underwriting Service,NBJ-622,40180,40177,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,Jason Hughes,613f60991370f00069033c68,Jason Hughes,613f60991370f00069033c68,05/Nov/21 11:34 AM,05/Nov/21 4:08 PM,02/Feb/22 6:31 PM,05/Nov/21 4:08 PM,,,,,,,,,Jason Hughes,,,,,,,613f60991370f00069033c68,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00r9z:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,05/Nov/21 11:34 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,40177,Use same OpenAPI generation across the services,Done
Application Service,NBJ-621,40179,40177,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,Jason Hughes,613f60991370f00069033c68,Jason Hughes,613f60991370f00069033c68,05/Nov/21 11:34 AM,05/Nov/21 3:45 PM,02/Feb/22 6:31 PM,05/Nov/21 3:45 PM,,,,,,,,,Jason Hughes,,,,,,,613f60991370f00069033c68,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00r9r:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,05/Nov/21 11:34 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,40177,Use same OpenAPI generation across the services,Done
Product Service,NBJ-620,40178,40177,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,Jason Hughes,613f60991370f00069033c68,Jason Hughes,613f60991370f00069033c68,05/Nov/21 11:33 AM,05/Nov/21 3:27 PM,02/Feb/22 6:31 PM,05/Nov/21 3:27 PM,,,,,,,,,Jason Hughes,,,,,,,613f60991370f00069033c68,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00r9j:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,05/Nov/21 11:33 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,40177,Use same OpenAPI generation across the services,Done
Use same OpenAPI generation across the services,NBJ-619,40177,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Jason Hughes,613f60991370f00069033c68,Jason Hughes,613f60991370f00069033c68,Jason Hughes,613f60991370f00069033c68,05/Nov/21 11:32 AM,05/Nov/21 4:09 PM,02/Feb/22 6:31 PM,05/Nov/21 4:09 PM,,,,,,,"We want all the services to 
* use OpenAPI v3
* expose and endpoint for the json document in all environments
* provide the swagger UI page when in Development

We are using the NSwag packages to do this a we are already using that for client code generation in the Product Service",,Jason Hughes,,,,,,,613f60991370f00069033c68,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00r9b:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,05/Nov/21 11:32 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Make Title a drop down,NBJ-618,40130,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,John.LeQuesne,5db187687b20d80c2a25b574,John.LeQuesne,5db187687b20d80c2a25b574,04/Nov/21 2:26 PM,04/Nov/21 2:26 PM,02/Feb/22 6:31 PM,,,Phase 1 - Menu,,,,,"As an Adviser
I want title to become a drop down
So that the data stored is more accurate

Run the following against PreProd to see the values typically entered
SELECT 
  TITLE, COUNT(*)
  FROM [CLIENTS] (nolock)
  WHERE SEX <> 0
  AND CREATED_DATE < '01 Jan 2020'
 GROUP BY TITLE 
 ORDER BY TITLE                    
",,John.LeQuesne,,,,,,,5db187687b20d80c2a25b574,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00qz3:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,04/Nov/21 2:26 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Add warning at quote stage when 'Not in last 12 months' smoker rate used when coming from a portal,NBJ-617,40129,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,John.LeQuesne,5db187687b20d80c2a25b574,John.LeQuesne,5db187687b20d80c2a25b574,04/Nov/21 2:23 PM,29/Nov/21 6:01 PM,02/Feb/22 6:31 PM,,,Phase 1 - Menu,,,,,"As an Adviser
So that I can understand the premium change in the Guardian quote screen
I want a message shown when I apply from a portal and the answers to a client's smoking questions mean the client is on the middle smoking rate (Not in the last 12 months) 
",,John.LeQuesne,,,,,,,5db187687b20d80c2a25b574,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Given a quote originates from a portal
When the smoker status for a client is 'Not in the last 12 months'
Then I want a message on the Quote screen saying 'We’ve changed your premium because you’ve smoked in the last 5 years'",,,,,,,,,,,,,,,,,,,,,,,Reducing queries from advisers when the premium changes from that quoted on the portal,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-117,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00qyv:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,04/Nov/21 2:23 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
HttpClientTokenManager,NBJ-616,40118,40111,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,Jason Hughes,613f60991370f00069033c68,Jason Hughes,613f60991370f00069033c68,04/Nov/21 11:51 AM,04/Nov/21 3:50 PM,02/Feb/22 6:31 PM,04/Nov/21 3:50 PM,,,,,,,,,Jason Hughes,,,,,,,613f60991370f00069033c68,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00qwf:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,,,,,,04/Nov/21 11:51 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,40111,Make pipeline yaml file locations consistent across all microservices and libraries,Done
Cosmos Library,NBJ-615,40117,40111,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,Jason Hughes,613f60991370f00069033c68,Jason Hughes,613f60991370f00069033c68,04/Nov/21 11:50 AM,04/Nov/21 3:50 PM,02/Feb/22 6:31 PM,04/Nov/21 3:50 PM,,,,,,,,,Jason Hughes,,,,,,,613f60991370f00069033c68,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00qw7:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,,,,,,04/Nov/21 11:50 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,40111,Make pipeline yaml file locations consistent across all microservices and libraries,Done
Quote Service,NBJ-614,40116,40111,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,Jason Hughes,613f60991370f00069033c68,Jason Hughes,613f60991370f00069033c68,04/Nov/21 11:50 AM,04/Nov/21 3:50 PM,02/Feb/22 6:31 PM,04/Nov/21 3:50 PM,,,,,,,,,Jason Hughes,,,,,,,613f60991370f00069033c68,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00qvz:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,,,,,,04/Nov/21 11:50 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,40111,Make pipeline yaml file locations consistent across all microservices and libraries,Done
Product Service,NBJ-613,40115,40111,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,Jason Hughes,613f60991370f00069033c68,Jason Hughes,613f60991370f00069033c68,04/Nov/21 11:50 AM,04/Nov/21 3:50 PM,02/Feb/22 6:31 PM,04/Nov/21 3:50 PM,,,,,,,,,Jason Hughes,,,,,,,613f60991370f00069033c68,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00qvr:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,,,,,,04/Nov/21 11:50 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,40111,Make pipeline yaml file locations consistent across all microservices and libraries,Done
Underwriting Service,NBJ-612,40114,40111,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,Jason Hughes,613f60991370f00069033c68,Jason Hughes,613f60991370f00069033c68,04/Nov/21 11:49 AM,04/Nov/21 3:50 PM,02/Feb/22 6:31 PM,04/Nov/21 3:50 PM,,,,,,,,,Jason Hughes,,,,,,,613f60991370f00069033c68,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00qvj:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,,,,,,04/Nov/21 11:49 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,40111,Make pipeline yaml file locations consistent across all microservices and libraries,Done
Application Service,NBJ-611,40113,40111,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,Jason Hughes,613f60991370f00069033c68,Jason Hughes,613f60991370f00069033c68,04/Nov/21 11:48 AM,04/Nov/21 3:50 PM,02/Feb/22 6:31 PM,04/Nov/21 3:50 PM,,,,,,,,,Jason Hughes,,,,,,,613f60991370f00069033c68,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00qvb:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,,,,,,04/Nov/21 11:48 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,40111,Make pipeline yaml file locations consistent across all microservices and libraries,Done
Make pipeline yaml file locations consistent across all microservices and libraries,NBJ-610,40111,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Jason Hughes,613f60991370f00069033c68,Jason Hughes,613f60991370f00069033c68,Jason Hughes,613f60991370f00069033c68,04/Nov/21 11:38 AM,04/Nov/21 4:28 PM,02/Feb/22 6:31 PM,04/Nov/21 3:50 PM,,,,,,,"Most of the services pipeline files are in the root folder for their solution, and then in a virtual solution folders with varying names across the solutions.

We want to make the locations and names of the pipeline files consistent for all solutions and to follow the pattern in the Example & Document services, placing them in their own sub folder *deploy* which should also be shown in the solution explorer.

For each solution where this needs to be change the build pipelines in Azure DevOps will also need to be updated.",,Jason Hughes,,,,,,,613f60991370f00069033c68,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Files have been moved and the pipelines still build,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3x,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,,,,,,04/Nov/21 11:38 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Quote service - requesting ACI family throws a 500,NBJ-609,40107,,Bug,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Lowest,,Chris.Hibbert,60cc71a1d5dde800713a2124,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,04/Nov/21 11:18 AM,15/Nov/21 12:05 PM,02/Feb/22 6:31 PM,,,,,,,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: requesting ACI family throws a 500

Business Impact: none/minimal

Steps to Reproduce: request a quote for a productType of aci and a coverType of family

Expected Results: a 400 is returned with a meaningful error message

Actual Result: a 500 is returned

Version: unknown",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00qu7:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,04/Nov/21 11:18 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
DecisionService - add TPD decision to Life with Critical Illness product decision,NBJ-608,40098,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,04/Nov/21 8:54 AM,08/Dec/21 1:24 PM,02/Feb/22 6:31 PM,08/Dec/21 1:24 PM,,Foundation Release,,Decision,Sprint_4,,"*NB - until risk decisions are complete do not start this story*

*As an* api consumer of the underwriting service
*So that* I am aware of the current automated product decisions
*I want* the service to respond with the current Life with Critical Illness decision",,Antony.Gorman,James Bartlett,Jim Houghton,,,,,6149b13472728e006f9441d6,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,08/Dec/21 1:24 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/24154/LivingDoc.html,06/Dec/21 4:07 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;tpd_non_standard.json;https://gghltd.atlassian.net/secure/attachment/24088/tpd_non_standard.json,,,,,,,,,,,"*Given* any request POST /api/v1/underwriting/\{applicantId}/outcome/product
*And* body contains productType of Critical Illness
*Then* request POST /api/v1/underwriting/\{applicantId}/outcome
*And* body contains riskType of Life
*And* body contains riskType of Critical Illness
*And* body contains riskType of Total Permanent Disability

_Building on the above_

*Given* successful response from URE risk decision described above
*And* risk decision with a riskType of Total Permanent Disability with a decision = NON_STANDARD
*When* formulating product decision response for Life and Ci
*And* within productType Life and Critical Illness add in tpd section with property isIncluded = true
*And* within productType Life and Critical Illness add in tpd section with reasons from TPD risk decision response
*And* within productType Life and Critical Illness add in tpd section the disability definition from the TPD risk Decision
*And* within productType Life and Critical Illness add to exclusions from TPD risk decision response ensuring riskType set to Temporary Permanent Disability

*Given* successful response from URE risk decision described above
*And* risk decision with a riskType of Total Permanent Disability with a decision = DECLINE
*When* formulating product decision response for Life and Ci
*And* within productType Life and Critical Illness set decision to NON_STANDARD
*And* within productType Life and Critical Illness add in tpd section with property isIncluded = false
*And* within productType Life and Critical Illness add in tpd section with reasons from TPD risk decision response",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,"* Map TPD decision from {color:#6554c0}risk-level decision{color} to the {color:#ff5630}product-level decision.{color}
* Underwriting session must be for risks Life, Critical Illness and Total Permanent Disability
* Check the answers to the PRODUCT question to determine the risks being underwritten



*Request*

{noformat}POST /api/v1/decision/{applicantId}/product{noformat}

*Response*

{code:json}{
  ""applicantId"": ""<applicantId>"",
  ""smokerStatus"": ""<GUARDIAN smoker statuses>"",
  ""productDecisions"": [ // one product decision per cover in the applicant's application
    {
      ""productType"": ""life | ci | aci "",
      ""decision"": ""Standard Terms | Non standard Terms | Additional Evidence | Manual UW | Postponed | Declined"",

      ""reasons"": [<list of strings, giving reasons for decision>],
      ""upsell"": {
        ""isAllowed"": true | false, -- change to true | false
        ""amount"": 100000        
      },
      ""gioEntitlement"": true | false,
      ""tpd"": {
        ""isIncluded"": true | false,
        ""disabilityDefinition"": ""Own | Activities"",
        ""reasons"": ["""", """"]
      },
      ""postpones"": [ -- only present if decision POSTPONE or indicativeDecision POSTPONE
        {
          ""code"": """",
          ""text"": """",
          ""reasons"": ["""", """"]
        },
        ...
      ],
      ""evidences"": [ -- only present if decision EVIDENCE_REQUIRED | REFER
        {
          ""code"": """",
          ""text"": """",
          ""reasons"": ["""", """"]
        },
        ...
      ],
      ""exclusions"": [ -- not present for DECLINE | POSTPONES
        {
          ""riskType"": ""life | ci | tpd"", -- needs to be mapped from risk
          ""code"": """",
          ""text"": """",
          ""reasons"": ["""", """"],
          ""hasDiscount"": true | false,
          ""exclusionOrRemoval"": ""exclusion | removal"" // baking all possible answers into the field name?
        },
        ...
      ],
      ""em"": {  -- not present for STANDARD | DECLINE | POSTPONES
        ""totalRating"": 200, // the sum of all individual ratings 
        ""allReasons"": ["""",""""] // all the individual reasons for rating, de-duped
        ""ratings"": [
          {
            ""rating"": 50,
            ""duration"": ""<time_period>"",
            ""reasons"": ["""", """"]
          },
          ...
        ]
      ],
      ""pm"": {  -- not present for STANDARD | DECLINE | POSTPONES
        ""totalRating"": 200, // the sum of all individual ratings 
        ""allReasons"": ["""",""""] // all the individual reasons for rating, de-duped
        ""ratings"": [
          {
            ""rating"": 50,
            ""duration"": ""<time_period>"",
            ""reasons"": ["""", """"]
          },
          ...
        ]
      ]
    }
  ]    
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00rl2:zv,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,Guardian Sprint 6,,,,20/Oct/21 9:39 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-06 16:06:02.32,"06/Dec/21 4:06 PM;6139c49114e8340071fcda09;[~accountid:6149b13472728e006f9441d6] if I create an applicant with an ACI product and then make TPD non-standard in underwriting, there’s no aci product decision at all from the product decision endpoint. I’ll attach the underwriting payload I used but see application G000090701 and applicant 9edeb2be-2400-4060-8c43-43b9097c820f in UWT.",07/Dec/21 10:34 AM;6149b13472728e006f9441d6;as discussed have elaborated the guard on creating ACI product decisions to allow non standard tpd also.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
DecisionService - URE Quote Decision - restricted to applicant data,NBJ-606,40096,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,04/Nov/21 12:09 AM,15/Dec/21 9:23 PM,02/Feb/22 6:31 PM,14/Dec/21 3:08 PM,,Foundation Release,,Decision,Sprint_4,,"*As an* api consumer of the underwriting service
*So that* I can get a decision in the correct format to get prices
*I want* the service to respond with the current smokerStatus and loadings",,Chris.Hibbert,James Bartlett,Jim Houghton,,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,,,,,,,,,,,,Hidden from EXL,NBJ-465,NBJ-572,NBJ-573,NBJ-987,,,,,,,,,,,,,,,,,NBJ-694,NBJ-695,NBJ-696,NBJ-698,NBJ-697,NBJ-700,NBJ-699,NBJ-708,NBJ-1025,,14/Dec/21 3:08 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/24348/LivingDoc.html,,,,,,,,,,,,"*Given* any POST /api/v1/decision/\{applicantId}/quickQuote
*Then* Get product decisions as per requested
*And* format response as per NBJ-605

_Building on the above_

*Given* any POST /api/v1/decision/\{applicantId}/quickQuote
*When* constructing risk decisions prior to determining product decisions
*Then* only consider contributions from enquiryLines with a tag of CLIENT_DETAILS should they exist",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,"_Service request_

{code:json}POST /api/v1/decision/{applicantId}/quickQuote{code}

_Body_

{code:json}{
  productTypes:[
    ""life"",
    ""ci"",
    ""aci""
  ]
}{code}

_Service response_

{code:json}{
  data: {  
    ""applicantId"": <applicantId>, 
    ""smokerStatus"": ""smokerStatus"": ""None in the last 5 years | None in last 12 months | I have used tobacco or replacement products in last 12 months"",
    ""quoteUnderwritingOutcomes"": [
      {
        ""productType"": ""life | ci | aci | ccic"",
        ""emRating"": 200,
        ""permPMRating"": 5,
        ""decisionText"": [""""],
        ""reasonText"": ["""",""""],
        ""quoteExclusions"": [
          {
            ""exclusionOrRemoval"": ""Exclude | Remove"",
            ""exclusionValue"": 1001
          },
          {...}
      }
    ]
  }
}{code}

_ProductType decision Response_

{code:json}{
  ""applicantId"": ""<applicantId>"",
  ""smokerStatus"": ""<GUARDIAN smoker statuses>"",
  ""productDecisions"": [ // one product decision per cover in the applicant's application
    {
      ""productType"": ""life | ci | aci "",
      ""decision"": ""STANDARD | NON_STANDARD | EVIDENCE_REQUIRED | REFER | POSTPONE | DECLINE"",
      ""indicativeDecision"": ""STANDARD | NON_STANDARD | EVIDENCE_REQUIRED | REFER | POSTPONE | DECLINE"",
      ""reasons"": [<list of strings, giving reasons for decision>],
      ""upsell"": {
        ""isAllowed"": true | false, -- change to true | false
        ""amount"": 100000        
      },
      ""gioEntitlement"": true | false,
      ""tpd"": {
        ""isIncluded"": true | false,
        ""reasons"": ["""", """"]
      },
      ""postpones"": [ -- only present if decision POSTPONE or indicativeDecision POSTPONE
        {
          ""code"": """",
          ""text"": """",
          ""reasons"": ["""", """"]
        },
        ...
      ],
      ""evidences"": [ -- only present if decision EVIDENCE_REQUIRED | REFER
        {
          ""code"": """",
          ""text"": """",
          ""reasons"": ["""", """"]
        },
        ...
      ],
      ""exclusions"": [ -- not present for DECLINE | POSTPONES
        {
          ""riskType"": ""Life | Critical Illness | Total Permanent Disability"", -- needs to be mapped from risk
          ""code"": """",
          ""text"": """",
          ""reasons"": ["""", """"],
          ""hasDiscount"": true | false,
          ""exclusionOrRemoval"": ""exclusion | removal"" // baking all possible answers into the field name?
        },
        ...
      ],
      ""em"": {  -- not present for STANDARD | DECLINE | POSTPONES
        ""totalRating"": 200, // the sum of all individual ratings 
        ""allReasons"": ["""",""""] // all the individual reasons for rating, de-duped
        ""ratings"": [
          {
            ""rating"": 50,
            ""duration"": ""<time_period>"",
            ""reasons"": ["""", """"]
          },
          ...
        ]
      ],
      ""pm"": {  -- not present for STANDARD | DECLINE | POSTPONES
        ""totalRating"": 200, // the sum of all individual ratings 
        ""allReasons"": ["""",""""] // all the individual reasons for rating, de-duped
        ""ratings"": [
          {
            ""rating"": 50,
            ""duration"": ""<time_period>"",
            ""reasons"": ["""", """"]
          },
          ...
        ]
      ]
    }
  ]    
}{code}

_URE data structure_

{noformat}{
  ""enquiryId"": ""8cbfd033-91fe-4d9e-a725-c1f9f657348b"",
  ""branch"": ""GUARDIAN"",
  ""tag"": ""AdditionalSectionNames"",
  ""locale"": ""IFA_EN_GB"",
  ""availableLocales"": [
    ""IFA_EN_GB"",
    ""DIRECT_EN_GB"",
    ""MSM_EN_GB""
  ],
  ""effectiveDate"": 1636329600000,
  ""isVoid"": false,
  ""isSatisfied"": true,
  ""isCloseable"": false,
  ""isOpen"": false,
  ""buckets"": [
      ...
  ],
  ""sections"": [
    {...},
    {
      ""name"": ""Your Tobacco Use"",
      ""isSatisfied"": true,
      ""hasQuestions"": false,
      ""enquiryLines"": [
        {
          ""name"": ""Tobacco_Use"",
          ""path"": ""Tobacco_Use"",
          ""alias"": ""Tobacco Use"",
          ""section"": ""Your Tobacco Use"",
          ""preamble"": ""Please tell us more about your tobacco use"",
          ""rawSection"": ""Your Tobacco Use"",
          ""rawPreamble"": ""Please tell us more about your tobacco use"",
          ""isSatisfied"": true,
          ""hasQuestions"": false,
          ""isWrapUpLine"": false,
          ""isGlobal"": true,
          ""isRoot"": false,
          ""isForced"": false,
          ""tags"": [""CLIENT_DETAILS"", ""...""], //This is the tag you are looking for
          ""triggers"": [
            ""Tobacco Use""
          ],
          ""triggerQuestions"": {},
          ""questions"": [],
          ""buckets"": [
            {
              ""type"": ""OPTION"",
              ""name"": ""DECISION_LIFE"",
              ""contributions"": [
                {
                  ""value"": ""STANDARD"",
                  ""sources"": [
                    ""Tobacco_Use""
                  ]
                }
              ],
              ""min"": {
                ""value"": ""STANDARD"",
                ""sources"": [
                  ""Tobacco_Use""
                ]
              },
              ""max"": {
                ""value"": ""STANDARD"",
                ""sources"": [
                  ""Tobacco_Use""
                ]
              }
            }
          ],
          ""staticallyTriggeredLines"": []
        }
      ]
    },
    {...}
  ],
  ""allAnswers"": {
   ...
  },
  ""debugInfo"": {}
}{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009e,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,20/Oct/21 9:39 AM,,13.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-06 09:43:08.41,06/Dec/21 9:43 AM;60cc71a1d5dde800713a2124;[~accountid:60cc71a22bd21400692fd2af]  - add the URE structure to show the link from contribution to CLIENT_DETAILS tag,"13/Dec/21 11:07 AM;6139c49114e8340071fcda09;(flag) Flag added

Needs some additional work on the filtered underwriting session (i.e. the session formed from just the CLIENT_DETAILS enquiry lines)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
DecisionService - create a quote decision,NBJ-605,40095,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,03/Nov/21 11:45 PM,07/Dec/21 1:58 PM,02/Feb/22 6:31 PM,07/Dec/21 1:58 PM,,Foundation Release,,Decision,Sprint_4,,"*NB - until product decisions are complete do not start this story*

*As an* api consumer of the underwriting service
*So that* I can get a decision in the correct format to get prices
*I want* the service to respond with the current smokerStatus and loadings",,Chris.Hibbert,Jim Houghton,Jon Reynolds,,,,,60cc71a1d5dde800713a2124,60cc71a22bd21400692fd2af,616ee20e2097220071a975d2,,,,,,,,,,,,Hidden from EXL,NBJ-606,NBJ-680,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* any POST /api/v1/decision/\{applicantId}/quote
*Then* Get product decisions as per requested

_Building on the above_

*Given* successful response from product decision service
*When* formulating response to product quote decision service
*Then* map applicantId from initial request, include in response
*And* map smokerStatus from product decision service onto response
*And* within underwritingOutcomes on response include a section foreach productType
*And* matching productType include em.totalRating from product message and map to emRating on response
*And* matching productType include pm.totalRating from product message and map to permPmRating on response
*And* matching productType include each exclusion with hasDiscount = true, mapping their code to exclusionValue and property isRemoval to the response",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,"# This story is about outputting underwriting outcomes in a format to plug into the QuoteService
# The quote decision is a reduction of a product decision - see “Data model construction and consumption” section here: [https://gghltd.atlassian.net/wiki/spaces/NP/pages/edit-v2/3065839660|https://gghltd.atlassian.net/wiki/spaces/NP/pages/edit-v2/3065839660|smart-link] 

*Request*

{code:json}POST /api/v1/decision/{applicantId}/quote{code}

*Command*

* Get the product-level decision for the given applicant
* Map the product-level decision into the quote decision format (the quote decision is a cut-down product decision)
** Mapping rules - input: {color:#ff5630}Product-level Decision (P){color}, output: {color:#36b37e}Quote-level Decision (Q){color}:
**# {color:#36b37e}Q{color}.smokerStatus = {color:#ff5630}P{color}.smokerStatus
**# {color:#36b37e}Q{color}.quoteDecisions\[n].productType = {color:#ff5630}P{color}.productDecision\[n].productType
**# {color:#36b37e}Q{color}.quoteDecisions\[n].emRating = {color:#ff5630}P{color}.productDecision\[n].em.totalRating
**# {color:#36b37e}Q{color}.quoteDecisions\[n].permPmRating = {color:#ff5630}P{color}.productDecision\[n].pm.totalRating
**# {color:#36b37e}Q{color}.quoteDecisions\[n].exclusions = {color:#ff5630}P{color}.productDecision\[n].exclusions\[where _.hasDiscount == true]

*Response*

{code:json}{
  data: {  
    ""applicantId"": <applicantId>, 
    ""smokerStatus"": ""smokerStatus"": ""None in the last 5 years | None in last 12 months | I have used tobacco or replacement products in last 12 months"",
    ""quoteDecisions"": [
      // one object per product type
      {
        ""productType"": ""life | ci | aci"",
        
        ""emRating"": 200, //Can by nullable
        ""permPMRating"": 5, //Can by nullable
        ""exclusions"": [
          {
            ""isRemoval"": true | false,
            ""code"": 1001
          },
          {...}
      }
    ]
  }
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00tkt:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,Guardian Sprint 6,,,,,20/Oct/21 9:39 AM,,5.0,,,EXL Lissia,,,,,,,,,,,,,,,"Postman collection will be available to help clarify the calls.

[~accountid:6139c49114e8340071fcda09]  - has knowledge of the decision service and the test enquiry line…",,,,,,,,,,,,,,,2021-12-01 13:30:18.45,01/Dec/21 1:30 PM;616ee20e2097220071a975d2;As confirmed with [~accountid:60cc71a22bd21400692fd2af] the emRating and {{permPMRating}} can be null if not set in the corresponding risk/product decisions,06/Dec/21 11:37 PM;60cc71a1d5dde800713a2124;[~accountid:613f22fdff23ba00715469d1] - we cannot replicate the issue you are seeing under [https://gghltd.atlassian.net/browse/NBJ-906|https://gghltd.atlassian.net/browse/NBJ-906|smart-link].  If you can replicate / provide more details that would be useful to know.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
DecisionService - create a Life with Critical Illness product decision,NBJ-604,40094,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,03/Nov/21 11:32 PM,08/Dec/21 5:04 PM,02/Feb/22 6:31 PM,08/Dec/21 5:04 PM,,Foundation Release,,Decision,Sprint_4,,"*NB - until risk decisions are complete do not start this story*

*As an* api consumer of the underwriting service
*So that* I am aware of the current automated product decisions
*I want* the service to respond with the current Life with Critical Illness decision",,Antony.Gorman,Chris.Hibbert,James Bartlett,Jim Houghton,,,,6149b13472728e006f9441d6,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,,,,,,,,,,,Hidden from EXL,NBJ-608,NBJ-605,,,,,,,,,,,,,,NBJ-917,,,,,NBJ-928,NBJ-921,NBJ-922,NBJ-926,,,,,,,08/Dec/21 5:04 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/24165/LivingDoc.html,,,,,,,,,,,,"*Given* any request POST /api/v1/decision/\{applicantId}/product
*And* body contains productType of Life with Critical Illness
*Then* get the risk level decisions
*And* body contains riskType of Life
*And* body contains riskType of Critical Illness
*And* body contains riskType of Total Permanent Disability

_Building on the above_

*Given* successful response from URE risk decision described above
*When* formulating product decision response
*Then* ensure risk decision response applicantId maps to product decision applicantId
*And* ensure risk decision response smokerStatus maps to product decision smokerStatus

*Given* successful response from URE risk decision described above
*And* TPD risk decision is STANDARD
*When* formulating product decision
*Then* set productType to Life and Critical Illness
*And* set product decision to be most significant of the Life risk decision and the Critical Illness risk decision
*And* set the reasons to the reasons from the Life and/or Ci risk decisions, matching the most significant decision
*And* set upsell allowed to true if both Life and Ci risk decisions are true, else it is false
*And* if upsell allowed determined to be true set upsellAmount to be the minimum of the upsellAmount of Life and Critical Illness risk decisions
*And* set gioEntitlement to true if both Life and Critical Illness risk decisions are true
*And* as TPD is STANDARD then set tpd.isIncluded to true
*And* set postpones to the sum of all postpone codes in the Life and Critical Illness risk decision responses
*And* set exclusions to the sum of all exclusion codes in the Life and Critical Illness risk decision responses, ensure that riskType is set to reflect where each exclusion is sourced
*And* the em.totalRating is set to the sum of all the em.totalRating from each of the Life and Critical Illness risk responses - add in common rating calc. 20% of Life and 80% of Ci (always apply this factor to each of the risk loadings even if one is 0)
*And* the em.ratings is populated with Life and Critical Illness em.ratings
*And* the pm.totalRating is set to the sum of all the pm.totalRating only take the Life PM rating
*And* the pm.ratings is populated with Life",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,"# This story is about starting to output the Life and Critical Illness product decisions from the URE, later I expect that this decision may be obtained from manual underwriting decision
# A productType of Life with Critical Illness will need a risk decision of Life,Critical Illness and Total Permanent Disability - NB request all risk decisions in a single request reflecting all productTypes in the original request.  Following stories will contain product mappings foreach productType.
# *Most Significant Decision* - listing decision in the following order the most significant is higher up the list:
## DECLINE
## POSTPONE
## REFER
## EVIDENCE_REQUIRED
## NON_STANDARD
## STANDARD
# [https://gghltd.atlassian.net/browse/NBJ-204|https://gghltd.atlassian.net/browse/NBJ-204|smart-link] describes what we are trying to achieve with this story

_Service Request_

Any request that has an activeEnquiry response

{noformat}POST /api/v1/decision/{applicantId}/product{noformat}

_Service Response_

{code:json}{
  ""applicantId"": ""<applicantId>"",
  ""smokerStatus"": ""<GUARDIAN smoker statuses>"",
  ""productDecisions"": [ // one product decision per cover in the applicant's application
    {
      ""productType"": ""life | ci | aci "",
      ""decision"": ""Standard Terms | Non standard Terms | Additional Evidence | Manual UW | Postponed | Declined"",
      ""indicativeDecision"": ""Standard Terms | Non standard Terms | Additional Evidence | Manual UW | Postponed | Declined"",
      ""reasons"": [<list of strings, giving reasons for decision>],
      ""upsell"": {
        ""isAllowed"": true | false, -- change to true | false
        ""amount"": 100000        
      },
      ""gioEntitlement"": true | false,
      ""tpd"": {
        ""isIncluded"": true | false,
        ""reasons"": ["""", """"]
      },
      ""postpones"": [ -- only present if decision POSTPONE or indicativeDecision POSTPONE
        {
          ""code"": """",
          ""text"": """",
          ""reasons"": ["""", """"]
        },
        ...
      ],
      ""evidences"": [ -- only present if decision EVIDENCE_REQUIRED | REFER
        {
          ""code"": """",
          ""text"": """",
          ""reasons"": ["""", """"]
        },
        ...
      ],
      ""exclusions"": [ -- not present for DECLINE | POSTPONES
        {
          ""riskType"": ""life | ci | tpd"", -- needs to be mapped from risk
          ""code"": """",
          ""text"": """",
          ""reasons"": ["""", """"],
          ""hasDiscount"": true | false,
          ""exclusionOrRemoval"": ""exclusion | removal"" // baking all possible answers into the field name?
        },
        ...
      ],
      ""em"": {  -- not present for STANDARD | DECLINE | POSTPONES
        ""totalRating"": 200, // the sum of all individual ratings 
        ""ratings"": [
          {
            ""rating"": 50,
            ""duration"": ""<time_period>"",
            ""reasons"": ["""", """"]
          },
          ...
        ]
      ],
      ""pm"": {  -- not present for STANDARD | DECLINE | POSTPONES
        ""totalRating"": 200, // the sum of all individual ratings 
        ""ratings"": [
          {
            ""rating"": 50,
            ""duration"": ""<time_period>"",
            ""reasons"": ["""", """"]
          },
          ...
        ]
      ]
    }
  ]    
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00rl2:zr,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,Guardian Sprint 6,,,,20/Oct/21 9:39 AM,,13.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-30 15:50:42.784,30/Nov/21 3:50 PM;6149b13472728e006f9441d6;As discussed with [~accountid:60cc71a22bd21400692fd2af] evidences will come in a later story so removed from AC,30/Nov/21 3:52 PM;6149b13472728e006f9441d6;also - removed lines on allReasons from AC as the data is not modelled this way. the reasons form a part of the ratings so this is already covered by checking the ratings are copied correctly.,07/Dec/21 2:54 PM;6139c49114e8340071fcda09;[~accountid:60cc71a1d5dde800713a2124] a few bugs on this one so I’ve marked it as blocked for now.,08/Dec/21 8:59 AM;60cc71a1d5dde800713a2124;[~accountid:6139c49114e8340071fcda09] - I think [~accountid:6149b13472728e006f9441d6] has stormed through them all\!,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
DecisionService - create a Critical Illness product decision,NBJ-603,40093,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,03/Nov/21 11:16 PM,06/Dec/21 1:25 PM,02/Feb/22 6:31 PM,06/Dec/21 1:25 PM,,Foundation Release,,Decision,Sprint_4,,"*NB - until risk decisions are complete do not start this story*

*As an* api consumer of the underwriting service
*So that* I am aware of the current automated Critical Illness product decisions
*I want* the service to respond with the current Critical Illness decision",,James Bartlett,Jim Houghton,,,,,,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,NBJ-605,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Dec/21 10:59 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/24035/LivingDoc.html,,,,,,,,,,,,"*Given* any request POST /api/v1/decision/\{applicantId}/product
*And* body contains productType of Critical Illness
*Then* get the risk level decisions
*And* body contains riskType of Critical Illness
*And* body contains riskType of Total Permanent Disability

_Building on the above_

*Given* successful response from URE risk decision described above
*And* risk decision with a riskType of Total Permanent Disability with a decision = STANDARD
*When* formulating product decision response
*Then* ensure risk decision response applicantId maps to product decision applicantId
*And* ensure risk decision response smokerStatus maps to product decision smokerStatus
*And* all fields are mapped from riskType = Critical Illness on risk decision to productType = Critical Illness on product response message
*And* within productType Critical Illness foreach exclusion in exclusions add an additional property riskType = \[“Critical Illness”]
*And* within productType Critical Illness add in tpd section with property isIncluded = true

*Given* successful response from URE risk decision described above
*And* risk decision with a riskType of Total Permanent Disability with a decision = DECLINE
*When* formulating product decision response
*Then* ensure risk decision response applicantId maps to product decision applicantId
*And* ensure risk decision response smokerStatus maps to product decision smokerStatus
*And* all fields are mapped from riskType = Critical Illness on risk decision to productType = Critical Illness on product response message
*And* within productType Critical Illness foreach exclusion in exclusions add an additional property riskType = \[“Critical Illness”]
*And* within productType Critical Illness add in tpd section with property isIncluded = false

*Given* successful response from URE risk decision described above
*And* risk decision with a riskType of Total Permanent Disability with a decision = NON_STANDARD
*When* formulating product decision response
*Then* ensure risk decision response applicantId maps to product decision applicantId
*And* ensure risk decision response smokerStatus maps to product decision smokerStatus
*And* all fields are mapped from riskType = Critical Illness on risk decision to productType = Critical Illness on product response message
*And* within productType Critical Illness foreach exclusion in exclusions add an additional property riskType = \[“Critical Illness”]
*And* within productType Critical Illness add in tpd section with property isIncluded = true
*And* within productType Critical Illness add in tpd section with disabilityDefinition from the TPD risk decision
*And* within productType Critical Illness foreach exclusion in risk type TPD exclusions add each tpd exclusion with an additional property riskType = \[“Total Permanent Disability”]

*Given* successful response from URE risk decision described above
*And* risk decision with a riskType of Total Permanent Disability with a decision = NON_STANDARD or DECLINE
*When* formulating product decision response
*Then* set the decision within the Critical Illness productType to NON_STANDARD",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,"# This story is about starting to output the Critical Illness product decisions from the URE, later I expect that this decision may be obtained from manual underwriting decision
# To make a Critical Illness product decision, a Critical Illness and TPD risk decision will be required
# This service will receive a request with products specified
# The current active enquiry will be returned from URE using applicationId mapped to enquiryId → /v4/enquiry/\{enquiryId}
# A productType of Life will need a risk decision - NB request all risk decisions in a single request reflecting all productTypes in the original request.  Following stories will contain product mappings foreach productType.

_Service Request_

Any request that has an activeEnquiry response

{noformat}POST /api/v1/decision/{applicantId}/product{noformat}

_Service Response_

{code:json}{
  ""applicantId"": ""<applicantId>"",
  ""smokerStatus"": ""<GUARDIAN smoker statuses>"",
  ""productDecisions"": [ // one product decision per cover in the applicant's application
    {
      ""productType"": ""life | ci | aci "",
      ""decision"": ""Standard Terms | Non standard Terms | Additional Evidence | Manual UW | Postponed | Declined"",
      ""indicativeDecision"": ""Standard Terms | Non standard Terms | Additional Evidence | Manual UW | Postponed | Declined"",
      ""reasons"": [<list of strings, giving reasons for decision>],
      ""upsell"": {
        ""isAllowed"": true | false, -- change to true | false
        ""amount"": 100000        
      },
      ""gioEntitlement"": true | false,
      ""tpd"": {
        ""isIncluded"": true | false,
        ""disabilityDefinition"": ""Own | Activities"",
        ""reasons"": ["""", """"]
      },
      ""postpones"": [ -- only present if decision POSTPONE or indicativeDecision POSTPONE
        {
          ""code"": """",
          ""text"": """",
          ""reasons"": ["""", """"]
        },
        ...
      ],
      ""evidences"": [ -- only present if decision EVIDENCE_REQUIRED | REFER
        {
          ""code"": """",
          ""text"": """",
          ""reasons"": ["""", """"]
        },
        ...
      ],
      ""exclusions"": [ -- not present for DECLINE | POSTPONES
        {
          ""riskType"": ""life | ci | tpd"", -- needs to be mapped from risk
          ""code"": """",
          ""text"": """",
          ""reasons"": ["""", """"],
          ""hasDiscount"": true | false,
          ""exclusionOrRemoval"": ""exclusion | removal"" // baking all possible answers into the field name?
        },
        ...
      ],
      ""em"": {  -- not present for STANDARD | DECLINE | POSTPONES
        ""totalRating"": 200, // the sum of all individual ratings 
        ""allReasons"": ["""",""""] // all the individual reasons for rating, de-duped
        ""ratings"": [
          {
            ""rating"": 50,
            ""duration"": ""<time_period>"",
            ""reasons"": ["""", """"]
          },
          ...
        ]
      ],
      ""pm"": {  -- not present for STANDARD | DECLINE | POSTPONES
        ""totalRating"": 200, // the sum of all individual ratings 
        ""allReasons"": ["""",""""] // all the individual reasons for rating, de-duped
        ""ratings"": [
          {
            ""rating"": 50,
            ""duration"": ""<time_period>"",
            ""reasons"": ["""", """"]
          },
          ...
        ]
      ]
    }
  ]    
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00rl2:zi,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,Guardian Sprint 6,,,,20/Oct/21 9:39 AM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-02 22:19:13.281,02/Dec/21 10:19 PM;6139c49114e8340071fcda09;Indicative decisions were not tested as they are described in [https://gghltd.atlassian.net/browse/NBJ-685|https://gghltd.atlassian.net/browse/NBJ-685|smart-link] ,02/Dec/21 10:57 PM;6139c49114e8340071fcda09;Evidences were not tested as they will only be possible once [https://gghltd.atlassian.net/browse/NBJ-725|https://gghltd.atlassian.net/browse/NBJ-725|smart-link]  is completed,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
DecisionService - create a Life product decision,NBJ-602,40092,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,03/Nov/21 10:42 PM,02/Dec/21 10:09 AM,02/Feb/22 6:31 PM,02/Dec/21 10:09 AM,,Foundation Release,,Decision,Sprint_4,,"*NB - until risk decisions are complete do not start this story*

*As an* api consumer of the underwriting service
*So that* I am aware of the current automated underwriting product decision
*I want* the service to respond with the current Life product decision",,Jim Houghton,Justin.Smith,,,,,,60cc71a22bd21400692fd2af,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,Hidden from EXL,NBJ-605,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* the ID of an Applicant \{applicantId}
*When* requesting {{POST /api/v1/decision/{applicantId}/product}}
*Then* return the current product-level decision for the Life product for the given Applicant
*And* ensure the product decision applicantId = \{applicantId}
*And* ensure risk decision response smokerStatus maps to product decision smokerStatus
*And* all fields are mapped from riskType = Life on risk decision to productType = Life on product response message
*And* foreach exclusion in exclusions add an additional property riskType = \[“Life”]

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,"# This story is about starting to output the Life product decisions from the URE, later I expect that this decision may be obtained from manual underwriting decision
# This service will receive a request with products specified
# The current active enquiry will be returned from URE using applicationId mapped to enquiryId → /v4/enquiry/\{enquiryId}
# A productType of Life will need a risk decision - NB request all risk decisions in a single request reflecting all productTypes in the original request.  Following stories will contain product mappings foreach productType.

_Service Request_

Any request that has an activeEnquiry response

{noformat}POST /api/v1/decision/{applicantId}/product{noformat}

_Service Response_

{code:json}{
  ""applicantId"": ""<applicantId>"",
  ""smokerStatus"": ""<GUARDIAN smoker statuses>"",
  ""productDecisions"": [ // one product decision per cover in the applicant's application
    {
      ""productType"": ""life | ci | aci "",
      ""decision"": ""Standard Terms | Non standard Terms | Additional Evidence | Manual UW | Postponed | Declined"",
      ""reasons"": [<list of strings, giving reasons for decision>],
      ""upsell"": {
        ""isAllowed"": true | false, -- change to true | false
        ""amount"": 100000        
      },
      ""gioEntitlement"": true | false,
      ""postpones"": [ -- only present if decision POSTPONE or indicativeDecision POSTPONE
        {
          ""code"": """",
          ""text"": """",
          ""reasons"": ["""", """"]
        },
        ...
      ],
      ""exclusions"": [ -- not present for DECLINE | POSTPONES
        {
          ""riskType"": ""Life | ci | tpd"", -- needs to be mapped from risk
          ""code"": """",
          ""text"": """",
          ""reasons"": ["""", """"],
          ""hasDiscount"": true | false,
          ""exclusionOrRemoval"": ""exclusion | removal"" // baking all possible answers into the field name?
        },
        ...
      ],
      ""em"": {  -- not present for STANDARD | DECLINE | POSTPONES
        ""totalRating"": 200, // the sum of all individual ratings 
        ""allReasons"": ["""",""""] // all the individual reasons for rating, de-duped
        ""ratings"": [
          {
            ""rating"": 50,
            ""duration"": ""<time_period>"",
            ""reasons"": ["""", """"]
          },
          ...
        ]
      ],
      ""pm"": {  -- not present for STANDARD | DECLINE | POSTPONES
        ""totalRating"": 200, // the sum of all individual ratings 
        ""allReasons"": ["""",""""] // all the individual reasons for rating, de-duped
        ""ratings"": [
          {
            ""rating"": 50,
            ""duration"": ""<time_period>"",
            ""reasons"": ["""", """"]
          },
          ...
        ]
      ]
    }
  ]    
}{code}

Request Risk decision

{noformat}POST /api/v1/decision/{applicantId}{noformat}

Response Risk Decision

{code:json}{
  ""applicantId"": ""<applicantId>"",
  ""smokerStatus"": ""<GUARDIAN smoker statuses>"",
  ""riskDecisions"": [ // one risk decision per risk element underwritten
    {
      ""riskType"": ""life | ci | tpd"",
      ""decision"": ""Standard Terms | Non standard Terms | Additional Evidence | Manual UW | Postponed | Declined"",
      ""indicativeDecision"": ""Standard Terms | Non standard Terms | Additional Evidence | Manual UW | Postponed | Declined"",
      ""reasons"": [<list of strings, giving reasons for decision>],
      ""upsell"": {
        ""isAllowed"": true | false, -- change to true | false
        ""amount"": 100000        
      },
      ""gioEntitlement"": true | false,
      ""disabilityDefinition"": ""Own | Activities"", -- only tpd 
      ""postpones"": [ -- only present if decision POSTPONE or indicativeDecision POSTPONE
        {
          ""code"": """",
          ""text"": """",
          ""reasons"": ["""", """"]
        },
        ...
      ],
      ""exclusions"": [ -- not present for DECLINE | POSTPONES
        {
          ""code"": """",
          ""text"": """",
          ""reasons"": ["""", """"],
          ""hasDiscount"": true | false,
          ""exclusionOrRemoval"": ""exclusion | removal"" // baking all possible answers into the field name?
        },
        ...
      ],
      ""em"": {  -- not present for STANDARD | DECLINE | POSTPONES
        ""totalRating"": 200, // the sum of all individual ratings 
        ""allReasons"": ["""",""""] // all the individual reasons for rating, de-duped
        ""ratings"": [
          {
            ""rating"": 50,
            ""duration"": ""<time_period>"",
            ""reasons"": ["""", """"]
          },
          ...
        ]
      ],
      ""pm"": {  -- not present for STANDARD | DECLINE | POSTPONES
        ""totalRating"": 200, // the sum of all individual ratings 
        ""allReasons"": ["""",""""] // all the individual reasons for rating, de-duped
        ""ratings"": [
          {
            ""rating"": 50,
            ""duration"": ""<time_period>"",
            ""reasons"": ["""", """"]
          },
          ...
        ]
      ]
    }
  ]    
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00rl2:z,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,,,,,20/Oct/21 9:39 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-01 13:12:36.504,"01/Dec/21 1:12 PM;618bdfc5fba4d0006ad4853e;Hi [~accountid:6139c49114e8340071fcda09] as discussed is there any possibility that you can generate code, text and reason data for evidences and postpones?","01/Dec/21 4:26 PM;618bdfc5fba4d0006ad4853e;Hi [~accountid:60cc71a22bd21400692fd2af] as we have discussed with [~accountid:6139c49114e8340071fcda09] I can’t test the evidences as [https://gghltd.atlassian.net/browse/NBJ-725|https://gghltd.atlassian.net/browse/NBJ-725|smart-link] has not been delivered yet.  How do we want to deal with this in regard to closing this ticket.  Does this ticket need to be parked until 725 is delivered?

FYI [~accountid:60cc71a1d5dde800713a2124] ",01/Dec/21 5:00 PM;60cc71a22bd21400692fd2af;[~accountid:618bdfc5fba4d0006ad4853e] - I have removed evidences from the story.  I will ensure [https://gghltd.atlassian.net/browse/NBJ-725|https://gghltd.atlassian.net/browse/NBJ-725|smart-link] covers all that is required.  This should unblock you.,"02/Dec/21 9:01 AM;618bdfc5fba4d0006ad4853e;Thanks [~accountid:60cc71a22bd21400692fd2af] . [~accountid:6139c49114e8340071fcda09] do we have postpone - code, test and reasons covered in our tests? ","02/Dec/21 10:09 AM;618bdfc5fba4d0006ad4853e;I have discussed this with [~accountid:6139c49114e8340071fcda09] and the postpone test will be enhanced as part of the fix for [https://gghltd.atlassian.net/browse/NBJ-872|https://gghltd.atlassian.net/browse/NBJ-872|smart-link].  Marking this as done.

FYI [~accountid:60cc71a1d5dde800713a2124] ",,,,,,,,,,,,,,,,,,,,,,,,,,,Done
DecisionService - add postpones to risk decision,NBJ-601,40091,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,03/Nov/21 10:12 PM,09/Dec/21 9:11 AM,02/Feb/22 6:31 PM,02/Dec/21 4:41 PM,,Foundation Release,,Decision,Sprint_4,,"*As an* api consumer of the underwriting service
*So that* I can determine the current risk level decisions
*I want* the service will respond with postpones for each risk",,James Bartlett,Jim Houghton,,,,,,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-899,,,,,,,,,,02/Dec/21 4:41 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/24007/LivingDoc.html,,,,,,,,,,,,"*Given* an active enquiry response from URE
*And* active enquiry has answers to PRODUCT in allAnswers with a list of risks
*And* riskTypes wth decision type of POSTPONE
*When* rationalising the URE decision
*Then* the risk will have a POSTPONE_DURATION_<shortRef>, collect each contribution within contributions the contribution.value
*And* contribution.sources
*And* collect the max.value 
*And* max.sources

_Building on the above_

*Given* each max postpone max.value
*And* max.sources
*When* requesting detail of max postpone option GET → /v4/option/\{branch}/\{tag}/PostponeCodeOptions/<max.value>
*Then* populate the service response message from the URE option response with max.code = name
*And* populate the service response message from the URE option response with max.text = text
*And*  populate the service response message from the corresponding max.sources from the activeEnquiry response with max.reasons = max.sources

*Given* each postpone contribution.value
*When* requesting detail of each postpone option GET → /v4/option/\{branch}/\{tag}/PostponeCodeOptions/<contribution.value>
*Then* populate the service response message from the URE option response with postpones.code = name
*And* populate the service response message from the URE option response with postpones.text = text
*And*  populate the service response message from the corresponding contribution.sources from the activeEnquiry response with postpones.reasons = contribution.sources",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,"# This story is about outputting the postpones per riskType for overall decisions of POSTPONE
# To get a successful response from URE, applicantId must be first mapped to enquiryId
# we will create a *short reference (shortRef)* foreach risk:
## Life → LIFE
## Critical Illness → CI
## Total Permanent Disability → TPD
# branch and tag can be located on the active enquiry response

{noformat}POST /api/v1/decision/{applicantId}{noformat}

_activeEnquiry response from URE]_

{code:json}{
  ...
  ""branch"": ""DEV_RULESET"",
  ""tag"": ""v0_11"",
  ...
  ""buckets"": [
  ...,
    {
      ""type"": ""OPTION"",
      ""name"": ""POSTPONE_DURATION_LIFE"",
      ""contributions"": [
        {
          ""value"": ""BLOOD_PRESSURE"",
          ""sources"": [
            ""Client_Details""
          ]
        },
        ...
        ,
      ""min"": {
        ...
      },
      ""max"": {
        ""value"": ""BLOOD_PRESSURE"",
          ""sources"": [
            ""Client_Details""
          ]
      }
    },
  ...,
  ],
  ""sections"": [...],
  ""allAnswers"": {
   ...
  },
  ""debugInfo"": {}
}{code}

_URE option request/response_

{noformat}GET → /v4/option/{branch}/{tag}/exclusionOptions/<contribution.value>
{
  ""name"": ""BLOOD_PRESSURE"",
  ""text"": ""Unable to offer cover until blood pressure controlled for at least 3 months."",
  ""aliases"": [],
  ""categories"": [],
  ""tags"": [],
  ""attributes"": []
  }
}{noformat}

_Response_

underwritingOutcomes with a section per risk

{code:json}{
  data: {
    ""applicantId"": ""<applicantId>"",
    ""smokerStatus"": ""<GUARDIAN smoker statuses>"",
    ""riskDecisions"": [
      {
        ""riskType"": ""life | ci | tpd"",
        ...,
        ""postpone"": {
           max:{
            ""code"": """",
            ""text"": """"
           },
           postpones: [
            {
              ""code"": """", // GUARDIAN postpone code
              ""text"": """", // GUARDIAN postpone text
              ""reasons"": ["""", """"]
            },
            ...
          ]
        }
        ...
      },
      {...}
    ]
  }
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00rl2:y,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,,,,,20/Oct/21 9:39 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-30 21:14:56.101,"30/Nov/21 9:14 PM;6139c49114e8340071fcda09;(flag) Flag added

blocked by NBJ-872",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
DecisionService - add exclusions to risk decision,NBJ-600,40090,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,03/Nov/21 9:24 PM,01/Dec/21 12:18 PM,02/Feb/22 6:31 PM,01/Dec/21 12:17 PM,,Foundation Release,,Decision,Sprint_4,,"*As an* api consumer of the underwriting service
*So that* I can determine the current risk level decisions
*I want* the service will respond with exclusions for each risk",,Antony.Gorman,Chris.Hibbert,James Bartlett,Jim Houghton,,,,6149b13472728e006f9441d6,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,01/Dec/21 12:17 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/23939/LivingDoc.html,,,,,,,,,,,,"*Given* an active enquiry response from URE
*And* active enquiry has answers to PRODUCT in allAnswers with a list of risks
*And* riskTypes wth decision type of NON_STANDARD
*When* rationalising the URE decision
*Then* for each risk with an EXCLUSION_<shortRef> is present collect each contribution within contributions the contribution.value
*And* contribution.sources

_Building on the above_

*Given* each exclusion contribution.value
*When* requesting detail of each exclusion option GET → /v4/option/\{branch}/\{tag}/ExclusionOptions/<contribution.value>
*Then* populate the service response message from the URE option response with exclusions.code = attributes.insurerExclusionCode
*And* populate the service response message from the URE option response with exclusions.text = attributes.insurerText
*And* populate the service response message from the URE option response with exclusions.hasDiscount = attributes.hasDiscount
*And* populate the service response message from the URE option response with exclusions.isRemoval = attributes.isRemoval
*And*  populate the service response message from the corresponding contribution.values from the activeEnquiry response with exclusions.reasons = contribution.values",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,"# This story is about outputting the exclusions and or removals per riskType for overall decisions of NON_STANDARD
# To get a successful response from URE, applicantId must be first mapped to enquiryId
# we will create a *short reference (shortRef)* foreach risk:
## Life → LIFE
## Critical Illness → CI
## Total Permanent Disability → TPD
# branch and tag can be located on the active enquiry response

{noformat}POST /api/v1/decision/{applicantId}{noformat}

_activeEnquiry response from URE]_

{code:json}{
  ...
  ""branch"": ""DEV_RULESET"",
  ""tag"": ""v0_11"",
  ...
  ""buckets"": [
  ...,
    {
      ""type"": ""OPTION"",
      ""name"": ""EXCLUSION_LIFE"",
      ""contributions"": [
        {
          ""value"": ""EXCLREN"",
          ""sources"": [
            ""Client_Details""
          ]
        },
        ...
        ,
      ""min"": {
        ...
      },
      ""max"": {
        ""value"": ""YES"",
        ""sources"": [
          ""GIO_Entitlement""
        ]
      }
    },
  ...,
  ],
  ""sections"": [...],
  ""allAnswers"": {
   ...
  },
  ""debugInfo"": {}
}{code}

_URE option request/response_

{noformat}GET → /v4/option/{branch}/{tag}/exclusionOptions/<contribution.value>{noformat}



{noformat}{
  ""name"": ""EXREN"",
  ""text"": ""Cancer is removed as an insured condition"",
  ""aliases"": [],
  ""categories"": [],
  ""tags"": [],
  ""attributes"": {
    ""insurerExclusionCode"": ""1058"",
    ""insurerText"": ""Cancer is removed as an insured condition""
    ""hasDiscount"": true | false,
    ""isRemoval"": true | false
  }
}{noformat}

_Response_

Decision with a section per risk

{code:json}{
  data: {
    ""applicantId"": ""<applicantId>"",
    ""smokerStatus"": ""<GUARDIAN smoker statuses>"",
    ""riskDecisions"": [
      {
        ""riskType"": ""life | ci | tpd"",
        ...,
        ""exclusions"": [
           {
            ""code"": """", // GUARDIAN exclusion code
            ""text"": """", // GUARDIAN exclusion text
            ""reasons"": ["""", """"],
            ""hasDiscount"": true | false, // attracts discount
            ""isRemoval"": true | false // is exclusion or removal
           },
           ...
         ]
        }
        ...
      },
      {...}
    ]
  }
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00plp:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,,,,,20/Oct/21 9:39 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-26 09:13:05.189,"26/Nov/21 9:13 AM;60cc71a1d5dde800713a2124;(flagoff) Flag removed

NBJ-481 fixed","30/Nov/21 3:46 PM;6139c49114e8340071fcda09;[~accountid:6149b13472728e006f9441d6] unfortunately I don’t think the isRemoval field is coming through correctly. See 

* application G000083719
* applicant ID 47aaa8c0-1392-4900-bd3c-7f235be41e6f

in UWT.

This has an exclusion of CIRMBLI (“Blindness is removed as an insured condition“) in the underwriting. This exclusion has isRemoval of TRUE, but this isn’t reflected in the risk decision.



hasDiscount comes through OK, so there is the potential for a naming issue. Especially as I updated the rules to include these two new attributes.",01/Dec/21 10:13 AM;6149b13472728e006f9441d6;somebody (mentioning no names) changed the json path in the options lookup spec after the code had actually been delivered - fix is is incoming for the new json shape.,01/Dec/21 12:18 PM;6139c49114e8340071fcda09;tests for POSTPONE are failing which is tracked in NBJ-872,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
DecisionService - add pmRating to risk decision,NBJ-599,40085,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,03/Nov/21 5:41 PM,06/Dec/21 1:25 PM,02/Feb/22 6:31 PM,06/Dec/21 1:25 PM,,Foundation Release,,Decision,Sprint_4,,"*As an* api consumer of the underwriting service
*So that* I can determine the current risk level decisions
*I want* the service will respond with PM ratings for each risk",,James Bartlett,Jim Houghton,,,,,,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,30/Nov/21 10:25 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/23920/LivingDoc.html,,,,,,,,,,,,"*Given* an active enquiry response from URE
*And* active enquiry has answers to PRODUCT in allAnswers with a list of risks 
*And* riskTypes wth decision type of NON_STANDARD
*When* constructing the output message
*Then* create a pm section foreach risktype with the presence of PM_<shortRef> bucket present
*And* map totalRating within em from PM_<shortRef>.sum.value
*And* within pm create a ratings section, mapping each contribution with a value that is not equal to zero

* rating = contributions.value
* reasons = contribution.sources
* duration = contributions.duration",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,"*Implementation Notes*

# This story is about outputting the PM decisions per riskType for overall decisions of NON_STANDARD
# To get a successful response from URE, applicantId must be first mapped to enquiryId
# we will create a short reference foreach risk:
## Life → LIFE
## Critical Illness → CI
## Total Permanent Disability → TPD

{noformat}POST /api/v1/decision/{applicantId}{noformat}

_activeEnquiry response from URE]_

{code:json}{
  ...
  ""buckets"": [
  ...,
    {
      ""type"": ""NUMBER"",
      ""name"": ""PM_LIFE"",
      ""contributions"": [
        {
          ""value"": 50,
          ""sources"": [
            ""Non_Medical_Limits""
          ]
        },
        ...
      ],
      ""min"": {
        ...
      },
      ""max"": {
        ...
      },
      ""sum"": {
        ""value"": 100,
        ""sources"": [
          ""Non_Medical_Limits"",
          ""Build"", ...
        ]
      }
    },
  ...,
  ],
  ""sections"": [...],
  ""allAnswers"": {
   ...
  },
  ""debugInfo"": {}
}{code}

_Response_

underwritingOutcomes with a section per risk

{code:json}{
  data: {
    ""applicantId"": ""<applicantId>"",
    ""smokerStatus"": ""<GUARDIAN smoker statuses>"",
    ""riskDecisions"": [
      {
        ""riskType"": ""life | ci | tpd"",
        ...,
        ""pm"": {
          ""totalRating"": 100, // the sum of all individual ratings 
          ""ratings"": [
           {
             ""rating"": 50,
             ""duration"": ""<time_period>"", -- valid values are 0|12|24|36|48|60|72|84|96|108|120 in months
             ""reasons"": ["""", """"]
           },
           ...
         ]
        }
        ...
      },
      {...}
    ]
  }
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00rl2:v,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,Guardian Sprint 6,,,,20/Oct/21 9:39 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-30 10:25:22.348,30/Nov/21 10:25 AM;6139c49114e8340071fcda09;I’ve only tested PM ratings on Life,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
ApplicationService - change Add Cover URL,NBJ-598,40072,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jason Hughes,613f60991370f00069033c68,Jason Hughes,613f60991370f00069033c68,03/Nov/21 12:41 PM,04/Nov/21 11:30 AM,02/Feb/22 6:31 PM,04/Nov/21 11:30 AM,,Foundation Release,,Quote,Sprint_3,,"The current Request for this is

{noformat}POST api/v1/application/{applicationId}/cover{noformat}

To make it consistent with the other Cover related endpoints this should be changed to

{noformat}POST api/v1/application/{applicationId}/applicant/{applicantId}/cover{noformat}

So the applicantId should be added to the route and removed from the body",,James Bartlett,Jason Hughes,,,,,,6139c49114e8340071fcda09,613f60991370f00069033c68,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,04/Nov/21 11:29 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/23312/LivingDoc.html,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00qo7:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,,,,,,03/Nov/21 12:41 PM,,1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-04 11:29:58.057,04/Nov/21 11:29 AM;6139c49114e8340071fcda09;Errors shown in the attached are all due to existing issues and are expected,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Children's details section,NBJ-597,40069,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,03/Nov/21 12:14 PM,25/Jan/22 3:13 PM,02/Feb/22 6:31 PM,25/Jan/22 3:13 PM,,Foundation Release,,Sprint_9,,,"*As a* user
*So that* I tell you about my children
*I want* to be able to enter details on the contact details screen

!Screenshot 2022-01-15 at 15.15.55.png|width=1279,height=470!",,Chris.Hibbert,Justin.Smith,,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,Hidden from EXL,NBJ-1244,,,,,,,,,,,,,,,,,NBJ-1128,,,,,,,,,,,,,15/Jan/22 3:16 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2022-01-15 at 15.15.55.png;https://gghltd.atlassian.net/secure/attachment/25110/Screenshot+2022-01-15+at+15.15.55.png,25/Jan/22 3:13 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220125-151315.png;https://gghltd.atlassian.net/secure/attachment/25352/image-20220125-151315.png,,,,,,,,,,,"*Given*: An application containing a ccic rider on any applicant
*When*: Viewing the contact details screen
*Then*: a Children’s details section is shown at the bottom
*and*: this section is mandatory to complete the contact details screen

*Given*: A Children’s details section
*Then*: the header is:

{panel:bgColor=#deebff}
Children's details for Children’s Critical Illness Protection
{panel}

*and*: the text shown is:

{panel:bgColor=#eae6ff}
We need all children’s names and dates of birth so we can advise when children are no longer covered. 

Please complete your children's details, or if you are only looking to cover unborn children, please choose ‘Cover unborn children only’ below.
{panel}

*and*: the “Add a child” and “Cover unborn children only” buttons are available

*Given*: An application {color:#ff5630}*not*{color} containing a ccic rider
*When*: Viewing the contact details screen
*Then*: {color:#ff5630}*No*{color} Children’s details section is shown
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-765,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01cgh:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,03/Nov/21 12:14 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-25 15:11:18.016,25/Jan/22 3:11 PM;618bdfc5fba4d0006ad4853e;Started automating this to the point where you see the child section and then realised this is just the text and you can’t do anything at the moment.  There are no test ids to check the text or buttons.  I spoke to [~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] and he has not included them as can’t really do anything at this stage.  I will automate further when we get the other tickets in the epic - [https://gghltd.atlassian.net/browse/NBJ-765|https://gghltd.atlassian.net/browse/NBJ-765|smart-link] ,"25/Jan/22 3:13 PM;618bdfc5fba4d0006ad4853e;Looks good as per the AC

!image-20220125-151315.png|width=1477,height=347!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Update application in Salesforce when there is a new URE Decision,NBJ-596,40054,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Ian.Douglas,5e183e85c578120daca5bc7b,helen.scriven,5dbd6f97fc11e40c2ff452a7,helen.scriven,5dbd6f97fc11e40c2ff452a7,03/Nov/21 9:50 AM,02/Feb/22 12:25 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"As a Salesforce user/underwriter I want the application in Salesforce to be updated when a new Underwriting Decision is available (UWE enquiry closed), so I can answer queries with up-to-date information/be clear what’s occurred with my UW case. ",,Graham.Smith,helen.scriven,,,,,,5db1914d2299c90da0133d7b,5dbd6f97fc11e40c2ff452a7,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,NBJ-593,,,,,,,,,,,,,,,,,,,,,,,,,,,"Given an applicant that is in a status of Questions Outstanding:
When the UW questions for that applicant are resubmitted (Declaration page completed)
Then within 60 seconds (but it must be after the UW questions restarting event) the following updates happen in Salesforce:

* Any updated App Member details are updated e.g. Occupation, Smoker Status
* The App Member App Questions and Answers are updated with the updated answers and the changed answers are shown as per related US.
* Underwriting Outcomes are updated
* If the App Member has previously had a status of Referred to UW
** The App Member Status is Referred to UW
** The existing NBJ2 case Status is updated to 'Referred' 
** The case Subtype is updated to ‘Return to UW - External’.
** An internal Progress Update 'Case re-referred - adviser updated application' is added to the case
* If the App Member has only had a previous status of STP Decision and:
** The current NBJ applicant status is STP Decision then the App Member status is STP Decision
** The current NBJ applicant status is Referred to UW then:
*** The App member status is Referred to UW
*** If all applicants are submitted (All App Members are either STP Decision or Referred to UW then
**** A new NBJ2 UW case is created as per usual rules [https://gghltd.atlassian.net/browse/NBJ-577|https://gghltd.atlassian.net/browse/NBJ-577|smart-link] 
* Application Status 
** If all App Member status at STP Decision or Manual Decision then the Application status is Decision
** Else if one App Member status is Questions Outstanding then Application status remains at Apply 
*** Else if one App Member status is Referred to UW then Application status is Underwriting.  ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-125,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space-bx,,,,,,,No,,1|i00qc6:r,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,03/Nov/21 9:50 AM,,0.0,,,,,,,,,,,,,,,,Andy Cole,5fa26bb0f7b30b006e1b6ad5,,,,,,,,,,,,,,,,2021-11-25 14:25:25.251,25/Nov/21 2:25 PM;5db1914d2299c90da0133d7b;The SF build requirement is to create the progress update. SF will need to be tested to ensure the necessary updates have been completed by the ACL on the respective SF records. 3 Story Points.,"01/Feb/22 8:55 AM;5dbd6f97fc11e40c2ff452a7; [~accountid:5d3192ae3e80bd0c7f09c6f7] [~accountid:5db1914d2299c90da0133d7b] Guys this is currently assigned to Dougal for the ACL work but there is some work for Jimmy (creating the Progress Update). Let me know if you’d like me to split it out as a separate task. However, Jimmy may also need to determine if the App Member has been referred before as I’m not sure NBJ2 will know this. [~accountid:5e183e85c578120daca5bc7b] when you get to that bit please shout if you think that is the case.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
"Adding a cover with neither term or toAge, or both at the same time, returns a 500",NBJ-595,40046,,Bug,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Low,,Chris.Hibbert,60cc71a1d5dde800713a2124,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,02/Nov/21 9:17 PM,11/Jan/22 9:42 AM,02/Feb/22 6:31 PM,,,,,,,,,,Chris.Hibbert,James Bartlett,,,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: Adding a cover with neither term or toAge, or both at the same time, returns a 500

Business Impact: as no meaningful error message is returned, prod support would be tricky if this ever happened.

Steps to Reproduce: Add a cover with either of these request bodies:
{code}
{
    ""applicantId"": ""{{applicantId}}"",
    ""productType"": ""Life"",
    ""coverType"": ""Level"",
    ""term"": 5,
    ""toage"": 60,
    ""coverAmount"": 1000
}
{code}


{code}
{
    ""applicantId"": ""{{applicantId}}"",
    ""productType"": ""Life"",
    ""coverType"": ""Level"",
    ""coverAmount"": 1000
}
{code}

Expected Results: 400 response code is returned with a meaningful error message in the response body

Actual Result: 500 is returned with nothing meangful

Version: unknown",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00qif:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Nov/21 9:17 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-11 09:42:07.863,11/Jan/22 9:42 AM;60cc71a1d5dde800713a2124;Closing as UX now resolved.  API consumers will come later.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
No error is thrown if an invalid attribute is updated on an applicant,NBJ-594,40036,,Bug,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Lowest,,Chris.Hibbert,60cc71a1d5dde800713a2124,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,02/Nov/21 6:39 PM,15/Nov/21 12:03 PM,02/Feb/22 6:31 PM,,,,,,,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: No error is thrown if an invalid attribute is updated on an applicant

Business Impact: Difficult to determine if there is any impact

Steps to Reproduce: PATCH the following body to {{base_url}}/api/v1/application/{{applicationId}}/applicant/{{applicantId}}

{code}
{
  ""firstName"": ""Sam"",
  ""lastName"": ""Gomble"",
  ""dateOfBirth"": ""1978-10-30T00:00:00"",
  ""gender"": ""Male"",
  ""height"": 178,
  ""weight"": 88,
  ""title"": ""Mr"",
  ""smoking"": ""NON_SMOKER"",
  ""hacker"": ""l33t"",
}
{code}

Expected Results: a 400 or similar is returned with a corresponding error message that ""hacker"" is not a valid attribute for an applicant

Actual Result: a 200 is returned and the ""hacker"" attribute is ignored

Version: unknown",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00qg7:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Nov/21 6:39 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Update application in Salesforce when UW questions restarted,NBJ-593,40035,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Ian.Douglas,5e183e85c578120daca5bc7b,helen.scriven,5dbd6f97fc11e40c2ff452a7,helen.scriven,5dbd6f97fc11e40c2ff452a7,02/Nov/21 6:32 PM,02/Feb/22 12:24 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"As a Salesforce user/underwriter I want the application statuses in Salesforce to be updated when previously submitted UW questions are 'restarted', so I can answer queries with up-to-date information/be clear what’s occurred with my UW case. This could occur either because the adviser specifically wants to update a disclosure or because they've updated something on the application which has forced them back through UW questions.",,Graham.Smith,helen.scriven,,,,,,5db1914d2299c90da0133d7b,5dbd6f97fc11e40c2ff452a7,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Given an Applicant that is in a status of either STP Decision or Manual Decision when the UW Enquiry is re-opened ( when any UW question for that applicant is updated)

* The Application status is Apply (it may already be in Apply if the other dual applicant has not yet completed their questions)
* The App Member status updates to Questions Outstanding
* If an NBJ2 UW case exists for this applicant then nothing changes on it - it remains in either a Decision Applied or Closed status (updates are not allowed if the case was still open)
* Update reflected in Salesforce within 60 seconds of the change being committed in NBJ2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-125,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space-bx,,,,,,,No,,1|i00qc6:i,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Nov/21 6:32 PM,,0.0,,,,,,,,,,,,,,,,Andy Cole,5fa26bb0f7b30b006e1b6ad5,,,,,,,,,,,,,,,,2021-11-25 14:25:33.378,25/Nov/21 2:25 PM;5db1914d2299c90da0133d7b;The SF build requirement is to create the progress update. SF will need to be tested to ensure the necessary updates have been completed by the ACL on the respective SF records. 3 Story Points.,21/Dec/21 6:29 PM;5dbd6f97fc11e40c2ff452a7;The requirement for build mentioned below has been removed,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Decision Document - Show Commission Control,NBJ-592,40028,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,02/Nov/21 5:26 PM,24/Nov/21 4:40 PM,02/Feb/22 6:31 PM,,,Foundation Release,,DocumentGeneration,Sprint_6,,"*As an* api user
*So that* I am able to generate a decision document for firms that do not want to expose commission to advisers
*I want* a control in the decision document service to control display of commission values

*Implementation Notes*

# This story is intended to control whether the decision document contains commission details
# {{POST /api/v1/document/decision}}

*Decision Document Service Request*

{code:json}{
  ...
  ""showCommission"": true|false,
  ...
}{code}

*Lissia Decision Document Request*

Below is the Lissia request with values created from the service request

{code:xml}<QUOTE_DATA>
    <DATA>
        ...
        <COMMISSION_DATA>
            <Details>
                ...
                <SWITCH>true</SWITCH>  -- show commission, true|false
                ...
            </Details>
        </COMMISSION_DATA>
    </DATA>
</QUOTE_DATA>{code}

*Decision Document Service Response*

{noformat}{
  data:{
    ""documentId"": <doc_id>
  }
}{noformat}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,NBJ-422,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* POST /api/v1/document/decision request with the body includes showCommission equal to false
*When* constructing the Lissia decision document request
*Then* set SWITCH to false

*Given* POST /api/v1/document/decision request with the body includes showCommission equal to true
*When* constructing the Lissia decision document request
*Then* set SWITCH to true

_Building on all of the above:_

*Given* a successfully generated decision document
*When* retrieving document
*And* decoding to pdf
*Then* the above items are included as expected with the correct format",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-769,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i8zr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Oct/21 5:30 PM,,1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Decision Document - ccic,NBJ-591,40027,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,02/Nov/21 5:25 PM,24/Nov/21 4:40 PM,02/Feb/22 6:31 PM,,,Foundation Release,,DocumentGeneration,Sprint_6,,"*As an* api user
*So that* I am able to generate a decision document
*I want* to be able to vary ccic quoteCovers

*Implementation Notes*

# {{POST /api/v1/document/decision}} 
# This is a single or dual life request
# It is intended to fill out all the ccic quoteCover details
# Once document generated [https://gghltd.atlassian.net/browse/NBJ-423|https://gghltd.atlassian.net/browse/NBJ-423|smart-link] explains how to get base64 encoded content that can be converted to pdf

*Quote Document Service Request*

{code:json}{
  ""expiryDate"": 20211031,
  ""showCommission"": true|false,
  applicants: [
    {
      ""id"": ""THE_ID_OF_THE_RECORD_IN_THE_DATABASE"",
      ""firstName"": ""Sam"",
      ""lastName"": ""Gamble"",
      ""dateOfBirth"": ""1978-10-30T00:00:00"",
      ""gender"": ""Male"",
      ""height"": 1.78,
      ""weight"": 88,
      ""title"": ""Mr"" 
    },
    ...
  ],
  quote: {
    ""applicationId"": ""G000001234"",
    ""adviserAtFirmLocationId"": """",
    ""initialCommissionSacrificePercentage"": 0-100,
    ""initialIndemnityPercentage"": 0-100,
    ""quoteAgeDate"": 20210910,
    ""quoteCreatedDate"": 20210910, --response value
    ""quotePremium"": 0.00, --response value
    ""quoteLifetimePremium"": 0.00, response value
    ""quoteUnloadedPremium"": 0.00, --response value
    ""quoteDiscount"": 0.00, --response values, possibly not
    ""quoteApplicants"": [
      {
        ""dateOfbirth"": 19711207,
        ""gender"": ""male | female"",
        ""smokerStatus"": ""None in the last 5 years | None in last 12 months | I have used tobacco or replacement products in last 12 months"",
        ""quoteApplicantPremium"": 0.00, --response premium
        ""quoteCovers"": [
          {
            ""productType"": ""life"",
            ""coverType"": ""level | increasing | decreasing | family"",
            ""term"": 3, -- not required if toAge specified
            ""toAge"": 65, -- not required if term specified
            ""coverAmount"": 100000,
            ""isParentCoverForCcic"": true | false, -- determines if this cover is the container for the Child CI cover in this application
            ""quoteCoverPremium"": 0.00, --response value
            ""quoteCoverLifetimePremium"": 0.00, --response value
            ""quoteCoverUnloadedPremium"": 0.00, --response value
            ""quoteCoverInitialCommission"": 0.00, --response value
            ""quoteCoverInitialEarningsPeriod"": 00, --in months, response value
            ""quoteCoverRenewalCommission"": 0.00 --response value
          },
          { ""..."" },
          { ""..."" }
        ],
        ""quoteUnderwritingOutcomes"": [
          {
            ""productType"": ""life | ci | aci | ccic"",
            ""emRating"": 200,
            ""permPMRating"": 5,
            ""quoteExclusions"": [
              {
                ""exclusionOrRemoval"": ""Exclude | Remove"",
                ""exclusionValue"": 1001
              },
              { ""..."" }
            ]
          },
          { ""..."" }
        ],
      },
      {
        ""...""
      }
    ],
  }
}{code}

*Lissia Decision Document Request*

Below is the Lissia request with values created from the service request

{code:xml}<QUOTE_DATA>
    <DATA>
        ...
        <CCIC_SUM>50,000</CCIC_SUM> -- quoteCover.coverAmount on quoteCover with productType Ccic
        <CCIC_PREM>£8.06</CCIC_PREM> -- quoteCover.quoteCoverPremium  on quoteCover with productType Ccic
        ...
        <PA_CCIC>true</PA_CCIC> -- indicates presence of CCIC for life
        ...
        <TYPE>joint</TYPE> -- based on number of applicants
        <COMMISSION_DATA>
            <Details>
                <INIT_COMMISSION>£8,431.20</INIT_COMMISSION> -- sum of all quoteCoverInitialCommission on all covers
                ...
                <REN_CHILD_CI>£0.20</REN_CHILD_CI> -- quoteCoverRenewalCommission
                ...
                <REN_CHILD_CI_MONTH>49</REN_CHILD_CI_MONTH> -- quoteCoverInitialEarningsPeriod + 1
                ...
            </Details>
        </COMMISSION_DATA>
    </DATA>
</QUOTE_DATA>{code}

*Decision Document Service Response*

{noformat}{
  data:{
    ""documentId"": <doc_id>
  }
}{noformat}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* any document/decision request with a quoteCover of productType = “ccic” attached to either applicant
*When* constructing the elissa decision document request for quoteCovers
*And* quote.quoteApplicant.quoteCover with productType = “ccic”
*Then* set PA_CCIC to true
*And* map quoteCover.coverAmount to CCIC_AMT (format n,nnn,nnn)
*And* map quoteCover.quoteCoverPremium to CCIC_PREM (format £n,nnn.nn)
*And* map quoteCover.quoteCoverRenewalCommission to REN_CHILD_CI (format £n,nnn.nn)
*And* map quoteCover.quoteCoverInitialEarningsPeriod + 1 to REN_CHILD_CI_MONTH
*And* add quoteCover.quoteCoverInitialCommission to INIT_COMMISSION running total (format n,nnn,nnn)

_Building on all of the above:_

*Given* a successfully generated decision document
*When* retrieving document
*And* decoding to pdf
*Then* the above items are included as expected with the correct format",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,NBJ-769,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1|i00c01:zzz8zzzzzzt3r1i8zi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Decision Document - second applicant quoteCovers aci,NBJ-590,40026,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,02/Nov/21 5:25 PM,24/Nov/21 4:40 PM,02/Feb/22 6:31 PM,,,Foundation Release,,DocumentGeneration,Sprint_6,,"*As an* api user
*So that* I am able to generate a decision document
*I want* to be able to vary 2nd applicant aci quoteCovers

*Implementation Notes*

# {{POST /api/v1/document/decision}} 
# This is a dual life request
# It is intended to fill out all the aci quoteCover details for the secondary applicant (SA)
# Note - term and toAge are mutually exclusive, so duplicate acceptance criteria are included foreach below for completeness
# Once document generated [https://gghltd.atlassian.net/browse/NBJ-423|https://gghltd.atlassian.net/browse/NBJ-423|smart-link] explains how to get base64 encoded content that can be converted to pdf

*Decision Document Service Request*

{code:json}{
  ""expiryDate"": 20211031,
  ""showCommission"": true|false,
  applicants: [
    {
      ""id"": ""THE_ID_OF_THE_RECORD_IN_THE_DATABASE"",
      ""firstName"": ""Sam"",
      ""lastName"": ""Gamble"",
      ""dateOfBirth"": ""1978-10-30T00:00:00"",
      ""gender"": ""Male"",
      ""height"": 1.78,
      ""weight"": 88,
      ""title"": ""Mr"" 
    },
    ...
  ],
  quote: {
    ""applicationId"": ""G000001234"",
    ""adviserAtFirmLocationId"": """",
    ""initialCommissionSacrificePercentage"": 0-100,
    ""initialIndemnityPercentage"": 0-100,
    ""quoteAgeDate"": 20210910,
    ""quoteCreatedDate"": 20210910, --response value
    ""quotePremium"": 0.00, --response value
    ""quoteLifetimePremium"": 0.00, response value
    ""quoteUnloadedPremium"": 0.00, --response value
    ""quoteDiscount"": 0.00, --response values, possibly not
    ""quoteApplicants"": [
      {
        ""dateOfbirth"": 19711207,
        ""gender"": ""male | female"",
        ""smokerStatus"": ""None in the last 5 years | None in last 12 months | I have used tobacco or replacement products in last 12 months"",
        ""quoteApplicantPremium"": 0.00, --response premium
        ""quoteCovers"": [
          {
            ""productType"": ""life"",
            ""coverType"": ""level | increasing | decreasing | family"",
            ""term"": 3, -- not required if toAge specified
            ""toAge"": 65, -- not required if term specified
            ""coverAmount"": 100000,
            ""isParentCoverForCcic"": true | false, -- determines if this cover is the container for the Child CI cover in this application
            ""quoteCoverPremium"": 0.00, --response value
            ""quoteCoverLifetimePremium"": 0.00, --response value
            ""quoteCoverUnloadedPremium"": 0.00, --response value
            ""quoteCoverInitialCommission"": 0.00, --response value
            ""quoteCoverInitialEarningsPeriod"": 00, --in months, response value
            ""quoteCoverRenewalCommission"": 0.00 --response value
          },
          { ""..."" },
          { ""..."" }
        ],
        ""quoteUnderwritingOutcomes"": [
          {
            ""productType"": ""life | ci | aci | ccic"",
            ""emRating"": 200,
            ""permPMRating"": 5,
            ""quoteExclusions"": [
              {
                ""exclusionOrRemoval"": ""Exclude | Remove"",
                ""exclusionValue"": 1001
              },
              { ""..."" }
            ]
          },
          { ""..."" }
        ],
      },
      {
        ""...""
      }
    ],
  }
}{code}

*Lissia Decision Document Request*

Below is the Lissia request with values created from the service request

{code:xml}<QUOTE_DATA>
    <DATA>
        ...
        <SA_ACI>true</SA_ACI> -- inidicates presence of ACI for Life
        ...
        <SA_ACI_TYPE>Level</SA_ACI_TYPE> -- quoteCover.coverType
        <SA_ACI_AMT>350,000</SA_ACI_AMT> -- quoteCover.coverAmount
        <SA_ACI_TERM>25</SA_ACI_TERM> -- quoteCover.term
        <SA_ACI_AGE>0</SA_ACI_AGE> -- quoteCover.toAge
        <SA_ACI_PREM>£238.37</SA_ACI_PREM> -- quoteCover.quoteCoverPremium
        ...
        <TYPE>joint</TYPE> -- based on number of applicants
        <COMMISSION_DATA>
            <Details>
                <INIT_COMMISSION>£8,431.20</INIT_COMMISSION> -- sum of all quoteCoverInitialCommission on all covers
                ...
                <REN_SA_ACI>£5.96</REN_SA_ACI> -- quoteCoverRenewalCommission
                ...
                <REN_SA_ACI_MONTH>49</REN_SA_ACI_MONTH> -- quoteCoverInitialEarningsPeriod + 1
            </Details>
        </COMMISSION_DATA>
    </DATA>
</QUOTE_DATA>{code}

*Decision Document Service Response*

{noformat}{
  data:{
    ""documentId"": <doc_id>
  }
}{noformat}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,NBJ-471,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* a single life document/decision request with any number of quote covers \[current limit one of each product type on an applicant - 4], at least of productType = “aci” with a term specified
*When* constructing the elissa decision document request for quoteCovers in the second applicant
*And* quote.quoteApplicant.quoteCover with productType = “aci”
*Then*  set SA_ACI to true
*And* map quoteCover.coverType to SA_ACI_TYPE
*And* map quoteCover.coverAmount to SA_ACI_AMT (format n,nnn,nnn)
*And* map quoteCover.term to SA_ACI_TERM
*And* map quoteCover.quoteCoverPremium to SA_ACI_PREM (format £n,nnn.nn)
*And* map quoteCover.quoteCoverRenewalCommission to REN_SA_ACI (format £n,nnn.nn)
*And* map quoteCover.quoteCoverInitialEarningsPeriod + 1 to REN_SA_ACI_MONTH
*And* add quoteCover.quoteCoverInitialCommission to INIT_COMMISSION running total (format n,nnn,nnn)

*Given* a single life document/decision request with any number of quote covers \[current limit one of each product type on an applicant - 4], at least of productType = “aci” with a toAge specified
*When* constructing the elissa decision document request for quoteCovers in the second applicant
*And* quote.quoteApplicant.quoteCover with productType = “aci”
*Then* set SA_ACI to true
*And* map quoteCover.coverType to SA_ACI_TYPE
*And* map quoteCover.coverAmount to SA_ACI_AMT (format n,nnn,nnn)
*And* map quoteCover.toAge to SA_ACI_AGE
*And* map quoteCover.quoteCoverPremium to SA_ACI_PREM (format £n,nnn.nn)
*And* map quoteCover.quoteCoverRenewalCommission to REN_SA_ACI (format £n,nnn.nn)
*And* map quoteCover.quoteCoverInitialEarningsPeriod + 1 to REN_SA_ACI_MONTH
*And* add quoteCover.quoteCoverInitialCommission to INIT_COMMISSION running total (format n,nnn,nnn)

_Building on all of the above:_

*Given* a successfully generated decision document
*When* retrieving document
*And* decoding to pdf
*Then* the above items are included as expected with the correct format",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,NBJ-769,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1|i00c01:zzz8zzzzzzt3r1i8z,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Decision Document - second applicant quoteCovers ci,NBJ-589,40024,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,02/Nov/21 5:24 PM,24/Nov/21 4:40 PM,02/Feb/22 6:31 PM,,,Foundation Release,,DocumentGeneration,Sprint_6,,"*As an* api user
*So that* I am able to generate a decision document
*I want* to be able to vary second life ci quoteCovers

*Implementation Notes*

# {{POST /api/v1/document/decision}} 
# This is a dual life request
# It is intended to fill out all the ci quoteCover details for the secondary applicant (SA)
# Note - term and toAge are mutually exclusive, so duplicate acceptance criteria are included foreach below for completeness
# Once document generated [https://gghltd.atlassian.net/browse/NBJ-423|https://gghltd.atlassian.net/browse/NBJ-423|smart-link] explains how to get base64 encoded content that can be converted to pdf

*Decision Document Service Request*

{code:json}{
  ""expiryDate"": 20211031,
  ""showCommission"": true|false,
  applicants: [
    {
      ""id"": ""THE_ID_OF_THE_RECORD_IN_THE_DATABASE"",
      ""firstName"": ""Sam"",
      ""lastName"": ""Gamble"",
      ""dateOfBirth"": ""1978-10-30T00:00:00"",
      ""gender"": ""Male"",
      ""height"": 1.78,
      ""weight"": 88,
      ""title"": ""Mr"" 
    },
    ...
  ],
  quote: {
    ""applicationId"": ""G000001234"",
    ""adviserAtFirmLocationId"": """",
    ""initialCommissionSacrificePercentage"": 0-100,
    ""initialIndemnityPercentage"": 0-100,
    ""quoteAgeDate"": 20210910,
    ""quoteCreatedDate"": 20210910, --response value
    ""quotePremium"": 0.00, --response value
    ""quoteLifetimePremium"": 0.00, response value
    ""quoteUnloadedPremium"": 0.00, --response value
    ""quoteDiscount"": 0.00, --response values, possibly not
    ""quoteApplicants"": [
      {
        ""dateOfbirth"": 19711207,
        ""gender"": ""male | female"",
        ""smokerStatus"": ""None in the last 5 years | None in last 12 months | I have used tobacco or replacement products in last 12 months"",
        ""quoteApplicantPremium"": 0.00, --response premium
        ""quoteCovers"": [
          {
            ""productType"": ""life"",
            ""coverType"": ""level | increasing | decreasing | family"",
            ""term"": 3, -- not required if toAge specified
            ""toAge"": 65, -- not required if term specified
            ""coverAmount"": 100000,
            ""isParentCoverForCcic"": true | false, -- determines if this cover is the container for the Child CI cover in this application
            ""quoteCoverPremium"": 0.00, --response value
            ""quoteCoverLifetimePremium"": 0.00, --response value
            ""quoteCoverUnloadedPremium"": 0.00, --response value
            ""quoteCoverInitialCommission"": 0.00, --response value
            ""quoteCoverInitialEarningsPeriod"": 00, --in months, response value
            ""quoteCoverRenewalCommission"": 0.00 --response value
          },
          { ""..."" },
          { ""..."" }
        ],
        ""quoteUnderwritingOutcomes"": [
          {
            ""productType"": ""life | ci | aci | ccic"",
            ""emRating"": 200,
            ""permPMRating"": 5,
            ""quoteExclusions"": [
              {
                ""exclusionOrRemoval"": ""Exclude | Remove"",
                ""exclusionValue"": 1001
              },
              { ""..."" }
            ]
          },
          { ""..."" }
        ],
      },
      {
        ""...""
      }
    ],
  }
}{code}

*Lissia Decision Document Request*

Below is the Lissia request with values created from the service request

{code:xml}<QUOTE_DATA>
    <DATA>
        ...
        <SA_CI_TYPE>Decreasing</SA_CI_TYPE> -- quoteCover.coverType on quoteCovers with productType Ci
        <SA_CI_AMT>250,000</SA_CI_AMT> -- quoteCover.coverAmount on quoteCovers with productType Ci
        <SA_CI_TERM>25</SA_CI_TERM> -- quoteCover.term on quoteCovers with productType Ci
        <SA_CI_AGE>0</SA_CI_AGE> -- quoteCover.toAge on quoteCovers with productType Ci
        <SA_CI_PREM>£99.23</SA_CI_PREM> -- quoteCover.quoteCoverPremium on quoteCovers with productType Ci
        ...
        <SA_CI>true</SA_CI> -- Indicates presence of CI for Life
        ...
        <TYPE>joint</TYPE> -- based on number of applicants
        <COMMISSION_DATA>
            <Details>
                <INIT_COMMISSION>£8,431.20</INIT_COMMISSION> -- sum of all quoteCoverInitialCommission on all covers
                ...
                <REN_SA_CI>£2.48</REN_SA_CI> -- quoteCoverRenewalCommission
                ...
                <REN_SA_CI_MONTH>49</REN_SA_CI_MONTH> -- quoteCoverInitialEarningsPeriod + 1
                ...
            </Details>
        </COMMISSION_DATA>
    </DATA>
</QUOTE_DATA>{code}

*Decision Document Service Response*

{noformat}{
  data:{
    ""documentId"": <doc_id>
  }
}{noformat}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* a single life document/decision request with any number of quote covers \[current limit one of each product type on an applicant - 4], at least of productType = “ci” with a term specified
*When* constructing the elissa decision document request for quoteCovers in the second applicant
*And* quote.quoteApplicant.quoteCover with productType = “ci”
*Then* set SA_CI to true
*And* map quoteCover.coverType to SA_CI_TYPE
*And* map quoteCover.coverAmount to SA_CI_AMT (format n,nnn,nnn)
*And* map quoteCover.term to SA_CI_TERM
*And* map quoteCover.quoteCoverPremium to SA_CI_PREM (format £n,nnn.nn)
*And* map quoteCover.quoteCoverRenewalCommission to REN_SA_CI (format £n,nnn.nn)
*And* map quoteCover.quoteCoverInitialEarningsPeriod + 1 to REN_SA_CI_MONTH
*And* add quoteCover.quoteCoverInitialCommission to INIT_COMMISSION running total (format n,nnn,nnn)

*Given* a single life document/decision request with any number of quote covers \[current limit one of each product type on an applicant - 4], at least of productType = “ci” with a toAge specified
*When* constructing the elissa decision document request for quoteCovers in the second applicant
*And* quote.quoteApplicant.quoteCover with productType = “ci”
*Then* set SA_CI to true
*And* map quoteCover.coverType to SA_CI_TYPE
*And* map quoteCover.coverAmount to SA_CI_AMT (format n,nnn,nnn)
*And* map quoteCover.toAge to SA_CI_AGE
*And* map quoteCover.quoteCoverPremium to SA_CI_PREM (format £n,nnn.nn)
*And* map quoteCover.quoteCoverRenewalCommission to REN_SA_CI (format £n,nnn.nn)
*And* map quoteCover.quoteCoverInitialEarningsPeriod + 1 to REN_SA_CI_MONTH
*And* add quoteCover.quoteCoverInitialCommission to INIT_COMMISSION running total (format n,nnn,nnn)

_Building on all of the above:_

*Given* a successfully generated decision document
*When* retrieving document
*And* decoding to pdf
*Then* the above items are included as expected with the correct format",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,NBJ-769,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1|i00c01:zzz8zzzzzzt3r1i8y,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Decision Document - multiple applicants and second applicant quoteCovers Life,NBJ-588,40021,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,02/Nov/21 5:15 PM,24/Nov/21 4:40 PM,02/Feb/22 6:31 PM,,,Foundation Release,,DocumentGeneration,Sprint_6,,"*As an* api user
*So that* I am able to generate a decision document
*I want* to be able to vary applicants and quoteCovers

*Implementation Notes*

# {{POST /api/v1/document/decision}} 
# This is a dual life request
# It is intended to fill out all the quoteCover details for the secondary applicant (SA)
# Note - term and toAge are mutually exclusive, so duplicate acceptance criteria are included foreach below for completeness
# Once document generated [https://gghltd.atlassian.net/browse/NBJ-423|https://gghltd.atlassian.net/browse/NBJ-423|smart-link] explains how to get base64 encoded content that can be converted to pdf

*Decision Document Service Request*

{code:json}{
  ""expiryDate"": ""2021-10-31"",
  ""showCommission"": true|false,
  ""applicants"": [
    {
      ""id"": ""THE_ID_OF_THE_RECORD_IN_THE_DATABASE"",
      ""firstName"": ""Sam"",
      ""lastName"": ""Primary-applicant"",
      ""dateOfBirth"": ""1978-10-30T00:00:00"",
      ""gender"": ""Male"",
      ""heightUnits"": ""metric | imperial"",
      ""height"": 1.78,
      ""heightFt"": 5,
      ""heightInches"": 6,
      ""weightUnits"": ""metric | imperial""
      ""weight"": 88,
      ""weightStones"": 12,
      ""weightPounds"": 6,
      ""title"": ""Mr"" 
    },
    {
      ""id"": ""THE_ID_OF_THE_RECORD_IN_THE_DATABASE"",
      ""firstName"": ""Jane"",
      ""lastName"": ""Secondary-applicant"",
      ""dateOfBirth"": ""1978-11-30T00:00:00"",
      ""gender"": ""Unknown"",
      ""heightUnits"": ""metric | imperial"",
      ""height"": 1.78,
      ""heightFt"": 5,
      ""heightInches"": 6,
      ""weightUnits"": ""metric | imperial""
      ""weight"": 88,
      ""weightStones"": 12,
      ""weightPounds"": 6,
      ""title"": ""Dr"" 
    },
  ],
  ""quote"": {
    ""applicationId"": ""G000001234"",
    ""adviserAtFirmLocationId"": """",
    ""initialCommissionSacrificePercentage"": 0-100,
    ""initialIndemnityPercentage"": 0-100,
    ""quoteAgeDate"": 20210910,
    ""quoteCreatedDate"": 20210910, --response value
    ""quotePremium"": 0.00, --response value
    ""quoteLifetimePremium"": 0.00, response value
    ""quoteUnloadedPremium"": 0.00, --response value
    ""quoteDiscount"": 0.00, --response values, possibly not
    ""quoteApplicants"": [
      {
        ""dateOfbirth"": ""1971-12-07"",
        ""gender"": ""male | female"",
        ""smokerStatus"": ""None in the last 5 years | None in last 12 months | I have used tobacco or replacement products in last 12 months"",
        ""quoteApplicantPremium"": 0.00, --response premium
        ""quoteCovers"": [
          {
            ""productType"": ""life"",
            ""coverType"": ""level | increasing | decreasing | family"",
            ""term"": 3, -- not required if toAge specified
            ""toAge"": 65, -- not required if term specified
            ""coverAmount"": 100000,
            ""isParentCoverForCcic"": true | false, -- determines if this cover is the container for the Child CI cover in this application
            ""quoteCoverPremium"": 0.00, --response value
            ""quoteCoverLifetimePremium"": 0.00, --response value
            ""quoteCoverUnloadedPremium"": 0.00, --response value
            ""quoteCoverInitialCommission"": 0.00, --response value
            ""quoteCoverInitialEarningsPeriod"": 00, --in months, response value
            ""quoteCoverRenewalCommission"": 0.00 --response value
          },
          { ""..."" },
          { ""..."" }
        ],
        ""quoteUnderwritingOutcomes"": [
          {
            ""productType"": ""life | ci | aci | ccic"",
            ""emRating"": 200,
            ""permPMRating"": 5,
            ""quoteExclusions"": [
              {
                ""exclusionOrRemoval"": ""Exclude | Remove"",
                ""exclusionValue"": 1001
              },
              { ""..."" }
            ]
          },
          { ""..."" }
        ],
      },
      {
        ""...""
      }
    ],
  }
}{code}

*Lissia Decision Document Request*

Below is the Lissia request with values created from the service request

{code:xml}<QUOTE_DATA>
    <DATA>
        ...
        <SA_FORENAME>SECONDARY</SA_FORENAME> -- applicant.forenane all upper case
        <SA_SURNAME>CLIENT</SA_SURNAME> -- applicant.surname all upper case
        ...
        <SA_FORENAME_SMALL>Secondary</SA_FORENAME_SMALL> -- applicant.surname initial cap rest lower
        ...
        <SA_SURNAME_SMALL>Client</SA_SURNAME_SMALL> -- applicant.surname initial cap rest lower
        ...
        <SA_TL_TYPE>Family Income Benefit</SA_TL_TYPE> -- quoteCover.coverType on quoteCovers with productType Life (Map Family to Family Income Benefit)
        <SA_TL_AMT>15,000</SA_TL_AMT> -- quoteCover.coverAmount on quoteCovers with productType Life
        <SA_TL_TERM>25</SA_TL_TERM> -- quoteCover.term on quoteCovers with productType Life
        <SA_TL_AGE>0</SA_TL_AGE> -- quoteCover.toAge on quoteCovers with productType Life
        <SA_TL_PREM>£171.68</SA_TL_PREM> -- quoteCover.quoteCoverPremium on quoteCovers with productType Life
        ...
        <SA_LIFE>true</SA_LIFE> -- Indicates presence of Life for Life
        <SA_CI>false</SA_CI> -- Indicates presence of CI for Life
        <SA_FRA>false</SA_FRA> -- not applicable always false
        ...
        <SA_ACI>false</SA_ACI> -- inidicates presence of ACI for Life
        ...
        <TYPE>joint</TYPE> -- based on number of applicants
        <COMMISSION_DATA>
            <Details>
                <INIT_COMMISSION>£8,431.20</INIT_COMMISSION> -- sum of all quoteCoverInitialCommission on all covers
                ...
                <REN_SA_LIFE>£4.29</REN_SA_LIFE> -- quoteCoverRenewalCommission
                ...
                <REN_SA_LIFE_MONTH>49</REN_SA_LIFE_MONTH> -- quoteCoverInitialEarningsPeriod + 1
                ...
            </Details>
        </COMMISSION_DATA>
    </DATA>
</QUOTE_DATA>{code}

*Quote Document Service Response*

{code:json}{
  ""data"": {
    ""documentId"": <doc_id>
  }
}{code}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* any dual applicant document/decision request
*When* formulating eLissia decision document request
*Then* set TYPE to joint
*And* map second applicant.firstName (all upper case) to SA_FORENAME
*And* map second applicant.firstName (first letter caps and rest lower case) to SA_FORENAME_SMALL
*And* map second applicant.lastName (all upper case) to SA_SURNAME
*And* map second applicant.lastName (first letter caps and rest lower case) to SA_SURNAME_SMALL

*Given* a joint life document/decision request with any number of quote covers \[current limit one of each product type on an applicant - 4], at least one of productType = “life” on the second applicant with a term specified
*When* constructing the elissa decision document request for quoteCovers in the second applicant
*And* quote.quoteApplicant.quoteCover with productType = “life”
*Then* set SA_LIFE to true
*And* map quoteCover.coverType to SA_TL_TYPE
*And* map quoteCover.coverAmount to SA_TL_AMT (format n,nnn,nnn)
*And* map quoteCover.term to SA_TL_TERM
*And* map quoteCover.quoteCoverPremium to SA_TL_PREM (format £n,nnn.nn)
*And* map quoteCover.quoteCoverRenewalCommission to REN_SA_LIFE (format £n,nnn.nn)
*And* map quoteCover.quoteCoverInitialEarningsPeriod + 1 to REN_SA_LIFE_MONTH
*And* add quoteCover.quoteCoverInitialCommission to INIT_COMMISSION running total (format n,nnn,nnn)

*Given* a single life document/decision request with any number of quote covers \[current limit one of each product type on an applicant - 4], at least of productType = “life” with a toAge specified
*When* constructing the elissa decision document request for quoteCovers in the second applicant
*And* quote.quoteApplicant.quoteCover with productType = “life”
*Then* set SA_LIFE to true
*And* map quoteCover.coverType to SA_TL_TYPE
*And* map quoteCover.coverAmount to SA_TL_AMT (format n,nnn,nnn)
*And* map quoteCover.toAge to SA_TL_AGE
*And* map quoteCover.quoteCoverPremium to SA_TL_PREM (format £n,nnn.nn)
*And* map quoteCover.quoteCoverRenewalCommission to REN_SA_LIFE (format £n,nnn.nn)
*And* map quoteCover.quoteCoverInitialEarningsPeriod + 1 to REN_SA_LIFE_MONTH
*And* add quoteCover.quoteCoverInitialCommission to INIT_COMMISSION running total (format n,nnn,nnn)

_Building on all of the above:_

*Given* a successfully generated decision document
*When* retrieving document
*And* decoding to pdf
*Then* the above items are included as expected with the correct format",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-769,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i8x,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Oct/21 5:30 PM,,1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Decision Document - quoteCovers aci,NBJ-587,40019,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,02/Nov/21 5:09 PM,24/Nov/21 4:40 PM,02/Feb/22 6:31 PM,,,Foundation Release,,DocumentGeneration,Sprint_6,,"*As an* api user
*So that* I am able to generate a decision document
*I want* to be able to vary aci products requested

*Implementation Notes*

# {{POST /api/v1/document/decision}} 
# This is still only a single life request
# It is intended to fill out all the aci quoteCover details for the primary applicant (PA)
# Note - term and toAge are mutually exclusive, so duplicate acceptance criteria are included foreach below for completeness
# Once document generated [https://gghltd.atlassian.net/browse/NBJ-423|https://gghltd.atlassian.net/browse/NBJ-423|smart-link] explains how to get base64 encoded content that can be converted to pdf

_Decision Document Service Request_

{code:json}{
  ""expiryDate"": 20211031,
  ""showCommission"": true|false,
  applicants: [
    {
      ""id"": ""THE_ID_OF_THE_RECORD_IN_THE_DATABASE"",
      ""firstName"": ""Sam"",
      ""lastName"": ""Gamble"",
      ""dateOfBirth"": ""1978-10-30T00:00:00"",
      ""gender"": ""Male"",
      ""smokerStatus"": ""None in the last 5 years | None in last 12 months | I have used tobacco or replacement products in last 12 months"",
      ""height"": 1.78,
      ""weight"": 88,
      ""title"": ""Mr"" 
    },
    ...
  ],
  quote: {
    ""quoteApplicants"": [
      {
        ""dateOfbirth"": 19711207,
        ""gender"": ""male | female"",
        ""smokerStatus"": ""None in the last 5 years | None in last 12 months | I have used tobacco or replacement products in last 12 months"",
        ""quoteApplicantPremium"": 0.00, --response premium
        ""quoteCovers"": [
          {
            ""productType"": ""aci"",
            ""coverType"": ""level | increasing | decreasing | family"",
            ""term"": 3, -- not required if toAge specified
            ""toAge"": 65, -- not required if term specified
            ""coverAmount"": 100000,
            ""isParentCoverForCcic"": true | false, -- determines if this cover is the container for the Child CI cover in this application
            ""quoteCoverPremium"": 0.00, --response value
            ""quoteCoverLifetimePremium"": 0.00, --response value
            ""quoteCoverUnloadedPremium"": 0.00, --response value
            ""quoteCoverInitialCommission"": 0.00, --response value
            ""quoteCoverInitialEarningsPeriod"": 00, --in months, response value
            ""quoteCoverRenewalCommission"": 0.00 --response value
          },
          { ""..."" },
          { ""..."" }
        ],
        ""quoteUnderwritingOutcomes"": [
          { ""..."" },
          { ""..."" }
        ],
      },
      {
        ""...""
      }
    ],
  }
}{code}

_Lissia Decision Document Request_

Below is the Lissia request with values created from the service request

{code:xml}<QUOTE_DATA>
    <DATA>
        ...
        <PA_ACI>true</PA_ACI> -- inidicates presence of ACI for Life
        ...
        <PA_ACI_TYPE>Increasing</PA_ACI_TYPE> -- quoteCover.coverType
        <PA_ACI_AMT>300,000</PA_ACI_AMT> -- quoteCover.coverAmount
        <PA_ACI_TERM>25</PA_ACI_TERM> -- quoteCover.term
        <PA_ACI_AGE>0</PA_ACI_AGE> -- quoteCover.toAge
        <PA_ACI_PREM>£114.44</PA_ACI_PREM> -- quoteCover.quoteCoverPremium
        ...
        <TYPE>single</TYPE>
        <COMMISSION_DATA>
            <Details>
                <INIT_COMMISSION>£8,431.20</INIT_COMMISSION> -- sum of all quoteCoverInitialCommission on all covers
                ...
                <SWITCH>true</SWITCH>
                <REN_PA_ACI>£2.86</REN_PA_ACI> -- quoteCoverRenewalCommission
                ...
                <REN_PA_ACI_MONTH>49</REN_PA_ACI_MONTH> -- quoteCoverInitialEarningsPeriod + 1
                ...
            </Details>
        </COMMISSION_DATA>
    </DATA>
</QUOTE_DATA>{code}

_Decision Document Service Response_

{noformat}{
  data:{
    ""documentId"": <doc_id>
  }
}{noformat}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* a single life document/decision request with any number of quote covers with at least one of productType = “aci” with a term specified \[current limit one of each product type on an applicant - 4]
*When* constructing the elissa decision document request
*And* quote.quoteApplicant.quoteCover with productType = “aci”
*Then* set PA_ACI to true
*And* map quoteCover.coverType to PA_ACI_TYPE
*And* map quoteCover.coverAmount to PA_ACI_AMT (format n,nnn,nnn)
*And* map quoteCover.term to PA_ACI_TERM
*And* map quoteCover.quoteCoverPremium to PA_ACI_PREM (format £n,nnn.nn)
*And* map quoteCover.quoteCoverRenewalCommission to REN_PA_ACI (format £n,nnn.nn)
*And* map quoteCover.quoteCoverInitialEarningsPeriod + 1 to REN_PA_ACI_MONTH
*And* add quoteCover.quoteCoverInitialCommission to INIT_COMMISSION running total (format £n,nnn.nn)

*Given* a single life document/decision request with any number of quote covers, with at least one of productType = “aci” with a toAge specified \[current limit one of each product type on an applicant - 4]
*When* constructing the elissa decision document request 
*And* quote.quoteApplicant.quoteCover with productType = “aci”
*Then* set PA_ACI to true
*And* map quoteCover.coverType to PA_ACI_TYPE
*And* map quoteCover.coverAmount to PA_ACI_AMT (format n,nnn,nnn)
*And* map quoteCover.toAge to PA_ACI_AGE
*And* map quoteCover.quoteCoverPremium to PA_ACI_PREM (format £n,nnn.nn)
*And* map quoteCover.quoteCoverRenewalCommission to REN_PA_ACI (format £n,nnn.nn)
*And* map quoteCover.quoteCoverInitialEarningsPeriod + 1 to REN_PA_ACI_MONTH
*And* add quoteCover.quoteCoverInitialCommission to INIT_COMMISSION running total (format £n,nnn.nn)

_Building on all of the above:_

*Given* a successfully generated decision document
*When* retrieving document
*And* decoding to pdf
*Then* the above items are included as expected with the correct format",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,NBJ-769,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1|i00c01:zzz8zzzzzzt3r1i8v,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Decision Document - quoteCovers Ci,NBJ-586,40017,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,02/Nov/21 5:06 PM,24/Nov/21 4:40 PM,02/Feb/22 6:31 PM,,,Foundation Release,,DocumentGeneration,Sprint_6,,"*As an* api user
*So that* I am able to generate a decision document
*I want* to be able to vary ci products requested

*Implementation Notes*

# {{POST /api/v1/document/decision}} 
# This is still only a single life request
# It is intended to fill out all the ci quoteCover details for the primary applicant (PA) ci quoteCover requests
# Note - term and toAge are mutually exclusive, so duplicate acceptance criteria are included foreach below for completeness
# Once document generated [https://gghltd.atlassian.net/browse/NBJ-423|https://gghltd.atlassian.net/browse/NBJ-423|smart-link] explains how to get base64 encoded content that can be converted to pdf

_Decision Document Service Request_

{code:json}{
  ""expiryDate"": 20211031,
  ""showCommission"": true|false,
  applicants: [
    {
      ""id"": ""THE_ID_OF_THE_RECORD_IN_THE_DATABASE"",
      ""firstName"": ""Sam"",
      ""lastName"": ""Gamble"",
      ""dateOfBirth"": ""1978-10-30T00:00:00"",
      ""gender"": ""Male"",
      ""smokerStatus"": ""None in the last 5 years | None in last 12 months | I have used tobacco or replacement products in last 12 months"",
      ""height"": 1.78,
      ""weight"": 88,
      ""title"": ""Mr"" 
    },
    ...
  ],
  quote: {
    ""quoteApplicants"": [
      {
        ""dateOfbirth"": 19711207,
        ""gender"": ""male | female"",
        ""smokerStatus"": ""None in the last 5 years | None in last 12 months | I have used tobacco or replacement products in last 12 months"",
        ""quoteApplicantPremium"": 0.00, --response premium
        ""quoteCovers"": [
          {
            ""productType"": ""ci"",
            ""coverType"": ""level | increasing | decreasing | family"",
            ""term"": 3, -- not required if toAge specified
            ""toAge"": 65, -- not required if term specified
            ""coverAmount"": 100000,
            ""isParentCoverForCcic"": true | false, -- determines if this cover is the container for the Child CI cover in this application
            ""quoteCoverPremium"": 0.00, --response value
            ""quoteCoverLifetimePremium"": 0.00, --response value
            ""quoteCoverUnloadedPremium"": 0.00, --response value
            ""quoteCoverInitialCommission"": 0.00, --response value
            ""quoteCoverInitialEarningsPeriod"": 00, --in months, response value
            ""quoteCoverRenewalCommission"": 0.00 --response value
          },
          { ""..."" },
          { ""..."" }
        ],
        ""quoteUnderwritingOutcomes"": [
          { ""..."" },
          { ""..."" }
        ],
      },
      {
        ""...""
      }
    ],
  }
}{code}

_Lissia Decision Document Request_

Below is the Lissia request with values created from the service request

{code:xml}<QUOTE_DATA>
    <DATA>
        ...
        <PA_CI_TYPE>Decreasing</PA_CI_TYPE> -- quoteCover.coverType on quoteCovers with productType Ci
        <PA_CI_AMT>200,000</PA_CI_AMT> -- quoteCover.coverAmount on quoteCovers with productType Ci
        <PA_CI_TERM>25</PA_CI_TERM> -- quoteCover.term on quoteCovers with productType Ci
        <PA_CI_AGE>0</PA_CI_AGE> -- quoteCover.toAge on quoteCovers with productType Ci
        <PA_CI_PREM>£54.56</PA_CI_PREM> -- quoteCover.quoteCoverPremium on quoteCovers with productType Ci
        ...
        <PA_LIFE>false</PA_LIFE> -- Indicates presence of Life for Life
        <PA_CI>true</PA_CI> -- Inidcates presence of CI for Life
        <PA_FRA>false</PA_FRA> -- not applicable always false
        ...
        <PA_CCIC>false</PA_CCIC> -- indicates presence of CCIC for life
        <PA_ACI>false</PA_ACI> -- inidicates presence of ACI for Life
        ...
        <TYPE>single</TYPE>
        <COMMISSION_DATA>
            <Details>
                <INIT_COMMISSION>£8,431.20</INIT_COMMISSION> -- sum of all quoteCoverInitialCommission on all covers
                ...
                <REN_PA_CI>£1.36</REN_PA_CI> -- quoteCoverRenewalCommission
                ...
                <REN_PA_CI_MONTH>49</REN_PA_CI_MONTH> -- quoteCoverInitialEarningsPeriod + 1
                ...
                <SWITCH>true</SWITCH>
                ...
            </Details>
        </COMMISSION_DATA>
    </DATA>
</QUOTE_DATA>{code}

_Decision Document Service Response_

{noformat}{
  data:{
    ""documentId"": <doc_id>
  }
}{noformat}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* a single life document/decision request with any number of quote covers with at least one of productType = “ci” with a term specified \[current limit one of each product type on an applicant - 4]
*When* constructing the elissa decision document request
*And* quote.quoteApplicant.quoteCover with productType = “ci”
*Then* set PA_CI to true
*And* map quoteCover.coverType to PA_CI_TYPE
*And* map quoteCover.coverAmount to PA_CI_AMT (format n,nnn,nnn)
*And* map quoteCover.term to PA_CI_TERM
*And* map quoteCover.quoteCoverPremium to PA_CI_PREM (format £n,nnn.nn)
*And* map quoteCover.quoteCoverRenewalCommission to REN_PA_CI (format £n,nnn.nn)
*And* map quoteCover.quoteCoverInitialEarningsPeriod + 1 to REN_PA_CI_MONTH 
*And* add quoteCover.quoteCoverInitialCommission to INIT_COMMISSION running total (format n,nnn,nnn)

*Given* a single life document/decision request with any number of quote covers, with at least one of productType = “ci” with a toAge specified \[current limit one of each product type on an applicant - 4]
*When* constructing the elissa decision document request 
*And* quote.quoteApplicant.quoteCover with productType = “ci”
*Then* set PA_CI to true
*And* map quoteCover.coverType to PA_CI_TYPE
*And* map quoteCover.coverAmount to PA_CI_AMT (format n,nnn,nnn)
*And* map quoteCover.toAge to PA_CI_AGE
*And* map quoteCover.quoteCoverPremium to PA_CI_PREM (format £n,nnn.nn)
*And* map quoteCover.quoteCoverRenewalCommission to REN_PA_CI (format £n,nnn.nn)
*And* map quoteCover.quoteCoverInitialEarningsPeriod + 1 to REN_PA_CI_MONTH
*And* add quoteCover.quoteCoverInitialCommission to INIT_COMMISSION running total (format n,nnn,nnn)

_Building on all of the above:_

*Given* a successfully generated decision document
*When* retrieving document
*And* decoding to pdf
*Then* the above items are included as expected with the correct format",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,NBJ-769,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1|i00c01:zzz8zzzzzzt3r1i8r,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Update NBJ when application RTUW in Salesforce,NBJ-585,40016,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,helen.scriven,5dbd6f97fc11e40c2ff452a7,helen.scriven,5dbd6f97fc11e40c2ff452a7,02/Nov/21 5:04 PM,01/Feb/22 12:43 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,As an Underwriter I want to return an applicant to underwriting so that I can consider additional disclosures received by the client following a previous manual or STP decision.,,helen.scriven,,,,,,,5dbd6f97fc11e40c2ff452a7,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Summary*

Given an Applicant with an STP or manual decision

When the Underwriter returns the applicant to underwriting

Then within 60 seconds:

* The status of the applicant on the NBJ and in Salesforce is updated to Referred to UW (TBD)
* The status of the application on the NBJ and in Salesforce is Underwriting (TBD)
* The Progress Updates section on the NBJ is active accessible by the adviser  

*Details*

See the linked Confluence page for detailed AC. Only AS IS currently. To BE to added.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-125,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space-bx,,,,,,,No,,1|i00qc6:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Nov/21 5:04 PM,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Decision Document - quoteCovers Life,NBJ-584,40013,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,02/Nov/21 4:56 PM,24/Nov/21 4:40 PM,02/Feb/22 6:31 PM,,,Foundation Release,,DocumentGeneration,Sprint_6,,"*As an* api user
*So that* I am able to generate a decision document
*I want* to be able to vary life products requested

*Implementation Notes*

# {{POST /api/v1/document/decision}} 
# This is still only a single life request
# It is intended to fill out all the Life quoteCover details for the primary applicant (PA)
# Note - term and toAge are mutually exclusive, so duplicate acceptance criteria are included foreach below for completeness
# Once document generated [https://gghltd.atlassian.net/browse/NBJ-423|https://gghltd.atlassian.net/browse/NBJ-423|smart-link] explains how to get base64 encoded content that can be converted to pdf

_Decision Document Service Request_

{code:json}{
  ""expiryDate"": 20211031,
  ""showCommission"": true|false,
  applicants: [
    {
      ""id"": ""THE_ID_OF_THE_RECORD_IN_THE_DATABASE"",
      ""firstName"": ""Sam"",
      ""lastName"": ""Gamble"",
      ""dateOfBirth"": ""1978-10-30T00:00:00"",
      ""gender"": ""Male"",
      ""smokerStatus"": ""None in the last 5 years | None in last 12 months | I have used tobacco or replacement products in last 12 months"",
      ""height"": 1.78,
      ""weight"": 88,
      ""title"": ""Mr"" 
    },
    ...
  ],
  quote: {
    ""quoteApplicants"": [
      {
        ""dateOfbirth"": 19711207,
        ""gender"": ""male | female"",
        ""smokerStatus"": ""None in the last 5 years | None in last 12 months | I have used tobacco or replacement products in last 12 months"",
        ""quoteApplicantPremium"": 0.00, --response premium
        ""quoteCovers"": [
          {
            ""productType"": ""life"",
            ""coverType"": ""level | increasing | decreasing | family"",
            ""term"": 3, -- not required if toAge specified
            ""toAge"": 65, -- not required if term specified
            ""coverAmount"": 100000,
            ""isParentCoverForCcic"": true | false, -- determines if this cover is the container for the Child CI cover in this application
            ""quoteCoverPremium"": 0.00, --response value
            ""quoteCoverLifetimePremium"": 0.00, --response value
            ""quoteCoverUnloadedPremium"": 0.00, --response value
            ""quoteCoverInitialCommission"": 0.00, --response value
            ""quoteCoverInitialEarningsPeriod"": 00, --in months, response value
            ""quoteCoverRenewalCommission"": 0.00 --response value
          },
          { ""..."" },
          { ""..."" }
        ],
        ""quoteUnderwritingOutcomes"": [
          { ""..."" },
          { ""..."" }
        ],
      },
      {
        ""...""
      }
    ],
  },
  ...
}{code}

_Lissia Decision Document Request_

Below is the Lissia request with values created from the service request

{code:xml}<QUOTE_DATA>
    <DATA>
        ...
        <PA_TL_TYPE>Level</PA_TL_TYPE> -- quoteCover.coverType on quoteCovers with productType Life
        <PA_TL_AMT>100,000</PA_TL_AMT> -- quoteCover.coverAmount on quoteCovers with productType Life
        <PA_TL_TERM>25</PA_TL_TERM> -- quoteCover.term on quoteCovers with productType Life
        <PA_TL_AGE>0</PA_TL_AGE> -- quoteCover.toAge on quoteCovers with productType Life
        <PA_TL_PREM>£6.42</PA_TL_PREM> -- quoteCover.quoteCoverPremium on quoteCovers with productType Life
        ...
        <PA_LIFE>true</PA_LIFE> -- Indicates presence of Life for Primary Applicant
        <PA_CI>false</PA_CI> -- Inidcates presence of CI for Applicant
        <PA_FRA>false</PA_FRA> -- not applicable always false
        ...
        <PA_CCIC>false</PA_CCIC> -- indicates presence of CCIC for Applicant
        <PA_ACI>false</PA_ACI> -- inidicates presence of ACI for Applicant
        ...
        <TYPE>single</TYPE>
        <COMMISSION_DATA>
            <Details>
                <INIT_COMMISSION>£8,431.20</INIT_COMMISSION> -- sum of all quoteCoverInitialCommission on all covers
                <REN_PA_LIFE>£0.16</REN_PA_LIFE> -- quoteCoverRenewalCommission
                ...
                <REN_PA_LIFE_MONTH>49</REN_PA_LIFE_MONTH> -- quoteCoverInitialEarningsPeriod + 1 
                <SWITCH>true</SWITCH>
                ...
            </Details>
        </COMMISSION_DATA>
    </DATA>
</QUOTE_DATA>{code}

_Decision Document Service Response_

{noformat}{
  data:{
    ""documentId"": <doc_id>
  }
}{noformat}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* any single applicant document/decision request
*When* constructing eLissia decision document request
*Then* set TYPE to single
*And* initialise PA_LIFE to false (this will changed later to true if a productType = “life” in the message

*Given* a single life document/decision request with any number of quote covers with at least one of productType = “life” with a term specified \[current limit one of each product type on an applicant - 4]
*When* constructing the elissa decision document request
*And* quote.quoteApplicant.quoteCover with productType = “life”
*Then* set PA_LIFE to true
*And* map quoteCover.coverType to PA_TL_TYPE (format first letter caps, remainder lower case)
*And* map quoteCover.coverAmount to PA_TL_AMT (format n,nnn,nnn)
*And* map quoteCover.term to PA_TL_TERM
*And* map quoteCover.quoteCoverPremium to PA_TL_PREM (format £n,nnn.nn)
*And* map quoteCover.quoteCoverRenewalCommission to REN_PA_LIFE (format £n,nnn.nn)
*And* map quoteCover.quoteCoverInitialEarningsPeriod + 1 to REN_PA_LIFE_MONTH
*And* add quoteCover.quoteCoverInitialCommission to INIT_COMMISSION running total (format £n,nnn.nn)

*Given* a single life document/decision request with any number of quote covers, with at least one of productType = “life” with a toAge specified \[current limit one of each product type on an applicant - 4]
*When* constructing the elissa decision document request 
*And* quote.quoteApplicant.quoteCover with productType = “life”
*Then* set PA_LIFE to true
*And* map quoteCover.coverType to PA_TL_TYPE
*And* map quoteCover.coverAmount to PA_TL_AMT (format n,nnn,nnn)
*And* map quoteCover.toAge to PA_TL_AGE
*And* map quoteCover.quoteCoverPremium to PA_TL_PREM (format £n,nnn.nn)
*And* map quoteCover.quoteCoverRenewalCommission to REN_PA_LIFE (format £n,nnn.nn)
*And* map quoteCover.quoteCoverInitialEarningsPeriod + 1 to REN_PA_LIFE_MONTH
*And* add quoteCover.quoteCoverInitialCommission to INIT_COMMISSION running total (format £n,nnn.nn)

_Building on all of the above:_

*Given* a successfully generated decision document
*When* retrieving document
*And* decoding to pdf
*Then* the above items are included as expected with the correct format",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-769,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i8i,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Oct/21 5:30 PM,,1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Decision Document - Single Applicant,NBJ-583,40011,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,02/Nov/21 4:39 PM,24/Nov/21 4:40 PM,02/Feb/22 6:31 PM,,,Foundation Release,,DocumentGeneration,Sprint_6,,"*As an* api user
*So that* I am able to generate a decision document
*I want* to vary applicant details

*Implementation Notes*

# This ticket is intended to vary primary applicant details on a decision document
# The data will be provided in the applicant common data format
# The common data format will need to be converted to eLissia format before adding to the request (included in acceptance criteria below)

_Decision Document Request_

# {{POST /api/v1/document/decision}} 

{code:json}{
  ...
  ""applicants"": [
    {
      ""id"": ""THE_ID_OF_THE_RECORD_IN_THE_DATABASE"",
      ""firstName"": ""Sam"",
      ""lastName"": ""Gamble"",
      ...
    }
  ],
  ""quote"": {
    ...,
    ""quoteApplicants"": [
      {
        ...,
        ""quoteApplicantPremium"": 0.00,
        ...
      },
      {...}
    ]
  }
}{code}

_Lissia Decision Document Request_

Below is the Lissia request with values created from the service request.

PA - refers to primary applicant

{code:xml}<QUOTE_DATA>
    <DATA>
        ...
        <PA_FORENAME>PRIMARY</PA_FORENAME> -- applicant.firstName all upper case
        <PA_SURNAME>CLIENT</PA_SURNAME> -- applicant.lastName all upper case
        <SA_FORENAME/> 
        <SA_SURNAME/>
        <PA_FORENAME_SMALL>Primary</PA_FORENAME_SMALL> -- applicant.firstName initial cap rest lower
        <SA_FORENAME_SMALL/>
        <PA_SURNAME_SMALL>Client</PA_SURNAME_SMALL> -- applicant.lastName initial cap rest lower
        <SA_SURNAME_SMALL/>
        ...
        <PA_TOT_PREM>£50.00</PA_TOT_PREM>
        ...
    </DATA>
</QUOTE_DATA>{code}

_Lissia Decision Document Service Response_

{code:json}{
  data:{
    ""documentId"": <doc_id>
  }
}{code}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* a {{POST /api/v1/document/quote}}
*And* a single applicant must be included in the body of the request with the following detail
*When* creating a Lissia Quote Document Request
*Then* map applicant.firstName (all upper case) to PA_FORENAME
*And* map applicant.firstName (first letter caps and rest lower case) to PA_FORENAME_SMALL
*And* map applicant.lastName (all upper case) to PA_SURNAME
*And* map applicant.lastName (first letter caps and rest lower case) to PA_SURNAME_SMALL
*And* map quote.quoteApplicant.quoteApplicantPremium to PA_TOT_PREM

_Building on the all the acceptance criteria above:_

*Given* a successful document generated
*When* retrieving document
*And* decoding to pdf
*Then* applicant firstName is populated correctly
*And* applicant surname is populated correctly
*And* applicant premium is populated correctly",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-769,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i8,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Oct/21 5:30 PM,,1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Update application in Salesforce once on risk,NBJ-582,40006,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,helen.scriven,5dbd6f97fc11e40c2ff452a7,helen.scriven,5dbd6f97fc11e40c2ff452a7,02/Nov/21 3:43 PM,01/Feb/22 2:27 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,As a Salesforce user I want to see when an adviser put an application risk so that I can answer queries (Ops) and count my money (Sales).,,helen.scriven,,,,,,,5dbd6f97fc11e40c2ff452a7,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Given an Application in status Decision
When the adviser completes the purchase and puts the active applicants and covers on risk
Then within 60 seconds the following are updated in Salesforce:

* Each active App Member status is updated to Went on Risk
* The status of any App Member which has not progressed to on risk is updated to ‘Removed’ (TBD)
* Any App Member details updated between Decision and on risk are updated.
* Any details added between Decision and on risk are added to the application, e.g. Advised, Policy start date, bank details, children.
* Any details updated between Decision and on risk are updated on the application e.g. covers, commission, Single or Dual. 

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-125,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space-bx,,,,,,,No,,1|i00qc5:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Nov/21 3:43 PM,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Error message for missing Gender on applicant has regressed,NBJ-581,40002,,Bug,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Lowest,,Chris.Hibbert,60cc71a1d5dde800713a2124,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,02/Nov/21 3:19 PM,15/Nov/21 1:17 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Low,,,,,,,,,,,,,,"*Description of Issue:* If you add an applicant with a missing Gender, the error message is not as helpful as possible: 
""'Gender' must not be equal to 'Undefined'.""


*Business Impact:* Minimal most likely, but might make presentation of errors on a portal unprofessional.

Steps to Reproduce: Make a POST call to {{base_ur}}/api/v1/Application/{{applicationId}}/Applicant with body

{code:java}
{
  ""firstName"": ""Sam"",
  ""lastName"": ""Gamble"",
  ""dateOfBirth"": ""1978-10-30T00:00:00"",
  ""height"": 178,
  ""weight"": 88,
  ""title"": ""Mr"",
  ""quoteAgeDate"": ""2021-11-01T00:00:00"",
  ""smoking"": ""NON_SMOKER""
}
{code}

Expected Results: The response body should be

{code}
{
    ""errors"": [
        {
            ""errorMessage"": ""'Gender' must not be empty"",
            ""propertyName"": ""Gender"",
            ""attemptedValue"": ""Undefined""
        }
    ]
}
{code}

Actual Result:
{code}
{
    ""errors"": [
        {
            ""errorMessage"": ""'Gender' must not be equal to 'Undefined'."",
            ""propertyName"": ""Gender"",
            ""attemptedValue"": ""Undefined""
        }
    ]
}
{code}

Version: unknown",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00q8n:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Nov/21 3:19 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Decision Document - misc quote metadata,NBJ-580,39993,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,02/Nov/21 1:17 PM,01/Feb/22 5:06 PM,02/Feb/22 6:31 PM,,,Foundation Release,,DocumentGeneration,Sprint_6,,"*As an* api user
*So that* I am able to generate a decision document
*I want* to vary overall quote details

*Implementation Notes*

# This story is intended to vary VALID_UNTIL, QUOTE_PRICE, and TOT_TERM on the eLissia request
# Once document created you can test the content by retrieving the base64 encoded content as described in [https://gghltd.atlassian.net/browse/NBJ-423|https://gghltd.atlassian.net/browse/NBJ-423|smart-link] 
# Base64 encoded content can be converted to pdf for checking

_Decision Document Request_

# {{POST /api/v1/document/decision}} 

{code:json}{
  ""expiryDate"": """",
  ""quote"": {
    ""applicationId"": ""G000001234"",
    ""adviserAtFirmLocationId"": """",
    ""initialCommissionSacrificePercentage"": 0-100,
    ""initialIndemnityPercentage"": 0-100,
    ""quoteAgeDate"": 20210910,
    ""quoteCreatedDate"": 20210910, --response value
    ""quotePremium"": 0.00, --response value
    ""quoteLifetimePremium"": 0.00, response value
    ""quoteUnloadedPremium"": 0.00, --response value
    ""quoteDiscount"": 0.00, --response values, possibly not
    ...
    }
}{code}

_Lissia Decision Document Request_

Below is the Lissia request with values created from the service request.

{code:xml}<QUOTE_DATA>
    <DATA>
        <APPLICATIONREF>G000126998</APPLICATIONREF> -- quote.applicationId
        <QUOTE_REF>G000126998</QUOTE_REF> -- quote.applicationId
        <VALID_UNTIL>dd/mm/yyyy</VALID_UNTIL> -- expiryDate
        <OFFER_DATE>dd/mm/yyyy</OFFER_DATE> -- quote.quoteCreatedDate
        ...
        <QUOTE_PRICE>£692.76</QUOTE_PRICE> -- quote.quotePremium
        ...
        <TOT_TERM>£207,828.00</TOT_TERM> -- quote.quoteLifetimePremium
        ...
    </DATA>
</QUOTE_DATA>{code}

_Lissia Document Service Response_

{code:xml}<soap:Envelope xmlns:soap=""http://www.w3.org/2003/05/soap-envelope"" xmlns:ser=""http://service.reporting.webservice.liss.co.uk"" xmlns:xsd=""http://request.core.webservice.liss.co.uk/xsd"" xmlns:xsd1=""http://domain.core.webservice.liss.co.uk/xsd"" xmlns:xsd2=""http://request.reporting.webservice.liss.co.uk/xsd"">
   <soap:Header/>
   <soap:Body>
      <ser:findDocumentByDocId>
         <ser:request>
            <xsd:auditData>
               <xsd1:pageCode>3</xsd1:pageCode>
               <xsd1:userId>7</xsd1:userId>
            </xsd:auditData>
            <xsd2:documentId>157310</xsd2:documentId>
         </ser:request>
      </ser:findDocumentByDocId>
   </soap:Body>
</soap:Envelope>{code}

_Decision Document Service Response_

{noformat}{
  data:{
    ""documentId"": <doc_id>
  }
}{noformat}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,NBJ-583,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Nov/21 1:17 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;NBJ-439 Quote Document.pdf;https://gghltd.atlassian.net/secure/attachment/23250/NBJ-439+Quote+Document.pdf,02/Nov/21 1:17 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;NBJ-439 XML.xml;https://gghltd.atlassian.net/secure/attachment/23251/NBJ-439+XML.xml,,,,,,,,,,,"*Given* a {{POST /api/v1/document/decision}}
*And* quote information included in the body of the request
*And* quoteExpiryDate included in the body of the request // check which expiry date
*When* creating a Lissia Quote Document Request
*Then* map quoteExpiryDate to VALID_UNTIL, ensuring format dd/mm/yyyy
*And* map quote.quotePremium to QUOTE_PRICE, ensuring format of £n,nnn.nn
*And* map quote.quoteLifetimePremium to TOT_TERM, ensuring format of £n,nnn.nn

_Building on the above:_

*Given* a successful response from the above
*When* retrieving the document generated
*Then* ensure the terms expiry date is populated
*And* ensure the terms offered date is populated
*And* ensure the quote premium is populated and formatted correctly
*And* ensure the lifetime premium is populated and formatted correctly",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-769,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i7,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Oct/21 5:30 PM,,1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Remove UnderwritingService folder from NBJ-Microservices repository,NBJ-579,39980,,Task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Jason Hughes,613f60991370f00069033c68,Jason Hughes,613f60991370f00069033c68,Jason Hughes,613f60991370f00069033c68,02/Nov/21 11:32 AM,02/Nov/21 11:48 AM,02/Feb/22 6:31 PM,02/Nov/21 11:48 AM,,,,,,,"This needs to done after the code has been copied to it's own repo: NBJ-UnderwritingService.

The old UnderwritingService pipelines need to be removed as well once pipelines for the new repo are running",,Jason Hughes,,,,,,,613f60991370f00069033c68,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00q3r:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Nov/21 11:32 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Decision Document - Initial Request,NBJ-578,39978,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,02/Nov/21 10:58 AM,24/Nov/21 4:40 PM,02/Feb/22 6:31 PM,,,Foundation Release,,Sprint_6,,,"*As an* api consumer of document
*So that* I can produce a decision document
*I want* a service that can generate a decision document",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,NBJ-580,NBJ-584,NBJ-586,NBJ-587,NBJ-588,NBJ-589,NBJ-591,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* POST /api/v1/document/decision
*And* body specifies quote.applicationId
*When* formulating the eLissia document request
*Then* use message content provided
*And* set APPLICATIONREF to quote.applicationId
*And* set QUOTE_REF to quote.applicationId

_Building on the above_

*Given* a successful eLissia document response
*Then* return a 201
*And* the eLissia documentId",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-769,,,,,,,,,,,,,,,,None,,"*Implementation Notes*

{code:json}POST /api/v1/document/decision{code}

_Body_

{code:json}{
  ""quote"": {
    ""applicationId"": ""G000001234""
  }
}{code}

_eLissia request_

{code:xml}<QUOTE_DATA>
  <DATA>
    <APPLICATIONREF>G000080095</APPLICATIONREF> -- map from body of post quote.applicationId
    <PA_FORENAME>TEST</PA_FORENAME>
    <PA_SURNAME>GARRETT</PA_SURNAME>
    <SA_FORENAME />
    <SA_SURNAME />
    <PA_FORENAME_SMALL>Test</PA_FORENAME_SMALL>
    <SA_FORENAME_SMALL />
    <PA_SURNAME_SMALL>Garrett</PA_SURNAME_SMALL>
    <SA_SURNAME_SMALL />
    <QUOTE_REF>G000080095</QUOTE_REF> -- map from body of post quote.applicationId
    <VALID_UNTIL>11/11/2021</VALID_UNTIL>
    <OFFER_DATE>12/10/2021</OFFER_DATE>
    <DISCOUNT /> -- not used 
    <QUOTE_PRICE>£452.77</QUOTE_PRICE>	  
    <PA_TL_TYPE>Level</PA_TL_TYPE>
    <PA_TL_AMT>100,000</PA_TL_AMT>
    <PA_TL_TERM>10</PA_TL_TERM>
    <PA_TL_AGE>0</PA_TL_AGE>
    <PA_TL_PREM>£18.25</PA_TL_PREM>
    <SA_TL_TYPE />
    <SA_TL_AMT>0</SA_TL_AMT>
    <SA_TL_TERM>0</SA_TL_TERM>
    <SA_TL_AGE>0</SA_TL_AGE>
    <SA_TL_PREM>£0.00</SA_TL_PREM>
    <PA_CI_TYPE />
    <PA_CI_AMT>0</PA_CI_AMT>
    <PA_CI_TERM>0</PA_CI_TERM>
    <PA_CI_AGE>0</PA_CI_AGE>
    <PA_CI_PREM>£0.00</PA_CI_PREM>
    <SA_CI_TYPE />
    <SA_CI_AMT>0</SA_CI_AMT>
    <SA_CI_TERM>0</SA_CI_TERM>
    <SA_CI_AGE>0</SA_CI_AGE>
    <SA_CI_PREM>£0.00</SA_CI_PREM>
    <CCIC_SUM>0</CCIC_SUM>
    <CCIC_PREM>£0.00</CCIC_PREM>
    <PA_FRA_PREM>£0.00</PA_FRA_PREM>
    <SA_FRA_PREM>£0.00</SA_FRA_PREM>
    <PA_LIFE>true</PA_LIFE>
    <PA_CI>false</PA_CI>
    <PA_FRA>false</PA_FRA>
    <SA_LIFE>false</SA_LIFE>
    <SA_CI>false</SA_CI>
    <SA_FRA>false</SA_FRA>
    <PA_CCIC>false</PA_CCIC>
    <PA_ACI>false</PA_ACI>
    <SA_ACI>false</SA_ACI>
    <PA_ACI_TYPE />
    <PA_ACI_AMT>0</PA_ACI_AMT>
    <PA_ACI_TERM>0</PA_ACI_TERM>
    <PA_ACI_AGE>0</PA_ACI_AGE>
    <PA_ACI_PREM>£0.00</PA_ACI_PREM>
    <SA_ACI_TYPE />
    <SA_ACI_AMT>0</SA_ACI_AMT>
    <SA_ACI_TERM>0</SA_ACI_TERM>
    <SA_ACI_AGE>0</SA_ACI_AGE>
    <SA_ACI_PREM>£0.00</SA_ACI_PREM>
    <DECSION_MSG_PA_LIFE>We’ve offered Life Protection cover based on our standard premiums. </DECSION_MSG_PA_LIFE>
    <DECSION_MSG_PA_CI />
    <DECSION_MSG_SA_LIFE />
    <DECSION_MSG_SA_CI />
    <EXCL_MSG_PA_CI />
    <EXCL_PREM_MSG_PA_CI />
    <REMOVAL_MSG_PA_CI />
    <REM_PREM_MSG_PA_CI />
    <DECSION_MSG_PA_TPD />
    <EXCL_MSG_PA_TPDO />
    <EXCL_MSG_PA_TPDA />
    <EXCL_PREM_MSG_PA_TPDO />
    <EXCL_PREM_MSG_PA_TPDA />
    <EXCL_MSG_SUM_PA_LIFE />
    <EXCL_MSG_SUM_PA_CI />
    <EXCL_MSG_TERM_PA_LIFE />
    <EXCL_MSG_TERM_PA_CI />
    <EXCL_MSG_ST_PA_LIFE />
    <EXCL_MSG_ST_PA_CI />
    <EXCL_MSG_SA_CI />
    <EXCL_PREM_MSG_SA_CI />
    <REMOVAL_MSG_SA_CI />
    <REM_PREM_MSG_SA_CI />
    <DECSION_MSG_SA_TPD />
    <EXCL_MSG_SA_TPDO />
    <EXCL_MSG_SA_TPDA />
    <EXCL_PREM_MSG_SA_TPDO />
    <EXCL_PREM_MSG_SA_TPDA />
    <EXCL_MSG_SUM_SA_LIFE />
    <EXCL_MSG_SUM_SA_CI />
    <EXCL_MSG_TERM_SA_LIFE />
    <EXCL_MSG_TERM_SA_CI />
    <EXCL_MSG_ST_SA_LIFE />
    <EXCL_MSG_ST_SA_CI />
    <DECSION_MSG_PA_ACI />
    <EXCL_MSG_PA_ACI />
    <EXCL_PREM_MSG_PA_ACI />
    <REMOVAL_MSG_PA_ACI />
    <REM_PREM_MSG_PA_ACI />
    <EXCL_MSG_SUM_PA_ACI />
    <EXCL_MSG_TERM_PA_ACI />
    <EXCL_MSG_ST_PA_ACI />
    <DECISION_STATUS_PA_LIFE>standard</DECISION_STATUS_PA_LIFE>
    <DECISION_STATUS_PA_CI>standard</DECISION_STATUS_PA_CI>
    <DECISION_STATUS_PA_ACI>non</DECISION_STATUS_PA_ACI>
    <DECSION_MSG_SA_ACI />
    <EXCL_MSG_SA_ACI />
    <EXCL_PREM_MSG_SA_ACI />
    <REMOVAL_MSG_SA_ACI />
    <REM_PREM_MSG_SA_ACI />
    <EXCL_MSG_SUM_SA_ACI />
    <EXCL_MSG_TERM_SA_ACI />
    <EXCL_MSG_ST_SA_ACI />
    <DECISION_STATUS_SA_LIFE>standard</DECISION_STATUS_SA_LIFE>
    <DECISION_STATUS_SA_CI>standard</DECISION_STATUS_SA_CI>
    <DECISION_STATUS_SA_ACI>standard</DECISION_STATUS_SA_ACI>
    <PA_TOT_PREM>£200.80</PA_TOT_PREM>
    <SA_TOT_PREM>£0.00</SA_TOT_PREM>
    <TOT_TERM>£82,532.67</TOT_TERM>
    <TYPE>single</TYPE>
    <COMMISSION_DATA>
      <Details>
        <INIT_COMMISSION>£10,594.83</INIT_COMMISSION>
        <REN_PA_LIFE>£0.46</REN_PA_LIFE>
        <REN_PA_CI>£0.00</REN_PA_CI>
        <REN_PA_FRA>£0.00</REN_PA_FRA>
        <REN_SA_LIFE>£0.00</REN_SA_LIFE>
        <REN_SA_CI>£0.00</REN_SA_CI>
        <REN_SA_FRA>£0.00</REN_SA_FRA>
        <REN_CHILD_CI>£0.00</REN_CHILD_CI>
        <REN_PA_LIFE_MONTH>49</REN_PA_LIFE_MONTH>
        <REN_PA_CI_MONTH>0</REN_PA_CI_MONTH>
        <REN_PA_FRA_MONTH>0</REN_PA_FRA_MONTH>
        <REN_SA_LIFE_MONTH>0</REN_SA_LIFE_MONTH>
        <REN_SA_CI_MONTH>0</REN_SA_CI_MONTH>
        <REN_SA_FRA_MONTH>0</REN_SA_FRA_MONTH>
        <REN_CHILD_CI_MONTH>0</REN_CHILD_CI_MONTH>
        <SWITCH>true</SWITCH>
        <REN_PA_ACI>£0.00</REN_PA_ACI>
        <REN_SA_ACI>£0.00</REN_SA_ACI>
        <REN_PA_ACI_MONTH>0</REN_PA_ACI_MONTH>
        <REN_SA_ACI_MONTH>0</REN_SA_ACI_MONTH>
      </Details>
    </COMMISSION_DATA>
  </DATA>
</QUOTE_DATA>{code}

# This is the initial request just to get a base document produced, eventually we pass in applicant entities, quote entity, and productDecision entity to produce the document
# The Lissia message is an extended quote document message
# Hard code the message as above varying {{APPLICATIONREF}} and {{QUOTE_REF}}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Nov/21 10:58 AM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Update application in Salesforce once all applicants submitted and trigger UWWB cases,NBJ-577,39956,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,helen.scriven,5dbd6f97fc11e40c2ff452a7,helen.scriven,5dbd6f97fc11e40c2ff452a7,01/Nov/21 3:52 PM,01/Feb/22 12:43 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"As a Salesforce user I want the application status in Salesforce to updated once the application is submitted for all applicants, so that I can answer queries (Ops) and see apps in the pipeline (Sales).

As an Underwriter I want a Salesforce UWWB case to be created for each referred applicant, so I can manually underwrite them. ",,Graham.Smith,helen.scriven,,,,,,5db1914d2299c90da0133d7b,5dbd6f97fc11e40c2ff452a7,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Given an Application is the status of Apply

When the adviser submits the UW answers for all applicants and all applicants either:

* have an STP decision or 
* are referred to manual underwriting

Then within 60 seconds the following happens in Salesforce:

* The Application status changes from Apply to either:
** Decision, if all App Members have an STP decision or 
** Underwriting, if at least one App Member has a status of Referred to UW
* For each App Member with a status of Referred to UW, that does not already have an associated case of case record type NBJ2 Underwriting, a case of this record type is created in the status of Referred. (See linked Confluence page)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-125,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space-bx,,,,,,,No,,1|i00dli:i,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,01/Nov/21 3:52 PM,,0.0,,,,,,,,,,,,,,,,Andy Cole,5fa26bb0f7b30b006e1b6ad5,,,,,,,,,,,,,,,,2021-11-25 17:35:35.514,25/Nov/21 5:35 PM;5db1914d2299c90da0133d7b;There appears to be no Salesforce build element to this but testing will need to be completed to confirm the necessary updates have taken place. ACL should process the changes as specified.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
"Sprint 3 [API] - Premium and Commission not getting returned correctly; only returning a ""0"" value",NBJ-576,39951,,Bug,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,High,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,Nathan Punzalan,613f22fdff23ba00715469d1,01/Nov/21 2:37 PM,02/Nov/21 11:24 AM,02/Feb/22 6:31 PM,02/Nov/21 11:24 AM,,,,,,,,,John.LeQuesne,Nathan Punzalan,,,,,,5db187687b20d80c2a25b574,613f22fdff23ba00715469d1,,,,,,,,,,,,,Hidden from EXL,NBJ-293,NBJ-325,,,,,,,,,,,,,,,,,,,,,,,,,,,,,01/Nov/21 6:44 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;NBJ-576_lissia_request.xml;https://gghltd.atlassian.net/secure/attachment/23238/NBJ-576_lissia_request.xml,01/Nov/21 6:44 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;NBJ-576_lissia_response.xml;https://gghltd.atlassian.net/secure/attachment/23239/NBJ-576_lissia_response.xml,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Looking at the issue below I have attached the the request response extracts….

[^NBJ-576_lissia_response.xml]
[^NBJ-576_lissia_request.xml]

# The mapping of CoverType and ProductType is incorrect: TTL should be TLL (4 occurrences in message)
# Remove postcode ({{ImpGrpCliCpr/row/ImpItmCliContactClientContactDetails/<Postcode/>) - not used by GUARDIAN}}

Summary:
When I POST a request to the quote service ([https://ggh-uwt-api.gghltest.co.uk/api/v1/quote),|https://ggh-uwt-api.gghltest.co.uk/api/v1/quote),] the commission and premium are getting returned as ""0"" regardless of product and cover type specified in request along with other details. 

Please find example request used below:
\{
""applicationId"": ""{{application_id}}"",
""quoteAgeDate"": ""2020-12-13"",
""InitialIndemnityPercentage"" : 0,
""InitialCommissionSacrificePercentage"" : 0,
""quoteApplicants"": \[
\{
""dateOfbirth"": ""1971-12-07"",
""gender"": ""male"",
""smokerStatus"": ""None in the last 5 years"",
""quoteCovers"": \[
\{
""productType"": ""life"",
""coverType"": ""level"",
""term"": 15, 
""coverAmount"": 25000
}
]
}
]
}

Steps to Reproduce:
1) POST a request via API to [https://ggh-uwt-api.gghltest.co.uk/api/v1/quote|https://ggh-uwt-api.gghltest.co.uk/api/v1/quote] using example request above

Expected Results: 
Response returns premium and commission based on calculations in Lissia.

Actual Result:
Response returns ""0"" values for both premium and commission. See response below (based on example request above):
\{
""data"": \{
""applicationId"": ""G000000007"",
""quoteCreatedDate"": ""2021-11-01T14:31:51.2640904+00:00"",
""quoteApplicants"": \[
\{
""smokerStatus"": ""None in the last 5 years"",
""dateOfBirth"": ""1971-12-07T00:00:00"",
""gender"": ""Male"",
""premium"": 0,
""quoteCovers"": \[
\{
""coverAmount"": 25000,
""toAge"": null,
""term"": 15,
""productType"": ""Life"",
""coverType"": ""Level"",
""premium"": 0,
""unloadedPremium"": 0,
""initialCommission"": 0,
""initialEarningsPeriod"": 0,
""renewalCommission"": 0,
""lifeTimePremium"": 0
}
]
}
],
""quoteAgeDate"": ""2020-12-13T00:00:00+00:00"",
""adviserAtFirmLocationId"": null,
""initialIndemnityPercentage"": 0,
""initialCommissionSacrificePercentage"": 0,
""premium"": 0,
""lifeTimePremium"": 0
}
}



When I check the response from Lissia I can see that an error number is also returned which is EAPRL001. Please see the full response body below: 

""<soap:Envelope xmlns:soap=""[http://schemas.xmlsoap.org/soap/envelope/\\""|http://schemas.xmlsoap.org/soap/envelope/%5C%22]>
[soap:Body|soap:Body]
<ns2:WssquotecallResponse xmlns:ns2=""[http://tempuri.org/Wssquote/%5C%22|http://tempuri.org/Wssquote/%5C%22|smart-link] >
<WssquoteExport command="""" exitState=""1879193791"" exitStateType=""3"" exitStateMsg="" "">
<ExpGrpSum2app/>
<ExpGrpErrors>
<row>
<ExpItmErrQrefWebService>
<QuoteRef>G000000007</QuoteRef>
<SuggestedValue>0.0</SuggestedValue>
<BenLine>G000000007_1_life_1</BenLine>
<Primaryprdid/>
</ExpItmErrQrefWebService>
<ExpItmErrPrlProductLines>
<PrlId>TTL         </PrlId>
</ExpItmErrPrlProductLines>
<ExpItmErrmsgWindow>
<WinErrmsg/>
</ExpItmErrmsgWindow>
<ExpItmErrorsCommunications>
<ErrorParameters>                                                                                                    </ErrorParameters>
<ErrorNo>EAPRL001</ErrorNo>
</ExpItmErrorsCommunications>
</row>
</ExpGrpErrors>
<ExpGrpCliCprRtn/>
<ExpGrpCommissions/>
<ExpGrpCvgs/>
<ExpGrpPrmSumByref/>
<ExpGrpPlcRtn/>
<ExpGrpWarningMsg/>
<ExpGrpComTot/>
<ExpGrpTotIndemnity/>
<ExpGrpFsaTot/>
<ExpGrpPremDetails/>
<ExpGrpPremDetailsTot/>
</WssquoteExport>
</ns2:WssquotecallResponse>
</soap:Body>
</soap:Envelope>"",",,{},,,,,,NBJ-118,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,No,,1|hzwil1:r,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,,,,,,01/Nov/21 2:37 PM,,,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-01 15:25:56.711,01/Nov/21 3:25 PM;5db187687b20d80c2a25b574;Why is the product line TTL (i.e. the PrlId)? This isn’t a valid value (is it meant to be TLL)?,"02/Nov/21 11:24 AM;613f22fdff23ba00715469d1;Bug is fixed, premium and commissions are now getting returned. Postcode no longer shows in Lissia Response and TTL has been replaced by TLL as expected.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Use quote decision to show product status and notes on quote screen,NBJ-573,39899,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,31/Oct/21 11:21 AM,10/Jan/22 2:48 PM,02/Feb/22 6:31 PM,10/Jan/22 2:48 PM,,Foundation Release,,Sprint_5,,,"*As a* User
*So that* I know if I can continue with covers
*I want* the top level quote decision (standard, non-standard, etc.) to be shown on the quote screen.



!Screenshot 2021-12-08 at 10.44.12.png|width=1299,height=1403!",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,08/Dec/21 10:44 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-08 at 10.44.12.png;https://gghltd.atlassian.net/secure/attachment/24146/Screenshot+2021-12-08+at+10.44.12.png,,,,,,,,,,,,"{color:#ff5630}*NOTE: For the below, the underwriting decision text (standard, non-standard, unable to offer…,etc.) comes from the decisionText field and the underwriting notes comes from the reasonText collection.  These are at a productType level so can apply to multiple products.*{color}

*Given:* An application with an applicant and 1 or more covers and a valid quote
*When:* Viewing the quote screen
*Then:* The top level quote decision is shown against each cover

*Given*: A cover with a standard decision
*When*: Displaying the cover on the quote screen
*Then*: The standard terms icon and text are shown (green icon)
*and:* No underwriting notes are displayed

*Given*: A cover with non-standard decision
*When*: Displaying the cover on the quote screen
*Then*: The “Non-standard terms” icon and text are shown (orange icon)
*and:* An underwriting notes section is displayed for the cover with the underwriting decision text

*Given*: A cover with a decline or postpone decision
*When*: Displaying the cover on the quote screen
*Then*: The “Unable to offer terms” icon and text are shown (red icon)
*and:* An underwriting notes section is displayed for the cover with the underwriting decision text

*Given*: A cover with a refer or evidence decision
*When*: Displaying the cover on the quote screen
*Then*: The “Underwriting required” icon and text are shown (white icon)
*and:* An underwriting notes section is displayed for the cover with the underwriting decision text",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,"h4. Example Decision Information in TriggerDecisionQuote response

{code:json}""quoteDecisions"": [
            {
              ""productType"": ""Life"",
              ""emRating"": null,
              ""permPmRating"": null,
              ""decision"": ""Declined"",
              ""decisionText"": ""Unable to offer terms - Decline"",
              ""reasons"": [
                ""Build""
              ],
              ""reasonText"": [
                ""Unfortunately, we’re unable to offer you the Life Protection cover you’ve applied for because of your .""
              ],
              ""exclusions"": []
            }
          ]{code}

*NOTE: The quoteDecisions are at a productType level, therefore applies to all products with the same productType*",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwik1:1ir,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,Guardian Sprint 7,,,,,31/Oct/21 11:21 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Dec/21 6:54 PM;60cc71a1d5dde800713a2124;(flagoff) Flag removed

Now working in UWT",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Add quickQuote decision into quote request for quote screen,NBJ-572,39898,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,31/Oct/21 11:16 AM,11/Jan/22 9:15 PM,02/Feb/22 6:31 PM,11/Jan/22 9:15 PM,,Foundation Release,,Sprint_5,,,"*As an* API User
*So that* prices on the quote screen reflect the initial underwriting (bmi, smoker)
*I want* the quote decision to be used when formulating any quick quotes

Essentially this ticket is about using the quote decision (NBJ-606) whenever we are doing a quick quote",,Chris.Hibbert,James Bartlett,Jon Reynolds,,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,616ee20e2097220071a975d2,,,,,,,,,,,,Hidden from EXL,NBJ-573,,,,,,,,,,,,,,,NBJ-273,,,,,,,,,,,,,,,11/Jan/22 9:15 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/24952/LivingDoc.html,,,,,,,,,,,,"*Given*: An Application
*When*: triggerQuote is triggered for that application
*Then*: This quote includes the impact of BMI and Smoker status decisions (i.e. includes the decision information from the quote decision)

*Given*: A declined or postponed cover
*When*: triggering the quote against Lissia
*Then*: The cover is not included in any triggerQuote request to Lissia
*And*: The cover is returned with a zero premium and zero commission

*Given*: A successful quote with a quickQuote decision
*Then*: The decision and reason text for each cover is persisted",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,"* Orchestrate a call to get the Quick Quote decision from the decision service - extra call in triggerQuote
* Add the loading elements (if any) from enquiryLines with a tag of CLIENT_DETAILS
* Set the smoker status accordingly
* Exclude any covers with a decision of DECLINE or POSTPONE from the quote
* Get the quote as normal
* Persist the decision",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009ei,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,Guardian Sprint 7,,,,,31/Oct/21 11:16 AM,,8.0,,,,,,,,,,,,,,,,,,Note to tester - ensure smokerStatus is included in the response,,,,,,,,,,,,,,,2021-11-18 15:00:14.569,18/Nov/21 3:00 PM;6139c49114e8340071fcda09;Note to tester - ensure smokerStatus is included in the response,"13/Dec/21 10:58 AM;616ee20e2097220071a975d2;(flag) Flag added

Further to conversation with [~accountid:60cc71a22bd21400692fd2af] and [~accountid:6139c49114e8340071fcda09] additional logic is required to ascertain correct decision bucket values before this can be continued","13/Dec/21 5:09 PM;616ee20e2097220071a975d2;(flagoff) Flag removed

Will be unblocked once NBJ-987 has been code delivered",16/Dec/21 2:57 PM;6139c49114e8340071fcda09;[~accountid:5ed8c4bc4ec4270ba3725b85] blocked by NBJ-1022,10/Jan/22 10:27 PM;6139c49114e8340071fcda09;awaiting confirmation or fix for NBJ-1022,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Assign ownership of created app following portal apply login,NBJ-571,39897,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,30/Oct/21 8:38 PM,02/Feb/22 1:03 PM,02/Feb/22 6:31 PM,,,Foundation Release,,Sprint_9,,,and check the FRN matches.,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-117,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00plb:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,30/Oct/21 8:38 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Attribute newly created applications to logged in user,NBJ-570,39896,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,30/Oct/21 8:37 PM,31/Jan/22 11:01 AM,02/Feb/22 6:31 PM,,,Foundation Release,,Sprint_6,,,"*As an* adviser
*So that* only advisers in my firm can access applications I create
*I want* to assign ownership of new applications to my Firm",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,NBJ-859,NBJ-860,NBJ-425,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* a logged on user with role adviser (i.e. has an AdviserId) on NBJ dashboard
*When* creating application
*Then* set application.adviserAtFirmLocationId to AdviserId from the logged in profile",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-114,,,,,,,,,,,,,,,,None,,"* AdviserId - the salesforce ID of the adviser
* ClientId - An Elissia generated ID
* Roles - the role of the user. Roles include
** adviser
** client
** cca
** ccaAdmin
** itAdmin
* GryphonId - the ID of a Guardian employee",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwib9:zr,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,30/Oct/21 8:37 PM,,13.0,,,,,,,,,,,,,,,,,,"need secret to decode token to extract useful information

User credentials required for UWT",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Build initial decision screen structure,NBJ-569,39893,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,30/Oct/21 10:56 AM,29/Nov/21 2:29 PM,02/Feb/22 6:31 PM,29/Nov/21 2:29 PM,,Foundation Release,,Sprint_5,,,"*As an* adviser
*So that* I can see the decision and price for all covers in the application
*I want* to be able to see covers on the decision screen clearly

The aim with this ticket is to get the initial view of the decision screen styled up.
So the header bar that is shown on both the Quote and Contact Details pages shows up again.
We have a styled view of the covers that lists each applicant rather than a tabbed side by side view.

*{color:red}We explicitly are not concerned about underwriting notes nor premiums in this ticket.{color}*
*{color:red}Editing and deleting covers will also come later.{color}*

Full decision screen view:
 !Screenshot 2021-11-13 at 13.29.28.png|thumbnail! ",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,NBJ-213,NBJ-206,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Nov/21 1:29 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-11-13 at 13.29.28.png;https://gghltd.atlassian.net/secure/attachment/23538/Screenshot+2021-11-13+at+13.29.28.png,13/Nov/21 1:34 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-11-13 at 13.34.05.png;https://gghltd.atlassian.net/secure/attachment/23539/Screenshot+2021-11-13+at+13.34.05.png,29/Nov/21 2:29 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-11-29 at 14.28.49.png;https://gghltd.atlassian.net/secure/attachment/23902/Screenshot+2021-11-29+at+14.28.49.png,,,,,,,,,,"*Given*: An application
*When*: Viewing the decision screen
*Then*: The summary bar (reference, commission, decision valid date) is shown at the top of the screen

*Given*: An application
*When*: Viewing the decision screen
*Then*: For each life in the application, a section is shown:

!Screenshot 2021-11-13 at 13.34.05.png|width=200,height=183!

 
*and*: The applicant name is shown with a link to return the user to the client details screen
*and*: For each cover on that applicant, they are displayed in a read only view with the cover name, cover type, cover amount and term / term until shown",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-122,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00plc:i,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,30/Oct/21 10:56 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Nov/21 10:37 AM;60cc71a1d5dde800713a2124;A few small bugs:

* Cover name is always shown as “Life Protection” regardless of the cover chosen
* Type of cover needs an initial cap
* Cover amount shouldnt have decimal places","29/Nov/21 2:29 PM;60cc71a1d5dde800713a2124;Tested in UWT, and bugs tested:

!Screenshot 2021-11-29 at 14.28.49.png|width=673,height=974!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Update CCIC attachment rule,NBJ-568,39892,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,30/Oct/21 10:54 AM,30/Oct/21 10:54 AM,02/Feb/22 6:31 PM,,,Phase 1 - Menu,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00pkf:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,30/Oct/21 10:54 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Define environment structure and naming,NBJ-567,39880,,Technical Story,Code Review,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,29/Oct/21 12:44 PM,02/Feb/22 10:47 AM,02/Feb/22 1:50 PM,,,,,Backend_Dev,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00p9f:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,29/Oct/21 12:44 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress
Persist commission details against application,NBJ-566,39876,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,29/Oct/21 11:59 AM,15/Jan/22 11:47 AM,02/Feb/22 6:31 PM,05/Jan/22 3:04 PM,,Foundation Release,,Sprint_7,,,"* default for new applications (0 sacrifice, 100 indem)",,Antony.Gorman,Chris.Hibbert,,,,,,6149b13472728e006f9441d6,60cc71a1d5dde800713a2124,,,,,,,,,,,,,Hidden from EXL,NBJ-565,NBJ-812,,,,,,,,,,,,,,,,,,,NBJ-1101,,,,,,,,,,05/Jan/22 3:04 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/24798/LivingDoc.html,,,,,,,,,,,,"*Given:* an HTTP request to POST {{/api/v1/backendforfrontend/application/commission}}

{code:json}{
    ""id"": ""<gref>""
    ""initialCommissionSacrificePercentage"": <integer>,
    ""initialIndemnityPercentage"": <integer>    
}{code}

*Then:* an HTTP 200 status code is returned
*And:* {{initialCommissionSacrificePercentage}} is persisted against the application {{applicationId}}
*and*: {{initialIndemnityPercentage}} is persisted against the application {{applicationId}}
*and:* any persisted quote is removed
*and:* any persisted quote documentId is removed

*Given*: An update to {{commission}}
*Then*:{{initialCommissionSacrificePercentage}} is validated to be an integer between 0 and 100 inclusive
*and*:{{initialIndemnityPercentage}} is validated to be an integer between 0 and 100 inclusive

*Given*: A new application created
*Then*: {{initialCommissionSacrificePercentage}} is set to 0
*and*: {{initialIndemnityPercentage}} is set to 100

*Given*: A request for the application DTO
*Then*: both {{initialCommissionSacrificePercentage}} and {{initialIndemnityPercentage}} are returned",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-761,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwifi:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,29/Oct/21 11:59 AM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-04 13:18:43.804,04/Jan/22 1:18 PM;6149b13472728e006f9441d6;[~accountid:60cc71a22bd21400692fd2af] [~accountid:60cc71a1d5dde800713a2124] normally when we remove the quote we also reset the application status to PreQuote - do we also do this for this action? ta,04/Jan/22 1:22 PM;60cc71a1d5dde800713a2124;[~accountid:6149b13472728e006f9441d6] - I think leave the state change out for now.  [~accountid:60cc71a22bd21400692fd2af]  and I will clarify the requirement for it in another story.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Show Commission Details Dialog,NBJ-565,39875,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,veronika.cole,5dfb48a2d501d70cb60120b4,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,29/Oct/21 11:58 AM,14/Jan/22 11:16 AM,02/Feb/22 6:31 PM,14/Jan/22 9:51 AM,,Foundation Release,,Sprint_7,,,"*As an* advisor 
*I want* to be able to enter and recalculate commission
*So that* I can adjust my sacrifice to suit my client

*NOTE: Available on both the quote and decision screens*
*NOTE2: No cancel button/s*

!Screenshot 2021-12-19 at 15.00.31.png|width=1027,height=956!

* If either changed, confirm disabled until recalculate hit
* hitting recalculate triggers a new quote on the quote screen (triggerQuote) and a new decision on the decision screen (triggerDecisionQuote)",,Chris.Hibbert,John.LeQuesne,veronika.cole,,,,,60cc71a1d5dde800713a2124,5db187687b20d80c2a25b574,5dfb48a2d501d70cb60120b4,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-262,,,,,,,,,,14/Jan/22 9:50 AM;veronika.cole;NBJ-565 Dual application test evidence.docx;https://gghltd.atlassian.net/secure/attachment/25058/NBJ-565+Dual+application+test+evidence.docx,14/Jan/22 9:50 AM;veronika.cole;NBJ-565 Single application test evidence.docx;https://gghltd.atlassian.net/secure/attachment/25059/NBJ-565+Single+application+test+evidence.docx,19/Dec/21 3:00 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-19 at 15.00.31.png;https://gghltd.atlassian.net/secure/attachment/24457/Screenshot+2021-12-19+at+15.00.31.png,,,,,,,,,,"*Given*: An application
*When*: The application does not have a valid quote
*Then*: The adjust commission link is disabled

*Given*: An application with a valid quote
*When*: Clicking adjust commission
*Then*: The Adjust your commission dialog is displayed
*and*: The indemnity commission field is prepopulated from initialIndemnityPercentage on the app
*and*: The commission sacrifice field is prepopulated from initialCommissionSacrificePercentage on the app
*and*: The original and revised details are prepopulated from the total premium and commission on the latest quote

*Given*: An application with a valid quote
*When*: either the indemnity commission or commission sacrifice are changed
*Then*: The confirm button is disabled

*Given*: An application with a valid quote
*When*: the Recalculate button is hit
*and*: I am on the quote screen
*Then*: The commission is updated on the application
*and*: triggerQuote is called to update the quote
*and*: the new premium and commission are shown in the revised column
*and*: the original commission values are unchanged
*and*: The confirm button is enabled

*Given*: An application with a valid quote
*When*: the Recalculate button is hit
*and*: I am on the decision screen
*Then*: The commission is updated on the application
*and*: triggerDecisionQuote is called to update the quote
*and*: the new premium and commission are shown in the revised column
*and*: the original commission values are unchanged
*and*: The confirm button is enabled",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-761,,,,,,,,,,,,,,,,None,,"POST {{/api/v1/backendforfrontend/application/{{applicationId}}/commission}}

{code:java}{
    ""initialCommissionSacrificePercentage"": <numeric>,
    ""initialIndemnityPercentage"": <numeric>    
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i015v3:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,29/Oct/21 11:58 AM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-14 11:22:46.785,"13/Nov/21 5:09 PM;60cc71a1d5dde800713a2124;[~accountid:5db187687b20d80c2a25b574]  - one to talk about.  The designs are nice, but will be expensive.  The cheapest solution is to allow the user to change their commission values and update the quote.  The recalculate button alongside a cancel makes this a very difficult screen otherwise.  Something that can come in later?","14/Nov/21 11:22 AM;5db187687b20d80c2a25b574;[~accountid:60cc71a1d5dde800713a2124] OK - let's discuss on Monday. Paul W has based his mockup on the existing screen which stores the ‘original’ values for initial commission sacrifice / indemnity percentage, then does another recalculate (using original values) if cancel is hit.",12/Jan/22 11:56 AM;60cc71a1d5dde800713a2124;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] - confirm button is not disabled when either of the commission values are changed (a/c 2),"13/Jan/22 9:48 AM;60cc71a1d5dde800713a2124;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] - a couple of related issues:

* recalculate button never gets enabled
* default commission values are not shown","13/Jan/22 5:12 PM;5dfb48a2d501d70cb60120b4;Hi [~accountid:60cc71a1d5dde800713a2124] can you give me more details on your last comment, please?
Do you mean the recalculate button never gets disabled?
Default commission values are not show … at what point or where? 
Thank you","13/Jan/22 5:38 PM;60cc71a1d5dde800713a2124;[~accountid:5dfb48a2d501d70cb60120b4] 

Apologies - called mike direct on those ones.  They should be resolved as he applied fixes for both of them.

*Recalculate button not getting enabled*
On a/c 2 the submit button should be disabled if either of the fields are edited.  This wasnt happening.  When this was fixed, the submit button was also getting disabled.  As this then was never enabled, you couldnt actually calculate your commission and were stuck in a loop.  If when you edit your commission values and can hit recalculate, this is fixed.

*Default commission values not shown*

We currently default the initial amount to 100% and sacrifice to 0% on a new app (NBJ-566) but these values were not auto-populating the fields in the dialog when it was first shown.  This too should now be fixed.","14/Jan/22 9:49 AM;5dfb48a2d501d70cb60120b4;NBJ-565 Adjust commission on Quote and Decision page
Manual testing completed and passed.
Verified ‘commission indemnity’ and ‘commission sacrifice’ as well as the ‘Quote document’ for a single and dual application.

NBJ2 compared with the Legacy system - test results match.

See the attached test evidence for more details.",,,,,,,,,,,,,,,,,,,,,,,,,Done
Update individual properties on an Application,NBJ-564,39872,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,John.LeQuesne,5db187687b20d80c2a25b574,Chris.Hibbert,60cc71a1d5dde800713a2124,29/Oct/21 11:35 AM,16/Dec/21 1:08 PM,02/Feb/22 6:31 PM,16/Dec/21 1:08 PM,,Foundation Release,,Apply,Sprint_9,,"*As a* Frontend App
*I want* to set individual property values on an application
*So that* I can save application properties on blur of UI components",,Chris.Hibbert,Justin.Smith,,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,,Hidden from EXL,NBJ-1006,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,16/Dec/21 11:15 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211216-111423.png;https://gghltd.atlassian.net/secure/attachment/24417/image-20211216-111423.png,16/Dec/21 11:15 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211216-111504.png;https://gghltd.atlassian.net/secure/attachment/24416/image-20211216-111504.png,16/Dec/21 11:17 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211216-111619.png;https://gghltd.atlassian.net/secure/attachment/24419/image-20211216-111619.png,16/Dec/21 11:17 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211216-111641.png;https://gghltd.atlassian.net/secure/attachment/24418/image-20211216-111641.png,,,,,,,,,"*Scenario:* thirdPartyRef
*Given:* an HTTP request to POST {{/api/v1/backendforfrontend/application/{{applicationId}}/thirdPartyRef}}

{code:java}{
    ""thirdPartyRef"": ""Your Reference Here""
}{code}

*Then:* an HTTP 200 status code is returned
*And:* thirdPartyRef is validated to be no more than {color:#ff5630}*20 characters*{color}

*Scenario:* isMortgageRelated
*Given:* an HTTP request to POST {{/api/v1/backendforfrontend/application/{{applicationId}}/isMortgageRelated}}

{code:java}{
    ""isMortgageRelated"": true | false
}{code}

*Then:* an HTTP 200 status code is returned",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1|i00ycw:9,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-16 11:07:11.015,"16/Dec/21 11:07 AM;618bdfc5fba4d0006ad4853e;The Uri is not quite right.  Reference swagger -

[https://wa-uwt-backendforfrontendservice.azurewebsites.net/swagger/index.html#/Application|https://wa-uwt-backendforfrontendservice.azurewebsites.net/swagger/index.html#/Application|smart-link] 

The post request needs to be - [https://wa-uwt-backendforfrontendservice.azurewebsites.net/api/v1/backendforfrontend/application/thirdPartyRef|https://wa-uwt-backendforfrontendservice.azurewebsites.net/api/v1/backendforfrontend/application/thirdPartyRef]

and the body

{noformat}{
    ""id"": ""G000097199"",
    ""thirdPartyRef"": ""Justin""
}{noformat}","16/Dec/21 11:15 AM;618bdfc5fba4d0006ad4853e;thirdpartyref and ismortgagerelated both look good

!image-20211216-111423.png|width=1059,height=644!

!image-20211216-111504.png|width=1262,height=798!

!image-20211216-111619.png|width=1471,height=621!

!image-20211216-111641.png|width=1152,height=653!



Just going to automate and then I will close.",16/Dec/21 1:08 PM;618bdfc5fba4d0006ad4853e;Closing this.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Resiliency strategy across our backend services using Polly library,NBJ-563,39867,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jon Reynolds,616ee20e2097220071a975d2,Jon Reynolds,616ee20e2097220071a975d2,29/Oct/21 8:56 AM,02/Feb/22 11:05 AM,02/Feb/22 1:44 PM,,,,,Backend_Dev,,,"MoSCoW analysis across backend services to discuss timeouts, retries, circuit breakers, fallbacks etc etc.",,Jon Reynolds,,,,,,,616ee20e2097220071a975d2,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00pfb:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,29/Oct/21 8:56 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Roll out to all artefacts,NBJ-561,39865,39846,Sub-task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,29/Oct/21 8:42 AM,29/Oct/21 8:42 AM,02/Feb/22 6:31 PM,,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00pf3:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,29/Oct/21 8:42 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,39846,Define Azure infrastructure-as-code,To Do
Use infrastructure-as-code to provision infrastructure for selected artefact in the SIT env,NBJ-560,39863,39846,Sub-task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,28/Oct/21 11:47 PM,28/Oct/21 11:47 PM,02/Feb/22 6:31 PM,,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00pen:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28/Oct/21 11:47 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,39846,Define Azure infrastructure-as-code,To Do
Define Azure infrastructure for the selected artefact,NBJ-559,39862,39846,Sub-task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,28/Oct/21 11:45 PM,28/Oct/21 11:46 PM,02/Feb/22 6:31 PM,,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00pef:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28/Oct/21 11:45 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,39846,Define Azure infrastructure-as-code,To Do
Select an artefact,NBJ-558,39861,39846,Sub-task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,28/Oct/21 11:45 PM,28/Oct/21 11:45 PM,02/Feb/22 6:31 PM,,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00pe7:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28/Oct/21 11:45 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,39846,Define Azure infrastructure-as-code,To Do
Add quality gates to the deployment pipelines,NBJ-557,39860,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,28/Oct/21 11:09 PM,08/Dec/21 1:33 PM,02/Feb/22 6:31 PM,,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00x1h:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28/Oct/21 11:09 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Hide microservices from the public Internet,NBJ-555,39858,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Highest,,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,28/Oct/21 11:07 PM,02/Feb/22 11:04 AM,01/Feb/22 8:46 AM,,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00pdj:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28/Oct/21 11:07 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Export and version microservice OpenAPI specs,NBJ-554,39857,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,28/Oct/21 11:07 PM,02/Feb/22 10:55 AM,02/Feb/22 1:44 PM,,,,,Backend_Dev,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00pdb:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28/Oct/21 11:07 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Add build version discoverability to microservices,NBJ-551,39853,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,28/Oct/21 10:22 PM,17/Dec/21 5:01 PM,02/Feb/22 6:31 PM,17/Dec/21 5:01 PM,,,,,,,"Add a new endpoint to each microservice

{noformat}/version{noformat}

which will return the version number created by the build pipeline.",,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00pbz:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,28/Oct/21 10:22 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Add deep health checks to microservices,NBJ-550,39852,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,28/Oct/21 10:22 PM,02/Feb/22 10:54 AM,02/Feb/22 1:50 PM,02/Feb/22 10:54 AM,,,,Backend_Dev,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,Impediment,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00pbr:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28/Oct/21 10:22 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Split mono-repo into one repo per microservice,NBJ-549,39851,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,28/Oct/21 10:22 PM,19/Nov/21 12:18 PM,02/Feb/22 6:31 PM,19/Nov/21 12:18 PM,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00pbj:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28/Oct/21 10:22 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Create microservice health dashboard,NBJ-548,39850,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,28/Oct/21 10:21 PM,02/Feb/22 10:50 AM,02/Feb/22 1:45 PM,,,,,Backend_Dev,,,Need an azure dashboard,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00pbb:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28/Oct/21 10:21 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Encrypt data at rest in Cosmos,NBJ-547,39849,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,28/Oct/21 10:21 PM,26/Jan/22 3:29 PM,02/Feb/22 6:31 PM,26/Jan/22 3:29 PM,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00pb3:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28/Oct/21 10:21 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Jan/22 3:29 PM;610c00d94e8d8d0069a20d6c;Looks like we get encryption-at-rest by default with Cosmos: [https://docs.microsoft.com/en-us/azure/cosmos-db/database-encryption-at-rest#:~:text=Your%20data%20is%20now%20encrypted,have%20to%20take%20any%20action|https://docs.microsoft.com/en-us/azure/cosmos-db/database-encryption-at-rest#:~:text=Your%20data%20is%20now%20encrypted,have%20to%20take%20any%20action|smart-link] 

Thanks [~accountid:616ee20e2097220071a975d2] \!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
"Add logging, instrumentation and metrics to microservices",NBJ-546,39848,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,28/Oct/21 10:21 PM,02/Feb/22 10:49 AM,02/Feb/22 1:50 PM,,,,,Backend_Dev,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00pav:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28/Oct/21 10:21 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Create automated deployment pipelines,NBJ-545,39847,,Technical Story,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,28/Oct/21 10:20 PM,02/Feb/22 10:48 AM,02/Feb/22 1:46 PM,,,,,Backend_Dev,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00pan:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28/Oct/21 10:20 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Define Azure infrastructure-as-code,NBJ-544,39846,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,28/Oct/21 10:20 PM,01/Feb/22 8:46 AM,01/Feb/22 8:46 AM,,,,,,,,"h2. Story text

*As a* person that wants to actually deploy the NBJ solution to a environment other than UWT
*I want* to have all the Azure infrastructure defined as code
*So that* I can build an automated, repeatable deployment process

h2. Context

In order to promote artefacts to the SIT environment and beyond, all the way up to production, we need an automated, repeatable process. This is where defining infrastructure-as-code and automated provisioning come to the rescue.

This ticket is all about defining the Azure infrastructure as code, for all the deployable artefacts.

*Deployable artefact:* the output of a build pipeline, such as a build of a microservice. Each artefact can be identified by its version number, e.g. 1.0.0.3453.

*Types of deployable artefacts in the NBJ solution*

# +React.js webapp:+ this app is composed of a set of static files (.js, .css, images, fonts)
# +Microservices:+ all .Net Core v5 WebAPI applications. All microservices are deliberately similar in terms of infrastructure and operation - so once the infrastructure is defined as code for one microservice, the others will follow quickly.

+Not a very important note:+
_In Azure DevOps, you will see artifacts rather than artefacts. This American spelling (artifact) is highlighted as a spelling mistake on my ever-so English Mac, and keeps getting autocorrected to artefact._",,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,NBJ-545,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,Impediment,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1jzzzii,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28/Oct/21 10:20 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Production engineering,NBJ-534,39782,,Epic,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,27/Oct/21 8:45 PM,02/Feb/22 4:20 PM,02/Feb/22 6:31 PM,,,,,,,,"*Items to discuss and agree (before adding as user stories)*

* Should we be collating our Domain Model Objects in a shared Nuget package and version as they develop?
** I’ve found different services rebuilding the same common Models and wondered if they should be centralised managed?",,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,ghx-label-1,,Production Engineering,To Do,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00owf:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,27/Oct/21 8:45 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Application Answers Document - Underwriting service providing subsection in Question Details,NBJ-533,39738,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,27/Oct/21 3:24 PM,21/Jan/22 10:10 AM,02/Feb/22 6:31 PM,,,Foundation Release,,DocumentGeneration,Sprint_7,,"*As an* api consumer
*So that* I can replay an underwriting interview to an applicant
*I want* to create an api that provides current underwriting interview details, particularly subsection

I want to generate a document that contains all the current question and answer details for an applicant. This story ensures the subsection detail is provided.

_NB - this service will be consumed by both the Q&A document service and eventually the Statement Of Facts service_",,Andy Green,Jim Houghton,,,,,,6061ac5d00b79f0070aa4ad3,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* any request 

{code:json}GET /api/v1/underwriting/{applicantId}/currentQuestionsAndAnswers{code}

*When* Processing request
*Then* get current URE active enquiry as supplied by endpoint

{code:json}GET /api/v1/underwriting/{applicantId}?embed=true{code}



*_Scenario_* _mapping the_ *_preamble_* _from the enquiryLine within the active enquiry to the subsection of the_ *_first_* _question in the response for that enquiryLine_

*Given* an active enquiry <preamble> property within enquiryLine:

{code:json}| preamble    |
| ""Any text""  |
| not present |{code}

*When* iterating through each question within each enquiryLine within each section on the active enquiry
*Then* for the <nth> question within an enquiryLine, set the <subsection> property within question on the response with the enquiryLine.<preamble> on the active enquiry :

{code:json}| nth         | preamble    | subsection |
| first       | ""Any text""  | ""Any text"" |
| first       | not present |            |
| second plus | ""Any text""  |            |
| second plus | not present |            |{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-770,,,,,,,,,,,,,,,,None,,"_Service Request_

{code:json}GET /api/v1/underwriting/{applicantId}/currentQuestionsAndAnswers{code}

_Service Response_

{noformat}http status: 200{noformat}

{noformat}{
  ""errors"": [],
  ""data"": {
    ""applicantId"": <guid>,
    ""questions"": [
      ""code"": """",
      ""text"": """",
      ""answers"": ["""",""""],
      ""completedDate"": {utc timestamp}, //always request timestamp
      ""section"": """",
      ""subSection"": """"
    ]
  }
}{noformat}

_URE active enquiry_

{code:json}{
  ...
  ""sections"": [
    {
      ...
      ""enquiryLines"": [
        {
          ...
          ""preamble"": ""{preamble text}"", // may be blank
          ...
          ""questions"":[
            {
              ...
              ""path"": """",
              ""answers"": [
                """", ...
              ],
              ""definition"": {
                ...
                ""text"": """",
                ...
              }
            },
            {...}
          ]
        },
        {...}
      ]
    },
    {...}
  ],
  ...
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwii4:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,27/Oct/21 11:36 AM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-21 10:10:53.885,"21/Jan/22 10:10 AM;6061ac5d00b79f0070aa4ad3;[~accountid:60cc71a22bd21400692fd2af] , with the subSection detail we currently have the preamble in every details section for that question. Is that the intention of this story? I didn’t quite follow.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Statement of Facts Document,NBJ-532,39735,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,27/Oct/21 2:07 PM,24/Nov/21 4:41 PM,02/Feb/22 6:31 PM,,,Foundation Release,,DocumentGeneration,Sprint_8,,"*As an* api consumer
*So that* I can provide a statement of facts to an applicant
*I want* to create a statement of facts document

*Implementation Notes*

{code:json}POST /api/v2/document/statementoffacts/{code}

{code:json}{
  ""applicationId"": <GRef>,
  ""underwritingNotes"": ""some notes"",
  ""applicant"": {
    <applicant>
    ""contactDetails"": {
      <contactInfo>
    }
  },
  ""underwriting"": {
    <activeEnquiry data response from underwriting service>
  }
}{code}

_Example Lissia Request_

{code:xml}<Company>
    <DATA>
        ...
        <NOTES>There isn't much difference, but here's some statement of fact notes added by an Underwriter.</NOTES>
        ...
    </DATA>
</Company>{code}



_Response_

{noformat}{
  ""documentId"": <guid>
}{noformat}

# There will be a single document per applicant
# Document will be generated using eLissia document service
# Base64 encoded document can be retrieved by GET /api/v1/document/\{documentId} already implemented
# The statement of facts message is identical to the applicationanswers service except that it has one additional node that will be a simple mapping from the request message.",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* any request for a statement of facts document
*When* formulating Lissia request
*Then* set all fields as per applicationanswers document
*And* set NOTES to underwritingNotes on request message

*Given* any request for a statement of facts document
*When* requested from Lissia
*Then* respond with a 201
*And* documentId",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-771,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00oke:r,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,27/Oct/21 11:36 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Application Answers Document - Include help text with question text,NBJ-530,39732,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,27/Oct/21 2:06 PM,21/Jan/22 10:14 AM,02/Feb/22 6:31 PM,,,Foundation Release,,DocumentGeneration,Sprint_7,,"*As an* api consumer
*So that* I can replay an underwriting interview to an applicant
*I want* to create an application answers document with help text appended to the question text

I want to generate a document that contains all the current question and answer details for an applicant.  This story will provide the question text appended with help text if specified.

_NB - this service will be consumed by both the Q&A document service and eventually the Statement Of Facts service_",,Andy Green,Jim Houghton,,,,,,6061ac5d00b79f0070aa4ad3,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* any request 

{code:json}GET /api/v1/underwriting/{applicantId}/currentQuestionsAndAnswers{code}

*When* Processing request
*Then* get current URE active enquiry as supplied by endpoint

{code:json}GET /api/v1/underwriting/{applicantId}?embed=true{code}



*Given* an active enquiry
*And* the activeEnquiry conatins a mixture of questions with and without help text
*When* iterating through each question (<ureQuestion>) within each enquiryLine within each section on the active enquiry
*Then* foreach ureQuestion with definition.helpText present, set the question.text on the response to a concatenation of the definition.text and definition.helpText with a linebreak between them
*But* foreach ureQuestion with definition.helpText not present, set the question.text on the response to the definition.text",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-770,,,,,,,,,,,,,,,,None,,"_Service Request_

{code:json}GET /api/v1/underwriting/{applicantId}/currentQuestionsAndAnswers{code}

_Service Response_

{code:json}http status: 200
{
  ""errors"": [],
  ""data"": {
    ""applicantId"": <guid>,
    ""questions"": [
      ""code"": """",
      ""text"": """",
      ""answers"": ["""",""""],
      ""completedDate"": {utc timestamp}, //always request timestamp
      ""section"": """",
      ""subSection"": """"
    ]
  }
}{code}

_URE active enquiry_

{code:json}{
  ...
  ""sections"": [
    {
      ""name"": ""{section name}"",
      ...
      ""enquiryLines"": [
        {
          ...
          ""questions"":[
            {
              ...
              ""definition"": {
                ...
                ""text"": """",
                ""helpText"": """",
                ...
              }
            },
            {...}
          ]
        },
        {...}
      ]
    },
    {...}
  ],
  ...
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwii4:i,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,27/Oct/21 11:36 AM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-16 16:44:59.503,16/Nov/21 4:44 PM;6061ac5d00b79f0070aa4ad3;The help text can include formatting - It’s worth noting this when it comes to stripping and build ordering.,"21/Jan/22 10:14 AM;6061ac5d00b79f0070aa4ad3;[~accountid:60cc71a22bd21400692fd2af], do we have a separate story for the multi-select question repeat of all available answers in the question. What should the order be?

Question text

Help text

Available options bulleted (Does this also include the “Please select all that apply” text?)

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Application Answers Document - format question text,NBJ-529,39731,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,27/Oct/21 2:05 PM,21/Jan/22 10:00 AM,02/Feb/22 6:31 PM,,,Foundation Release,,DocumentGeneration,Sprint_7,,"*As an* api consumer
*So that* I can replay an underwriting interview to an applicant
*I want* to create an api that provides current underwriting interview details

I want to generate a document that contains all the current question and answer details for an applicant. This story ensures the question text is suitably formatted.

_NB - this service will be consumed by both the Q&A document service and eventually the Statement Of Facts service_",,Andy Green,Jim Houghton,,,,,,6061ac5d00b79f0070aa4ad3,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,NBJ-530,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,27/Oct/21 2:05 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;G000131305_1-application-answers.pdf;https://gghltd.atlassian.net/secure/attachment/23166/G000131305_1-application-answers.pdf,,,,,,,,,,,,"*Given* any request for an application answers document
*When* creating the eLissia document request
*Then* reformat the section.enquiryLine.question.definition.text before setting Question on the Lissia as below:

before all html tags are removed:

* reformat <br></br> or <br/> (html line break) so that the following text is on a new line
* reformat <ul><li>…</li><li>…</li></ul> (html unordered list) so that each item in the list is on a new line indented with three spaces
* reformat <ol><li>…</li><li>…</li></ol> (html ordered list) so that each item in the list is on a new line and numbered starting e.g. 1 , 2 etc.

*Given* any request for an application answers document
*When* requested from Lissia
*Then* respond with a 201
*And* documentId",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-770,,,,,,,,,,,,,,,,None,,"_Service Request_

{code:json}GET /api/v1/underwriting/{applicantId}/currentQuestionsAndAnswers{code}

_Service Response_

{code:json}http status: 200{code}

{code:json}
{
  ""errors"": [],
  ""data"": {
    ""applicantId"": <guid>,
    ""questions"": [
      ""code"": """",
      ""text"": """",
      ""answers"": ["""",""""],
      ""completedDate"": {utc timestamp}, //always request timestamp
      ""section"": """",
      ""subSection"": """"
    ]
  }
}{code}

_URE active enquiry_

{code:json}{
  ...
  ""sections"": [
    {
      ...
      ""enquiryLines"": [
        {
          ...
          ""questions"":[
            {
              ...
              ""definition"": {
                ...
                ""text"": """",
                ...
              }
            },
            {...}
          ]
        },
        {...}
      ]
    },
    {...}
  ],
  ...
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwii5:y,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,27/Oct/21 11:36 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-21 10:00:43.771,21/Jan/22 10:00 AM;6061ac5d00b79f0070aa4ad3;[~accountid:60cc71a22bd21400692fd2af] For unordered lists can we start with space - space please “ - “,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Application Answers Document - Underwriting service providing Question Details,NBJ-528,39730,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,27/Oct/21 2:04 PM,21/Jan/22 10:06 AM,02/Feb/22 6:31 PM,,,Foundation Release,,DocumentGeneration,Sprint_7,,"*As an* api consumer
*So that* I can replay an underwriting interview to an applicant
*I want* to create an api that provides current underwriting interview details

I want to generate a document that contains all the current question and answer details for an applicant.  The first step is to provide an endpoint in the underwriting service that provides the basic question and answer details.  A number of stories will follow to enhance the detail this service provides.

_NB - this service will be consumed by both the Q&A document service and eventually the Statement Of Facts service_",,Andy Green,Jim Houghton,,,,,,6061ac5d00b79f0070aa4ad3,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,NBJ-533,NBJ-529,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* any request 

{code:json}GET /api/v1/underwriting/{applicantId}/currentQuestionsAndAnswers{code}

*When* Processing request
*Then* get current URE active enquiry as supplied by endpoint

{code:json}GET /api/v1/underwriting/{applicantId}?embed=true{code}



*Given* any request

{code:json}GET /api/v1/underwriting/{applicantId}/currentQuestionsAndAnswers{code}

*Then* map applicant id in body to response



*_Scenario_* _mapping_ _question details from the current active enquiry for an applicant to the response_

*Given* an active enquiry
*When* iterating through each question (<ureQuestion>) within each enquiryLine within each section on the active enquiry
*Then* foreach <question> on the service response set the value of the question property to the value of the ureQuestion property :

{code:json}| question.property            | ureQuestion.property           |
| code                         | path                           |
| text                         | definition.text                |
| answers                      | answers                        |{code}

*And* set <question>.completedDate to currentTimestamp
*And* set <question>.section to current enquiryLine.section",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-770,,,,,,,,,,,,,,,,None,,"_Service Request_

{code:json}GET /api/v1/underwriting/{applicantId}/currentQuestionsAndAnswers{code}

_Service Response_

{code:json}http status: 200{code}

{noformat}{
  ""errors"": [],
  ""data"": {
    ""applicantId"": <guid>,
    ""questions"": [
      ""code"": """",
      ""text"": """",
      ""answers"": ["""",""""],
      ""completedDate"": {utc timestamp}, //always request timestamp
      ""section"": """",
      ""subSection"": """"
    ]
  }
}{noformat}

_URE active enquiry_

{code:json}{
  ...
  ""sections"": [
    {
      ""name"": ""{section name}"",
      ...
      ""enquiryLines"": [
        {
          ""name"": """",
          ...
          ""section"": ""{section name}"",
          ...
          ""questions"":[
            {
              ...
              ""path"": """",
              ""answers"": [
                """", ...
              ],
              ""definition"": {
                ...
                ""text"": """",
                ...
              }
            },
            {...}
          ]
        },
        {...}
      ]
    },
    {...}
  ],
  ...
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwii2:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,27/Oct/21 11:36 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-21 10:04:24.899,"21/Jan/22 10:04 AM;6061ac5d00b79f0070aa4ad3;[~accountid:60cc71a22bd21400692fd2af], can we not put the completedDate as the current timestamp. I don’t want an audit in here with the incorrect info. We don’t have to pass in the completedDate to generate the doc. ","21/Jan/22 10:06 AM;6061ac5d00b79f0070aa4ad3;[~accountid:60cc71a22bd21400692fd2af], for answers to multi-select answers can we bullet these out as best as possible please. On separate lines with “ - “ at the start to resemble a bullet (unless you can think of a better way)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Application Answers Document - Contact Details,NBJ-527,39728,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,27/Oct/21 1:43 PM,21/Jan/22 9:59 AM,02/Feb/22 6:31 PM,,,Foundation Release,,DocumentGeneration,Sprint_7,,"*As an* api consumer
*So that* I can replay an underwriting interview to an applicant
*I want* to create an application answers document varying the contact details

*Implementation Notes*

{code:json}POST /api/v2/document/applicationanswers/{code}

{code:json}{
  ""applicationId"": <GRef>,
  ""applicant"": {
    <applicant>
    ""contactDetails"": {
      ""address1"": ""first line address"",
      ""address2"": ""second line address"",
      ""cityName"": ""name of town or city"",
      ""county"": ""name of county"",
      ""postcode"": ""HD3 3FB"",
      ...
    }
  },
  ""underwriting"": {
    <activeEnquiry data response from underwriting service>
  }
}{code}

_Example Lissia Request_

{noformat}<Company>
    <DATA>
        ...
        <PA_ADDRESS>Holly Cottage, Scot Lane, Bristol, BS40 8UW</PA_ADDRESS> -- concatenation of address fields
        ...
    </DATA>
</Company>{noformat}

[^G000131305_1-application-answers.pdf]

_Response_

{noformat}{
  ""documentId"": <guid>
}{noformat}

# There will be a single document per applicant
# Document will be generated using eLissia document service
# Base64 encoded document can be retrieved by GET /api/v1/document/\{documentId} already implemented
# Concatenate address1, address2, cityName, county, and postcode with a “, “ after each one that has content, except for postcode that will be at the end and always present",,Andy Green,Jim Houghton,,,,,,6061ac5d00b79f0070aa4ad3,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,27/Oct/21 1:43 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;G000131305_1-application-answers.pdf;https://gghltd.atlassian.net/secure/attachment/23164/G000131305_1-application-answers.pdf,,,,,,,,,,,,"*Given* any request for an application answers document
*When* formulating Lissia request
*Then* PA_ADDRESS set to a concatenate address1, address2, cityName, county, and postcode
*And* each field with content will get “, “ (comma followed by a space) added to the end except for postcode that will be last

*Given* any request for an application answers document
*When* requested from Lissia
*Then* respond with a 201
*And* documentId",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-770,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwii5:x,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,27/Oct/21 11:36 AM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-21 09:59:03.616,"21/Jan/22 9:59 AM;6061ac5d00b79f0070aa4ad3;[~accountid:60cc71a22bd21400692fd2af], I think we need to add Address Line 3 too now.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Application Answers Document - Applicant Details,NBJ-526,39725,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,27/Oct/21 12:07 PM,21/Jan/22 9:57 AM,02/Feb/22 6:31 PM,,,Foundation Release,,DocumentGeneration,Sprint_7,,"*As an* api consumer
*So that* I can replay an underwriting interview to an applicant
*I want* to create an application answers document varying the applicant details

*Implementation Notes*

{code:json}POST /api/v2/document/applicationanswers/{code}

{code:json}{
  ""applicationId"": <GRef>,
  ""applicant"": {
    ""id"": ""THE_ID_OF_THE_RECORD_IN_THE_DATABASE"",
    ""firstName"": ""Sam"",
    ""lastName"": ""Gamble"",
    ""dateOfBirth"": ""1978-10-30T00:00:00"",
    ""smokerStatus"": ""None in the last 5 years | None in last 12 months | I have used tobacco or replacement products in last 12 months"",
    ""gender"": ""Male"",
    ""height"": 1.78,
    ""weight"": 88,
    ""title"": ""Mr"" 
    ""contactDetails"": {
      <contactInfo>
    }
  },
  ""underwriting"": {
    <activeEnquiry data response from underwriting service>
  }
}{code}

_Example Lissia Request_

{noformat}<Company>
    <DATA>
        <INTERVIEW_ID>38438400</INTERVIEW_ID> -- applicantId
        <CURR_DATE>27/10/2021</CURR_DATE> -- current date
        <CURR_TIME>09:38</CURR_TIME> -- current time
        <QUOTE_REF>G000131305</QUOTE_REF> -- mapped from request
        <NB_INTERVIEW_ID>38436500</NB_INTERVIEW_ID> -- applicantId
        <APPLICANT>PA</APPLICANT> -- always PA?
        <FIRST_NAME>More</FIRST_NAME> -- applicant.firstName
        <LAST_NAME>Answers</LAST_NAME> -- applicant.lastName
        <PA_DOB>17/12/1985</PA_DOB> -- applicant.dateOfBirth
        <SA_DOB>17/12/1985</SA_DOB> -- applicant.dateOfBirth
        <PA_ADDRESS>Holly Cottage, Scot Lane, Bristol, BS40 8UW</PA_ADDRESS> -- hard code for now
        <SA_ADDRESS />
        <NBDetails>
            <Details>
                <LIFE_COVER>No</LIFE_COVER> -- hardcode for now, not used
                <CI_COVER>No</CI_COVER> -- hardcode for now, not used
                <GENDER>Male</GENDER> -- hardcode for now, applicant.gender
                <INCOME>90,000</INCOME>  -- hardcode for now, not used
                <MORTGAGE>No</MORTGAGE>
            </Details>
        </NBDetails>
        <InterviewDetails>
            <Details>
                <Code>HEIGHT_CM_VALUE</Code> -- hardcode for now, questionId
                <Question>What is your height without shoes?</Question> -- hardcode for now, reformatted question/options/help text
                <Answer>180cms</Answer> -- hardcode for now, answer(s)
                <PageCompletedDate>2021-10-27T09:36:40</PageCompletedDate> -- hardcode for now, not used
                <SectionName>Your Build</SectionName> -- hardcode for now, section and rawSection
                <SectionDescription1 /> -- hardcode for now, preamble
            </Details>
            <Details>
                <Code>WEIGHT_KG_VALUE</Code>
                <Question>What is your weight in normal indoor clothing?</Question>
                <Answer>80kgs</Answer>
                <PageCompletedDate>2021-10-27T09:36:40</PageCompletedDate>
                <SectionName>Your Build</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>WAIST_CM_VALUE</Code>
                <Question>Waist size</Question>
                <Answer>96cms</Answer>
                <PageCompletedDate>2021-10-27T09:36:40</PageCompletedDate>
                <SectionName>Your Build</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>HAB_Q1</Code>
                <Question>What best describes your use of tobacco or nicotine replacement products?
 (Tobacco products include cigarettes, cigars and pipes. Nicotine replacement products include patches, electronic cigarettes, chewing gum, lozenges, inhalers and sprays.)</Question>
                <Answer>None in the last 5 years</Answer>
                <PageCompletedDate>2021-10-27T09:36:43</PageCompletedDate>
                <SectionName>Your Lifestyle</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>HAB_Q7</Code>
                <Question>Pints of Beer, Lager or Cider </Question>
                <Answer>0</Answer>
                <PageCompletedDate>2021-10-27T09:36:48</PageCompletedDate>
                <SectionName>Your Lifestyle</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>HAB_Q8</Code>
                <Question>Wine (standard 175ml glass)</Question>
                <Answer>0</Answer>
                <PageCompletedDate>2021-10-27T09:36:48</PageCompletedDate>
                <SectionName>Your Lifestyle</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>HAB_Q9</Code>
                <Question>Wine (large 250 ml glass)</Question>
                <Answer>0</Answer>
                <PageCompletedDate>2021-10-27T09:36:48</PageCompletedDate>
                <SectionName>Your Lifestyle</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>HAB_Q10</Code>
                <Question>Single measures of spirits (25 ml pub measure)</Question>
                <Answer>0</Answer>
                <PageCompletedDate>2021-10-27T09:36:48</PageCompletedDate>
                <SectionName>Your Lifestyle</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>HAB_Q15</Code>
                <Question>Other than cannabis have you used recreational drugs for example cocaine, ecstasy, heroin and methadone or anabolic steroids that were not prescribed by a doctor?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:36:57</PageCompletedDate>
                <SectionName>Your Lifestyle</SectionName>
                <SectionDescription1>In the last 5 years have you:</SectionDescription1>
            </Details>
            <Details>
                <Code>HAB_Q14</Code>
                <Question>Have you ever received advice, treatment or counselling for the use of alcohol, drugs or non-prescribed medication or had a blood test as a result of your drinking?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:36:59</PageCompletedDate>
                <SectionName>Your Lifestyle</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>OCC_Q1</Code>
                <Question>What is your job?
 If your job is not in the list please type in 'unknown'.</Question>
                <Answer>Nurse </Answer>
                <PageCompletedDate>2021-10-27T09:37:02</PageCompletedDate>
                <SectionName>Your job</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>OCC_Q2</Code>
                <Question>Do you work less than 16 hours per week?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:02</PageCompletedDate>
                <SectionName>Your job</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>OCC_Q3</Code>
                <Question>Are you a member of the armed forces, territorial army or a reservist?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:04</PageCompletedDate>
                <SectionName>Your job</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>TRA_RES_Q1</Code>
                <Question>Have you lived in the UK for the last 2 years?</Question>
                <Answer>Yes</Answer>
                <PageCompletedDate>2021-10-27T09:37:08</PageCompletedDate>
                <SectionName>Your travel and residence</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>TRA_RES_Q7</Code>
                <Question>Have you been registered with a UK doctor for the last 2 years?</Question>
                <Answer>Yes</Answer>
                <PageCompletedDate>2021-10-27T09:37:08</PageCompletedDate>
                <SectionName>Your travel and residence</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>TRA_RES_Q6</Code>
                <Question>In the last 2 years have you visited, do you currently visit, or do you intend to visit any doctor outside of the UK for medical treatment, investigation or advice?</Question>
                <Answer>Yes</Answer>
                <PageCompletedDate>2021-10-27T09:37:08</PageCompletedDate>
                <SectionName>Your travel and residence</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>TRA_RES_Q2</Code>
                <Question>Have you lived in Africa, Thailand,  Russia, Ukraine or the Caribbean for more than 3 months during the last 5 years?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:08</PageCompletedDate>
                <SectionName>Your travel and residence</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>TRA_RES_Q4</Code>
                <Question>In the next 2 years are you planning to travel, live or work outside of the European Union (EU), Isle of Man, Channel Islands, North America, Australia or New Zealand? (You don't need to tell us about any holiday you are taking which is less than 30 days in a year.)</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:10</PageCompletedDate>
                <SectionName>Your travel and residence</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>LIFE_Q1</Code>
                <Question>Do you currently, or do you intend to, participate in any of the following activities? 
 Mountaineering
 Scuba or deep sea diving
 Long distance sailing
 Flying (other than as a fare-paying passenger)
 Motor sports
 Extreme sports (such as, but not limited to, bungee or base jumping, canyoning, caving/potholing, white water rafting)
 Professional or semi-professional sport (including, but not limited to, rugby league, rugby union, football)</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:13</PageCompletedDate>
                <SectionName>Your sports activities</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>FAM_HIS_Q1</Code>
                <Question>Heart attack, angina or stroke (you do not need to tell us about a family history of TIA)?</Question>
                <Answer>No/Don't Know</Answer>
                <PageCompletedDate>2021-10-27T09:37:18</PageCompletedDate>
                <SectionName>Your family history</SectionName>
                <SectionDescription1>Have any of your natural parents, brother(s), sister(s) before the age of 60 been diagnosed with or died from any of the following illnesses:</SectionDescription1>
            </Details>
            <Details>
                <Code>FAM_HIS_Q2</Code>
                <Question>Cancer of the bowel or colon?</Question>
                <Answer>No/Don't Know</Answer>
                <PageCompletedDate>2021-10-27T09:37:18</PageCompletedDate>
                <SectionName>Your family history</SectionName>
                <SectionDescription1>Have any of your natural parents, brother(s), sister(s) before the age of 60 been diagnosed with or died from any of the following illnesses:</SectionDescription1>
            </Details>
            <Details>
                <Code>FAM_HIS_Q4</Code>
                <Question>Diabetes?</Question>
                <Answer>No/Don't Know</Answer>
                <PageCompletedDate>2021-10-27T09:37:18</PageCompletedDate>
                <SectionName>Your family history</SectionName>
                <SectionDescription1>Have any of your natural parents, brother(s), sister(s) before the age of 60 been diagnosed with or died from any of the following illnesses:</SectionDescription1>
            </Details>
            <Details>
                <Code>FAM_HIS_Q5</Code>
                <Question>Multiple Sclerosis?</Question>
                <Answer>No/Don't Know</Answer>
                <PageCompletedDate>2021-10-27T09:37:18</PageCompletedDate>
                <SectionName>Your family history</SectionName>
                <SectionDescription1>Have any of your natural parents, brother(s), sister(s) before the age of 60 been diagnosed with or died from any of the following illnesses:</SectionDescription1>
            </Details>
            <Details>
                <Code>FAM_HIS_Q7</Code>
                <Question>Huntington's Disease?</Question>
                <Answer>No/Don't Know</Answer>
                <PageCompletedDate>2021-10-27T09:37:18</PageCompletedDate>
                <SectionName>Your family history</SectionName>
                <SectionDescription1>Have any of your natural parents, brother(s), sister(s) before the age of 60 been diagnosed with or died from any of the following illnesses:</SectionDescription1>
            </Details>
            <Details>
                <Code>FAM_HIS_Q6</Code>
                <Question>Any other disorder that runs in your family that: you have been tested for or are under surveillance for or for which you are receiving regular follow up?</Question>
                <Answer>No/Don't Know</Answer>
                <PageCompletedDate>2021-10-27T09:37:18</PageCompletedDate>
                <SectionName>Your family history</SectionName>
                <SectionDescription1>Have any of your natural parents, brother(s), sister(s) before the age of 60 been diagnosed with or died from any of the following illnesses:</SectionDescription1>
            </Details>
            <Details>
                <Code>Med_Info_1_Q1</Code>
                <Question>Cancer, Hodgkin's lymphoma, Non-Hodgkin's lymphoma or  leukaemia?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:20</PageCompletedDate>
                <SectionName>Your health</SectionName>
                <SectionDescription1>Have you ever had any of the following:</SectionDescription1>
            </Details>
            <Details>
                <Code>Med_Info_1_Q2</Code>
                <Question>Heart attack, heart disorder, angina, heart valve or structural abnormalities, or cardiomyopathy?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:23</PageCompletedDate>
                <SectionName>Your health</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>Med_Info_1_Q3</Code>
                <Question>Stroke or Transient Ischaemic Attack (TIA), brain injury, brain haemorrhage, any form of bleeding into your brain or any surgery to your brain?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:25</PageCompletedDate>
                <SectionName>Your health</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>Med_Info_1_Q4</Code>
                <Question>Diabetes or sugar in the urine?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:27</PageCompletedDate>
                <SectionName>Your health</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>Med_Info_1_Q5</Code>
                <Question>Any psychiatric or mental disorder (including eating disorder or suicide attempt) that has required an overnight stay in hospital or referral to a psychiatrist?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:30</PageCompletedDate>
                <SectionName>Your health</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>Med_Info_1_Q6</Code>
                <Question>A positive test for HIV or Hepatitis B or C or are you waiting for the results of such a test?
 A negative HIV test won’t by itself have any affect on your acceptance terms for insurance.</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:32</PageCompletedDate>
                <SectionName>Your health</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>Med_Info_2_Q1</Code>
                <Question>Raised blood pressure or cholesterol, chest pain, or irregular heart beat?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:34</PageCompletedDate>
                <SectionName>Your health – in the last 5 years</SectionName>
                <SectionDescription1>Apart from what you have already told us, in the last 5 years  have you had any of the following:</SectionDescription1>
            </Details>
            <Details>
                <Code>Med_Info_2_Q2</Code>
                <Question>Epilepsy, multiple sclerosis, muscular dystrophy, cerebral palsy, Parkinson's disease, Alzheimer's disease or dementia?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:37</PageCompletedDate>
                <SectionName>Your health – in the last 5 years</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>Med_Info_2_Q3</Code>
                <Question>Abnormality or disease of the kidneys, bladder, liver or pancreas?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:39</PageCompletedDate>
                <SectionName>Your health – in the last 5 years</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>Med_Info_2_Q4</Code>
                <Question>Anaemia, haemophilia, or other blood disorder?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:41</PageCompletedDate>
                <SectionName>Your health – in the last 5 years</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>Med_Info_2_Q5</Code>
                <Question>Paralysis, seizures, loss of balance, loss of feeling, numbness, persistent tingling or pins and needles serious enough to have been reported to your doctor? </Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:44</PageCompletedDate>
                <SectionName>Your health – in the last 5 years</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>Med_Info_2_Q6</Code>
                <Question>Ulcerative Colitis, Crohn's disease, bleeding from the bowel or any other disorder of the bowel, stomach or oesophagus that has lasted for more than 5 days or has resulted in any hospital investigation? </Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:46</PageCompletedDate>
                <SectionName>Your health – in the last 5 years</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>Med_Info_2_Q7</Code>
                <Question>Any condition affecting your ears or hearing, including deafness whether or not corrected by hearing aids (you don’t need to tell us about earache and ear infections from which you have made a full recovery with no permanent hearing loss)?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:48</PageCompletedDate>
                <SectionName>Your health – in the last 5 years</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>Med_Info_2_Q8</Code>
                <Question>Any condition affecting your eyes or vision not wholly corrected by spectacles, lenses or laser treatment, including blurred or double vision, blindness, cataracts?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:50</PageCompletedDate>
                <SectionName>Your health – in the last 5 years</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>Med_Info_3_Q1</Code>
                <Question>Asthma, bronchitis or other respiratory disorder?
 (You need not disclose common cold, catarrh, rhinitis, or sinus disorders.)</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:53</PageCompletedDate>
                <SectionName>Your health – in the last 3 years</SectionName>
                <SectionDescription1>Apart from what you have already told us, in the last  3 years have you had any of the following:</SectionDescription1>
            </Details>
            <Details>
                <Code>Med_Info_3_Q2</Code>
                <Question>Anxiety, stress, depression, insomnia, chronic fatigue or eating disorders or any mental health problem that has led you to consult a health professional (for example nurse, doctor, psychologist) or prevented you from working or carrying out your normal daily activities for more than 5 continuous days? </Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:55</PageCompletedDate>
                <SectionName>Your health – in the last 3 years</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>Med_Info_3_Q3</Code>
                <Question>Any lump, cyst, growth of any kind (including skin growth)?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:57</PageCompletedDate>
                <SectionName>Your health – in the last 3 years</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>Med_Info_3_Q5</Code>
                <Question>Had back, neck, joint or muscular condition requiring you to take any type of medication or to consult a health professional (for example nurse, doctor, physiotherapist, chiropractor)?
 This includes sciatica, slipped disc, muscular back pain or whiplash and/or any conditions or pain affecting your hips, shoulders, knees, ankles, wrists.</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:59</PageCompletedDate>
                <SectionName>Your health – in the last 3 years</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>Med_Info_3_Q7</Code>
                <Question>Taken (or are you currently taking) any form of medication or treatment lasting more than 1 month or attended hospital or clinic for tests or investigations?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:38:01</PageCompletedDate>
                <SectionName>Your health – in the last 3 years</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>Med_Info_4_Q1</Code>
                <Question>Any lump or swelling, firmness or hardening, or a mole that's changed in appearance or required monitoring?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:38:05</PageCompletedDate>
                <SectionName>Your health – in the last 3 months</SectionName>
                <SectionDescription1>In the last 3 months have you noticed or become aware of :</SectionDescription1>
            </Details>
            <Details>
                <Code>Med_Info_4_Q2</Code>
                <Question>Any other breast, testicular  or skin changes?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:38:05</PageCompletedDate>
                <SectionName>Your health – in the last 3 months</SectionName>
                <SectionDescription1>In the last 3 months have you noticed or become aware of :</SectionDescription1>
            </Details>
            <Details>
                <Code>Med_Info_4_Q3</Code>
                <Question>Any unexplained bleeding  or weight loss?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:38:05</PageCompletedDate>
                <SectionName>Your health – in the last 3 months</SectionName>
                <SectionDescription1>In the last 3 months have you noticed or become aware of :</SectionDescription1>
            </Details>
            <Details>
                <Code>Med_Info_4_Q4</Code>
                <Question>A cough that has lasted for  more than 3 weeks? </Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:38:05</PageCompletedDate>
                <SectionName>Your health – in the last 3 months</SectionName>
                <SectionDescription1>In the last 3 months have you noticed or become aware of :</SectionDescription1>
            </Details>
            <Details>
                <Code>Med_Info_4a_Q1</Code>
                <Question>Tested positive for Coronavirus illness (Covid-19)?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:38:09</PageCompletedDate>
                <SectionName>Your Health – in the last month</SectionName>
                <SectionDescription1>In the last month have you:</SectionDescription1>
            </Details>
            <Details>
                <Code>Med_Info_4a_Q2</Code>
                <Question>Been personally advised to self-isolate by a medical professional or the NHS 111 but have not been diagnosed with Coronavirus illness (Covid-19)? (If you’re working from home or following general advice to practice social distancing, you should not consider yourself as self-isolating)</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:38:09</PageCompletedDate>
                <SectionName>Your Health – in the last month</SectionName>
                <SectionDescription1>In the last month have you:</SectionDescription1>
            </Details>
            <Details>
                <Code>Med_Info_4a_Q3</Code>
                <Question>Had, or do you currently have a new, continuous cough and/or high temperature?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:38:09</PageCompletedDate>
                <SectionName>Your Health – in the last month</SectionName>
                <SectionDescription1>In the last month have you:</SectionDescription1>
            </Details>
            <Details>
                <Code>Med_Info_4a_Q4</Code>
                <Question>Had direct contact with someone who’s been confirmed or suspected to have Coronavirus illness (Covid-19)?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:38:09</PageCompletedDate>
                <SectionName>Your Health – in the last month</SectionName>
                <SectionDescription1>In the last month have you:</SectionDescription1>
            </Details>
            <Details>
                <Code>Med_Info_5_Q1</Code>
                <Question>Intending to seek any medical advice or under regular follow-up? </Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:38:12</PageCompletedDate>
                <SectionName>Your health – at the moment</SectionName>
                <SectionDescription1>Apart from any medical conditions you’ve already told us about, are you currently:</SectionDescription1>
            </Details>
            <Details>
                <Code>Med_Info_5_Q3</Code>
                <Question>Waiting for any form of treatment to start? </Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:38:15</PageCompletedDate>
                <SectionName>Your health – at the moment</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>Med_Info_5_Q4</Code>
                <Question>Experiencing any new symptoms for which you are planning to see a medical professional or your GP?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:38:15</PageCompletedDate>
                <SectionName>Your health – at the moment</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>Med_Info_5_Q2</Code>
                <Question>Currently undergoing or awaiting medical investigations or tests? </Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:38:15</PageCompletedDate>
                <SectionName>Your health – at the moment</SectionName>
                <SectionDescription1 />
            </Details>
        </InterviewDetails>
        <SUBJECT>test</SUBJECT>
    </DATA>
</Company>{noformat}

[^G000131305_1-application-answers.pdf]

_Response_

{noformat}{
  ""documentId"": <guid>
}{noformat}

# There will be a single document per applicant
# Document will be generated using eLissia document service
# Base64 encoded document can be retrieved by GET /api/v1/document/\{documentId} already implemented
# Details section will be repeated per question in underwriting section of request",,Andy Green,Jim Houghton,,,,,,6061ac5d00b79f0070aa4ad3,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,NBJ-527,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,27/Oct/21 12:07 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;G000131305_1-application-answers.pdf;https://gghltd.atlassian.net/secure/attachment/23161/G000131305_1-application-answers.pdf,,,,,,,,,,,,"*Given* any request for an application answers document
*When* formulating Lissia request
*Then* CURR_DATE set to current date (actual date taking into consideration British summer time etc.)
*And* CURR_TIME (actual time taking into consideration British summer time etc.)
*And* QUOTE_REF set to applicationId
*And* FIRST_NAME set to applicant.firstName
*And*  LAST_NAME set to applicant.lastName 
*And* PA_DOB set to applicant.dateOfBirth 
*And* SA_DOB set to applicant.dateOfBirth
*And* NBDetails.Details.GENDER set to applicant.gender

*Given* any request for an application answers document
*When* requested from Lissia
*Then* respond with a 201
*And* documentId",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-770,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwii5:v,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,27/Oct/21 11:36 AM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-16 16:36:58.05,"16/Nov/21 4:36 PM;6061ac5d00b79f0070aa4ad3;The following fields must be empty and not set to no, otherwise, the document will display incorrectly:

{noformat}<LIFE_COVER /> -- hardcode for now, not used
<CI_COVER /> -- hardcode for now, not used{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Application Answers Document - Initial Request,NBJ-525,39722,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,27/Oct/21 11:36 AM,07/Dec/21 1:08 PM,02/Feb/22 6:31 PM,,,Foundation Release,,DocumentGeneration,Sprint_7,,"*As an* api consumer
*So that* I can replay an underwriting interview to an applicant
*I want* to create an application answers document

*Implementation Notes*

{code:json}POST /api/v1/document/applicationAnswers/{code}

{code:json}{
  ""applicationId"": <GRef>,
  ""applicant"": {
    <applicant>
    ""contactDetails"": {
      <contactInfo>
    }
  },
  ""underwriting"": {
    <activeEnquiry data response from underwriting service>
  }
}{code}

_Example Lissia Request_


{noformat}<Company>
    <DATA>
        <INTERVIEW_ID>38438400</INTERVIEW_ID> -- use applicantId?
        <CURR_DATE>27/10/2021</CURR_DATE>
        <CURR_TIME>09:38</CURR_TIME>
        <QUOTE_REF>G000131305</QUOTE_REF> -- hardcode for now, mapped from request
        <NB_INTERVIEW_ID>38436500</NB_INTERVIEW_ID> -- use applicantId - not used
        <APPLICANT>PA</APPLICANT> -- not used, always PA?
        <FIRST_NAME>More</FIRST_NAME> -- hardcode for now, applicant.firstName
        <LAST_NAME>Answers</LAST_NAME> -- hardcode for now, applicant.lastName
        <PA_DOB>17/12/1985</PA_DOB> -- hardcode for now, applicant.birthDate
        <SA_DOB>17/12/1985</SA_DOB> -- hardcode for now, applicant.birthDate
        <PA_ADDRESS>Holly Cottage, Scot Lane, Bristol, BS40 8UW</PA_ADDRESS> -- 
        <SA_ADDRESS />
        <NBDetails>
            <Details>
                <LIFE_COVER>No</LIFE_COVER> -- hardcode for now, not used
                <CI_COVER>No</CI_COVER> -- hardcode for now, not used
                <GENDER>Male</GENDER> -- hardcode for now, applicant.gender
                <INCOME>90,000</INCOME>  -- hardcode for now, not used
                <MORTGAGE>No</MORTGAGE>
            </Details>
        </NBDetails>
        <InterviewDetails>
            <Details>
                <Code>HEIGHT_CM_VALUE</Code> -- hardcode for now, questionId
                <Question>What is your height without shoes?</Question> -- hardcode for now, reformatted question/options/help text
                <Answer>180cms</Answer> -- hardcode for now, answer(s)
                <PageCompletedDate>2021-10-27T09:36:40</PageCompletedDate> -- hardcode for now, not used
                <SectionName>Your Build</SectionName> -- hardcode for now, section and rawSection
                <SectionDescription1 /> -- hardcode for now, preamble
            </Details>
            <Details>
                <Code>WEIGHT_KG_VALUE</Code>
                <Question>What is your weight in normal indoor clothing?</Question>
                <Answer>80kgs</Answer>
                <PageCompletedDate>2021-10-27T09:36:40</PageCompletedDate>
                <SectionName>Your Build</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>WAIST_CM_VALUE</Code>
                <Question>Waist size</Question>
                <Answer>96cms</Answer>
                <PageCompletedDate>2021-10-27T09:36:40</PageCompletedDate>
                <SectionName>Your Build</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>HAB_Q1</Code>
                <Question>What best describes your use of tobacco or nicotine replacement products?
 (Tobacco products include cigarettes, cigars and pipes. Nicotine replacement products include patches, electronic cigarettes, chewing gum, lozenges, inhalers and sprays.)</Question>
                <Answer>None in the last 5 years</Answer>
                <PageCompletedDate>2021-10-27T09:36:43</PageCompletedDate>
                <SectionName>Your Lifestyle</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>HAB_Q7</Code>
                <Question>Pints of Beer, Lager or Cider </Question>
                <Answer>0</Answer>
                <PageCompletedDate>2021-10-27T09:36:48</PageCompletedDate>
                <SectionName>Your Lifestyle</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>HAB_Q8</Code>
                <Question>Wine (standard 175ml glass)</Question>
                <Answer>0</Answer>
                <PageCompletedDate>2021-10-27T09:36:48</PageCompletedDate>
                <SectionName>Your Lifestyle</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>HAB_Q9</Code>
                <Question>Wine (large 250 ml glass)</Question>
                <Answer>0</Answer>
                <PageCompletedDate>2021-10-27T09:36:48</PageCompletedDate>
                <SectionName>Your Lifestyle</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>HAB_Q10</Code>
                <Question>Single measures of spirits (25 ml pub measure)</Question>
                <Answer>0</Answer>
                <PageCompletedDate>2021-10-27T09:36:48</PageCompletedDate>
                <SectionName>Your Lifestyle</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>HAB_Q15</Code>
                <Question>Other than cannabis have you used recreational drugs for example cocaine, ecstasy, heroin and methadone or anabolic steroids that were not prescribed by a doctor?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:36:57</PageCompletedDate>
                <SectionName>Your Lifestyle</SectionName>
                <SectionDescription1>In the last 5 years have you:</SectionDescription1>
            </Details>
            <Details>
                <Code>HAB_Q14</Code>
                <Question>Have you ever received advice, treatment or counselling for the use of alcohol, drugs or non-prescribed medication or had a blood test as a result of your drinking?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:36:59</PageCompletedDate>
                <SectionName>Your Lifestyle</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>OCC_Q1</Code>
                <Question>What is your job?
 If your job is not in the list please type in 'unknown'.</Question>
                <Answer>Nurse </Answer>
                <PageCompletedDate>2021-10-27T09:37:02</PageCompletedDate>
                <SectionName>Your job</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>OCC_Q2</Code>
                <Question>Do you work less than 16 hours per week?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:02</PageCompletedDate>
                <SectionName>Your job</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>OCC_Q3</Code>
                <Question>Are you a member of the armed forces, territorial army or a reservist?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:04</PageCompletedDate>
                <SectionName>Your job</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>TRA_RES_Q1</Code>
                <Question>Have you lived in the UK for the last 2 years?</Question>
                <Answer>Yes</Answer>
                <PageCompletedDate>2021-10-27T09:37:08</PageCompletedDate>
                <SectionName>Your travel and residence</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>TRA_RES_Q7</Code>
                <Question>Have you been registered with a UK doctor for the last 2 years?</Question>
                <Answer>Yes</Answer>
                <PageCompletedDate>2021-10-27T09:37:08</PageCompletedDate>
                <SectionName>Your travel and residence</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>TRA_RES_Q6</Code>
                <Question>In the last 2 years have you visited, do you currently visit, or do you intend to visit any doctor outside of the UK for medical treatment, investigation or advice?</Question>
                <Answer>Yes</Answer>
                <PageCompletedDate>2021-10-27T09:37:08</PageCompletedDate>
                <SectionName>Your travel and residence</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>TRA_RES_Q2</Code>
                <Question>Have you lived in Africa, Thailand,  Russia, Ukraine or the Caribbean for more than 3 months during the last 5 years?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:08</PageCompletedDate>
                <SectionName>Your travel and residence</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>TRA_RES_Q4</Code>
                <Question>In the next 2 years are you planning to travel, live or work outside of the European Union (EU), Isle of Man, Channel Islands, North America, Australia or New Zealand? (You don't need to tell us about any holiday you are taking which is less than 30 days in a year.)</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:10</PageCompletedDate>
                <SectionName>Your travel and residence</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>LIFE_Q1</Code>
                <Question>Do you currently, or do you intend to, participate in any of the following activities? 
 Mountaineering
 Scuba or deep sea diving
 Long distance sailing
 Flying (other than as a fare-paying passenger)
 Motor sports
 Extreme sports (such as, but not limited to, bungee or base jumping, canyoning, caving/potholing, white water rafting)
 Professional or semi-professional sport (including, but not limited to, rugby league, rugby union, football)</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:13</PageCompletedDate>
                <SectionName>Your sports activities</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>FAM_HIS_Q1</Code>
                <Question>Heart attack, angina or stroke (you do not need to tell us about a family history of TIA)?</Question>
                <Answer>No/Don't Know</Answer>
                <PageCompletedDate>2021-10-27T09:37:18</PageCompletedDate>
                <SectionName>Your family history</SectionName>
                <SectionDescription1>Have any of your natural parents, brother(s), sister(s) before the age of 60 been diagnosed with or died from any of the following illnesses:</SectionDescription1>
            </Details>
            <Details>
                <Code>FAM_HIS_Q2</Code>
                <Question>Cancer of the bowel or colon?</Question>
                <Answer>No/Don't Know</Answer>
                <PageCompletedDate>2021-10-27T09:37:18</PageCompletedDate>
                <SectionName>Your family history</SectionName>
                <SectionDescription1>Have any of your natural parents, brother(s), sister(s) before the age of 60 been diagnosed with or died from any of the following illnesses:</SectionDescription1>
            </Details>
            <Details>
                <Code>FAM_HIS_Q4</Code>
                <Question>Diabetes?</Question>
                <Answer>No/Don't Know</Answer>
                <PageCompletedDate>2021-10-27T09:37:18</PageCompletedDate>
                <SectionName>Your family history</SectionName>
                <SectionDescription1>Have any of your natural parents, brother(s), sister(s) before the age of 60 been diagnosed with or died from any of the following illnesses:</SectionDescription1>
            </Details>
            <Details>
                <Code>FAM_HIS_Q5</Code>
                <Question>Multiple Sclerosis?</Question>
                <Answer>No/Don't Know</Answer>
                <PageCompletedDate>2021-10-27T09:37:18</PageCompletedDate>
                <SectionName>Your family history</SectionName>
                <SectionDescription1>Have any of your natural parents, brother(s), sister(s) before the age of 60 been diagnosed with or died from any of the following illnesses:</SectionDescription1>
            </Details>
            <Details>
                <Code>FAM_HIS_Q7</Code>
                <Question>Huntington's Disease?</Question>
                <Answer>No/Don't Know</Answer>
                <PageCompletedDate>2021-10-27T09:37:18</PageCompletedDate>
                <SectionName>Your family history</SectionName>
                <SectionDescription1>Have any of your natural parents, brother(s), sister(s) before the age of 60 been diagnosed with or died from any of the following illnesses:</SectionDescription1>
            </Details>
            <Details>
                <Code>FAM_HIS_Q6</Code>
                <Question>Any other disorder that runs in your family that: you have been tested for or are under surveillance for or for which you are receiving regular follow up?</Question>
                <Answer>No/Don't Know</Answer>
                <PageCompletedDate>2021-10-27T09:37:18</PageCompletedDate>
                <SectionName>Your family history</SectionName>
                <SectionDescription1>Have any of your natural parents, brother(s), sister(s) before the age of 60 been diagnosed with or died from any of the following illnesses:</SectionDescription1>
            </Details>
            <Details>
                <Code>Med_Info_1_Q1</Code>
                <Question>Cancer, Hodgkin's lymphoma, Non-Hodgkin's lymphoma or  leukaemia?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:20</PageCompletedDate>
                <SectionName>Your health</SectionName>
                <SectionDescription1>Have you ever had any of the following:</SectionDescription1>
            </Details>
            <Details>
                <Code>Med_Info_1_Q2</Code>
                <Question>Heart attack, heart disorder, angina, heart valve or structural abnormalities, or cardiomyopathy?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:23</PageCompletedDate>
                <SectionName>Your health</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>Med_Info_1_Q3</Code>
                <Question>Stroke or Transient Ischaemic Attack (TIA), brain injury, brain haemorrhage, any form of bleeding into your brain or any surgery to your brain?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:25</PageCompletedDate>
                <SectionName>Your health</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>Med_Info_1_Q4</Code>
                <Question>Diabetes or sugar in the urine?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:27</PageCompletedDate>
                <SectionName>Your health</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>Med_Info_1_Q5</Code>
                <Question>Any psychiatric or mental disorder (including eating disorder or suicide attempt) that has required an overnight stay in hospital or referral to a psychiatrist?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:30</PageCompletedDate>
                <SectionName>Your health</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>Med_Info_1_Q6</Code>
                <Question>A positive test for HIV or Hepatitis B or C or are you waiting for the results of such a test?
 A negative HIV test won’t by itself have any affect on your acceptance terms for insurance.</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:32</PageCompletedDate>
                <SectionName>Your health</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>Med_Info_2_Q1</Code>
                <Question>Raised blood pressure or cholesterol, chest pain, or irregular heart beat?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:34</PageCompletedDate>
                <SectionName>Your health – in the last 5 years</SectionName>
                <SectionDescription1>Apart from what you have already told us, in the last 5 years  have you had any of the following:</SectionDescription1>
            </Details>
            <Details>
                <Code>Med_Info_2_Q2</Code>
                <Question>Epilepsy, multiple sclerosis, muscular dystrophy, cerebral palsy, Parkinson's disease, Alzheimer's disease or dementia?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:37</PageCompletedDate>
                <SectionName>Your health – in the last 5 years</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>Med_Info_2_Q3</Code>
                <Question>Abnormality or disease of the kidneys, bladder, liver or pancreas?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:39</PageCompletedDate>
                <SectionName>Your health – in the last 5 years</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>Med_Info_2_Q4</Code>
                <Question>Anaemia, haemophilia, or other blood disorder?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:41</PageCompletedDate>
                <SectionName>Your health – in the last 5 years</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>Med_Info_2_Q5</Code>
                <Question>Paralysis, seizures, loss of balance, loss of feeling, numbness, persistent tingling or pins and needles serious enough to have been reported to your doctor? </Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:44</PageCompletedDate>
                <SectionName>Your health – in the last 5 years</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>Med_Info_2_Q6</Code>
                <Question>Ulcerative Colitis, Crohn's disease, bleeding from the bowel or any other disorder of the bowel, stomach or oesophagus that has lasted for more than 5 days or has resulted in any hospital investigation? </Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:46</PageCompletedDate>
                <SectionName>Your health – in the last 5 years</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>Med_Info_2_Q7</Code>
                <Question>Any condition affecting your ears or hearing, including deafness whether or not corrected by hearing aids (you don’t need to tell us about earache and ear infections from which you have made a full recovery with no permanent hearing loss)?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:48</PageCompletedDate>
                <SectionName>Your health – in the last 5 years</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>Med_Info_2_Q8</Code>
                <Question>Any condition affecting your eyes or vision not wholly corrected by spectacles, lenses or laser treatment, including blurred or double vision, blindness, cataracts?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:50</PageCompletedDate>
                <SectionName>Your health – in the last 5 years</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>Med_Info_3_Q1</Code>
                <Question>Asthma, bronchitis or other respiratory disorder?
 (You need not disclose common cold, catarrh, rhinitis, or sinus disorders.)</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:53</PageCompletedDate>
                <SectionName>Your health – in the last 3 years</SectionName>
                <SectionDescription1>Apart from what you have already told us, in the last  3 years have you had any of the following:</SectionDescription1>
            </Details>
            <Details>
                <Code>Med_Info_3_Q2</Code>
                <Question>Anxiety, stress, depression, insomnia, chronic fatigue or eating disorders or any mental health problem that has led you to consult a health professional (for example nurse, doctor, psychologist) or prevented you from working or carrying out your normal daily activities for more than 5 continuous days? </Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:55</PageCompletedDate>
                <SectionName>Your health – in the last 3 years</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>Med_Info_3_Q3</Code>
                <Question>Any lump, cyst, growth of any kind (including skin growth)?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:57</PageCompletedDate>
                <SectionName>Your health – in the last 3 years</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>Med_Info_3_Q5</Code>
                <Question>Had back, neck, joint or muscular condition requiring you to take any type of medication or to consult a health professional (for example nurse, doctor, physiotherapist, chiropractor)?
 This includes sciatica, slipped disc, muscular back pain or whiplash and/or any conditions or pain affecting your hips, shoulders, knees, ankles, wrists.</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:37:59</PageCompletedDate>
                <SectionName>Your health – in the last 3 years</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>Med_Info_3_Q7</Code>
                <Question>Taken (or are you currently taking) any form of medication or treatment lasting more than 1 month or attended hospital or clinic for tests or investigations?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:38:01</PageCompletedDate>
                <SectionName>Your health – in the last 3 years</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>Med_Info_4_Q1</Code>
                <Question>Any lump or swelling, firmness or hardening, or a mole that's changed in appearance or required monitoring?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:38:05</PageCompletedDate>
                <SectionName>Your health – in the last 3 months</SectionName>
                <SectionDescription1>In the last 3 months have you noticed or become aware of :</SectionDescription1>
            </Details>
            <Details>
                <Code>Med_Info_4_Q2</Code>
                <Question>Any other breast, testicular  or skin changes?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:38:05</PageCompletedDate>
                <SectionName>Your health – in the last 3 months</SectionName>
                <SectionDescription1>In the last 3 months have you noticed or become aware of :</SectionDescription1>
            </Details>
            <Details>
                <Code>Med_Info_4_Q3</Code>
                <Question>Any unexplained bleeding  or weight loss?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:38:05</PageCompletedDate>
                <SectionName>Your health – in the last 3 months</SectionName>
                <SectionDescription1>In the last 3 months have you noticed or become aware of :</SectionDescription1>
            </Details>
            <Details>
                <Code>Med_Info_4_Q4</Code>
                <Question>A cough that has lasted for  more than 3 weeks? </Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:38:05</PageCompletedDate>
                <SectionName>Your health – in the last 3 months</SectionName>
                <SectionDescription1>In the last 3 months have you noticed or become aware of :</SectionDescription1>
            </Details>
            <Details>
                <Code>Med_Info_4a_Q1</Code>
                <Question>Tested positive for Coronavirus illness (Covid-19)?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:38:09</PageCompletedDate>
                <SectionName>Your Health – in the last month</SectionName>
                <SectionDescription1>In the last month have you:</SectionDescription1>
            </Details>
            <Details>
                <Code>Med_Info_4a_Q2</Code>
                <Question>Been personally advised to self-isolate by a medical professional or the NHS 111 but have not been diagnosed with Coronavirus illness (Covid-19)? (If you’re working from home or following general advice to practice social distancing, you should not consider yourself as self-isolating)</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:38:09</PageCompletedDate>
                <SectionName>Your Health – in the last month</SectionName>
                <SectionDescription1>In the last month have you:</SectionDescription1>
            </Details>
            <Details>
                <Code>Med_Info_4a_Q3</Code>
                <Question>Had, or do you currently have a new, continuous cough and/or high temperature?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:38:09</PageCompletedDate>
                <SectionName>Your Health – in the last month</SectionName>
                <SectionDescription1>In the last month have you:</SectionDescription1>
            </Details>
            <Details>
                <Code>Med_Info_4a_Q4</Code>
                <Question>Had direct contact with someone who’s been confirmed or suspected to have Coronavirus illness (Covid-19)?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:38:09</PageCompletedDate>
                <SectionName>Your Health – in the last month</SectionName>
                <SectionDescription1>In the last month have you:</SectionDescription1>
            </Details>
            <Details>
                <Code>Med_Info_5_Q1</Code>
                <Question>Intending to seek any medical advice or under regular follow-up? </Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:38:12</PageCompletedDate>
                <SectionName>Your health – at the moment</SectionName>
                <SectionDescription1>Apart from any medical conditions you’ve already told us about, are you currently:</SectionDescription1>
            </Details>
            <Details>
                <Code>Med_Info_5_Q3</Code>
                <Question>Waiting for any form of treatment to start? </Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:38:15</PageCompletedDate>
                <SectionName>Your health – at the moment</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>Med_Info_5_Q4</Code>
                <Question>Experiencing any new symptoms for which you are planning to see a medical professional or your GP?</Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:38:15</PageCompletedDate>
                <SectionName>Your health – at the moment</SectionName>
                <SectionDescription1 />
            </Details>
            <Details>
                <Code>Med_Info_5_Q2</Code>
                <Question>Currently undergoing or awaiting medical investigations or tests? </Question>
                <Answer>No</Answer>
                <PageCompletedDate>2021-10-27T09:38:15</PageCompletedDate>
                <SectionName>Your health – at the moment</SectionName>
                <SectionDescription1 />
            </Details>
        </InterviewDetails>
        <SUBJECT>test</SUBJECT>
    </DATA>
</Company>{noformat}

[^G000131305_1-application-answers.pdf]

_Response_

{noformat}{
  ""documentId"": <guid>
}{noformat}

# There will be a single document per applicant
# Base64 encoded document can be retrieved by GET /api/v1/document/\{documentId} already implemented
# Details section will be repeated per question in underwriting section of request",,Andy Green,Jim Houghton,,,,,,6061ac5d00b79f0070aa4ad3,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,NBJ-526,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,27/Oct/21 12:04 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;G000131305_1-application-answers.pdf;https://gghltd.atlassian.net/secure/attachment/23160/G000131305_1-application-answers.pdf,,,,,,,,,,,,"*Given* any request for an application answers document
*When* requesting from Lissia use hard coded example request
*Then* respond with a 201
*And* documentId",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-770,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwii5:r,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,27/Oct/21 11:36 AM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-16 16:33:30.431,"16/Nov/21 4:33 PM;6061ac5d00b79f0070aa4ad3;[~accountid:60cc71a22bd21400692fd2af] , we can remove the following from the request as these are not used nor needed to generate the document:

* {{INTERVIEW_ID}}
* {{NB_INTERVIEW_ID}}
* {{SA_DOB}}
* {{SA_ADDRESS}}
* {{SUBJECT}}

And within the interview details we do not need the following elements:

* {{Code}}
* {{PageCompletedDate}}

Can update all of the further stories in the same way too.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Create empty applicant,NBJ-523,39718,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Highest,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,27/Oct/21 10:17 AM,11/Nov/21 9:31 AM,02/Feb/22 6:31 PM,02/Nov/21 11:29 AM,,Foundation Release,,,,,"*As* an API user
*I want* to create an applicant with no data
*So that* I can get an underwriting session when I need one

h4. Implementation Notes
- We can already add applicants but we made some data mandatory
- We now need to be able to create an applicant with no data, so we get the applicantId back",,Chris.Hibbert,Nathan Punzalan,,,,,,60cc71a1d5dde800713a2124,613f22fdff23ba00715469d1,,,,,,,,,,,,,Hidden from EXL,NBJ-497,NBJ-498,NBJ-280,NBJ-501,,,,,,,,,,,,NBJ-264,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given*: A request to add an applicant to an application
*When*: The request has no applicant data
*Then*: The applicant is created and an applicantId is returned",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwil2:qm,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,,,,,,27/Oct/21 10:17 AM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-02 11:31:56.665,02/Nov/21 11:31 AM;613f22fdff23ba00715469d1;Works as expected. Have also checked validation is still working when a few applicant details have already been filled in.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Zero premium quote response - trap as error,NBJ-522,39717,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,27/Oct/21 9:54 AM,02/Dec/21 6:28 PM,02/Feb/22 6:31 PM,02/Dec/21 6:27 PM,,Foundation Release,,Sprint_5,,,"*As an* API Consumer
*So that* I cannot buy insurance that costs nothing
*I want* zero premium responses from Lissia to throw an error",,Chris.Hibbert,James Bartlett,Jason Hughes,Jim Houghton,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,613f60991370f00069033c68,60cc71a22bd21400692fd2af,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-894,,,,,,,,,,02/Dec/21 6:27 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/24017/LivingDoc.html,,,,,,,,,,,,"*Given* a request to the QuoteService to generate a quote
*When* Lissia responses with a zero premium
*Then* respond with an HTTP 422


*Given* a request to TriggerQuote on the ActionService
*When* the QuoteService returns an HTTP 400
*Then* respond with an HTTP 422",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-118,,,,,,,,,,,,,,,,None,,"In the QuoteService:

* Check the quote response, if Quote.Premium == 0 throw an exception
* ensure the exception results in an HTTP 422 response

In the ActionService

* Ensure TriggerQuote returns an HTTP 422 when the QuoteService returns an HTTP 422",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00uwr:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,27/Oct/21 9:54 AM,,5.0,,,,,,,,,,,,,,,,,,"Test at two levels:

# The individual microservice level - the QuoteService
# Any action that uses the QuoteService:
## TriggerQuote

Scenario for a zero premium:

* CI increasing
* toAge that the term resolves to less than 5 years",,,,,,,,,,,,,,,2021-11-29 10:11:54.421,"29/Nov/21 10:11 AM;613f60991370f00069033c68;The Quote Service part has been done

And now the Action Service is done as well",30/Nov/21 9:43 PM;6139c49114e8340071fcda09;[~accountid:613f60991370f00069033c68] [~accountid:60cc71a22bd21400692fd2af] any idea how we can generate a 0 premium response?,"02/Dec/21 1:05 PM;60cc71a1d5dde800713a2124;(flagoff) Flag removed

£0 premium scenario provided.",02/Dec/21 6:26 PM;6139c49114e8340071fcda09;Could not reproduce the given scenario through the TriggerQuote endpoint as the product rules prevent it.,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Generate quote doc for application,NBJ-519,39698,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,26/Oct/21 1:59 PM,28/Nov/21 7:31 PM,02/Feb/22 6:31 PM,27/Nov/21 2:32 PM,,Foundation Release,,Demo4,Sprint_4,,"*As an* API user 
*I want* to request a quote document when a quote happens
*So that* the document is ready and waiting for a future get document request

*Quote Document Service Request*

{code:json}{
  ""expiryDate"": ""2021-10-31"",
  ""showCommission"": true|false,
  ""applicants"": [
    {
      ""id"": ""THE_ID_OF_THE_RECORD_IN_THE_DATABASE"",
      ""firstName"": ""Sam"",
      ""lastName"": ""Primary-applicant"",
      ""dateOfBirth"": ""1978-10-30T00:00:00"",
      ""gender"": ""Male"",
      ""height"": 1.78,
      ""weight"": 88,
      ""title"": ""Mr"" 
    },
    {
      ""id"": ""THE_ID_OF_THE_RECORD_IN_THE_DATABASE"",
      ""firstName"": ""Jane"",
      ""lastName"": ""Secondary-applicant"",
      ""dateOfBirth"": ""1978-11-30T00:00:00"",
      ""gender"": ""Unknown"",
      ""height"": 1.5,
      ""weight"": 134,
      ""title"": ""Dr"" 
    },
  ],
  ""quote"": {
    ""applicationId"": ""G000001234"",
    ""adviserAtFirmLocationId"": """",
    ""initialCommissionSacrificePercentage"": 0-100,
    ""initialIndemnityPercentage"": 0-100,
    ""quoteAgeDate"": 20210910,
    ""quoteCreatedDate"": 20210910, --response value
    ""quotePremium"": 0.00, --response value
    ""quoteLifetimePremium"": 0.00, response value
    ""quoteUnloadedPremium"": 0.00, --response value
    ""quoteDiscount"": 0.00, --response values, possibly not
    ""quoteApplicants"": [
      {
        ""dateOfbirth"": ""1971-12-07"",
        ""gender"": ""male | female"",
        ""smokerStatus"": ""None in the last 5 years | None in last 12 months | I have used tobacco or replacement products in last 12 months"",
        ""quoteApplicantPremium"": 0.00, --response premium
        ""quoteCovers"": [
          {
            ""productType"": ""life"",
            ""coverType"": ""level | increasing | decreasing | family"",
            ""term"": 3, -- not required if toAge specified
            ""toAge"": 65, -- not required if term specified
            ""coverAmount"": 100000,
            ""isParentCoverForCcic"": true | false, -- determines if this cover is the container for the Child CI cover in this application
            ""quoteCoverPremium"": 0.00, --response value
            ""quoteCoverLifetimePremium"": 0.00, --response value
            ""quoteCoverUnloadedPremium"": 0.00, --response value
            ""quoteCoverInitialCommission"": 0.00, --response value
            ""quoteCoverInitialEarningsPeriod"": 00, --in months, response value
            ""quoteCoverRenewalCommission"": 0.00 --response value
          },
          { ""..."" },
          { ""..."" }
        ],
        ""quoteUnderwritingOutcomes"": [
          {
            ""productType"": ""life | ci | aci | ccic"",
            ""emRating"": 200,
            ""permPMRating"": 5,
            ""quoteExclusions"": [
              {
                ""exclusionOrRemoval"": ""Exclude | Remove"",
                ""exclusionValue"": 1001
              },
              { ""..."" }
            ]
          },
          { ""..."" }
        ],
      },
      {
        ""...""
      }
    ],
  }
}{code}",,Chris.Hibbert,James Bartlett,Jon Reynolds,,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,616ee20e2097220071a975d2,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,NBJ-430,,,,,NBJ-850,,,,,,,,,,27/Nov/21 2:28 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;G000079326.pdf;https://gghltd.atlassian.net/secure/attachment/23864/G000079326.pdf,27/Nov/21 2:28 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;G000079327.pdf;https://gghltd.atlassian.net/secure/attachment/23859/G000079327.pdf,27/Nov/21 2:28 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;G000079328.pdf;https://gghltd.atlassian.net/secure/attachment/23863/G000079328.pdf,27/Nov/21 2:28 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;G000079329.pdf;https://gghltd.atlassian.net/secure/attachment/23858/G000079329.pdf,27/Nov/21 2:28 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;G000079329_1.pdf;https://gghltd.atlassian.net/secure/attachment/23861/G000079329_1.pdf,27/Nov/21 2:28 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;G000079335.pdf;https://gghltd.atlassian.net/secure/attachment/23862/G000079335.pdf,27/Nov/21 2:28 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;G000079337.pdf;https://gghltd.atlassian.net/secure/attachment/23860/G000079337.pdf,27/Nov/21 2:31 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;G000079338.pdf;https://gghltd.atlassian.net/secure/attachment/23865/G000079338.pdf,25/Nov/21 9:30 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;Output.pdf;https://gghltd.atlassian.net/secure/attachment/23805/Output.pdf,26/Nov/21 2:29 PM;ug:117ea4bb-8992-4456-92e8-f3d84c2d6b41;image-20211126-142716.png;https://gghltd.atlassian.net/secure/attachment/23825/image-20211126-142716.png,26/Nov/21 2:29 PM;ug:117ea4bb-8992-4456-92e8-f3d84c2d6b41;image-20211126-142759.png;https://gghltd.atlassian.net/secure/attachment/23824/image-20211126-142759.png,26/Nov/21 2:29 PM;ug:117ea4bb-8992-4456-92e8-f3d84c2d6b41;image-20211126-142828.png;https://gghltd.atlassian.net/secure/attachment/23826/image-20211126-142828.png,"*Given*: An application with a valid quote
*Then*: A quote document for the current application is requested
*and:* the application stores the documentId ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-124,,,,,,,,,,,,,,,,None,,"* When a quote is triggered...need to trigger a request to the document service for the quote document
* Data to be passed is defined in [NBJ-420]
* Not as easy as at first thought - some of the data needs to come from the underwriting session so needs a call to the URE
** HEIGHT
** WEIGHT_MALE / WEIGHT_FEMALE
** HEIGHT_UNITS
** WEIGHT_UNITS
** WAIST / DRESS_SIZE (NBJ-474) (I’m not 100% sure of the questionIds for these but I can find later as unlikely we will do as part of this ticket)
** One for Sam in that I dont think any of this will come out of the Quote request once the Quote Decision is included
* Need to poll until document is available [NBJ-423] / [NBJ-440]
** Sam had some thoughts re: always requesting a document on every quote and passing the URL to the browser.  I’m not sure then how we are dealing with the polling (if at all).
* Store the documentId against the application for future use…",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzlt,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,,,,,26/Oct/21 1:59 PM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-16 16:52:59.669,"16/Nov/21 4:52 PM;616ee20e2097220071a975d2;[~accountid:610c00d94e8d8d0069a20d6c] [~accountid:60cc71a1d5dde800713a2124] - can we set up a call asap to analyse what implementation is required to realise this story?

Questions include:

* _“Not as easy as at first thought - some of the data needs to come from the underwriting session so needs a call to the URE”_
** what explicit data from underwriting do we require?
* Need to poll until document is available
** does client retain document id from create quote request and retry getdocument call with new id as a client-side concern?
** or is this is a server-side concern?
*** do we provide an orchestration request in this instance?
*** get underwriting request for additional data
*** transform quote document request payload to include additional URE data
*** make document service call to create document
**** retain new document Id
*** retry call to get document with new id
**** use Polly’s retryandwait against status = 202
***** retry attempts and wait period? exponential backoff?
*** once valid document is available containing byte\[] of content do we transform response to return actual application/pdf document as a download",18/Nov/21 10:09 AM;616ee20e2097220071a975d2;[~accountid:60cc71a22bd21400692fd2af] - As discussed could you raise a separate ticket to perform height/weight metric/imperial conversions. For now we decided the height and weight values (if known) would be saved as metric as provided in URE,25/Nov/21 4:33 PM;6139c49114e8340071fcda09;getting a 500 from triggerQuote at the moment. It might be related to [https://gghltd.atlassian.net/browse/NBJ-809|https://gghltd.atlassian.net/browse/NBJ-809|smart-link]  but I’ve not managed to confirm that yet.,"25/Nov/21 9:31 PM;6139c49114e8340071fcda09;[~accountid:616ee20e2097220071a975d2]  - unfortunately the underwriting engine expects metric height in metres (e.g. 1.83) but the document looks like it expects cm, so I come out in the document as 2 cms high (see attached).

This was generated from:

* app ID: G000077945
* applicant ID: a467f534-908d-4e22-9cc1-33249ad56881
* document ID: PQCn1PBjy6jQcQWH0uB3doABog18I7Rvd1rRkq1M


","26/Nov/21 2:29 PM;616ee20e2097220071a975d2;[~accountid:6139c49114e8340071fcda09] - just deployed fix to height and also included imperial height and weight conversions as we discussed. See below attachment for comparison of metric vs imperial and request to get applicant key info now contains conversions if imperial selected as HEIGHT/WEIGHTS_UNITS

!image-20211126-142759.png|width=406,height=230!

!image-20211126-142716.png|width=407,height=232!

!image-20211126-142828.png|width=553,height=478!",,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Show quote values on screen when quote requested by user,NBJ-518,39697,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,26/Oct/21 1:57 PM,29/Nov/21 4:49 PM,02/Feb/22 6:31 PM,29/Nov/21 4:49 PM,,Foundation Release,,Demo4,Sprint_4,,"*As an* Adviser
*I want* to be able to add see premiums for the application
*So that* I can check cover affordability for my client

h4. Implementation Notes

* User needs to explicitly trigger a quote ([NBJ-273]
* We are persisting the returned quote ([NBJ-517])
* We now want to show these updated values on screen",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,NBJ-430,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,27/Oct/21 2:07 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-10-27 at 14.07.09.png;https://gghltd.atlassian.net/secure/attachment/23169/Screenshot+2021-10-27+at+14.07.09.png,,,,,,,,,,,,"*Given:* An application
*When:* Any cover is added, updated or deleted
*Then:* the ""Get Price"" buttons are shown
*and:* any existing price shown is on screen is invalidated (shown as grey)

*Given:* An application
*When:* a user requests to ""Get Price""
*Then:* If all covers being updated have been successfully changed against the applicant trigger a quote request
*and:* Disable the ""Get Price"" button while the quote is pending

*Given*: A successful quote
*When*: The results screen is displayed
*Then*: The total application premium is shown (top right)
*and*: For each cover, the cover premium is shown (top right of each cover box)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zz9,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,,,,,26/Oct/21 1:57 PM,,5.0,,,,,,,,,,,,,,,,,,"Note to testers - the persisted quote can be retrieved by getting the application object:

e.g. [https://ggh-uwt-apim.azure-api.net/api/v1/application/G000071472|https://ggh-uwt-apim.azure-api.net/api/v1/application/G000071472]",,,,,,,,,,,,,,,,"25/Nov/21 12:54 PM;60cc71a1d5dde800713a2124;(flagoff) Flag removed

Quote now working.",26/Nov/21 1:01 PM;60cc71a1d5dde800713a2124;Blocking ticket resolved.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Save Quotes on the Application following a quote request,NBJ-517,39696,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,26/Oct/21 1:57 PM,23/Nov/21 1:16 PM,02/Feb/22 6:31 PM,23/Nov/21 1:16 PM,,Foundation Release,,Demo4,Sprint_4,,"*As an* Adviser
*I want* to see the prices for covers 
*So that* I can give the best advice about affordability",,Antony.Gorman,Chris.Hibbert,,,,,,6149b13472728e006f9441d6,60cc71a1d5dde800713a2124,,,,,,,,,,,,,Hidden from EXL,NBJ-518,NBJ-519,,,,,,,,,,,,,,,,,,,,,,,,,,,,,23/Nov/21 1:16 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/23707/LivingDoc.html,,,,,,,,,,,,"*Given* an application
*When* triggering a quote for the application
*Then* the quote is saved on the application",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,"There are two bits to this:

# Add an endpoint on the ApplicationService to save a quote on an application
# In the TriggerQuote action (in the ActionService) consume the new “save quote” endpoint - add in code to save the returned quote on the application involved in the TriggerQuote action.

*Request*

{code:json}POST /api/v1/application/{applicationId}/quote
{
  ... Quote DTO ...
}{code}

*Response*

When the Quote is saved on a given Application, it gets a new ID - a GUID.

{noformat}HTTP 201 Created
{
  ""id"": {new_quote_id_here}
  ... Quote DTO ...
}{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zx,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,,,,,26/Oct/21 1:57 PM,,5.0,,,,,,,,,,,,,,,,,,"Note to testers, the persisted quote can be retrieved by getting the application object:

e.g. [https://ggh-uwt-apim.azure-api.net/api/v1/application/G000071472|https://ggh-uwt-apim.azure-api.net/api/v1/application/G000071472]",,,,,,,,,,,,,,,,"31/Oct/21 11:36 AM;60cc71a1d5dde800713a2124;[~accountid:610c00d94e8d8d0069a20d6c] - I think I need you to update this ticket in terms of the Implementation Notes around how this is going to be stored.  One consideration is that the user will need to be shown different prices on the results screen (full decision) vs the quote screen (quote decision so build, smoker only) ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Underwriting Service - Interview Q&A,NBJ-516,39691,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,26/Oct/21 12:58 PM,26/Jan/22 6:57 PM,02/Feb/22 6:31 PM,18/Jan/22 9:21 PM,,Foundation Release,,Sprint_7,,,"*As an* operational underwriter
*So that* I can quickly and efficiently review all questions answered
*I want* to be able to retrieve all the question answered (including historical answers) and filter them based on their status groupings",,Antony.Gorman,James Bartlett,Jim Houghton,,,,,6149b13472728e006f9441d6,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,,,,,,,,,,,,Hidden from EXL,NBJ-994,NBJ-1000,,,,,,,,,,,NBJ-640,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* a {{GET api/v1/underwriting/{applicantId}/questionsAndAnswers}}
*When* request received
*Then* determine URE enquiryId
*And* request enquiry history from URE; /v4/enquiry/history/\{enquiryId}?embed=true

_Building on the above_

*Given* successful ure enquiry/history response
*Then* set applicantId on response

*Given* successful ure enquiry/history response
*Then* forEach item within each snapshot.answerTimeline create a question on the output message
*And* map snapshot.answerTimeline.answers to the questions.answers
*And* map snapshot.answerTimeline.dateAnswered to the questions.completedDate
*And* using snapshot.answerTimeline.questionPath to determine the question instance within snapshot.enquiry.sections.enquiryLines.questions.path

_Building on the above_

*Given* matching snapshot.answerTimeline.questionPath and snapshot.enquiry.sections.enquiryLines.questions.path
*Then* map [snapshot.enquiry.sections.enquiryLines.questions.|http://snapshot.enquiry.sections.enquiryLines.questions.name]path to questions.code
*And* map [snapshot.enquiry.sections.enquiryLines.questions.|http://snapshot.enquiry.sections.enquiryLines.questions.name]definition.text
*And* map [snapshot.enquiry.sections.|http://snapshot.enquiry.sections.enquiryLines.questions.name]name to questions.section
*And* map [snapshot.enquiry.sections.enquiryLines.questions.|http://snapshot.enquiry.sections.enquiryLines.questions.name]definition.options to questions.validValues **


** only set valid values for short and medium lists",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-802,,,,,,,,,,,,,,,,None,,"_Request_

{code:json}GET api/v1/underwriting/{applicantId}/questionsAndAnswers{code}

_Return Message_

{code:json}{
  ""data"": {
    ""applicantId"": <guid>,
    ""questions"": [
      {
        ""code"": """",
        ""text"": """",
        ""validValues"": ["""",""""],
        ""answers"": ["""",""""],
        ""completedDate"": {utc timestamp},
        ""section"": """"
      }
    ]
  }
}{code}

_URE Request_

{code:json}/v4/enquiry/history/{enquiryId}{code}

_URE Response_

{code:json}{
  ""enquiryId"": <guid>,
  ""snapShots"": [
    {
      ""snapshotDate"": 1638380196132,
      ...
      ""enquiry"": {
        ...
        ""availableLocales"": [
          ...
        ],
        ...
        ""buckets"": [
          ...
        ],
        ""sections"": [
          {
            ""name"": """",
            ...
            ""enquiryLines"": [
              {
                ""tags"": [""CLIENT_DETAILS"", """"],
                ...
                ""questions"": [
                  {
                    ""path"": """",
                    ""name"": """",
                    ...
                    ""definition"": {
                      ""text"": """",
                      ""helpText"": """",
                      ""options"": [
                        ...
                      ],
                      ....
                    }
                  }
                },
                {...}
              ]
              ...
            ]
          }
        ],
        ""allAnswers"": {
          ...
        }
      },
      ""answerTimeline"": [
        {
          ""dateAnswered"": 1638380184843,
          ""questionPath"": ""WHICH_GROWTH_IFA"",
          ""answers"": [
            ""Furuncle""
          ],
          ""locale"": ""IFA_EN_GB"",
          ""username"": ""enquiry-shell""
        },
        ...
      ],
      ""priorEnquiries"": [],
      ""subsequentEnquiries"": []
    }
  ]
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwiih:zzzxi,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,Guardian Sprint 8,,,,,26/Oct/21 12:58 PM,,8.0,,,,,,,,,,,,,,,,,,Check questions from {color:#ff5630}*instanced* {color}enquiry lines,,,,,,,,,,,,,,,2022-01-13 13:28:04.317,"13/Jan/22 1:28 PM;6149b13472728e006f9441d6;[~accountid:60cc71a22bd21400692fd2af] hey - in the examples I’m running through I see a number of questions with no corresponding questions in the enquiry lines in the snapshots. I’m producing question and answer data for these but just leaving the question definition data blank for now, Can you advise if I should instead not return these answers? thanks",13/Jan/22 2:25 PM;6149b13472728e006f9441d6;NB in the case where there are missing sections or question definitions in the snapshot we return the answers dated correctly but just leave the rest of the meta data blank.,18/Jan/22 1:58 PM;6139c49114e8340071fcda09;[~accountid:6149b13472728e006f9441d6] the section is currently the question name as far as I can tell - it should be the name of the section the question appears in,"18/Jan/22 2:14 PM;6139c49114e8340071fcda09;[~accountid:6149b13472728e006f9441d6] also, some of the questions with null for text/section should have those values populated.",,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Contact details - Address lookup,NBJ-514,39687,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,26/Oct/21 11:32 AM,06/Dec/21 3:30 PM,02/Feb/22 6:31 PM,06/Dec/21 3:17 PM,,Foundation Release,,Sprint_5,,,"*As an* adviser
*So that* I can enter a valid address based on my client’s postcode
*I want* an easy to use address lookup control",,Chris.Hibbert,Ian.Douglas,Jim Houghton,Justin.Smith,Max Silva,,,60cc71a1d5dde800713a2124,5e183e85c578120daca5bc7b,60cc71a22bd21400692fd2af,618bdfc5fba4d0006ad4853e,6139c4f3e2a0d60069cf8994,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Nov/21 10:44 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-11-18 at 10.43.55.png;https://gghltd.atlassian.net/secure/attachment/23627/Screenshot+2021-11-18+at+10.43.55.png,18/Nov/21 10:45 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-11-18 at 10.45.15.png;https://gghltd.atlassian.net/secure/attachment/23628/Screenshot+2021-11-18+at+10.45.15.png,18/Nov/21 10:47 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-11-18 at 10.47.35.png;https://gghltd.atlassian.net/secure/attachment/23629/Screenshot+2021-11-18+at+10.47.35.png,02/Dec/21 10:11 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211202-220405.png;https://gghltd.atlassian.net/secure/attachment/24033/image-20211202-220405.png,02/Dec/21 10:11 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211202-220737.png;https://gghltd.atlassian.net/secure/attachment/24032/image-20211202-220737.png,02/Dec/21 10:11 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20211202-220934.png;https://gghltd.atlassian.net/secure/attachment/24034/image-20211202-220934.png,,,,,,,"*Given*: An applicant with no contact details
*When*: Viewing the contact details screen
*Then*: The user is presented with the postcode lookup option
 !Screenshot 2021-11-18 at 10.43.55.png|thumbnail! 

*Given*: An applicant with no contact details
*When*: The user selects to enter the address manually
*Then*: The user is presented with the address fields
 !Screenshot 2021-11-18 at 10.45.15.png|thumbnail! 

*Given*: An applicant with no contact details
*When*: The user enters a postcode and selects ""Find Address""
*Then*: A postcode lookup is attempted

*Given*: A successful postcode lookup
*Then*: The matching addresses for that postcode are presented in a drop down
 !Screenshot 2021-11-18 at 10.47.35.png|thumbnail! 
*and*: the user can still revert to the manual entry (AC #2) using the enter address manually button with the entered postcode retained

*Given*: A successful postcode lookup
*When*: The user selects an address
*Then*: The full address fields are shown, populated with the selected address
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,"h2. Search by postcode

*Request*

{noformat}GET https://ggh-uwt-api.gghltest.co.uk/api/v1/backendforfrontend/address/lookup/:postcode{noformat}

*Request - example*

{noformat}GET https://ggh-uwt-api.gghltest.co.uk/api/v1/backendforfrontend/address/lookup/GU14DP{noformat}

*Response - HTTP 200 OK*

{code:json}{
    ""data"": {
        ""count"": 36,
        ""results"": [
            {
                ""id"": ""762GBR-.OGBREQnlBwAAAAABAwEAAAABUAjiUgAgAAAAAAAAMgAA..9kAAAAAP....8AAAAAAAAAAAAAAAAAAABHVTE0RFAAAAAAAA--$ql6gfGWckQkb5"",
                ""text"": ""2 Springfield Road, GUILDFORD, Surrey GU1 4DP""
            },
            {
                ""id"": ""762GBR-gOGBREQnlBwAAAAABAwEAAAABUAjiUgAgAAAAAAAANAAA..9kAAAAAP....8AAAAAAAAAAAAAAAAAAABHVTE0RFAAAAAAAA--$ql6GmyLLYSu46"",
                ""text"": ""4 Springfield Road, GUILDFORD, Surrey GU1 4DP""
            },
            ...
        ]
    }
}{code}



h2. Retrieve full address by ID

*Request*

{noformat}GET https://ggh-uwt-api.gghltest.co.uk/api/v1/backendforfrontend/address/:addressId{noformat}

*Request - example*

{noformat}GET https://ggh-uwt-api.gghltest.co.uk/api/v1/backendforfrontend/address/762GBR-gOGBREQnlBwAAAAABAwEAAAABUAjiUgAgAAAAAAAANAAA..9kAAAAAP....8AAAAAAAAAAAAAAAAAAABHVTE0RFAAAAAAAA--$ql6GmyLLYSu46{noformat}

*Response - HTTP 200 OK*

{code:json}{
    ""data"": {
        ""address1"": ""4 Springfield Road"",
        ""address2"": """",
        ""address3"": """",
        ""town"": ""Guildford"",
        ""county"": ""Surrey"",
        ""postcode"": ""GU1 4DP""
    }
}{code}

* 
* Error states - to come later",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00plc:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,Guardian Sprint 6,,,,,26/Oct/21 11:32 AM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-26 11:02:00.64,26/Nov/21 11:02 AM;6139c4f3e2a0d60069cf8994;Still waiting for the APIM service - Blocked,26/Nov/21 11:46 AM;6139c4f3e2a0d60069cf8994;Now have the APIM: [https://ggh-uwt-api.gghltest.co.uk/api/v1/backendforfrontend/address/lookup/GU14DP|https://ggh-uwt-api.gghltest.co.uk/api/v1/backendforfrontend/address/lookup/GU14DP],"02/Dec/21 4:51 PM;618bdfc5fba4d0006ad4853e;Postcode lookup works and that is all good.  However, there is a slight issue in the way a search works after you have located and selected an address.

I have raised [https://gghltd.atlassian.net/browse/NBJ-889|https://gghltd.atlassian.net/browse/NBJ-889|smart-link] on this.","02/Dec/21 10:12 PM;618bdfc5fba4d0006ad4853e;This looks good except the address 3 issue which has been raised in [https://gghltd.atlassian.net/browse/NBJ-903|https://gghltd.atlassian.net/browse/NBJ-903|smart-link] 

Also [~accountid:60cc71a22bd21400692fd2af] interestingly some addresses are not found on the lookup like for W2 1JB

We see - 

!image-20211202-220405.png|width=1226,height=354!

Not sure if the user should have to click on the list to see this message.  If you look at the post office site you get addresses come back for W2 1JB.  In this case 

!image-20211202-220737.png|width=1914,height=981!

This could be because More Addresses are shown and then you need to click on it to expand it

!image-20211202-220934.png|width=1833,height=882!

What should be happening in this case?

[~accountid:60cc71a22bd21400692fd2af] [~accountid:60cc71a1d5dde800713a2124] 

[https://club.ministryoftesting.com/t/fun-postcodes-to-use-when-testing/10772|https://club.ministryoftesting.com/t/fun-postcodes-to-use-when-testing/10772|smart-link] ",03/Dec/21 9:48 AM;618bdfc5fba4d0006ad4853e;[~accountid:5e183e85c578120daca5bc7b] mentioned that there is a limit on the number addresses returned.  The postcode W2 1JB has 349 addresses so that probably explains why we go too many searches returned.  Ian can you please confirm this is the case.  Thanks,"06/Dec/21 3:03 PM;60cc71a1d5dde800713a2124;[~accountid:618bdfc5fba4d0006ad4853e]  - if the current implementation of the postcode search service returns too many matches and the user can then manually complete their address, I am comfortable with that.","06/Dec/21 3:17 PM;618bdfc5fba4d0006ad4853e;Thanks for the clarification [~accountid:60cc71a1d5dde800713a2124] I will mark this as closed.

As a sub note [~accountid:5e183e85c578120daca5bc7b] told me the following  -

\[11:14 AM]I think Experian have a hard limit of 200 ...
\[11:14 AM] but let me see what I can find",06/Dec/21 3:30 PM;5e183e85c578120daca5bc7b;Actually the limit may be less than that … 49?,,,,,,,,,,,,,,,,,,,,,,,,Done
Simplify routes in UnderwritingService,NBJ-513,39686,,Task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,26/Oct/21 11:02 AM,26/Oct/21 4:42 PM,02/Feb/22 6:31 PM,26/Oct/21 4:42 PM,,,,,,,"The API routes exposed by the UnderwritingService leak information about the UnderwriteMe rules engine. For example, the concept of the enquiry is embedded in a lot of the routes:

{code:java}
POST /api/v1/underwriting/enquiry/start
{code}

So, enquiry needs to be removed from the API routes.",,Nathan Punzalan,Sam Gamble,,,,,,613f22fdff23ba00715469d1,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Old routes

* ​/api​/v1​/underwriting​/enquiry​/\{enquiryId}
* ​/api​/v1​/underwriting​/enquiry​/start
* ​/api​/v1​/underwriting​/enquiry​/\{enquiryId}​/close

Changed to

* ​/api​/v1​/underwriting​/\{enquiryId}
* ​/api​/v1​/underwriting​/start
* ​/api​/v1​/underwriting​/\{enquiryId}​/close",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00odb:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,,,,,,26/Oct/21 11:02 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-10-26 15:42:24.596,26/Oct/21 4:42 PM;613f22fdff23ba00715469d1;Routes changed as expected; have checked the related APIs and new routes work as expected.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Underwriting Top Nav,NBJ-512,39684,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,26/Oct/21 10:52 AM,05/Nov/21 12:06 PM,02/Feb/22 6:31 PM,05/Nov/21 12:06 PM,,Foundation Release,,Sprint_4,,,"*As an* advisor
*I want* to a top nav with progress indicators 
*So that* I can easily navigate underwriting

h4. Implementation Notes

* Can check for page completion using {{isSatisfied}} = true on the section in the enquiry object
* Menu still needs to be dynamic based on the number of sections and their text for the menu labels
* Additional section only appears when there are triggered sections - taken care of in rules
* Note there is a progress indicator in place
* Actual names for the sections will come when the app form work is concluded but that has no bearing on this ticket (other than string length\!)
* Rule changes will take care of getting the right sections to come out.  
* This ticket is really just moving the existing left hand nav to a top nav.

!Screenshot 2021-10-26 at 10.54.08.png|width=200,height=183!

 ",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,UR-125,,,,,,,,,,,,,,,26/Oct/21 10:54 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-10-26 at 10.54.08.png;https://gghltd.atlassian.net/secure/attachment/23129/Screenshot+2021-10-26+at+10.54.08.png,,,,,,,,,,,,"*Given*: An application
*When*: Viewing the underwriting for a life
*Then*: The underwriting nav is presented as a top nav
*and*: the nav is styled as per the design brief
*and:* the nav sections are still dynamically generated from the uw session
*and*: the progress indicators (Completed, In progress, Not started) are shown:

* Completed == section has isSatisfied = true
* In Progress == section has isSatisfied = false and some questions in section have been answered
* Not started == section has isSatisifed = false and no questions in section have been answered

*and:* navigation continues to work",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwil2:pi,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,,,,,,26/Oct/21 10:52 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Put initial top nav and header in place,NBJ-511,39671,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,26/Oct/21 8:33 AM,09/Nov/21 7:40 PM,02/Feb/22 6:31 PM,09/Nov/21 7:40 PM,,Foundation Release,,Sprint_4,,,"*As an* Adviser
*I want* to see the site navigation
*So that* I can understand where I am in the journey

h4. Implementation Notes

* Initial header and top navigation
 
 !Screenshot 2021-11-06 at 15.54.10.png|thumbnail! 

We will pick up state in the top nav in another story

* Dont worry about the name of the indvidual user as we dont have authenticated users yet
* Ignore the number of covers / lives as design not finalised yet",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,06/Nov/21 3:54 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-11-06 at 15.54.10.png;https://gghltd.atlassian.net/secure/attachment/23368/Screenshot+2021-11-06+at+15.54.10.png,,,,,,,,,,,,"*Given*: An application
*When*: Viewing the add life details screen
*Then*: The header is visible and no nav is visible

*Given*: An application
*When*: Viewing any other screen
*Then*: The top nav and header are visible",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8y,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,,,,,,26/Oct/21 8:33 AM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Nov/21 3:57 PM;60cc71a1d5dde800713a2124;[~accountid:610c00d94e8d8d0069a20d6c]  - I’d like to visually get this in place, with state, etc. to come a bit later.  The design and number of tabs is not finalised yet.",09/Nov/21 7:40 PM;60cc71a1d5dde800713a2124;Exactly as AC.  Logic on enabled / disabled to follow.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Create PortalApply Service,NBJ-509,39623,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,24/Oct/21 11:22 AM,30/Nov/21 1:36 PM,02/Feb/22 6:31 PM,,,Foundation Release,,PortalApply,Sprint_9,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-117,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00lbv:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,24/Oct/21 11:22 AM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Long List Multi-select Question - enter should select an item if text matches an option exactly,NBJ-508,39607,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Low,,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,22/Oct/21 2:02 PM,15/Nov/21 10:18 PM,02/Feb/22 6:31 PM,,,Phase 1 - Menu,,FlexibleUW,Sprint_8,,"Currently if the user has typed something in a Long List Multi-select Question and then types <enter>, nothing happens.

If what the user has typed exactly matches an option (ignoring case) then typing <enter> should select that option.",,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00nwv:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,22/Oct/21 2:02 PM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Resolve issue with theme variable import to react app,NBJ-507,39590,,Task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Max Silva,6139c4f3e2a0d60069cf8994,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,22/Oct/21 11:39 AM,05/Nov/21 11:33 AM,02/Feb/22 6:31 PM,05/Nov/21 11:33 AM,,,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00ng6:i,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 2,Guardian Sprint 3,,,,,22/Oct/21 11:39 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Update unit testing and stories for LongListQuestion,NBJ-506,39589,,Task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Max Silva,6139c4f3e2a0d60069cf8994,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,22/Oct/21 11:38 AM,24/Oct/21 4:25 PM,02/Feb/22 6:31 PM,24/Oct/21 4:25 PM,,,,,,,[~accountid:6139c4f3e2a0d60069cf8994] to document what needs to be done.,,Chris.Hibbert,Max Silva,,,,,,60cc71a1d5dde800713a2124,6139c4f3e2a0d60069cf8994,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00ng6:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 2,,,,,,22/Oct/21 11:38 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-10-23 19:05:22.58,23/Oct/21 8:05 PM;6139c4f3e2a0d60069cf8994;This is within ticket @NBJ-158,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
UnderwritingService - provide answers without persisting,NBJ-505,39571,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,22/Oct/21 8:43 AM,02/Nov/21 3:05 PM,02/Feb/22 6:31 PM,02/Nov/21 3:05 PM,,Foundation Release,,FlexibleUW,Sprint_3,,"*As an* api user
*So that* I can display a screen that is not persisted until all its values are complete and validated
*I want* to pass answers to the underwriting engine that are not persisted

*Implementation Notes*

Add a way to answer questions without saving the answers in an applicant’s enquiry. So introduce a transient route to the UnderwritingService:

*Request - UnderwritingService*

{noformat}POST /api/v1/underwriting/transient/{applicantId}
{
  ""answers"": { -- optional new answers may be provided
    ""PRODUCT"": [""Life""], -- path of question with list of answers
    ""GENDER"": [""Male""],
    ...
  }
}{noformat}

*Request - downstream request to UnderwriteMe API*

{noformat}POST /v4/enquiry/{enquiryId}
{
  ""answers"": { -- optional new answers may be provided
    ""PRODUCT"": [""Life""], -- path of question with list of answers
    ""GENDER"": [""Male""],
    ...
  },
  ""username"": ""nbj-user"",
  ""saveEnquiry"": false
}{noformat}

Following a POST request saveEnquiry = false, then the response contains the updates, however any subsequent GET enquiry request will not have the updates present as they were not persisted.",,Chris.Hibbert,Jim Houghton,,,,,,60cc71a1d5dde800713a2124,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,NBJ-501,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Nov/21 3:05 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/23252/LivingDoc.html,,,,,,,,,,,,"*Given* a {{POST /api/v1/underwriting/transient/{applicantId}}}
*When* a successful response
*Then* activeEnquiry contains the questions answered in the request
*And* a request to {{GET /api/v1/underwriting/{applicantId}}} does not contain answers posted to the transient call",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwil2:zzzyi,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,,,,,,22/Oct/21 8:43 AM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-10-25 10:32:59.72,25/Oct/21 11:32 AM;60cc71a1d5dde800713a2124;[~accountid:610c00d94e8d8d0069a20d6c]  - update ticket around whether this needs to be a different URL for the transient call.,"26/Oct/21 4:55 PM;60cc71a1d5dde800713a2124;(flagoff) Flag removed

Sorted by Sam!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Persist client details on submit,NBJ-504,39570,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,22/Oct/21 8:39 AM,19/Nov/21 4:10 PM,02/Feb/22 6:31 PM,19/Nov/21 4:10 PM,,Foundation Release,,Quote,Sprint_4,,"*As an* adviser
*I want* the client details saved
*So that* I can complete the application

h4. Implementation Notes

* So based on NBJ-280, [NBJ-221] and [NBJ-501] we have a sessionId and completed applicant details
* When the user hits the “Continue” button (whatever this is called), we need to
** Update the applicant on the application (which will validate age)
** If successful applicant update we need to update the enquiry with the values for GENDER, SMOKING, BIRTHDATE and any other questions that were on the Client_Details enquiryline",,Chris.Hibbert,James Bartlett,,,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,,,,,,,,,,,,,Hidden from EXL,NBJ-278,NBJ-261,,,,,,,,,,,,,,,,,,NBJ-746,,,,,,,,,,,19/Nov/21 4:09 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;mochawesome_058.html;https://gghltd.atlassian.net/secure/attachment/23667/mochawesome_058.html,,,,,,,,,,,,"*Given*: An application
*When*: Saving an applicant
*Then*: The URE for that applicant needs to be updated with answers for:
- GENDER (Male | Female)
- SMOKING (Yes | No )
- BIRTHDATE
- Any questions that were part of the Client_Details enquiryline that were answered (note they are all optional)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8x,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,,,,,,22/Oct/21 8:39 AM,,5.0,,,,,,,,,,,,,,,,,,"Everything looks mandatory at the moment.  Fine with this for now, we will have fix the right mandatory/non-mandatory stuff later.",,,,,,,,,,,,,,,2021-11-18 18:14:57.967,"18/Nov/21 12:12 PM;60cc71a1d5dde800713a2124;(flagoff) Flag removed

Fix deployed",18/Nov/21 6:14 PM;6139c49114e8340071fcda09;blocked by [https://gghltd.atlassian.net/browse/NBJ-739|https://gghltd.atlassian.net/browse/NBJ-739|smart-link] ,"19/Nov/21 1:18 PM;60cc71a1d5dde800713a2124;(flagoff) Flag removed

deployment issue resolved",19/Nov/21 4:09 PM;6139c49114e8340071fcda09;Automated tests on this first screen are incredibly flaky but I have attached a successful run.,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Add correct styling for underwriting page structure,NBJ-502,39550,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,21/Oct/21 3:41 PM,03/Nov/21 9:33 AM,02/Feb/22 6:31 PM,03/Nov/21 9:33 AM,,Foundation Release,,FlexibleUW,Sprint_3,,"*As an* Adviser
*So that* I can easily see the underwriting questions
*I want* to the page layout to be clear

h4. Implementation Notes
- Using the component library to get the general page structure for underwriting pages set
- Lose the lorum / ipsum at top of screen
- Styling for grey background
- Constrained page width
- Preamble font
- Question dividers",,Chris.Hibbert,Max Silva,,,,,,60cc71a1d5dde800713a2124,6139c4f3e2a0d60069cf8994,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,22/Oct/21 12:34 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Underwriting_UI_components_r5.png;https://gghltd.atlassian.net/secure/attachment/23087/Underwriting_UI_components_r5.png,,,,,,,,,,,,"*Given*: An underwriting page
*Then*: The screen width is constrained as per the style guide
*and*: There is no lorum ipsum on screen
*and*: The page colours are correct
*and*: The font sizes / weights for preamble are correct
*and*: A divider line is shown after the preamable and after every question (other than the last question on page)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwil1:i,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,,,,,,21/Oct/21 3:41 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-10-28 11:02:16.126,"28/Oct/21 12:02 PM;6139c4f3e2a0d60069cf8994;Currently blocked:

Require:-

# Exact page colours in hex’s 
# Exact page dimensions in px or rem.
# Exact element dimensions in px or rem.
# Exact text dimensions in px or rem. 
# Exact text letter spacing dimensions in px or rem.
# Exact text weights in px or rem.
# Exact icon dimensions in px or rem.
# There are more.

Advised Ollie that importing the sketch files into Zeplin would be the best approach to solve the blocker.",28/Oct/21 1:35 PM;60cc71a1d5dde800713a2124;[~accountid:6139c4f3e2a0d60069cf8994]  - Marilyn has confirmed that this should be with you today.,28/Oct/21 2:47 PM;6139c4f3e2a0d60069cf8994;[~accountid:60cc71a1d5dde800713a2124] - This is now unblocked. ,"29/Oct/21 12:29 PM;6139c4f3e2a0d60069cf8994;[~accountid:60cc71a1d5dde800713a2124] - Ollie, Chris, Paul and myself are going to catch-up Monday afternoon in regards to this one currently blocked again. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Add Client details (underwriting),NBJ-501,39542,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,21/Oct/21 1:55 PM,25/Jan/22 6:28 PM,02/Feb/22 6:31 PM,17/Nov/21 11:36 AM,,Foundation Release,,Quote,Sprint_4,,"*As an* adviser
*I want* the client details to display smoking and build information
*So that* I can answer key questions for quote up front

h4. Implementation Notes

* This is where things get a bit tricky
* Create an empty applicant - [https://gghltd.atlassian.net/browse/NBJ-264|https://gghltd.atlassian.net/browse/NBJ-264|smart-link]
* Get the underwriting for that applicant - NBJ-494
* The 2nd half of the add client details display uses all enquiry lines with a tag of CLIENT_DETAILS *note this is an enquiry line NOT A SECTION*
* We need to display controls from this enquiry line and answer questions in a special way (transient) until we are ready to persist all the client details
* On blur of top level {{gender}} , {{smoking}} , {{dateOfBirth}} questions, the URE needs to be updated (transiently) with the full set of answers from the applicant (gender, smoking, dateOfBirth)
* All questions in the enquiryLine are optional to actually create an applicant
* Any answers to questions from the enquiry are updated (transiently) with the full set of values for all questions (rather than question by question) NBJ-505
* Reflexive questions get displayed as per normal
* Reuse components from underwriting for displaying the questions
* Note: Should use the underwriting service rather than straight to the URE",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,NBJ-261,,,,,,,,,,,,,,,UR-124,,,,NBJ-710,NBJ-1271,,,,,,,,,,17/Nov/21 11:35 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;mochawesome_048.html;https://gghltd.atlassian.net/secure/attachment/23610/mochawesome_048.html,,,,,,,,,,,,"*Given*: An application
*When*: Adding an applicant
*Then*: After the initial questions (title, firstname, surname,  date of birth, smoking, the contents of any enquiryLine with a tag of  CLIENT_DETAILS are displayed using the same controls as used in underwriting

*Given*: The add applicant details
*Then*:  Any of the questions from the enquiry line can be answered
*and*: Their answers are not persisted to the enquiry

*Given*: The add applicant details
*Then*:  Any of the questions outside the enquiry line that effect underwriting (gender, smoking, dateOfBirth) can be answered
*and*: The question answers are reflected in the enquiry
*and*: The answers are not persisted to the enquiry",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8v,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,,,,,,21/Oct/21 1:55 PM,,13.0,,,,,,,,,,,,,,,,,,"Everything looks mandatory at the moment.  Fine with this for now, we will have fix the right mandatory/non-mandatory stuff later.",,,,,,,,,,,,,,,,"12/Nov/21 7:01 PM;60cc71a1d5dde800713a2124;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] A bug caused by me I am afraid\!

For the SMOKING question (yes/no) its different values that need to be played to the URE:

* Yes = {{Smoker}}
* No = {{Non-smoker}}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Close enquiry through underwriting service,NBJ-500,39541,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,21/Oct/21 1:48 PM,08/Dec/21 1:03 PM,02/Feb/22 6:31 PM,22/Nov/21 5:06 PM,,Foundation Release,,FlexibleUW,Sprint_4,,"*As an* adviser
*So that* I can confirm I have completed underwriting accurately
*I want* to be able to close an isSatisfied active session

*Implementation Notes*

# {{POST /api/v1/underwriting/{applicantId}/close?embed=true|false}}

2. response will be a closed active enquiry in data section of message

3. respect all params implemented",,Chris.Hibbert,Jim Houghton,,,,,,60cc71a1d5dde800713a2124,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-879,,,,,,,,,,22/Nov/21 5:06 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-11-22 at 17.06.02.png;https://gghltd.atlassian.net/secure/attachment/23691/Screenshot+2021-11-22+at+17.06.02.png,,,,,,,,,,,,"*Given* an activeEnquiry with isClosable = true
*When* closing - {{POST /api/v1/underwriting/{applicantId}/close?embed=true}}
*Then* active enquiry is now closed",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,21/Oct/21 1:48 PM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-22 17:06:20.808,"22/Nov/21 5:06 PM;60cc71a1d5dde800713a2124;Tested in UWT, evidence attached.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Type-ahead control through underwriting service,NBJ-499,39540,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,21/Oct/21 1:48 PM,08/Nov/21 2:50 PM,02/Feb/22 6:31 PM,08/Nov/21 2:48 PM,,Foundation Release,,FlexibleUW,Sprint_4,,"*As an* adviser
*So that* I can start to type in fields that have a long list of valid answers
*I want* a type-ahead control

*Implementation Notes*

# {{GET /api/v1/underwriting/lookupQuestionOption/{branch}/{tag}/{question_name}/{stem}}}
# This should be a simple change to the url
# The response will be wrapped in a data section:

{code:json}{
  ""data"":{
    [
      ""Boil"",
      ""Gum boil"",
      ...
    ]
  }
}{code}",,Chris.Hibbert,Jim Houghton,,,,,,60cc71a1d5dde800713a2124,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* at least 3 chars typed into a type ahead control
*When* retrieving suggested responses - {{GET /api/v1/underwriting/lookupQuestionOption/{branch}/{tag}/{question_name}/{stem}}}

*Then* a list of suggested answers are provided
*And* the list of suggested responses are rendered on screen for the user to select",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwiky:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,Guardian Sprint 4,,,,,21/Oct/21 1:48 PM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-08 14:50:29.042,08/Nov/21 2:50 PM;60cc71a1d5dde800713a2124;Typeaheads still work as expected following the update.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Provide answers through underwriting service,NBJ-498,39539,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Sam Gamble,610c00d94e8d8d0069a20d6c,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,21/Oct/21 1:47 PM,19/Nov/21 11:48 AM,02/Feb/22 6:31 PM,19/Nov/21 11:48 AM,,Foundation Release,,FlexibleUW,Sprint_4,,"*As an* adviser
*So that* I can answer underwriting question
*I want* to be able to update the activeEnquiry with my current answers

*Implementation Notes*

# {{POST /api/v1/underwriting/{applicantId}?embed=true}}

{code:json}{
  ""answers"": {
    ""{{QUESTION_PATH}}"": [""{{ANSWER_STRING}}"",""{{ANSWER_STRING}}""...],
    ""PRODUCT"": [""Life""] // for example, the answer ""Life"" to the question PRODUCT
  }
}{code}

2. return current activeEnquiry

3. active enquiry will be as current format within a data section of the response message",,Chris.Hibbert,Jim Houghton,,,,,,60cc71a1d5dde800713a2124,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* an active enquiry - applicantId
*When* providing answers
*Then* the response will be an updated activeEnquiry
*And* the underwriting screens will be rendered reflecting the updates",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzly,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,,,,,,21/Oct/21 1:47 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-12 14:27:54.585,12/Nov/21 2:27 PM;60cc71a1d5dde800713a2124;Should be possible when [https://gghltd.atlassian.net/browse/NBJ-501|https://gghltd.atlassian.net/browse/NBJ-501|smart-link] is merged.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Get enquiry through new underwriting service,NBJ-497,39538,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Max Silva,6139c4f3e2a0d60069cf8994,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,21/Oct/21 1:47 PM,07/Dec/21 12:24 PM,02/Feb/22 6:31 PM,19/Nov/21 11:48 AM,,Foundation Release,,Demo4,FlexibleUW,Sprint_4,"*As an* consumer of the underwriting service
*So that* I can retrieve the UME current underwriting active session through the Guardian APIM layer
*I want* to call the GET enquiry service through the APIM layer

*Implementation Notes*

# {{GET /api/v1/underwriting/{applicantId}?embed=true}}
# You should get the embedded activeEnquiry response that is currently being used wrapped in the data element

{code:json}{
  data: {
    <=== activeEnquiry ===>
  }
}{code}",,Chris.Hibbert,Jim Houghton,,,,,,60cc71a1d5dde800713a2124,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-528,,,,,,,,,,,,,,,,,,,,,,"*Given* an existing applicant - {{applicantId}}
*When* retrieving through APIM - {{GET /api/v1/underwriting/{applicantId}?embed=true}}
*Then* an activeEnquiry is returned with embedded content
*And* the underwriting screens can be displayed for a particular applicant

*Given* an existing applicant - {{applicantId}}
*When* viewing the underwriting pages
*Then* a new enquiry is no longer directly triggered with the rules engine",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzlx,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,,,,,,21/Oct/21 1:47 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-12 14:27:26.09,12/Nov/21 2:27 PM;60cc71a1d5dde800713a2124;Should be possible when [https://gghltd.atlassian.net/browse/NBJ-501|https://gghltd.atlassian.net/browse/NBJ-501|smart-link] is merged in.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Update react app to use GUARDIAN rules,NBJ-496,39533,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,21/Oct/21 11:10 AM,22/Oct/21 1:21 PM,02/Feb/22 6:31 PM,22/Oct/21 1:21 PM,,Foundation Release,,,,,"For the demo, can we update the react app to have the GUARDIAN rules rather than the DEV_RULESET?",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz6,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 2,,,,,,21/Oct/21 11:10 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Special styling for WEIGHT_MALE and WEIGHT_FEMALE questions,NBJ-495,39528,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,21/Oct/21 10:17 AM,11/Nov/21 9:48 AM,02/Feb/22 6:31 PM,11/Nov/21 9:48 AM,,Foundation Release,,FlexibleUW,Sprint_3,,"*As an* Advisor
*I want* to provide my client’s weight in +either+ imperial or metric units
*So that* the documents display the weight in the format I entered, so either imperial or metric

h4. Implementation Notes

* In order to present both imperial and metric options, we create special UI widgets for the data entry and pass only the metric to the URE.
* The URE takes WEIGHT as metric only.
* If a user updates any field, then the other fields change accordingly (e.g. update metric value and the imperial value is updated, or update imperial stones and lbs and the metric value updates).
* Really this is WEIGHT_MALE and WEIGHT_FEMALE (based on gender)

h4. Example screen design

NOTE: The screen design is wrong as it needs to present a selection of imperial or metric rather than present both options at the same time.

 !Screenshot 2021-11-05 at 12.51.10.png|thumbnail! 

 ",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,NBJ-474,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,05/Nov/21 12:51 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-11-05 at 12.51.10.png;https://gghltd.atlassian.net/secure/attachment/23333/Screenshot+2021-11-05+at+12.51.10.png,,,,,,,,,,,,"*Given:* An underwriting session
*When:* The session requests a WEIGHT_MALE or WEIGHT_FEMALE question
*Then:* A special control is shown that offers both imperial (st & lbs) and metric (kg) options with imperial selected as the default
*and:* imperial (st & lbs) and metric (kg) options are displayed accordingly
*and:* for imperial, the total number of lbs cannot be more than 13

*Given:* A WEIGHT control with a metric value entered
*When:* A user updates to view as imperial
*Then:* The st and lbs are updated using the following formula:
2.20462 lbs per kilograms
weight in kilograms * 2.20462 = weight in lbs
rounddown(weight in lbs/14) = lbs
round(weight in lbs mod 14) = pounds

*Given:* A WEIGHT control with an imperial value entered
*When:* A user updates to view as metric
*Then:* The metric values are updated using the following formula:
lbs * 14 + pounds = weight in lbs
weight in lbs / 2.20462 = weight in kilograms
round(weight in kgs) = final weight in kgs

*Given:* a WEIGHT control
*When:* the unit of entry is selected in +imperial+
*Then:* the rules engine has the WEIGHT_UNITS question updated with the value +Imperial+

*Given:* a WEIGHT control
*When:* the unit of entry is selected in +metric+
*Then:* the rules engine has the WEIGHT_UNITS question updated with the value +Metric+

*Given:* a WEIGHT control
*When:* either imperial or metric data is input
*Then:* the rules engine has the WEIGHT question updated with the value in +metric+, regardless of the unit chosen",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1|hzwil2:zzzzyyi,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,Guardian Sprint 4,,,,,,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Oct/21 1:37 PM;60cc71a1d5dde800713a2124;(flag) Flag added

[~accountid:60cc71a1d5dde800713a2124] - to fix story to allow downstream systems to know the input unit.","10/Nov/21 4:56 PM;60cc71a1d5dde800713a2124;Incorrect metric calculated for an imperial stones/pounds. If you switch the control immediately to imperial and set your weight to 12st 7lb, then you get an error shown - the kg calculated is out by a lot. Switching back to imperial after viewing in metric shows you a weight of 120st 7lb.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
UnderwritingService - change to be applicant-centric,NBJ-494,39527,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,21/Oct/21 10:12 AM,11/Nov/21 1:29 PM,02/Feb/22 6:31 PM,02/Nov/21 10:49 AM,,Foundation Release,,Quote,Sprint_3,,"Currently, the UnderwritingService is centred around the +enquiryId+ from UnderwriteMe. The decision was made to stop leaking UnderwriteMe concepts and data into the wider NBJ solution. This means that the UnderwritingService needs to be changed to be applicant-centric instead of enquiry-centric.

*As an* API Consumer
*I want* to interact with underwriting data by using applicant IDs
*So that* UnderwriteMe concepts are not leaked into the NBJ solution

h3. Implementation Notes

*Routes to change*

{code:json}// Start a new underwriting session for a given applicant
POST /api/v1/underwriting/start -> /api/v1/underwriting/{{applicantId}}/start

// Get an applicant's underwriting session (enquiry) from UnderwriteMe
GET /api/v1/underwriting/{{enquiryId}} -> /api/v1/underwriting/{{applicantId}}

// Save answers to questions in an applicant's underwriting session
POST /api/v1/underwriting/{{enquiryId}} -> /api/v1/underwriting/{{applicantId}} 

// Close an applicant's underwriting session
POST /api/v1/underwriting/{{enquiryId}}/close -> /api/v1/underwriting/{{applicantId}}/close{code}

*Creating a new underwriting session*

The way underwriting sessions are started needs to change - now the underwriting session needs to be started for a given applicant. We can identify an applicant by the applicantId, therefore the applicantId will be passed in the start UW session payload.

*Request*

{code:json}POST /api/v1/underwriting/{{applicantId}}/start{code}

*Downstream request to the UnderwriteMe API*

{noformat}POST {{underwriteme_api_base_url}}/v4/startEnquiry // this remains unchanged{noformat}

*Save enquiryId for the given applicantId*

When the new enquiry is created in UnderwriteMe, the UnderwritngService needs to store the enquiryId against the given applicantId.

*Response*

{noformat}HTTP 201 Created{noformat}

{code:json}{
  ""data"": {
    ...
    ""applicantId"": ""APPLICANT_ID_HERE"", // don't return the enquiryId any more
    ... 
    // the full enquiry object here, honouring the embed flag
    ...
  }
}{code}",,Chris.Hibbert,Ian.Douglas,,,,,,60cc71a1d5dde800713a2124,5e183e85c578120daca5bc7b,,,,,,,,,,,,,Hidden from EXL,NBJ-221,NBJ-497,NBJ-498,NBJ-501,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Nov/21 10:49 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/23248/LivingDoc.html,,,,,,,,,,,,"* The UnderwritingService: 
** Can start an enquiry for a given applicant
** Retrieve an enquiry for a given applicant 
** Answer questions in a given applicant’s enquiry (aka underwriting session)
** Close an enquiry belonging to a given applicant
* The enquiryId is not returned in the response payload, the applicantId is returned instead
* There is no API endpoint on the UnderwritingService that uses the UnderwriteMe enquiryId
* If there is no record of a given applicantId in the UnderwritingService, return HTTP 404 Not Found.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,No,,1|hzwil2:xi,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,,,,,,21/Sep/21 8:44 AM,,8.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-10-25 09:44:42.943,"25/Oct/21 10:44 AM;5e183e85c578120daca5bc7b;This needs further discussion … IMHO the UME sessionId has no place on the application object (let alone Salesforce\!\!\!) … I think the mapping between applicant ID “Gref_n” should be done in the underwritingService which acts as an adapter for the UnderwriteMe API. This is the model that I have touched on with Sam …

 ","25/Oct/21 11:28 AM;60cc71a1d5dde800713a2124;(flag) Flag added

To discuss applicant vs session ID for the underwriting service","26/Oct/21 8:46 AM;60cc71a1d5dde800713a2124;(flagoff) Flag removed

Fixed",,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
DecisionService - add emRating to risk decision,NBJ-483,39466,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,20/Oct/21 10:14 AM,29/Nov/21 6:18 PM,02/Feb/22 6:31 PM,29/Nov/21 6:18 PM,,Foundation Release,,Decision,Sprint_4,,"*As an* api consumer of the underwriting service
*So that* I can determine the current risk level decisions
*I want* the service will respond with EM ratings for each risk",,Chris.Hibbert,Jim Houghton,,,,,,60cc71a1d5dde800713a2124,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,NBJ-599,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,29/Nov/21 6:18 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;CI_and_TPD_risk.html;https://gghltd.atlassian.net/secure/attachment/23914/CI_and_TPD_risk.html,29/Nov/21 6:18 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;Life_risk.html;https://gghltd.atlassian.net/secure/attachment/23913/Life_risk.html,,,,,,,,,,,"*Given* an active enquiry response from URE
*And* active enquiry has answers to PRODUCT in allAnswers with a list of risks
*And* riskTypes wth decision type of NON_STANDARD
*When* constructing the output message
*Then* create an em section foreach risktype with the presence of EM_<shortRef> bucket present
*And* map totalRating within em from EM_<shortRef>.sum.value
*And* within em create a ratings section, mapping each contribution with a value that is not equal to zero

* rating = contributions.value
* reasons = contribution.sources
* duration = contributions.for
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,"# This story is about outputting the EM decisions per riskType for overall decisions of NON_STANDARD
# To get a successful response from URE, applicantId must be first mapped to enquiryId
# we will create a *short reference (shortRef)* foreach risk:
## Life → LIFE
## Critical Illness → CI
## Total Permanent Disability → TPD

{noformat}POST /api/v1/decision/{applicantId}{noformat}

_activeEnquiry response from URE]_

{code:json}{
  ...
  ""buckets"": [
  ...,
    {
      ""type"": ""NUMBER"",
      ""name"": ""EM_LIFE"",
      ""contributions"": [
        {
          ""value"": 50,
          ""sources"": [
            ""Non_Medical_Limits""
          ],
          ""duration"": <time_period> //P5Y0M0D
        },
        ...
      ],
      ""min"": {
        ...
      },
      ""max"": {
        ...
      },
      ""sum"": {
        ""value"": 100,
        ""sources"": [
          ""Non_Medical_Limits"",
          ""Build"", ...
        ]
      }
    },
  ...,
  ],
  ""sections"": [...],
  ""allAnswers"": {
   ...
  },
  ""debugInfo"": {}
}{code}

_Response_

Decision with a section per risk

{code:json}{
  data: {
    ""applicantId"": ""<applicantId>"",
    ""smokerStatus"": ""<GUARDIAN smoker statuses>"",
    ""riskDecisions"": [
      {
        ""riskType"": ""life | ci | tpd"",
        ...,
        ""em"": {
          ""totalRating"": 100, // the sum of all individual ratings 
          ""ratings"": [
           {
             ""rating"": 50,
             ""duration"": ""<time_period>"", -- format is number of months 0|12|24|36|48|60|72|84|96|108|120
             ""reasons"": ["""", """"]
           },
           ...
         ]
        }
        ...
      },
      {...}
    ]
  }
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00rl2:r,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,,,,,20/Oct/21 9:39 AM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-26 09:12:52.343,"26/Nov/21 9:12 AM;60cc71a1d5dde800713a2124;(flagoff) Flag removed

NBJ-481 fixed",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
DecisionService - create a risk decision from a UME enquiry,NBJ-481,39458,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,20/Oct/21 9:39 AM,29/Nov/21 6:17 PM,02/Feb/22 6:31 PM,29/Nov/21 6:17 PM,,Foundation Release,,Decision,Sprint_4,,"*As an* api consumer of the underwriting service
*So that* I am aware of the current automated underwriting risk decisions
*I want* the service to respond with the current decision

*Implementation Notes*

# This story is about starting to output the Life, Ci and TPD risk decisions from the URE
# This service will receive a request with risks specified
# The current active enquiry will be returned from URE using applicationId mapped to enquiryId → /v4/enquiry/\{enquiryId}
# All risks output by URE in activeEnquiry are mapped



{noformat}POST /api/v1/decision/{applicantId}{noformat}

_empty body_

_activeEnquiry response from URE]_

{code:json}{
  ...
  ""branch"": """",
  ""tag"": """",
  ...
  ""buckets"": [
  ...,
      {
      ""type"": ""OPTION"",
      ""name"": ""SMOKER_GFS"",
      ""contributions"": [
        {
          ""value"": ""NON_SMOKER5"",
          ""sources"": [
            ""Client_Details""
          ]
        },
        {
          ""value"": ""NON_SMOKER1"",
          ""sources"": [
            ""Client_Details""
          ]
        }
      ],
      ""min"": {
        ""value"": ""NON_SMOKER5"",
        ""sources"": [
          ""Client_Details""
        ]
      },
      ""max"": {
        ""value"": ""NON_SMOKER1"",
        ""sources"": [
          ""Your_Basic_Details""
        ]
      }
    }
  ...,
  ],
  ""sections"": [...],
  ""allAnswers"": {
    ...,
    ""PRODUCT"": [
      ""Life"",
      ""Critical Illness"",
      ""Total Permanent Disability""
    ],
    ...,
  },
  ""debugInfo"": {}
}{code}

_Response_

underwritingOutcomes with a section per PRODUCT applied for.

{code:json}{
  data: {
    ""applicantId"": ""<applicantId>"",
    ""smokerStatus"": ""<GUARDIAN smoker statuses>"",
    ""riskDecisions"": [
      {
        ""riskType"": ""life | ci | tpd"",
        ""decision"": ""Standard Terms | Non standard Terms | Additional Evidence | Manual UW | Postponed | Declined"",
        ""reasons"": [<list of reasons>],
        ....
      },
      {...}
    ]
  }
}{code}

_URE option request/response_

{noformat}GET → /v4/option/{branch}/{tag}/SmokingOptionsGFS/<contribution.value>{noformat}



{code:json}{
  ""name"": ""SMOKER"",
  ""text"": ""I have used tobacco or replacement products in the last 12 months"",
  ""aliases"": [],
  ""categories"": [],
  ""tags"": [],
  ""attributes"": {
    ...
  }
}{code}",,James Bartlett,Jim Houghton,,,,,,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,NBJ-684,NBJ-600,NBJ-483,,,,,,,,,,,,,,,,,,,,,,,,,,,,26/Nov/21 7:56 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;CI_and_TPD.json;https://gghltd.atlassian.net/secure/attachment/23852/CI_and_TPD.json,29/Nov/21 6:15 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;CI_and_TPD_risk.html;https://gghltd.atlassian.net/secure/attachment/23911/CI_and_TPD_risk.html,26/Nov/21 7:58 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;CI_only.json;https://gghltd.atlassian.net/secure/attachment/23854/CI_only.json,29/Nov/21 6:15 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;Life_risk.html;https://gghltd.atlassian.net/secure/attachment/23912/Life_risk.html,,,,,,,,,"*Given:* a request {{POST /api/v1/decision/{applicantId}}}
*And* applicant has an active enquiry
*When:* constructing response
*Then:* include applicantId from request
*And:* foreach risk collect the max value of the SMOKER_GFS bucket (buckets.SMOKER_GFS.max.value) in the URE response

*Given* max value of the SMOKER_GFS bucket
*Then* GET → /v4/option/\{branch}/\{tag}/smokingOptions/<contribution.value> (branch and tag available on activeEnquiry)
*And* set smokerStatus on service response to “text” of URE option response


*Given:* a request {{POST /api/v1/decision/{applicantId}}}
*And* applicant has an active enquiry 
*And* active enquiry has answers to PRODUCT in allAnswers with LIFE risk
*When:* constructing response
*Then:* include riskDecision section for each risk listed
*And:* include riskType: Life in riskDecision section
*And* set the decision to buckets.DECISION_LIFE.max.value (STANDARD | NON_STANDARD | EVIDENCE_REQUIRED | REFER | POSTPONE | DECLINE)
*And* set the reasons to the buckets.DECISION_LIFE.max.sources (list of reasons for decision)

*Given:* a request {{POST /api/v1/decision/{applicantId}}}
*And* applicant has an active enquiry 
*And* active enquiry has answers to PRODUCT in allAnswers with a CI risk
*When:* constructing response
*Then:* include riskDecision section for each risk listed
*And:* include riskType: Critical Illness in riskDecision section
*And* set the decision to buckets.DECISION_CI.max.value (STANDARD | NON_STANDARD | EVIDENCE_REQUIRED | REFER | POSTPONE | DECLINE)
*And* set the reasons to the buckets.DECISION_CI.max.sources (list of reasons for decision)

*Given:* a request {{POST /api/v1/decision/{applicantId}}}
*And* applicant with an active enquiry
*And* active enquiry has answers to PRODUCT in allAnswers with a TPD risk
*When:* constructing response
*Then:* include riskDecision section for each risk listed
*And:* include riskType: Total Permanent Disability in riskDecision section
*And* set the decision to buckets.DECISION_TPD.max.value (STANDARD | NON_STANDARD | EVIDENCE_REQUIRED | REFER | POSTPONE | DECLINE)
*And* set the reasons to the buckets.DECISION_TPD.max.sources (list of reasons for decision)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00rl2:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,,,,,20/Oct/21 9:39 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-26 19:58:53.084,"26/Nov/21 7:58 PM;6139c49114e8340071fcda09;[~accountid:6149b160fac3ce0069d80d37] if the underwriting session has Criticall Illness only, a decision is returned as expected. If the underwriting session has both Critical Illness and Total Permanent Disability (as it would for a CI product/cover), decision returns a 500.

See applicant ID 6cb1bac1-d092-4347-b13f-017db95c0602 in UWT. I’ve attached underwriting sessions for CI only (works fine) and CI and TPD (causes a 500 from ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Connect Fact Service to APIM,NBJ-480,39454,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Jason Hughes,613f60991370f00069033c68,Jim Houghton,60cc71a22bd21400692fd2af,Chris.Hibbert,60cc71a1d5dde800713a2124,20/Oct/21 9:33 AM,30/Nov/21 5:36 PM,02/Feb/22 6:31 PM,30/Nov/21 5:36 PM,,Foundation Release,,DataStore,Sprint_5,,"*As an* api user
*So that*  I can access the Fact Service through the Guardian APIM layer
*I want* the Fact Service to connect to the Guardian APIM



*Implementation Notes*

Follow standards set out in [https://gghltd.atlassian.net/browse/NBJ-314|https://gghltd.atlassian.net/browse/NBJ-314|smart-link] ",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,NBJ-411,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* the fact service
*When* accessing the service
*Then* this is done through the Guardian APIM",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-127,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009hx,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,09/Sep/21 3:04 PM,,3.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-30 17:36:52.767,30/Nov/21 5:36 PM;60cc71a1d5dde800713a2124;Closing this as no testing needed.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Create Fact Service from service template,NBJ-479,39453,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Antony.Gorman,6149b13472728e006f9441d6,Jim Houghton,60cc71a22bd21400692fd2af,Chris.Hibbert,60cc71a1d5dde800713a2124,20/Oct/21 9:31 AM,16/Nov/21 5:16 PM,02/Feb/22 6:31 PM,16/Nov/21 5:16 PM,,Foundation Release,,DataStore,Sprint_3,,"*As an* api user
*So that*  I can have a service to provide data for support and MI
*I want* a Fact created from the service template

*Implementation Notes*

A story to set up the service itself from the service template.

The service will listen on HTTP:

* /api/fact",,Antony.Gorman,Chris.Hibbert,,,,,,6149b13472728e006f9441d6,60cc71a1d5dde800713a2124,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,NBJ-414,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* the service template
*Then* a fact service is created
*And* healthcheck endpoint returns a “Healthy” response",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-127,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,No,,1|i00s97:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,,,,,,09/Sep/21 3:04 PM,,3.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-16 09:41:33.382,16/Nov/21 9:41 AM;6149b13472728e006f9441d6;health end point can be hit up directly here [https://wa-uwt-factservice.azurewebsites.net/health|https://wa-uwt-factservice.azurewebsites.net/health],16/Nov/21 5:16 PM;60cc71a1d5dde800713a2124;It is indeed healthy\!,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Creating an enquiry with a username returns a 500,NBJ-477,39421,,Bug,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Chris.Hibbert,60cc71a1d5dde800713a2124,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,19/Oct/21 11:07 AM,17/Dec/21 5:18 PM,02/Feb/22 6:31 PM,,,,,,,,,,Chris.Hibbert,James Bartlett,,,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: An underwriting enquriy cannot be created with a username

Business Impact: this is required before go-live otherwise no audit trail of who answered underwriting answers will be kept

Steps to Reproduce: make a POST to https://ggh-uwt-api.gghltest.co.uk/api/v1/underwriting/enquiry/start with body:

{code:java}
{
  ""username"": ""nbj-user""
}
{code}

Expected Results: the request is successfull and returns a 201 with the body of the new underwriting session

Actual Result: the request fails with a 500 and the response body is:

{code:java}
{
    ""type"": ""https://tools.ietf.org/html/rfc7231#section-6.6.1"",
    ""title"": ""An error occurred while processing your request."",
    ""status"": 500,
    ""traceId"": ""|5ac1ae34-45d4ba15e5125e86.5ac1ae35_d5782004_""
}
{code}

Version: n/a",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00mvb:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,19/Oct/21 11:07 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-17 17:18:35.921,17/Dec/21 5:18 PM;60cc71a1d5dde800713a2124;This is being picked up in later stories.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Display progress updates for applicants in manual underwriting,NBJ-476,39408,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,John.LeQuesne,5db187687b20d80c2a25b574,John.LeQuesne,5db187687b20d80c2a25b574,18/Oct/21 5:58 PM,02/Feb/22 12:21 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,As an adviser I want to see the (‘public’) Progress Updates held against the manual underwriting case in Salesforce so that I know the underwriting progress for each referred applicant.,,helen.scriven,John.LeQuesne,,,,,,5dbd6f97fc11e40c2ff452a7,5db187687b20d80c2a25b574,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Background:*

Given an adviser (or permissioned delegate) is logged into the WIP tab of their Adviser dashboard 

When the adviser clicks into an application (how TBC) then its clear which applicants, if any, are in manual underwriting

When the adviser views a client who is in manual underwriting (how TBC) then the adviser is encouraged to check to see if their client is eligible for immediate cover.

When the adviser clicks on the Immediate Cover link then the Immediate Cover page on the adviser website [https://adviser.guardian1821.co.uk/immediate-cover/|https://adviser.guardian1821.co.uk/immediate-cover/|smart-link]  is opened in a new tab.

 

Scenario 1: *Client with UW updates to be displayed*

Given the background is met

And a Salesforce case of *Case Record Type* 'UmeUnderwriting' (name TBC) exists for a Person Account of Type Customer where the NBJ Interview Id of that Person Account equals the New Business  ‘Interview Id’ and it does not have a status of ‘Completed’ or ‘Closed’. 

And the Salesforce case has one or more Progress Updates with a Privacy Level of ‘Public’

Then the latest description, and Last update date and time of each of those Progress Updates is displayed (where TBC), in descending date order, and the frequency of GP report chasers is clear.



Scenario 2: *Client with no UW updates to be displayed* 

Given the background is met

And a Salesforce case of *Case Record Type* 'UmeUnderwriting' (name TBC) exists for a Person Account of Type Customer where the NBJ Interview Id of that Person Account equals the New Business  ‘Interview Id’ and it does not have a status of ‘Completed’ or ‘Closed’. 

And the Salesforce case has no Progress Updates with a Privacy Level of ‘Public’

Then it’s clear that manual underwriting for this applicant has not yet started.  



Scenario 3: *Adviser re-sorts comments by date*

Given an adviser is viewing UW updates

When the adviser clicks on date resort button 

Then the updates are resorted into ascending/descending date order.

 

See Confluence page for implementation SOQL (#1 only)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-125,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space-bx,,,,,,,No,,1|hzwib9:zzb,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Oct/21 5:58 PM,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Quote Document - include waist/dress size,NBJ-474,39405,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,18/Oct/21 5:25 PM,01/Dec/21 11:56 AM,02/Feb/22 6:31 PM,01/Dec/21 11:52 AM,,Foundation Release,,DocumentGeneration,Sprint_5,,"*As an* api consumer
*So that* I can produce documents containing waist and dress size
*I want* to include waist and dress size",,James Bartlett,Jim Houghton,Jon Reynolds,,,,,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,616ee20e2097220071a975d2,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-850,,,,,,,,,,01/Dec/21 11:51 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;QuoteDocument.html;https://gghltd.atlassian.net/secure/attachment/23938/QuoteDocument.html,01/Dec/21 11:51 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;TriggerQuote.html;https://gghltd.atlassian.net/secure/attachment/23937/TriggerQuote.html,30/Nov/21 9:24 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;example_waist_request.json;https://gghltd.atlassian.net/secure/attachment/23929/example_waist_request.json,24/Nov/21 3:36 PM;ug:117ea4bb-8992-4456-92e8-f3d84c2d6b41;image-20211124-153648.png;https://gghltd.atlassian.net/secure/attachment/23765/image-20211124-153648.png,30/Nov/21 9:35 PM;ug:117ea4bb-8992-4456-92e8-f3d84c2d6b41;image-20211130-213133.png;https://gghltd.atlassian.net/secure/attachment/23931/image-20211130-213133.png,30/Nov/21 9:35 PM;ug:117ea4bb-8992-4456-92e8-f3d84c2d6b41;image-20211130-213507.png;https://gghltd.atlassian.net/secure/attachment/23930/image-20211130-213507.png,,,,,,,"*Given* a {{POST /api/v1/document/quote}}
*And* a single applicant or joint applicants
*And* waist included in the first applicant details
*When* creating a Lissia Quote Document Request
*Then* set PA_WAIST_UNIT to waistin
*And* set PA_WAIST_INCH to first applicant waist on input message

*Given* a {{POST /api/v1/document/quote}}
*And* ajoint applicants
*And* waist included in the second applicant details
*When* creating a Lissia Quote Document Request
*Then* set SA_WAIST_UNIT to waistin
*And* set SA_WAIST_INCH to first applicant waist on input message

*Given* a {{POST /api/v1/document/quote}}
*And* a single applicant or joint applicants
*And* dressSize included in the first applicant details
*When* creating a Lissia Quote Document Request
*Then* PA_WAIST_UNIT to dresssize
*And* set PA_DRESS to first applicant dressSize on input message

*Given* a {{POST /api/v1/document/quote}}
*And* joint applicants
*And* dressSize included in the second applicant details
*When* creating a Lissia Quote Document Request
*Then* SA_WAIST_UNIT to dresssize
*And* set SA_DRESS to first applicant dressSize on input message",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-34,,,,,,,,,,,,,,,,None,,"*Implementation Notes*

# This ticket is intended to vary applicant waist and dress size
# The data will be provided in the applicant common data format
# The common data format will need to be converted to eLissia format before adding to the request (included in acceptance criteria below)

_Quote Document Request_

# {{POST /api/v1/document/quote}}

{noformat}{
  applicants: [
    {
      ""id"": ""THE_ID_OF_THE_RECORD_IN_THE_DATABASE"",
      ""firstName"": ""Sam"",
      ""lastName"": ""Gamble"",
      ""dateOfBirth"": ""1978-10-30T00:00:00"",
      ""smokerStatus"": ""None in the last 5 years | None in last 12 months | I have used tobacco or replacement products in last 12 months"",
      ""gender"": ""Male"",
      ""height"": 1.78,
      ""weight"": 88,
      ""waist"": 38, -- optionally provided
      ""dressSize"": 12, -- optionally provided
      ""title"": ""Mr"" 
    }
  ],
  quote {}
}{noformat}

_Lissia Document Request_

Below is the Lissia request with values created from the service request.

{code:json}<QUOTE_DATA>
    <DATA>
        ...    
        <PA_WAIST_UNIT>waistin</PA_WAIST_UNIT>
        ...                            
        <PA_WAIST_INCH>38</PA_WAIST_INCH>
        <PA_WAIST_CM>0</PA_WAIST_CM>
        <PA_DRESS />
        ...
        <SA_WAIST_UNIT>waistin</SA_WAIST_UNIT>
        ...
        <PA_WAIST_INCH>38</PA_WAIST_INCH>
        <PA_WAIST_CM>0</PA_WAIST_CM>
        <PA_DRESS />
        ...
    </DATA>
</QUOTE_DATA>{code}

 

_Quote Document Service Response_

{code:json}{
  data:{
    ""documentId"": <doc_id>
  }
}
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00ply:r,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 5,,,,,,18/Oct/21 5:25 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-24 15:36:56.127,"24/Nov/21 3:36 PM;616ee20e2097220071a975d2;Here is an example document showing the dress size and waist for a female and male applicant respectively 

!image-20211124-153648.png|width=705,height=570!",27/Nov/21 2:18 PM;6139c49114e8340071fcda09;Blocked by [https://gghltd.atlassian.net/browse/NBJ-849|https://gghltd.atlassian.net/browse/NBJ-849|smart-link] - I can’t get dress size from the keyinfo endpoint,"29/Nov/21 11:50 AM;616ee20e2097220071a975d2;(flagoff) Flag removed

Further to discussion with [~accountid:60cc71a22bd21400692fd2af] [~accountid:60cc71a1d5dde800713a2124] and [~accountid:6139c49114e8340071fcda09] I will be making fixes","30/Nov/21 9:14 PM;6139c49114e8340071fcda09;[~accountid:616ee20e2097220071a975d2] I’m afraid I can’t get waist or dressSize to appear on the doc, and height no longer appears either.",30/Nov/21 9:21 PM;616ee20e2097220071a975d2;[~accountid:6139c49114e8340071fcda09] - please provide the application you are triggering and I’ll take a look to see what you are missing. Remember if height and weight units are not specified in URE then the height and weight won’t get displayed. We can display after standup tomorrow ,30/Nov/21 9:25 PM;6139c49114e8340071fcda09;I've attached a request I made directly to the quote service. Once I had tested this I was going to move on to the integrated requests that would rely on the URE.,"30/Nov/21 9:35 PM;616ee20e2097220071a975d2;!image-20211130-213133.png|width=778,height=485!

The trigger quote uses underwriting enquiry details for a given applicant in order to determine the height/weight details. For the applicant you provided there is no URE set up (see ^^). Once the applicant has an enquiry session setup and has answered the key info questions the dimensions will then appear in the document. You are looking for a response from the underwriting service like this: 

!image-20211130-213507.png|width=795,height=638!

Happy to have a call if you need any help with this","30/Nov/21 11:12 PM;6139c49114e8340071fcda09;As I said, I'm not calling triggerquote, I'm making a direct call to the document service. As such, I don't believe it matters whether the applicant exists. I'm doing this first before I move onto testing this via the action service",01/Dec/21 11:48 AM;6139c49114e8340071fcda09;Waist size is currently displayed in inches despite the related underwriting question being in cm. This should be fixed by [https://gghltd.atlassian.net/browse/NBJ-850|https://gghltd.atlassian.net/browse/NBJ-850|smart-link].,,,,,,,,,,,,,,,,,,,,,,,Done
Quote Document Request - ccic,NBJ-472,39381,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,18/Oct/21 3:14 PM,11/Nov/21 12:50 PM,02/Feb/22 6:31 PM,11/Nov/21 12:50 PM,,Foundation Release,,DocumentGeneration,Sprint_4,,"*As an* api user
*So that* I am able to generate a quote document
*I want* to be able to vary ccic quoteCovers

*Implementation Notes*

# {{POST /api/v1/document/quote}} 
# This is a single or dual life request
# It is intended to fill out all the ccic quoteCover details
# Once document generated [https://gghltd.atlassian.net/browse/NBJ-423|https://gghltd.atlassian.net/browse/NBJ-423|smart-link] explains how to get base64 encoded content that can be converted to pdf

*Quote Document Service Request*

{code:json}{
  ""expiryDate"": 20211031,
  ""showCommission"": true|false,
  applicants: [
    {
      ""id"": ""THE_ID_OF_THE_RECORD_IN_THE_DATABASE"",
      ""firstName"": ""Sam"",
      ""lastName"": ""Gamble"",
      ""dateOfBirth"": ""1978-10-30T00:00:00"",
      ""gender"": ""Male"",
      ""height"": 1.78,
      ""weight"": 88,
      ""title"": ""Mr"" 
    },
    ...
  ],
  quote: {
    ""applicationId"": ""G000001234"",
    ""adviserAtFirmLocationId"": """",
    ""initialCommissionSacrificePercentage"": 0-100,
    ""initialIndemnityPercentage"": 0-100,
    ""quoteAgeDate"": 20210910,
    ""quoteCreatedDate"": 20210910, --response value
    ""quotePremium"": 0.00, --response value
    ""quoteLifetimePremium"": 0.00, response value
    ""quoteUnloadedPremium"": 0.00, --response value
    ""quoteDiscount"": 0.00, --response values, possibly not
    ""quoteApplicants"": [
      {
        ""dateOfbirth"": 19711207,
        ""gender"": ""male | female"",
        ""smokerStatus"": ""None in the last 5 years | None in last 12 months | I have used tobacco or replacement products in last 12 months"",
        ""quoteApplicantPremium"": 0.00, --response premium
        ""quoteCovers"": [
          {
            ""productType"": ""life"",
            ""coverType"": ""level | increasing | decreasing | family"",
            ""term"": 3, -- not required if toAge specified
            ""toAge"": 65, -- not required if term specified
            ""coverAmount"": 100000,
            ""isParentCoverForCcic"": true | false, -- determines if this cover is the container for the Child CI cover in this application
            ""quoteCoverPremium"": 0.00, --response value
            ""quoteCoverLifetimePremium"": 0.00, --response value
            ""quoteCoverUnloadedPremium"": 0.00, --response value
            ""quoteCoverInitialCommission"": 0.00, --response value
            ""quoteCoverInitialEarningsPeriod"": 00, --in months, response value
            ""quoteCoverRenewalCommission"": 0.00 --response value
          },
          { ""..."" },
          { ""..."" }
        ],
        ""quoteUnderwritingOutcomes"": [
          {
            ""productType"": ""life | ci | aci | ccic"",
            ""emRating"": 200,
            ""permPMRating"": 5,
            ""quoteExclusions"": [
              {
                ""exclusionOrRemoval"": ""Exclude | Remove"",
                ""exclusionValue"": 1001
              },
              { ""..."" }
            ]
          },
          { ""..."" }
        ],
      },
      {
        ""...""
      }
    ],
  }
}{code}

*Lissia Document Request*

Below is the Lissia request with values created from the service request

{code:xml}<QUOTE_DATA>
    <DATA>
        ...
        <CCIC_SUM>50,000</CCIC_SUM> -- quoteCover.coverAmount on quoteCover with productType Ccic
        <CCIC_PREM>£8.06</CCIC_PREM> -- quoteCover.quoteCoverPremium  on quoteCover with productType Ccic
        ...
        <PA_CCIC>true</PA_CCIC> -- indicates presence of CCIC for life
        ...
        <TYPE>joint</TYPE> -- based on number of applicants
        <COMMISSION_DATA>
            <Details>
                <INIT_COMMISSION>£8,431.20</INIT_COMMISSION> -- sum of all quoteCoverInitialCommission on all covers
                ...
                <REN_CHILD_CI>£0.20</REN_CHILD_CI> -- quoteCoverRenewalCommission
                ...
                <REN_CHILD_CI_MONTH>49</REN_CHILD_CI_MONTH> -- quoteCoverInitialEarningsPeriod + 1
                ...
            </Details>
        </COMMISSION_DATA>
    </DATA>
</QUOTE_DATA>{code}

*Quote Document Service Response*

{noformat}{
  data:{
    ""documentId"": <doc_id>
  }
}{noformat}",,Antony.Gorman,Jim Houghton,Nathan Punzalan,,,,,6149b13472728e006f9441d6,60cc71a22bd21400692fd2af,613f22fdff23ba00715469d1,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,10/Nov/21 4:41 PM;nathan.punzalan;document (22).pdf;https://gghltd.atlassian.net/secure/attachment/23479/document+%2822%29.pdf,10/Nov/21 4:41 PM;nathan.punzalan;image-20211110-164008.png;https://gghltd.atlassian.net/secure/attachment/23477/image-20211110-164008.png,10/Nov/21 4:41 PM;nathan.punzalan;image-20211110-164050.png;https://gghltd.atlassian.net/secure/attachment/23480/image-20211110-164050.png,10/Nov/21 4:41 PM;nathan.punzalan;request.txt;https://gghltd.atlassian.net/secure/attachment/23478/request.txt,,,,,,,,,"*Given* any document/quote request with a quoteCover of productType = “ccic” attached to either applicant
*When* constructing the elissa quote document request for quoteCovers
*And* quote.quoteApplicant.quoteCover with productType = “ccic”
*Then* set PA_CCIC to true
*And* map quoteCover.coverAmount to CCIC_AMT (format n,nnn,nnn)
*And* map quoteCover.quoteCoverPremium to CCIC_PREM (format £n,nnn.nn)
*And* map quoteCover.quoteCoverRenewalCommission to REN_CHILD_CI (format £n,nnn.nn)
*And* map quoteCover.quoteCoverInitialEarningsPeriod + 1 to REN_CHILD_CI_MONTH
*And* add quoteCover.quoteCoverInitialCommission to INIT_COMMISSION running total (format n,nnn,nnn)

_Building on all of the above:_

*Given* a successfully generated document
*When* retrieving document
*And* decoding to pdf
*Then* the above items are included as expected with the correct format",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,NBJ-34,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1|i00qoe:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,Guardian Sprint 4,,,,,,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-05 15:20:43.757,05/Nov/21 3:20 PM;6149b13472728e006f9441d6;the AC references CCIC_AMT but the xml body of the story uses CCIC_SUM - just a headsup that the xml example we build code from uses CCIC_SUM so this is what I’ve gone with.,05/Nov/21 3:32 PM;6149b13472728e006f9441d6;NB TODO; the request JSON needs to change to reflect the Cover->ChildCovers structure instead of being flat. see [\[NBJ-309] ChildCI quoteCover - Gryphon Group Holdings (atlassian.net)|https://gghltd.atlassian.net/browse/NBJ-309] - this ahs been implemented in the service now. The request JSON should now reflect the structure from story 309,"10/Nov/21 4:41 PM;613f22fdff23ba00715469d1;[~accountid:6149b13472728e006f9441d6] I have generated a document with request: 

[^request.txt]

However, when I decoded the base64 into a PDF file, I spotted a few errors:

# Cover Amount shown has two “£” symbols

!image-20211110-164008.png|width=685,height=183!
# initialCommission for childCover is not being added to the total initialCommission shown in the document (initialCommission only shows total for the two adult covers)

!image-20211110-164050.png|width=692,height=265!

Please find an example document that I generated based on the request above:


[^document (22).pdf]

",11/Nov/21 11:13 AM;6149b13472728e006f9441d6;[~accountid:613f22fdff23ba00715469d1] heya - a fix for this has been deployed to UWT.,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Quote Document Request - second applicant quoteCovers aci,NBJ-471,39378,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,18/Oct/21 2:36 PM,10/Nov/21 4:03 PM,02/Feb/22 6:31 PM,10/Nov/21 4:03 PM,,Foundation Release,,DocumentGeneration,Sprint_4,,"*As an* api user
*So that* I am able to generate a quote document
*I want* to be able to vary 2nd applicant aci quoteCovers

*Implementation Notes*

# {{POST /api/v1/document/quote}} 
# This is a dual life request
# It is intended to fill out all the aci quoteCover details for the secondary applicant (SA)
# Note - term and toAge are mutually exclusive, so duplicate acceptance criteria are included foreach below for completeness
# Once document generated [https://gghltd.atlassian.net/browse/NBJ-423|https://gghltd.atlassian.net/browse/NBJ-423|smart-link] explains how to get base64 encoded content that can be converted to pdf

*Quote Document Service Request*

{code:json}{
  ""expiryDate"": 20211031,
  ""showCommission"": true|false,
  applicants: [
    {
      ""id"": ""THE_ID_OF_THE_RECORD_IN_THE_DATABASE"",
      ""firstName"": ""Sam"",
      ""lastName"": ""Gamble"",
      ""dateOfBirth"": ""1978-10-30T00:00:00"",
      ""gender"": ""Male"",
      ""height"": 1.78,
      ""weight"": 88,
      ""title"": ""Mr"" 
    },
    ...
  ],
  quote: {
    ""applicationId"": ""G000001234"",
    ""adviserAtFirmLocationId"": """",
    ""initialCommissionSacrificePercentage"": 0-100,
    ""initialIndemnityPercentage"": 0-100,
    ""quoteAgeDate"": 20210910,
    ""quoteCreatedDate"": 20210910, --response value
    ""quotePremium"": 0.00, --response value
    ""quoteLifetimePremium"": 0.00, response value
    ""quoteUnloadedPremium"": 0.00, --response value
    ""quoteDiscount"": 0.00, --response values, possibly not
    ""quoteApplicants"": [
      {
        ""dateOfbirth"": 19711207,
        ""gender"": ""male | female"",
        ""smokerStatus"": ""None in the last 5 years | None in last 12 months | I have used tobacco or replacement products in last 12 months"",
        ""quoteApplicantPremium"": 0.00, --response premium
        ""quoteCovers"": [
          {
            ""productType"": ""life"",
            ""coverType"": ""level | increasing | decreasing | family"",
            ""term"": 3, -- not required if toAge specified
            ""toAge"": 65, -- not required if term specified
            ""coverAmount"": 100000,
            ""isParentCoverForCcic"": true | false, -- determines if this cover is the container for the Child CI cover in this application
            ""quoteCoverPremium"": 0.00, --response value
            ""quoteCoverLifetimePremium"": 0.00, --response value
            ""quoteCoverUnloadedPremium"": 0.00, --response value
            ""quoteCoverInitialCommission"": 0.00, --response value
            ""quoteCoverInitialEarningsPeriod"": 00, --in months, response value
            ""quoteCoverRenewalCommission"": 0.00 --response value
          },
          { ""..."" },
          { ""..."" }
        ],
        ""quoteUnderwritingOutcomes"": [
          {
            ""productType"": ""life | ci | aci | ccic"",
            ""emRating"": 200,
            ""permPMRating"": 5,
            ""quoteExclusions"": [
              {
                ""exclusionOrRemoval"": ""Exclude | Remove"",
                ""exclusionValue"": 1001
              },
              { ""..."" }
            ]
          },
          { ""..."" }
        ],
      },
      {
        ""...""
      }
    ],
  }
}{code}

*Lissia Document Request*

Below is the Lissia request with values created from the service request

{code:xml}<QUOTE_DATA>
    <DATA>
        ...
        <SA_ACI>true</SA_ACI> -- inidicates presence of ACI for Life
        ...
        <SA_ACI_TYPE>Level</SA_ACI_TYPE> -- quoteCover.coverType
        <SA_ACI_AMT>350,000</SA_ACI_AMT> -- quoteCover.coverAmount
        <SA_ACI_TERM>25</SA_ACI_TERM> -- quoteCover.term
        <SA_ACI_AGE>0</SA_ACI_AGE> -- quoteCover.toAge
        <SA_ACI_PREM>£238.37</SA_ACI_PREM> -- quoteCover.quoteCoverPremium
        ...
        <TYPE>joint</TYPE> -- based on number of applicants
        <COMMISSION_DATA>
            <Details>
                <INIT_COMMISSION>£8,431.20</INIT_COMMISSION> -- sum of all quoteCoverInitialCommission on all covers
                ...
                <REN_SA_ACI>£5.96</REN_SA_ACI> -- quoteCoverRenewalCommission
                ...
                <REN_SA_ACI_MONTH>49</REN_SA_ACI_MONTH> -- quoteCoverInitialEarningsPeriod + 1
            </Details>
        </COMMISSION_DATA>
    </DATA>
</QUOTE_DATA>{code}

*Quote Document Service Response*

{noformat}{
  data:{
    ""documentId"": <doc_id>
  }
}{noformat}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,NBJ-472,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* a single life document/quote request with any number of quote covers \[current limit one of each product type on an applicant - 4], at least of productType = “aci” with a term specified
*When* constructing the elissa quote document request for quoteCovers in the second applicant
*And* quote.quoteApplicant.quoteCover with productType = “aci”
*Then*  set SA_ACI to true
*And* map quoteCover.coverType to SA_ACI_TYPE
*And* map quoteCover.coverAmount to SA_ACI_AMT (format n,nnn,nnn)
*And* map quoteCover.term to SA_ACI_TERM
*And* map quoteCover.quoteCoverPremium to SA_ACI_PREM (format £n,nnn.nn)
*And* map quoteCover.quoteCoverRenewalCommission to REN_SA_ACI (format £n,nnn.nn)
*And* map quoteCover.quoteCoverInitialEarningsPeriod + 1 to REN_SA_ACI_MONTH
*And* add quoteCover.quoteCoverInitialCommission to INIT_COMMISSION running total (format n,nnn,nnn)

*Given* a single life document/quote request with any number of quote covers \[current limit one of each product type on an applicant - 4], at least of productType = “aci” with a toAge specified
*When* constructing the elissa quote document request for quoteCovers in the second applicant
*And* quote.quoteApplicant.quoteCover with productType = “aci”
*Then* set SA_ACI to true
*And* map quoteCover.coverType to SA_ACI_TYPE
*And* map quoteCover.coverAmount to SA_ACI_AMT (format n,nnn,nnn)
*And* map quoteCover.toAge to SA_ACI_AGE
*And* map quoteCover.quoteCoverPremium to SA_ACI_PREM (format £n,nnn.nn)
*And* map quoteCover.quoteCoverRenewalCommission to REN_SA_ACI (format £n,nnn.nn)
*And* map quoteCover.quoteCoverInitialEarningsPeriod + 1 to REN_SA_ACI_MONTH
*And* add quoteCover.quoteCoverInitialCommission to INIT_COMMISSION running total (format n,nnn,nnn)

_Building on all of the above:_

*Given* a successfully generated document
*When* retrieving document
*And* decoding to pdf
*Then* the above items are included as expected with the correct format",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,NBJ-34,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1|i00qob:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,Guardian Sprint 4,,,,,,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Quote Document Request - second applicant quoteCovers ci,NBJ-470,39377,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,18/Oct/21 2:36 PM,10/Nov/21 4:17 PM,02/Feb/22 6:31 PM,10/Nov/21 4:17 PM,,Foundation Release,,DocumentGeneration,Sprint_4,,"*As an* api user
*So that* I am able to generate a quote document
*I want* to be able to vary second life ci quoteCovers

*Implementation Notes*

# {{POST /api/v1/document/quote}} 
# This is a dual life request
# It is intended to fill out all the ci quoteCover details for the secondary applicant (SA)
# Note - term and toAge are mutually exclusive, so duplicate acceptance criteria are included foreach below for completeness
# Once document generated [https://gghltd.atlassian.net/browse/NBJ-423|https://gghltd.atlassian.net/browse/NBJ-423|smart-link] explains how to get base64 encoded content that can be converted to pdf

*Quote Document Service Request*

{code:json}{
  ""expiryDate"": 20211031,
  ""showCommission"": true|false,
  applicants: [
    {
      ""id"": ""THE_ID_OF_THE_RECORD_IN_THE_DATABASE"",
      ""firstName"": ""Sam"",
      ""lastName"": ""Gamble"",
      ""dateOfBirth"": ""1978-10-30T00:00:00"",
      ""gender"": ""Male"",
      ""height"": 1.78,
      ""weight"": 88,
      ""title"": ""Mr"" 
    },
    ...
  ],
  quote: {
    ""applicationId"": ""G000001234"",
    ""adviserAtFirmLocationId"": """",
    ""initialCommissionSacrificePercentage"": 0-100,
    ""initialIndemnityPercentage"": 0-100,
    ""quoteAgeDate"": 20210910,
    ""quoteCreatedDate"": 20210910, --response value
    ""quotePremium"": 0.00, --response value
    ""quoteLifetimePremium"": 0.00, response value
    ""quoteUnloadedPremium"": 0.00, --response value
    ""quoteDiscount"": 0.00, --response values, possibly not
    ""quoteApplicants"": [
      {
        ""dateOfbirth"": 19711207,
        ""gender"": ""male | female"",
        ""smokerStatus"": ""None in the last 5 years | None in last 12 months | I have used tobacco or replacement products in last 12 months"",
        ""quoteApplicantPremium"": 0.00, --response premium
        ""quoteCovers"": [
          {
            ""productType"": ""life"",
            ""coverType"": ""level | increasing | decreasing | family"",
            ""term"": 3, -- not required if toAge specified
            ""toAge"": 65, -- not required if term specified
            ""coverAmount"": 100000,
            ""isParentCoverForCcic"": true | false, -- determines if this cover is the container for the Child CI cover in this application
            ""quoteCoverPremium"": 0.00, --response value
            ""quoteCoverLifetimePremium"": 0.00, --response value
            ""quoteCoverUnloadedPremium"": 0.00, --response value
            ""quoteCoverInitialCommission"": 0.00, --response value
            ""quoteCoverInitialEarningsPeriod"": 00, --in months, response value
            ""quoteCoverRenewalCommission"": 0.00 --response value
          },
          { ""..."" },
          { ""..."" }
        ],
        ""quoteUnderwritingOutcomes"": [
          {
            ""productType"": ""life | ci | aci | ccic"",
            ""emRating"": 200,
            ""permPMRating"": 5,
            ""quoteExclusions"": [
              {
                ""exclusionOrRemoval"": ""Exclude | Remove"",
                ""exclusionValue"": 1001
              },
              { ""..."" }
            ]
          },
          { ""..."" }
        ],
      },
      {
        ""...""
      }
    ],
  }
}{code}

*Lissia Document Request*

Below is the Lissia request with values created from the service request

{code:xml}<QUOTE_DATA>
    <DATA>
        ...
        <SA_CI_TYPE>Decreasing</SA_CI_TYPE> -- quoteCover.coverType on quoteCovers with productType Ci
        <SA_CI_AMT>250,000</SA_CI_AMT> -- quoteCover.coverAmount on quoteCovers with productType Ci
        <SA_CI_TERM>25</SA_CI_TERM> -- quoteCover.term on quoteCovers with productType Ci
        <SA_CI_AGE>0</SA_CI_AGE> -- quoteCover.toAge on quoteCovers with productType Ci
        <SA_CI_PREM>£99.23</SA_CI_PREM> -- quoteCover.quoteCoverPremium on quoteCovers with productType Ci
        ...
        <SA_CI>true</SA_CI> -- Indicates presence of CI for Life
        ...
        <TYPE>joint</TYPE> -- based on number of applicants
        <COMMISSION_DATA>
            <Details>
                <INIT_COMMISSION>£8,431.20</INIT_COMMISSION> -- sum of all quoteCoverInitialCommission on all covers
                ...
                <REN_SA_CI>£2.48</REN_SA_CI> -- quoteCoverRenewalCommission
                ...
                <REN_SA_CI_MONTH>49</REN_SA_CI_MONTH> -- quoteCoverInitialEarningsPeriod + 1
                ...
            </Details>
        </COMMISSION_DATA>
    </DATA>
</QUOTE_DATA>{code}

*Quote Document Service Response*

{noformat}{
  data:{
    ""documentId"": <doc_id>
  }
}{noformat}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,10/Nov/21 4:17 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/23476/LivingDoc.html,10/Nov/21 4:17 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;Two applicants second applicant has a ci product.pdf;https://gghltd.atlassian.net/secure/attachment/23474/Two+applicants+second+applicant+has+a+ci+product.pdf,10/Nov/21 4:17 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;Two applicants second applicant has a toAge ci product.pdf;https://gghltd.atlassian.net/secure/attachment/23475/Two+applicants+second+applicant+has+a+toAge+ci+product.pdf,,,,,,,,,,"*Given* a single life document/quote request with any number of quote covers \[current limit one of each product type on an applicant - 4], at least of productType = “ci” with a term specified
*When* constructing the elissa quote document request for quoteCovers in the second applicant
*And* quote.quoteApplicant.quoteCover with productType = “ci”
*Then* set SA_CI to true
*And* map quoteCover.coverType to SA_CI_TYPE
*And* map quoteCover.coverAmount to SA_CI_AMT (format n,nnn,nnn)
*And* map quoteCover.term to SA_CI_TERM
*And* map quoteCover.quoteCoverPremium to SA_CI_PREM (format £n,nnn.nn)
*And* map quoteCover.quoteCoverRenewalCommission to REN_SA_CI (format £n,nnn.nn)
*And* map quoteCover.quoteCoverInitialEarningsPeriod + 1 to REN_SA_CI_MONTH
*And* add quoteCover.quoteCoverInitialCommission to INIT_COMMISSION running total (format n,nnn,nnn)

*Given* a single life document/quote request with any number of quote covers \[current limit one of each product type on an applicant - 4], at least of productType = “ci” with a toAge specified
*When* constructing the elissa quote document request for quoteCovers in the second applicant
*And* quote.quoteApplicant.quoteCover with productType = “ci”
*Then* set SA_CI to true
*And* map quoteCover.coverType to SA_CI_TYPE
*And* map quoteCover.coverAmount to SA_CI_AMT (format n,nnn,nnn)
*And* map quoteCover.toAge to SA_CI_AGE
*And* map quoteCover.quoteCoverPremium to SA_CI_PREM (format £n,nnn.nn)
*And* map quoteCover.quoteCoverRenewalCommission to REN_SA_CI (format £n,nnn.nn)
*And* map quoteCover.quoteCoverInitialEarningsPeriod + 1 to REN_SA_CI_MONTH
*And* add quoteCover.quoteCoverInitialCommission to INIT_COMMISSION running total (format n,nnn,nnn)

_Building on all of the above:_

*Given* a successfully generated document
*When* retrieving document
*And* decoding to pdf
*Then* the above items are included as expected with the correct format",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,NBJ-34,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1|i00ng6:k,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,Guardian Sprint 4,,,,,,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Quote Document Request - quoteCovers aci,NBJ-469,39376,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,18/Oct/21 2:34 PM,10/Nov/21 3:23 PM,02/Feb/22 6:31 PM,10/Nov/21 3:23 PM,,Foundation Release,,DocumentGeneration,Sprint_3,,"*As an* api user
*So that* I am able to generate a quote document
*I want* to be able to vary aci products requested

*Implementation Notes*

# {{POST /api/v1/document/quote}} 
# This is still only a single life request
# It is intended to fill out all the aci quoteCover details for the primary applicant (PA)
# Note - term and toAge are mutually exclusive, so duplicate acceptance criteria are included foreach below for completeness
# Once document generated [https://gghltd.atlassian.net/browse/NBJ-423|https://gghltd.atlassian.net/browse/NBJ-423|smart-link] explains how to get base64 encoded content that can be converted to pdf

_Quote Document Service Request_

{code:json}{
  ""expiryDate"": 20211031,
  ""showCommission"": true|false,
  applicants: [
    {
      ""id"": ""THE_ID_OF_THE_RECORD_IN_THE_DATABASE"",
      ""firstName"": ""Sam"",
      ""lastName"": ""Gamble"",
      ""dateOfBirth"": ""1978-10-30T00:00:00"",
      ""gender"": ""Male"",
      ""smokerStatus"": ""None in the last 5 years | None in last 12 months | I have used tobacco or replacement products in last 12 months"",
      ""height"": 1.78,
      ""weight"": 88,
      ""title"": ""Mr"" 
    },
    ...
  ],
  quote: {
    ""quoteApplicants"": [
      {
        ""dateOfbirth"": 19711207,
        ""gender"": ""male | female"",
        ""smokerStatus"": ""None in the last 5 years | None in last 12 months | I have used tobacco or replacement products in last 12 months"",
        ""premium"": 0.00, --response premium
        ""covers"": [
          {
            ""productType"": ""aci"",
            ""coverType"": ""level | increasing | decreasing | family"",
            ""term"": 3, -- not required if toAge specified
            ""toAge"": 65, -- not required if term specified
            ""coverAmount"": 100000,
            ""isParentCoverForCcic"": true | false, -- determines if this cover is the container for the Child CI cover in this application
            ""premium"": 0.00, --response value
            ""lifetimePremium"": 0.00, --response value
            ""unloadedPremium"": 0.00, --response value
            ""initialCommission"": 0.00, --response value
            ""initialEarningsPeriod"": 00, --in months, response value
            ""renewalCommission"": 0.00 --response value
          },
          { ""..."" },
          { ""..."" }
        ],
        ""underwritingOutcomes"": [
          { ""..."" },
          { ""..."" }
        ],
      },
      {
        ""...""
      }
    ],
  }
}{code}

_Lissia Document Request_

Below is the Lissia request with values created from the service request

{code:xml}<QUOTE_DATA>
    <DATA>
        ...
        <PA_ACI>true</PA_ACI> -- inidicates presence of ACI for Life
        ...
        <PA_ACI_TYPE>Increasing</PA_ACI_TYPE> -- quoteCover.coverType
        <PA_ACI_AMT>300,000</PA_ACI_AMT> -- quoteCover.coverAmount
        <PA_ACI_TERM>25</PA_ACI_TERM> -- quoteCover.term
        <PA_ACI_AGE>0</PA_ACI_AGE> -- quoteCover.toAge
        <PA_ACI_PREM>£114.44</PA_ACI_PREM> -- quoteCover.quoteCoverPremium
        ...
        <TYPE>single</TYPE>
        <COMMISSION_DATA>
            <Details>
                <INIT_COMMISSION>£8,431.20</INIT_COMMISSION> -- sum of all quoteCoverInitialCommission on all covers
                ...
                <SWITCH>true</SWITCH>
                <REN_PA_ACI>£2.86</REN_PA_ACI> -- quoteCoverRenewalCommission
                ...
                <REN_PA_ACI_MONTH>49</REN_PA_ACI_MONTH> -- quoteCoverInitialEarningsPeriod + 1
                ...
            </Details>
        </COMMISSION_DATA>
    </DATA>
</QUOTE_DATA>{code}

_Quote Document Service Response_

{noformat}{
  data:{
    ""documentId"": <doc_id>
  }
}{noformat}",,Antony.Gorman,Chris.Hibbert,James Bartlett,Jim Houghton,,,,6149b13472728e006f9441d6,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,21/Oct/21 10:02 AM;ug:054c2fdc-1fad-4c0c-af9d-fbc13b8ca3e2;NBJ-469 Quote Document.pdf;https://gghltd.atlassian.net/secure/attachment/23004/NBJ-469+Quote+Document.pdf,21/Oct/21 10:02 AM;ug:054c2fdc-1fad-4c0c-af9d-fbc13b8ca3e2;NBJ-469 XML.xml;https://gghltd.atlassian.net/secure/attachment/23005/NBJ-469+XML.xml,,,,,,,,,,,"*Given* a single life document/quote request with any number of quote covers with at least one of productType = “aci” with a term specified \[current limit one of each product type on an applicant - 4]
*When* constructing the elissa quote document request
*And* quote.quoteApplicant.quoteCover with productType = “aci”
*Then* set PA_ACI to true
*And* map quoteCover.coverType to PA_ACI_TYPE
*And* map quoteCover.coverAmount to PA_ACI_AMT (format n,nnn,nnn)
*And* map quoteCover.term to PA_ACI_TERM
*And* map quoteCover.quoteCoverPremium to PA_ACI_PREM (format £n,nnn.nn)
*And* map quoteCover.quoteCoverRenewalCommission to REN_PA_ACI (format £n,nnn.nn)
*And* map quoteCover.quoteCoverInitialEarningsPeriod + 1 to REN_PA_ACI_MONTH
*And* add quoteCover.quoteCoverInitialCommission to INIT_COMMISSION running total (format £n,nnn.nn)

*Given* a single life document/quote request with any number of quote covers, with at least one of productType = “aci” with a toAge specified \[current limit one of each product type on an applicant - 4]
*When* constructing the elissa quote document request 
*And* quote.quoteApplicant.quoteCover with productType = “aci”
*Then* set PA_ACI to true
*And* map quoteCover.coverType to PA_ACI_TYPE
*And* map quoteCover.coverAmount to PA_ACI_AMT (format n,nnn,nnn)
*And* map quoteCover.toAge to PA_ACI_AGE
*And* map quoteCover.quoteCoverPremium to PA_ACI_PREM (format £n,nnn.nn)
*And* map quoteCover.quoteCoverRenewalCommission to REN_PA_ACI (format £n,nnn.nn)
*And* map quoteCover.quoteCoverInitialEarningsPeriod + 1 to REN_PA_ACI_MONTH
*And* add quoteCover.quoteCoverInitialCommission to INIT_COMMISSION running total (format £n,nnn.nn)

_Building on all of the above:_

*Given* a successfully generated document
*When* retrieving document
*And* decoding to pdf
*Then* the above items are included as expected with the correct format",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,NBJ-34,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1|hzwil2:zzzzyy,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,Guardian Sprint 4,,,,,,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-04 11:43:45.029,04/Nov/21 11:43 AM;6149b13472728e006f9441d6;altered request JSON as per agreement with Sam on previous document service story.,"08/Nov/21 5:26 PM;6139c49114e8340071fcda09;(flag) Flag added

blocked by the issue reported in NBJ-419","09/Nov/21 7:29 AM;60cc71a1d5dde800713a2124;(flagoff) Flag removed

Fixed as per NBJ-419.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Quote Document Request - quoteCovers Ci,NBJ-468,39375,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,18/Oct/21 2:34 PM,10/Nov/21 9:29 AM,02/Feb/22 6:31 PM,10/Nov/21 9:29 AM,,Foundation Release,,DocumentGeneration,Sprint_3,,"*As an* api user
*So that* I am able to generate a quote document
*I want* to be able to vary ci products requested

*Implementation Notes*

# {{POST /api/v1/document/quote}} 
# This is still only a single life request
# It is intended to fill out all the ci quoteCover details for the primary applicant (PA) ci quoteCover requests
# Note - term and toAge are mutually exclusive, so duplicate acceptance criteria are included foreach below for completeness
# Once document generated [https://gghltd.atlassian.net/browse/NBJ-423|https://gghltd.atlassian.net/browse/NBJ-423|smart-link] explains how to get base64 encoded content that can be converted to pdf

_Quote Document Service Request_

{code:json}{
  ""expiryDate"": 20211031,
  ""showCommission"": true|false,
  applicants: [
    {
      ""id"": ""THE_ID_OF_THE_RECORD_IN_THE_DATABASE"",
      ""firstName"": ""Sam"",
      ""lastName"": ""Gamble"",
      ""dateOfBirth"": ""1978-10-30T00:00:00"",
      ""gender"": ""Male"",
      ""smokerStatus"": ""None in the last 5 years | None in last 12 months | I have used tobacco or replacement products in last 12 months"",
      ""height"": 1.78,
      ""weight"": 88,
      ""title"": ""Mr"" 
    },
    ...
  ],
  quote: {
    ""quoteApplicants"": [
      {
        ""dateOfbirth"": 19711207,
        ""gender"": ""male | female"",
        ""smokerStatus"": ""None in the last 5 years | None in last 12 months | I have used tobacco or replacement products in last 12 months"",
        ""quoteApplicantPremium"": 0.00, --response premium
        ""quoteCovers"": [
          {
            ""productType"": ""ci"",
            ""coverType"": ""level | increasing | decreasing | family"",
            ""term"": 3, -- not required if toAge specified
            ""toAge"": 65, -- not required if term specified
            ""coverAmount"": 100000,
            ""isParentCoverForCcic"": true | false, -- determines if this cover is the container for the Child CI cover in this application
            ""quoteCoverPremium"": 0.00, --response value
            ""quoteCoverLifetimePremium"": 0.00, --response value
            ""quoteCoverUnloadedPremium"": 0.00, --response value
            ""quoteCoverInitialCommission"": 0.00, --response value
            ""quoteCoverInitialEarningsPeriod"": 00, --in months, response value
            ""quoteCoverRenewalCommission"": 0.00 --response value
          },
          { ""..."" },
          { ""..."" }
        ],
        ""quoteUnderwritingOutcomes"": [
          { ""..."" },
          { ""..."" }
        ],
      },
      {
        ""...""
      }
    ],
  }
}{code}

_Lissia Document Request_

Below is the Lissia request with values created from the service request

{code:xml}<QUOTE_DATA>
    <DATA>
        ...
        <PA_CI_TYPE>Decreasing</PA_CI_TYPE> -- quoteCover.coverType on quoteCovers with productType Ci
        <PA_CI_AMT>200,000</PA_CI_AMT> -- quoteCover.coverAmount on quoteCovers with productType Ci
        <PA_CI_TERM>25</PA_CI_TERM> -- quoteCover.term on quoteCovers with productType Ci
        <PA_CI_AGE>0</PA_CI_AGE> -- quoteCover.toAge on quoteCovers with productType Ci
        <PA_CI_PREM>£54.56</PA_CI_PREM> -- quoteCover.quoteCoverPremium on quoteCovers with productType Ci
        ...
        <PA_LIFE>false</PA_LIFE> -- Indicates presence of Life for Life
        <PA_CI>true</PA_CI> -- Inidcates presence of CI for Life
        <PA_FRA>false</PA_FRA> -- not applicable always false
        ...
        <PA_CCIC>false</PA_CCIC> -- indicates presence of CCIC for life
        <PA_ACI>false</PA_ACI> -- inidicates presence of ACI for Life
        ...
        <TYPE>single</TYPE>
        <COMMISSION_DATA>
            <Details>
                <INIT_COMMISSION>£8,431.20</INIT_COMMISSION> -- sum of all quoteCoverInitialCommission on all covers
                ...
                <REN_PA_CI>£1.36</REN_PA_CI> -- quoteCoverRenewalCommission
                ...
                <REN_PA_CI_MONTH>49</REN_PA_CI_MONTH> -- quoteCoverInitialEarningsPeriod + 1
                ...
                <SWITCH>true</SWITCH>
                ...
            </Details>
        </COMMISSION_DATA>
    </DATA>
</QUOTE_DATA>{code}

_Quote Document Service Response_

{noformat}{
  data:{
    ""documentId"": <doc_id>
  }
}{noformat}",,Chris.Hibbert,James Bartlett,Jim Houghton,,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,10/Nov/21 9:28 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/23425/LivingDoc.html,21/Oct/21 9:05 AM;ug:054c2fdc-1fad-4c0c-af9d-fbc13b8ca3e2;NBJ-468 Quote Document.pdf;https://gghltd.atlassian.net/secure/attachment/23002/NBJ-468+Quote+Document.pdf,21/Oct/21 9:00 AM;ug:054c2fdc-1fad-4c0c-af9d-fbc13b8ca3e2;NBJ-468 XML.xml;https://gghltd.atlassian.net/secure/attachment/23000/NBJ-468+XML.xml,10/Nov/21 9:29 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;documents.zip;https://gghltd.atlassian.net/secure/attachment/23426/documents.zip,,,,,,,,,"*Given* a single life document/quote request with any number of quote covers with at least one of productType = “ci” with a term specified \[current limit one of each product type on an applicant - 4]
*When* constructing the elissa quote document request
*And* quote.quoteApplicant.quoteCover with productType = “ci”
*Then* set PA_CI to true
*And* map quoteCover.coverType to PA_CI_TYPE
*And* map quoteCover.coverAmount to PA_CI_AMT (format n,nnn,nnn)
*And* map quoteCover.term to PA_CI_TERM
*And* map quoteCover.quoteCoverPremium to PA_CI_PREM (format £n,nnn.nn)
*And* map quoteCover.quoteCoverRenewalCommission to REN_PA_CI (format £n,nnn.nn)
*And* map quoteCover.quoteCoverInitialEarningsPeriod + 1 to REN_PA_CI_MONTH 
*And* add quoteCover.quoteCoverInitialCommission to INIT_COMMISSION running total (format n,nnn,nnn)

*Given* a single life document/quote request with any number of quote covers, with at least one of productType = “ci” with a toAge specified \[current limit one of each product type on an applicant - 4]
*When* constructing the elissa quote document request 
*And* quote.quoteApplicant.quoteCover with productType = “ci”
*Then* set PA_CI to true
*And* map quoteCover.coverType to PA_CI_TYPE
*And* map quoteCover.coverAmount to PA_CI_AMT (format n,nnn,nnn)
*And* map quoteCover.toAge to PA_CI_AGE
*And* map quoteCover.quoteCoverPremium to PA_CI_PREM (format £n,nnn.nn)
*And* map quoteCover.quoteCoverRenewalCommission to REN_PA_CI (format £n,nnn.nn)
*And* map quoteCover.quoteCoverInitialEarningsPeriod + 1 to REN_PA_CI_MONTH
*And* add quoteCover.quoteCoverInitialCommission to INIT_COMMISSION running total (format n,nnn,nnn)

_Building on all of the above:_

*Given* a successfully generated document
*When* retrieving document
*And* decoding to pdf
*Then* the above items are included as expected with the correct format",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,NBJ-34,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1|hzwil2:zzzzyx,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,Guardian Sprint 4,,,,,,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-08 17:25:07.605,"08/Nov/21 5:25 PM;6139c49114e8340071fcda09;(flag) Flag added

blocked by the same issue reported in NBJ-419","09/Nov/21 7:28 AM;60cc71a1d5dde800713a2124;(flagoff) Flag removed

Fixed as per NBJ-419.","10/Nov/21 9:01 AM;6139c49114e8340071fcda09;(flag) Flag added

just checking this doesn&#39;t cover multiple CI covers",10/Nov/21 9:06 AM;60cc71a22bd21400692fd2af;[~accountid:6139c49114e8340071fcda09] - the document can only handle one of each cover type (Life/ci/aci) per applicant.,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Create applicant - validation fails if date of birth is blank,NBJ-467,39367,,Bug,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Low,,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,18/Oct/21 1:13 PM,17/Dec/21 5:18 PM,02/Feb/22 6:31 PM,,,,,,,,,,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: if the date of birth is missing from an applicant request, the error returned is not as expected.

Business Impact: This should not be a real issue as the calling services should always provide a date of birth.

Steps to Reproduce:
Create an applicant with the following request body
{code:java}
{
  ""firstName"": ""Sam"",
  ""lastName"": ""Gamble"",
  ""dateOfBirth"": """",
  ""gender"": ""Male"",
  ""height"": 178,
  ""weight"": 88,
  ""title"": ""Mr""
}
{code}



Expected Results: 
{code:java}
{
    ""errors"": [
        {
            ""errorMessage"": ""'Date Of Birth' must not be empty."",
            ""propertyName"": ""DateOfBirth"",
            ""attemptedValue"": null
        }
    ]
}
{code}

Actual Result:
{code:java}
{
    ""errors"": {
        ""type"": ""https://tools.ietf.org/html/rfc7231#section-6.5.1"",
        ""title"": ""One or more validation errors occurred."",
        ""status"": 400,
        ""traceId"": ""00-35efc69e9803f14b9ed2221eb8e1cb0d-1b8817597f27b64b-00"",
        ""errors"": {
            ""$.dateOfBirth"": [
                ""The JSON value could not be converted to System.Nullable`1[System.DateTime]. Path: $.dateOfBirth | LineNumber: 3 | BytePositionInLine: 19.""
            ]
        }
    }
}
{code}

Version: ???",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00pm3:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Oct/21 1:13 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Update 'Your Ref' field,NBJ-466,39354,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,John.LeQuesne,5db187687b20d80c2a25b574,John.LeQuesne,5db187687b20d80c2a25b574,18/Oct/21 12:08 PM,10/Jan/22 1:03 PM,02/Feb/22 6:31 PM,10/Jan/22 1:03 PM,,Foundation Release,,Apply,Sprint_8,,"*As an* Adviser
*I want* to add my own reference to applications
*So that* I can tie them into my own CRM systems more easily

h4. Implementation Notes

* Uses [NBJ-564] to allow the data to be stored / retrieved
* Field needs to be limited to 20 characters
* A save on Your Ref doesnt save any changes to other fields

!Screenshot 2021-12-09 at 10.38.47.png|width=857,height=305!",,Chris.Hibbert,John.LeQuesne,Justin.Smith,,,,,60cc71a1d5dde800713a2124,5db187687b20d80c2a25b574,618bdfc5fba4d0006ad4853e,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,NBJ-564,,,,,,,,,,,,,09/Dec/21 10:42 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-12-09 at 10.38.47.png;https://gghltd.atlassian.net/secure/attachment/24179/Screenshot+2021-12-09+at+10.38.47.png,10/Jan/22 11:51 AM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220110-114708.png;https://gghltd.atlassian.net/secure/attachment/24890/image-20220110-114708.png,,,,,,,,,,,"*Given*: An application without a {{thirdPartyRef}}
*When*: Viewing the Summary panel
*Then*:  “Add own reference” is shown (with icon)

*Given*: An application
*When*: Clicking to add or edit you own reference
*Then*: The Add your own reference modal is shown

*Given*: An application
*When*: Clicking save on the add your own reference (even if the new ref is empty)
*Then*: Updates are saved to the application record

*Given*: An application
*When*: Clicking cancel on the add your own reference (no (x) button top right)
*Then*: Updates are not saved to the application record

*Given*: An application
*When*: Viewing the Your Ref field
*Then*:  The data shown in {{thirdPartyRef}} is shown “Your ref: <stuff goes here>”
*and:* An “Edit your reference” is shown",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,POST {{/api/v1/backendforfrontend/application/{{applicationId}}/thirdPartyRef}},,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i015rk:i,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,18/Oct/21 12:08 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-10 11:51:14.528,"10/Jan/22 11:51 AM;618bdfc5fba4d0006ad4853e;A couple of points of clarification on this before I close.

# It mentions in the AC add own reference is on the summary panel.  I have seen it on both the quote and decision tabs.  Is this the correct place to look?
# Adding the reference is fine.  However, I find it a little bit unclear that it says add own reference when you may have already added a reference.  Should it change to edit own reference if the application already has a reference?  
!image-20220110-114708.png|width=1418,height=607!
The AC on this is a bit confusing - *Given*: An application
*When*: Viewing the Your Ref field
*Then*: The data shown in {{thirdPartyRef}} is shown “Your ref: <stuff goes here>”
*and:* An “Edit your reference” is shown

What is the ‘Edit your reference is shown’ about?  I guess it means you have the option to edit an existing reference and save.  

Otherwise I have automated this and looks good.  Thanks","10/Jan/22 11:59 AM;60cc71a1d5dde800713a2124;[~accountid:618bdfc5fba4d0006ad4853e] 

# That is corect
# I’ll pickup with Andy G and raise another ticket if needed
# Please raise a low priority backlog bug for the “edit your reference”.  If a reference exists, then the “Add own reference” on the summary panel should say “Edit your reference”, but its not a very material thing.","10/Jan/22 1:03 PM;618bdfc5fba4d0006ad4853e;Thanks [~accountid:60cc71a1d5dde800713a2124] 

I have raised - [https://gghltd.atlassian.net/browse/NBJ-1077|https://gghltd.atlassian.net/browse/NBJ-1077|smart-link]

Marking this ticket as done.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Filter out declined / postponed / not selected covers from quote calculation,NBJ-465,39352,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,John.LeQuesne,5db187687b20d80c2a25b574,John.LeQuesne,5db187687b20d80c2a25b574,18/Oct/21 12:04 PM,02/Dec/21 5:41 PM,02/Feb/22 6:31 PM,,,,,,,,"*As an* API User
*I want* only progressible products included in quote calculations
*So that* I only see premiums for things that I can purchase

Required at Quote & Decision stage. Where a cover is declined / postponed / not-selected, it should be removed from the Quote request to Lissia so dual life discounts etc are not applied in error",,Chris.Hibbert,John.LeQuesne,,,,,,60cc71a1d5dde800713a2124,5db187687b20d80c2a25b574,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-118,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00x1n:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Oct/21 12:04 PM,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-12-01 11:27:31.214,01/Dec/21 11:27 AM;60cc71a1d5dde800713a2124;I think this is covered by [https://gghltd.atlassian.net/browse/NBJ-680|https://gghltd.atlassian.net/browse/NBJ-680|smart-link] and NBJ-572,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Display ranged premiums,NBJ-463,39334,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Low,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,18/Oct/21 8:49 AM,14/Nov/21 5:15 PM,02/Feb/22 6:31 PM,,,,,Decision,Sprint_10,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-122,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00rln:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Oct/21 8:49 AM,,21.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Display indicative quotes for partially underwritten products,NBJ-462,39333,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,18/Oct/21 8:49 AM,07/Nov/21 4:11 PM,02/Feb/22 6:31 PM,,,Phase 1 - Menu,,Decision,Sprint_10,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-122,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00rlp:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,18/Oct/21 8:49 AM,,30.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Generate Decision document following decision,NBJ-460,39322,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,15/Oct/21 5:36 PM,02/Feb/22 12:19 PM,02/Feb/22 6:31 PM,,,Foundation Release,,Salesforce,Sprint_9,,As a Salesforce user I want to be able to view the decision document for an application once it has reached the status of decision so I can quickly see the offer that’s been made either by the URE or an UW.,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-125,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space-bx,,,,,,,No,,1|hzwih9:zjzzzzzz2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15/Oct/21 5:36 PM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Handling differences between portals,NBJ-456,39318,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,15/Oct/21 5:33 PM,02/Feb/22 1:02 PM,02/Feb/22 6:31 PM,,,Foundation Release,,PortalApply,Sprint_9,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-117,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00ma7:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15/Oct/21 5:33 PM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Routing portal apply endpoint to the new service,NBJ-455,39317,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Ian.Douglas,5e183e85c578120daca5bc7b,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,15/Oct/21 5:32 PM,02/Feb/22 1:01 PM,02/Feb/22 6:31 PM,,,Foundation Release,,PortalApply,Sprint_9,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-117,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00m9z:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15/Oct/21 5:32 PM,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Retrieve KFD / T&Cs based on quoteAgeDate,NBJ-454,39316,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,15/Oct/21 5:31 PM,24/Nov/21 6:08 PM,02/Feb/22 6:31 PM,,,Foundation Release,,DocumentGeneration,Sprint_9,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-774,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00m9r:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15/Oct/21 5:31 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
New quote button,NBJ-453,39315,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,15/Oct/21 5:31 PM,24/Oct/21 11:21 AM,02/Feb/22 6:31 PM,,,Foundation Release,,JourneyPreferences,Sprint_9,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-129,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00m9j:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15/Oct/21 5:31 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Advised / non-advised flag,NBJ-452,39314,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,15/Oct/21 5:30 PM,02/Feb/22 1:25 PM,02/Feb/22 6:31 PM,,,Foundation Release,,JourneyPreferences,Sprint_9,,Default to Yes and prevent change.,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-129,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00m9b:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15/Oct/21 5:30 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Enter quoteagedate,NBJ-451,39313,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,15/Oct/21 5:30 PM,02/Feb/22 1:24 PM,02/Feb/22 6:31 PM,,,Foundation Release,,JourneyPreferences,Sprint_9,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-129,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00m93:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15/Oct/21 5:30 PM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Block payout planner,NBJ-450,39312,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,15/Oct/21 5:30 PM,02/Feb/22 1:24 PM,02/Feb/22 6:31 PM,,,Foundation Release,,JourneyPreferences,Sprint_9,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-129,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00m8v:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15/Oct/21 5:30 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Trigger Decision Made email MUW decision,NBJ-449,39311,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Ian.Douglas,5e183e85c578120daca5bc7b,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,15/Oct/21 5:28 PM,01/Feb/22 12:43 PM,02/Feb/22 6:31 PM,,,Foundation Release,,Salesforce,Sprint_10,,"As an adviser, and account manager, I want to receive a ‘Decision Made’ email when a decision has been made by an underwriter, so I know an offer is available and can be proceeded with. ",,Chris.Hibbert,helen.scriven,,,,,,60cc71a1d5dde800713a2124,5dbd6f97fc11e40c2ff452a7,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,SBC-120,,,,,,,,,,,,,,,,,,,,,,,,,,,"Feature: *IT can still maintain a list of Account Owners that should not be copied on the Decision Made email.* (Dummy_Account_Owner) 

Feature: *Decision Made email is sent once all decisions for an NBJ2 application have been made where at least one applicant was manually underwritten* 

Scenario 1: *Single applicant is given a decision by an underwriter*

Given an NBJ2 application with a single active applicant 

And the status of the applicant is Referred to UW 

When the UW makes a decision and status of the applicant moves to Manual Decision

Then an up to date Decision Document is generated and an email is auto sent with the following attributes:

* From: No Reply (labelled Guardian)
* To: \[Firm adviser]
* Subject: Underwriting decision made
* Content: See specification at related confluence page
* Attached: Decision Document with the latest decision

Scenario 2: *Guardian* *Account Manager is copied*

Given an UW Decision Made email is being generated

And the last name of the Account Owner of the Firm Location of the Firm Adviser of the application in Salesforce is not in the Dummy_Account_Owner setting

When the Decision Made email is sent

Then the Account Owner of the Firm Location of the Firm Adviser of the application is blind copied.

Scenario 3: *Dual applicants both have been given a decision*

Given an NBJ2 application with 2 active applicants 

And the status of the one applicant is Manual Decision or STP Decision 

And the status of the other applicant is Referred to UW

When the status of the Referred applicant moves to Manual Decision

Then an up to date Decision Document is generated and an email is auto sent 

Scenario 4: *Only one dual applicant has been given a decision*

Given an NBJ2 application with 2 active applicants 

And the status of both applicant’s is Referred to UW 

When the status of the one of the applicant’s moves to Manual Decision

Then no email is sent.

Scenario 5: *One or more applicants who’ve been returned to underwriting is given a decision*

As for Scenarios 1, 2, 3 (an up to date Decision Document is generated and an email is auto sent ). and 4. 

 

Feature: *UW cases for NBJ2 applications are closed and add audit trail activity recorded*

Scenario 1: *Applicable cases exist*

Given an NBJ2 application

When the Decision Made Email is sent

Then for all cases where:

* Subject includes the Application Id \[e.g. G000007655 without the suffix] and
* Status <> Closed or Completed and
* Type = ‘Underwriting’ and
* Subtype includes Manual Underwriting, Return to Underwriting, Return to UW, AMRA, Medical Evidence, Financial Evidence, UW further Info request

The Next Action Date is updated to today and the case status is updated to ‘Closed’ and

A 'Decision Email Sent' Activity record is recorded against the case:  

Description = Decision Email Sent to Adviser and Case Closed

* Due Date = <today>
* Priority = Normal
* Assigned To = IT-GGH
* Status = Completed
* Related To = 'Case' <Case number>

Scenario 2: *Non-applicable cases exist*

Given an application

When the Decision Made Email is sent

Then for any cases where:

* Subject includes the Application Id \[e.g. G000007655 without the suffix] and
* Status <> Closed or Completed and
* Type = ‘Underwriting’ and
* Subtype does not include Manual Underwriting, Return to Underwriting, Returned to UW, AMRA, Medical Evidence, Financial Evidence, UW further Info request

Neither the Next Action Date nor the case status is updated

Regression: *NBJ1 applications as per requirements above (assuming delivery of* [https://gghltd.atlassian.net/browse/SBC-120|https://gghltd.atlassian.net/browse/SBC-120|smart-link] )",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-806,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space-bx,,,,,,,No,,1|hzwih9:zjzzzzzymm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15/Oct/21 5:28 PM,,21.0,,,,,,,,,,,,,,,,Andy Cole,5fa26bb0f7b30b006e1b6ad5,,,,,,,,,,,,,,,,2022-01-31 11:57:57.538,"31/Jan/22 11:57 AM;5dbd6f97fc11e40c2ff452a7;[~accountid:5e183e85c578120daca5bc7b] As discussed AC added for your review with John Reynolds this week. Please note there are 2 related US, 1 for NBJ2 and 1 for NBJ1. Plus 2 Confluence pages. I’ve updated the first of these, you’ll need to review the second.  [~accountid:5fa26bb0f7b30b006e1b6ad5] As discussed please review. Many thanks. [~accountid:5db187687b20d80c2a25b574] [~accountid:6061ac5d00b79f0070aa4ad3] FYI",01/Feb/22 8:33 AM;5dbd6f97fc11e40c2ff452a7;[~accountid:5e183e85c578120daca5bc7b] Made some corrections to the case subtypes to be included for closure ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Move QuoteService to its own repo,NBJ-448,39297,39265,Sub-task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Kevin.Amoa,6149b160fac3ce0069d80d37,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,15/Oct/21 1:56 PM,15/Oct/21 2:01 PM,02/Feb/22 6:31 PM,,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00m5j:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15/Oct/21 1:56 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,39265,Split repos - one per microservice,To Do
Move UnderwritingService to its own repo,NBJ-447,39296,39265,Sub-task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Jason Hughes,613f60991370f00069033c68,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,15/Oct/21 1:56 PM,15/Oct/21 2:01 PM,02/Feb/22 6:31 PM,,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00m5b:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15/Oct/21 1:56 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,39265,Split repos - one per microservice,To Do
Move ApplicationService to its own repo,NBJ-446,39295,39265,Sub-task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,15/Oct/21 1:56 PM,15/Oct/21 1:56 PM,02/Feb/22 6:31 PM,,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00m53:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15/Oct/21 1:56 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,39265,Split repos - one per microservice,To Do
Move ProductService to its own repo,NBJ-445,39294,39265,Sub-task,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Antony.Gorman,6149b13472728e006f9441d6,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,15/Oct/21 1:56 PM,15/Oct/21 2:01 PM,02/Feb/22 6:31 PM,,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00m4v:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15/Oct/21 1:56 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,39265,Split repos - one per microservice,To Do
"Set up shared, private Nuget",NBJ-444,39267,,Task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,15/Oct/21 10:46 AM,15/Oct/21 3:00 PM,02/Feb/22 6:31 PM,15/Oct/21 3:00 PM,,,,,,,We need to published versioned client libraries for each microservice so any other microservice to use. Set up Nuget to enable this.,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,* Nuget is set up in the UWT env,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00lz3:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 2,,,,,,15/Oct/21 10:46 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Split repos - one per microservice,NBJ-443,39265,,Task,Closed - Rejected,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,15/Oct/21 10:43 AM,26/Jan/22 11:50 PM,02/Feb/22 6:31 PM,,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"For each microservice in the set \[ApplicationService, QuoteService, ProductService, UnderwritingService]:

* has its own git repo
* pipeline deploys built and tested artefact to UWT env in Azure",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00lyn:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15/Oct/21 10:43 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
External updates to the underwriting enquiry session should be reflected on the front end,NBJ-442,39263,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,15/Oct/21 9:58 AM,15/Oct/21 9:58 AM,02/Feb/22 6:31 PM,,,,,,,,"If changes are made to the underwriting session for an applicant, they are not always reflected on the front end. The front end should always be in sync with the underwriting session.

For example:
Given a session controlled by the front end, I changed the value of the 'DecimalNumber' questions (in the DEV_RULESET) directly on the underwriting session. This value was not reflected on the front end even after navigating between sections.",,James Bartlett,,,,,,,6139c49114e8340071fcda09,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given:* An underwriting session is connected to an application on the front end
*When:* a question is changed directly on the underwriting session, outside of the front end
*Then:* the front end displays the new value when the question is refreshed (on changing section maybe?)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00ly7:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15/Oct/21 9:58 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Quote Document Request - set quoteApplicant premium,NBJ-441,39258,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,14/Oct/21 9:04 PM,10/Nov/21 1:11 PM,02/Feb/22 6:31 PM,10/Nov/21 1:08 PM,,Foundation Release,,DocumentGeneration,Sprint_4,,"*As an* api user
*So that* I am able to generate a quote document
*I want* to be able to vary applicant premium

*Implementation Notes*

# {{POST /api/v1/quotedocument/}} 
# This story is intended to vary quote applicant premium only

*Quote Document Service Request*

{code:json}{
  ""expiryDate"": 20211031,
  ""showCommission"": true|false,
  applicants: [
    {
      ...
    },
    ...
  ],
  quote: {
   ...
    ""quoteApplicants"": [
      {
        ...
        ""quoteApplicantPremium"": 0.00, 
        ""quoteCovers"": [
          {
            ...
          },
          { ""..."" },
          { ""..."" }
        ],
        ""quoteUnderwritingOutcomes"": [
              {""...""}
            ]
          },
          { ""..."" }
        ],
      },
      {
        ""...""
      }
    ],
  }
}{code}

*Lissia Document Request*

Below is the Lissia request with values created from the service request

{code:xml}<QUOTE_DATA>
    <DATA>
        ...
        <PA_TOT_PREM>£175.42</PA_TOT_PREM> -- quoteApplicant.quoteApplicantPremium
        <SA_TOT_PREM>£509.28</SA_TOT_PREM> -- quoteApplicant.quoteApplicantPremium
        ...
    </DATA>
</QUOTE_DATA>{code}

*Quote Document Service Response*

{noformat}{
  data:{
    ""documentId"": <doc_id>
  }
}{noformat}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,10/Nov/21 1:11 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;Applicant premium shows as expected.pdf;https://gghltd.atlassian.net/secure/attachment/23445/Applicant+premium+shows+as+expected.pdf,10/Nov/21 1:11 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc (7ca8369e-e371-43d3-8ae5-62ea682707c2).html;https://gghltd.atlassian.net/secure/attachment/23446/LivingDoc+%287ca8369e-e371-43d3-8ae5-62ea682707c2%29.html,10/Nov/21 1:08 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/23441/LivingDoc.html,10/Nov/21 1:08 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;Two applicants both with single life level cover term.pdf;https://gghltd.atlassian.net/secure/attachment/23442/Two+applicants+both+with+single+life+level+cover+term.pdf,,,,,,,,,"*Given* a single applicant document/quote request
*When* formulating the eLissia document request
*Then* set <PA_TOT_PREM> to quoteApplicant.quoteApplicantPremium

*Given* a joint applicant document/quote request
*When* formulating the eLissia document request
*Then* set <PA_TOT_PREM> to quoteApplicant.quoteApplicantPremium of first applicant
*And* set <SA_TOT_PREM> to quoteApplicant.quoteApplicantPremium of second applicant

_Building on all of the above:_

*Given* a successfully generated document
*When* retrieving document
*And* decoding to pdf
*Then* the above items are included as expected with the correct format",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-34,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwil2:zzzzyzi,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,,,,,,13/Oct/21 5:30 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Quote Document Request - Get document with a not ready response,NBJ-440,39257,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,14/Oct/21 8:22 PM,10/Nov/21 4:50 PM,02/Feb/22 6:31 PM,10/Nov/21 4:50 PM,,Foundation Release,,DocumentGeneration,Sprint_3,,"*As an* api user
*So that* I am able to get a document
*I want* a quote service

*Implementation Notes*

As it takes time to generate the document is expected behaviour that a get request may be received before the document has generated.  This story is intended to cater for that scenario.

_Quote Document request_

# {{GET /api/v1/document/{documentId}}} 

_eLissia findDocumentByDocId Request_

# Note you may need to send several requests before you receive a successful response.

{code:xml}<soap:Envelope xmlns:soap=""http://www.w3.org/2003/05/soap-envelope"" xmlns:ser=""http://service.reporting.webservice.liss.co.uk"" xmlns:xsd=""http://request.core.webservice.liss.co.uk/xsd"" xmlns:xsd1=""http://domain.core.webservice.liss.co.uk/xsd"" xmlns:xsd2=""http://request.reporting.webservice.liss.co.uk/xsd"">
   <soap:Header/>
   <soap:Body>
      <ser:findDocumentByDocId>
         <ser:request>
            <xsd:auditData>
               <xsd1:pageCode>3</xsd1:pageCode>
               <xsd1:userId>7</xsd1:userId>
            </xsd:auditData>
            <xsd2:documentId>157310</xsd2:documentId> -- documentId an service request used here 
         </ser:request>
      </ser:findDocumentByDocId>
   </soap:Body>
</soap:Envelope>{code}

_eLissia findDocumentByDocId error response_

{code:xml}<soapenv:Envelope xmlns:soapenv=""http://www.w3.org/2003/05/soap-envelope"">
   <soapenv:Header/>
   <soapenv:Body>
      <soapenv:Fault>
         <soapenv:Code>
            <soapenv:Value>soapenv:Receiver</soapenv:Value>
         </soapenv:Code>
         <soapenv:Reason>
            <soapenv:Text xml:lang=""en-US"">No document available for the supplied document id.</soapenv:Text>
         </soapenv:Reason>
         <soapenv:Detail>
            <Exception>org.apache.axis2.AxisFault: No document available for the supplied document id.{code}

_Quote findDocumentByDocId response_

{code:json}{
  data: {
    ""documentId"": <documentId requested>
  }
}{code}",,James Bartlett,Jim Houghton,Jon Reynolds,Nathan Punzalan,,,,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,616ee20e2097220071a975d2,613f22fdff23ba00715469d1,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,10/Nov/21 4:49 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/23481/LivingDoc.html,04/Nov/21 4:14 PM;ug:117ea4bb-8992-4456-92e8-f3d84c2d6b41;image-20211104-161402.png;https://gghltd.atlassian.net/secure/attachment/23326/image-20211104-161402.png,04/Nov/21 4:14 PM;ug:117ea4bb-8992-4456-92e8-f3d84c2d6b41;image-20211104-161449.png;https://gghltd.atlassian.net/secure/attachment/23325/image-20211104-161449.png,10/Nov/21 4:11 PM;nathan.punzalan;response.txt;https://gghltd.atlassian.net/secure/attachment/23473/response.txt,,,,,,,,,"*Given* A valid quote document request with a documentId → GET /api/document/\{documentId}
*Then* send a valid eLissia document request ensuring <documentId> node populated

_Building on the above_

*Given* an unsuccessful response from the eLissia document service
*And* <reason>No document available for the supplied document id.</reason>
*Then* respond with a 202 - tbc
*And* populate the response message with <documentId> requested → documentId
*And* populate the response message with <content> returned → document",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-34,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00ng6:m,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,Guardian Sprint 4,,,,,13/Oct/21 5:30 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-04 16:13:17.148,"04/Nov/21 4:13 PM;616ee20e2097220071a975d2;(flag) Flag added

Blocked - see comments by Jon","04/Nov/21 4:14 PM;616ee20e2097220071a975d2;Blocked - 

The SOAP request provided in tickets returns an error in both UWT & SIT. Is this correct?

!image-20211104-161449.png|width=1193,height=886!



The current getDocumentbyID provides a reason for document not being ready. Do I use this instead?

!image-20211104-161402.png|width=1095,height=864!","05/Nov/21 3:06 PM;616ee20e2097220071a975d2;(flagoff) Flag removed

Have had a discussion with Jim Houghton and Mike Hill and agreed that if Document is not generated or can not be found then a response should be returned as described in acceptance criteria. 

[~accountid:60cc71a22bd21400692fd2af] will create a separate technical story to accommodate the behaviour if the eLissia Document Service is unavailable","10/Nov/21 4:11 PM;613f22fdff23ba00715469d1;At the moment, when you generate a quote document, if you use the getDocument Lissia API, then usually it is instantaneous that the document is linked to Lissia so I have been unable to reproduce the scenario described in the AC. I have tried to just enter a random documentId into the getDocument Lissia API however I get a different error in the response than the one described above (see response attached). 

[^response.txt]

[~accountid:616ee20e2097220071a975d2] , any idea how I could test this ticket given the above?","10/Nov/21 4:39 PM;6139c49114e8340071fcda09;[~accountid:616ee20e2097220071a975d2]  managed to test with our framework as it’s a bit faster to make the requests, so nothing to see here 🙂 ",,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Quote Document Request - misc quote metadata,NBJ-439,39238,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,14/Oct/21 3:12 PM,06/Jan/22 9:28 PM,02/Feb/22 6:31 PM,09/Nov/21 8:57 PM,,Foundation Release,,DocumentGeneration,Sprint_3,,"*As an* api user
*So that* I am able to generate a quote document
*I want* to vary overall quote details

*Implementation Notes*

# This story is intended to vary QUOTE_REF, QUOTE_PRICE, and TOT_TERM on the eLissia request
# Once document created you can test the content by retrieving the base64 encoded content as described in [https://gghltd.atlassian.net/browse/NBJ-423|https://gghltd.atlassian.net/browse/NBJ-423|smart-link] 
# Base64 encoded content can be converted to pdf for checking

_Quote Document Request_

# {{POST /api/v1/document/quote}} 

{code:json}{
  quote: {
    ""applicationId"": ""G000001234"",
    ""adviserAtFirmLocationId"": """",
    ""initialCommissionSacrificePercentage"": 0-100,
    ""initialIndemnityPercentage"": 0-100,
    ""quoteAgeDate"": 20210910,
    ""quoteCreatedDate"": 20210910, --response value
    ""quotePremium"": 0.00, --response value
    ""quoteLifetimePremium"": 0.00, response value
    ""quoteUnloadedPremium"": 0.00, --response value
    ""quoteDiscount"": 0.00, --response values, possibly not
    ...
    }
}{code}

_Lissia Document Request_

Below is the Lissia request with values created from the service request.

PA - refers to primary applicant

{code:xml}<QUOTE_DATA>
    <DATA>
        ...
        <QUOTE_REF>G000126998</QUOTE_REF> -- quote.applicationId
        ...
        <QUOTE_PRICE>£692.76</QUOTE_PRICE> -- quote.quotePremium
        ...
        <TOT_TERM>£207,828.00</TOT_TERM> -- quote.quoteLifetimePremium
        ...
    </DATA>
</QUOTE_DATA>{code}

_Lissia Document Service Response_

{code:xml}<soap:Envelope xmlns:soap=""http://www.w3.org/2003/05/soap-envelope"" xmlns:ser=""http://service.reporting.webservice.liss.co.uk"" xmlns:xsd=""http://request.core.webservice.liss.co.uk/xsd"" xmlns:xsd1=""http://domain.core.webservice.liss.co.uk/xsd"" xmlns:xsd2=""http://request.reporting.webservice.liss.co.uk/xsd"">
   <soap:Header/>
   <soap:Body>
      <ser:findDocumentByDocId>
         <ser:request>
            <xsd:auditData>
               <xsd1:pageCode>3</xsd1:pageCode>
               <xsd1:userId>7</xsd1:userId>
            </xsd:auditData>
            <xsd2:documentId>157310</xsd2:documentId>
         </ser:request>
      </ser:findDocumentByDocId>
   </soap:Body>
</soap:Envelope>{code}

_Quote Document Service Response_

{noformat}{
  data:{
    ""documentId"": <doc_id>
  }
}{noformat}",,James Bartlett,Jim Houghton,Jon Reynolds,,,,,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,616ee20e2097220071a975d2,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,NBJ-423,,,,,,,,,,,,,,,09/Nov/21 8:53 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;G Ref populated in doc.pdf;https://gghltd.atlassian.net/secure/attachment/23421/G+Ref+populated+in+doc.pdf,09/Nov/21 8:57 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/23424/LivingDoc.html,20/Oct/21 5:18 PM;ug:054c2fdc-1fad-4c0c-af9d-fbc13b8ca3e2;NBJ-439 Quote Document.pdf;https://gghltd.atlassian.net/secure/attachment/22989/NBJ-439+Quote+Document.pdf,20/Oct/21 5:15 PM;ug:054c2fdc-1fad-4c0c-af9d-fbc13b8ca3e2;NBJ-439 XML.xml;https://gghltd.atlassian.net/secure/attachment/22988/NBJ-439+XML.xml,09/Nov/21 8:57 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;Total premium shows as expected.pdf;https://gghltd.atlassian.net/secure/attachment/23423/Total+premium+shows+as+expected.pdf,09/Nov/21 2:56 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;appId.pdf;https://gghltd.atlassian.net/secure/attachment/23410/appId.pdf,09/Nov/21 2:56 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;app_id_request.json;https://gghltd.atlassian.net/secure/attachment/23409/app_id_request.json,09/Nov/21 4:13 PM;ug:117ea4bb-8992-4456-92e8-f3d84c2d6b41;image-20211109-161348.png;https://gghltd.atlassian.net/secure/attachment/23415/image-20211109-161348.png,,,,,"*Given* a {{POST /api/v1/document/quote}}
*And* quote information included in the body of the request
*When* creating a Lissia Quote Document Request
*Then* map applicationId to QUOTE_REF
*And* map quotePremium to QUOTE_PRICE, ensuring format of £n,nnn.nn
*And* map quoteLifetimePremium to TOT_TERM, ensuring format of £n,nnn.nn

_Building on the above:_

*Given* a successful response from the above
*When* retrieving the document generated
*Then* ensure the quote reference is populated
*And* ensure the quote premium is populated and formatted correctly
*And* ensure the lifetime premium is populated and formatted correctly",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-34,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwil2:zzzzz,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,Guardian Sprint 4,,,,,13/Oct/21 5:30 PM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-09 14:57:13.06,09/Nov/21 2:57 PM;6139c49114e8340071fcda09;[~accountid:616ee20e2097220071a975d2] I can’t see the application ID coming out. I’ve attached an example doc and the request I used to generate it. Can you see what I’ve done wrong?,"09/Nov/21 4:13 PM;616ee20e2097220071a975d2;[~accountid:6139c49114e8340071fcda09] -missing a *<PORTAL_SOURCE>No</PORTAL_SOURCE>. Will fix now*

!image-20211109-161348.png|width=1802,height=705!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Generate Cover Summary,NBJ-438,39223,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,14/Oct/21 11:50 AM,02/Feb/22 3:40 PM,02/Feb/22 6:31 PM,,,Foundation Release,,DocumentGeneration,Sprint_7,,Outstanding is restricted term and cover,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-772,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,14/Oct/21 11:50 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Create quote facts when TriggerQuote action called,NBJ-437,39221,,Technical Story,In Progress,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Antony.Gorman,6149b13472728e006f9441d6,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,14/Oct/21 11:04 AM,02/Feb/22 1:34 PM,02/Feb/22 6:31 PM,,,Foundation Release,,DocumentGeneration,Sprint_9,,"*As an* application support user
*So that* I can investigate quote document errors
*I want* all quote document request and responses to be persisted

{panel:bgColor=#deebff}
This story is to build on [https://gghltd.atlassian.net/browse/NBJ-429|https://gghltd.atlassian.net/browse/NBJ-429|smart-link] and now start saving the various facts required when a quote is requested/received on TriggerQutoe
{panel}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* an application
*When* a quote request is triggered (/api/v1/actions/TriggerQuote)
*Then* a fact is persisted about the quote request

||*fact schema item*||*value*||
|id|Unique id (GUID)|
|calingSystem|NBJ2|
|applicationId|Application reference (e.g. G100000001)|
|eventName|QUICK_QUOTE_TRIGGERED|
|eventCreatedDatetime|UTC timestamp of event|
|partitionKey|Application reference (e.g. G100000001)|
|factType|application|
|contentType|JSON|
|payload|application DTO|



*Given* an application with a triggered quote
*When* a quote request us made to the quote service
*Then* a fact is persisted about the quote request

||*fact schema item*||*value*||
|id|Unique id (GUID)|
|calingSystem|NBJ2|
|applicationId|Application reference (e.g. G100000001)|
|eventName|QUOTE_REQUESTED|
|eventCreatedDatetime|UTC timestamp of event|
|partitionKey|Application reference (e.g. G100000001)|
|factType|quote|
|contentType|JSON|
|payload|quote request to quote service|



*Given* a request to the quote service
*When* a request is made to Lissia
*Then* a fact is persisted about the Lissia quote request

||*fact schema item*||*value*||
|id|Unique id (GUID)|
|calingSystem|NBJ2|
|applicationId|Application reference (e.g. G100000001)|
|eventName|LISSIA_QUOTE_REQUESTED|
|eventCreatedDatetime|UTC timestamp of event|
|partitionKey|Application reference (e.g. G100000001)|
|factType|lissiaQuoteXmlRequest|
|contentType|XML|
|payload|lissia quote xml request|



*Given* a request to Lissia for a quote
*When* a Lissia responds
*Then* a fact is persisted about the Lissia quote response

||*fact schema item*||*value*||
|id|Unique id (GUID)|
|calingSystem|NBJ2|
|applicationId|Application reference (e.g. G100000001)|
|eventName|LISSIA_QUOTE_CREATED|
|eventCreatedDatetime|UTC timestamp of event|
|partitionKey|Application reference (e.g. G100000001)|
|factType|lissiaQuoteXmlResponse|
|contentType|XML|
|payload|lissia quote xml response|



*Given* a request to the quote service
*When* the quote service responds
*Then* a fact is persisted about the quote service response

||*fact schema item*||*value*||
|id|Unique id (GUID)|
|calingSystem|NBJ2|
|applicationId|Application reference (e.g. G100000001)|
|eventName|QUOTE_CREATED|
|eventCreatedDatetime|UTC timestamp of event|
|partitionKey|Application reference (e.g. G100000001)|
|factType|quote|
|contentType|JSON|
|payload|quote service response|",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-127,,,,,,,,,,,,,,,,None,,"Build on [https://gghltd.atlassian.net/browse/NBJ-429|https://gghltd.atlassian.net/browse/NBJ-429|smart-link]

Fact service overview - [https://gghltd.atlassian.net/wiki/spaces/NP/pages/3137470507/FactService|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3137470507/FactService|smart-link] 

Fact service schema - [https://gghltd.atlassian.net/wiki/spaces/NP/pages/3168632854/Fact+schema|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3168632854/Fact+schema|smart-link] 

Fact service catalogue - [https://gghltd.atlassian.net/wiki/spaces/NP/pages/3169157139/Fact+Catalogue|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3169157139/Fact+Catalogue|smart-link] ",,,,,,,,,,,,,,,,,,,Space-bx,,,,,,,No,,1|hzwib6:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,09/Sep/21 4:14 PM,,8.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15/Oct/21 2:10 PM;60cc71a22bd21400692fd2af;Do we need to persist Lissia as Lissia persist.,"19/Oct/21 2:51 PM;60cc71a22bd21400692fd2af;(flag) Flag added

[~accountid:610c00d94e8d8d0069a20d6c] - can you please write a proper story?",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress
Capture start date,NBJ-435,39214,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Justin.Smith,618bdfc5fba4d0006ad4853e,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,14/Oct/21 10:49 AM,28/Jan/22 10:43 AM,02/Feb/22 6:31 PM,28/Jan/22 10:43 AM,,Foundation Release,,BuyOptions,Sprint_8,,"*As an* adviser
*So that* I can provide the start date for my policy
*I want* to be able to add this on the setup screen

!Screenshot 2022-01-16 at 10.06.59.png|width=1235,height=273!",,Chris.Hibbert,Justin.Smith,Mike,,,,,60cc71a1d5dde800713a2124,618bdfc5fba4d0006ad4853e,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,,,,,,,,,,,,Hidden from EXL,NBJ-1130,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,16/Jan/22 10:07 AM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2022-01-16 at 10.06.59.png;https://gghltd.atlassian.net/secure/attachment/25115/Screenshot+2022-01-16+at+10.06.59.png,26/Jan/22 4:52 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220126-165042.png;https://gghltd.atlassian.net/secure/attachment/25406/image-20220126-165042.png,26/Jan/22 4:53 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220126-165306.png;https://gghltd.atlassian.net/secure/attachment/25407/image-20220126-165306.png,27/Jan/22 2:07 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220127-140402.png;https://gghltd.atlassian.net/secure/attachment/25456/image-20220127-140402.png,27/Jan/22 2:07 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220127-140450.png;https://gghltd.atlassian.net/secure/attachment/25454/image-20220127-140450.png,27/Jan/22 2:07 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220127-140615.png;https://gghltd.atlassian.net/secure/attachment/25455/image-20220127-140615.png,27/Jan/22 5:03 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220127-165848.png;https://gghltd.atlassian.net/secure/attachment/25472/image-20220127-165848.png,27/Jan/22 5:03 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220127-170001.png;https://gghltd.atlassian.net/secure/attachment/25473/image-20220127-170001.png,27/Jan/22 5:03 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220127-170109.png;https://gghltd.atlassian.net/secure/attachment/25474/image-20220127-170109.png,27/Jan/22 5:03 PM;ug:2b467661-1b2c-40b2-a9fb-d4ff4aef00b2;image-20220127-170150.png;https://gghltd.atlassian.net/secure/attachment/25471/image-20220127-170150.png,,,"AC1
*Given*: An application
*When*: on the set-up screen
*Then*: A “Start date” section is visible

AC2
*Given*: A “Start date” section
*Then*: A drop down list titled “Start date for the policy” is shown
*and*: this drop down has values “Now” , “In the future - I know the date” and “Don’t know”
*and*: the helptext “Don’t know the start date?  Just “Save and exit”.  When you know it - come back here to put the policy in force.” is shown

AC3
*Given*: The option “In the future - I know the date” is selected
*When*: an application.offerExpiryDate is known
*Then*: A date selection is shown
*and*: The date that can be chosen is restricted to between today and the application.offerExpiryDate
*and*: the chosen option and date are persisted against the application (NBJ-758)

AC4
*Given*: The option “In the future - I know the date” is selected
*When*: an application.offerExpiryDate is not known
*Then*: A date selection is shown
*and*: The date that can be chosen is restricted to after today
*and*: the chosen option and date are persisted against the application (NBJ-758)

AC5
*Given*: The option “Now” or “Don’t know” is selected
*Then*: No date selection is shown
*and*: the chosen date option is persisted against the application (NBJ-1239)

AC6
*Given*: A  user returning to the set-up screen
*When*: the application.policyStartOption and/or application.policyStartDate is already set
*Then*: the drop down is set to policyStartDateOption
*and*: the policyStartDate is populated in the date picker if set to “In the future - I know the date”",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-123,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i01bsb:oo,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 8,,,,,,14/Oct/21 10:49 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-01-26 16:52:19.672,"26/Jan/22 4:52 PM;618bdfc5fba4d0006ad4853e;Automated AC1, AC2, AC5

There is an issue when the offer expiry date is set in the application you can select a policy start date beyond that date.  This is not correct as per AC3

!image-20220126-165306.png|width=1095,height=512!



!image-20220126-165042.png|width=443,height=175!","27/Jan/22 2:07 PM;618bdfc5fba4d0006ad4853e;Sorry but there is still an issue here.

If I enter a date beyond the expiry date then I get a red box around the date 

The frontendforbackend service is still called with that date

!image-20220127-140402.png|width=2129,height=1077!

!image-20220127-140450.png|width=504,height=221!

Can we prevent the service being called if the start date is invalid.  Not sure if there should be an error on the page as well?

Also, I was wondering on the date picker whether the dates that you cannot select should be greyed out

!image-20220127-140615.png|width=848,height=680!","27/Jan/22 5:03 PM;618bdfc5fba4d0006ad4853e;This looks better but there is an issue on the boundaries. So I should be able to select today’s date (27/01/2022) or the expiry date (26/02/2022).

!image-20220127-165848.png|width=400,height=732!

However, when I select these dates on the frontend the following happens -

*Today’s date*

!image-20220127-170001.png|width=1177,height=968!

Box highlighted in red

*Expiry date* 

!image-20220127-170109.png|width=2103,height=984!

The backend for front end service is not called when using the expiry date (26/02/2022).  It is called for the day before (25/02/2022)

!image-20220127-170150.png|width=2099,height=1040!",27/Jan/22 7:10 PM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;[~accountid:618bdfc5fba4d0006ad4853e] I assumed that you would select ‘now’ if you wanted todays date. And the date of the expiry would be too late as it would have expired?,28/Jan/22 8:59 AM;60cc71a1d5dde800713a2124;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] - I think we should be allow both dates (today and expiry date) in this.,28/Jan/22 10:43 AM;618bdfc5fba4d0006ad4853e;[~accountid:60cc71a1d5dde800713a2124] [~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] the backendforfrontend service is not called when I put in today’s date.  I will create a separate bug on this.  Closing this story,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Capture payout planner details,NBJ-434,39213,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,14/Oct/21 10:49 AM,02/Feb/22 3:10 PM,02/Feb/22 6:31 PM,,,Foundation Release,,BuyOptions,Sprint_9,,Also ensure applicants with no covers selected / only declined or postponed covers are not displayed on this screen,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-764,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwih9:zjzzzzzz4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,14/Oct/21 10:49 AM,,13.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Capture bank details,NBJ-433,39212,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,14/Oct/21 10:49 AM,31/Jan/22 2:23 PM,02/Feb/22 6:31 PM,,,Foundation Release,,BankAccountValidation,Sprint_9,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,NBJ-1234,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-767,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwibi:4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,14/Oct/21 10:49 AM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Add SoF to screen,NBJ-432,39211,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,14/Oct/21 10:48 AM,14/Dec/21 6:27 PM,02/Feb/22 6:31 PM,,,Foundation Release,,DocumentGeneration,Sprint_8,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-771,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00lnj:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,14/Oct/21 10:48 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Add cover summary doc to screen,NBJ-431,39210,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,14/Oct/21 10:48 AM,14/Dec/21 6:27 PM,02/Feb/22 6:31 PM,,,Foundation Release,,DocumentGeneration,Sprint_8,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-772,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00lnb:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,14/Oct/21 10:48 AM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Add quote doc link to screen following valid quote,NBJ-430,39209,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,14/Oct/21 10:48 AM,02/Dec/21 5:37 PM,02/Feb/22 6:31 PM,02/Dec/21 5:37 PM,,Foundation Release,,DocumentGeneration,Sprint_4,,"*As an* Adviser
*I want* to be able to see that there is a quote document available
*So that* I can choose to download it if I need it for my records

h4. Implementation Notes
- Should only be visible if there is a valid quote
- Actually making it do something is a different ticket
",,Chris.Hibbert,Jon Reynolds,,,,,,60cc71a1d5dde800713a2124,616ee20e2097220071a975d2,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,26/Oct/21 2:20 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-10-26 at 14.19.36.png;https://gghltd.atlassian.net/secure/attachment/23144/Screenshot+2021-10-26+at+14.19.36.png,29/Nov/21 5:45 PM;ug:117ea4bb-8992-4456-92e8-f3d84c2d6b41;image-20211129-174410.png;https://gghltd.atlassian.net/secure/attachment/23908/image-20211129-174410.png,,,,,,,,,,,"*Given*: An application
*When*: A valid quote is returned
*Then*: A link to the quote document is shown on the quote screen

*Given*: An application
*When*: A invalid quote is returned
*Then*: No link to the quote document is shown on the quote screen
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-124,,,,,,,,,,,,,,,,None,,"Use this API endpoint for the document link:

{noformat}GET /api/v1/application/:applicationId/document/quote{noformat}

This returns the PDF document.",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00ple:9,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,,,,,14/Oct/21 10:48 AM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-29 17:45:44.155,"29/Nov/21 5:45 PM;616ee20e2097220071a975d2;[~accountid:60cc71a1d5dde800713a2124] fyi as part of nbj-849  anAPI request to get application will now return a documentation section in response that displays the quote document Id if present 

{code:json}curl --location --request GET 'https://ggh-uwt-api.gghltest.co.uk/api/v1/application/{{applicationid}}'{code}

!image-20211129-174410.png|width=734,height=757!",29/Nov/21 7:25 PM;60cc71a1d5dde800713a2124;[~accountid:616ee20e2097220071a975d2]  - thanks for the details\!,02/Dec/21 5:37 PM;60cc71a1d5dde800713a2124;Tested in UWT - works like a charm\!,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Build fact table and save APPLICATION_CREATED fact,NBJ-429,39208,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,14/Oct/21 10:42 AM,02/Feb/22 3:00 PM,02/Feb/22 6:31 PM,02/Feb/22 3:00 PM,,Foundation Release,,DataStore,Sprint_9,,"*As a* Sales MI Team member
*So that* I can analyse sales performance and trends
*I want* NBJ2 facts persisted within a fact table and the first fact about application creation

{panel:bgColor=#deebff}
 Note: this story relates specifically to the creation of the fact table and persisting the first fact - application creation
{panel}",,Antony.Gorman,Chris.Hibbert,James Bartlett,,,,,6149b13472728e006f9441d6,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,,,,,,,,,,,,Hidden from EXL,NBJ-437,NBJ-1218,NBJ-1269,NBJ-1323,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* any user
*When* an NBJ2 application is created 
*Then* a fact is persisted about the application creation

||*fact schema item*||*value*||
|id|Unique id (GUID)|
|calingSystem|NBJ2|
|applicationId|Application reference (e.g. G100000001)|
|eventName|APPLICATION_CREATED|
|eventCreatedDatetime|UTC timestamp of event|
|partitionKey|Application reference (e.g. G100000001)|
|factType|application|
|contentType|JSON|
|payload|application DTO|",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-127,,,,,,,,,,,,,,,,None,,"Fact service overview - [https://gghltd.atlassian.net/wiki/spaces/NP/pages/3137470507/FactService|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3137470507/FactService|smart-link] 

Fact service schema - [https://gghltd.atlassian.net/wiki/spaces/NP/pages/3168632854/Fact+schema|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3168632854/Fact+schema|smart-link] 

Fact service catalogue - [https://gghltd.atlassian.net/wiki/spaces/NP/pages/3169157139/Fact+Catalogue|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3169157139/Fact+Catalogue|smart-link] 



A PoC of the Fact Service persistence layer has been carried out and an example of a persisted fact is shown below:

{noformat}[
    {
        ""id"": ""TJxPQEqHovD3WStdbDKzjy6uKHUCMt"",
        ""applicationId"": ""G000151590"",
        ""callingSystem"": ""NBJ2"",
        ""eventName"": ""clientDetails.continue"",
        ""eventCreatedDatetime"": ""2022-01-25T08:33:42.132"",
        ""partitionKey"": ""G000151590"",
        ""factType"": ""application"",
        ""payload"": {
            ""adviserAtFirmLocationId"": """",
            ""id"": ""G000151590"",
            ""applyDate"": null,
            ""expiryDate"": null,
            ""status"": ""Create Quote"",
            ""advisedSale"": false,
            ""bankAccountOwner"": """",
            ""bankAddressSame"": false,
            ""offerCreationDate"": null,
            ""mortgageRelated"": false,
            ""offerExpiryDate"": null,
            ""policyStartDate"": null,
            ""preferredCollectionDate"": """",
            ""portal"": """",
            ""createdDate"": ""2022-01-25T00:00:00+00:00"",
            ""thirdPartyRef"": null,
            ""singleOrDualApplication"": """",
            ""sourceApplication"": """",
            ""quoteAgeDate"": ""2022-01-25T00:00:00+00:00"",
            ""initialCommissionSacrificePercentage"": ""0"",
            ""initialIndemnityPercentage"": ""100"",
            ""quote"": null,
            ""applicants"": [
                {
                    ""annualIncome"": """",
                    ""bmi"": """",
                    ""dateOfBirth"": ""1980-12-12T00:00:00"",
                    ""dressSize"": """",
                    ""existingCoverCi"": false,
                    ""existingCoverLife"": false,
                    ""firstName"": ""Abc"",
                    ""gender"": ""Male"",
                    ""height"": null,
                    ""lastName"": ""Afactmess"",
                    ""policyReference"": """",
                    ""occupation"": """",
                    ""questionsCompletedDate"": """",
                    ""smokerStatus"": """",
                    ""title"": ""Mr"",
                    ""status"": """",
                    ""waist"": """",
                    ""weight"": null,
                    ""acceptedPreUnderwritingDeclaration"": false,
                    ""id"": ""41800b09-c3a4-458d-8400-c9791416c7ff"",
                    ""applicantBankDetails"": null,
                    ""covers"": [],
                    ""contactDetails"": {
                        ""emailAddress"": """",
                        ""postcode"": """",
                        ""phoneNumber"": """",
                        ""address2"": """",
                        ""address3"": """",
                        ""address1"": """",
                        ""county"": """",
                        ""cityName"": """"
                    },
                    ""underwritingOutcome"": null,
                    ""waistMetric"": false,
                    ""weightMetric"": false,
                    ""heightMetric"": false
                }
            ],
            ""children"": [],
            ""candidateBeneficiary"": []
        },
        ""_rid"": ""ywgoAK2pJtAuAAAAAAAAAA=="",
        ""_self"": ""dbs/ywgoAA==/colls/ywgoAK2pJtA=/docs/ywgoAK2pJtAuAAAAAAAAAA==/"",
        ""_etag"": ""\""c500fe25-0000-1100-0000-61efb5e60000\"""",
        ""_attachments"": ""attachments/"",
        ""_ts"": 1643099622
    }
]{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwib2:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,14/Oct/21 10:42 AM,,8.0,,,,,,,,,,,,,,,,,,"The new cosmos container is called “fact” - the integration to publish these facts is from the action service, not the lower level application service call.",,,,,,,,,,,,,,,2022-02-02 09:43:03.593,02/Feb/22 9:43 AM;6139c49114e8340071fcda09;[~accountid:6149b13472728e006f9441d6]  the partitionKey isn’t the application ID (see partitionKey {{1525c208-fa3c-4fb5-8392-1a07a570ed17}} that I just created in UWT for application {{G000165915}}).,"02/Feb/22 9:43 AM;6149b13472728e006f9441d6;you’re not wrong. brb.



FIX is waiting on the PR",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Keep active user logged in,NBJ-427,39206,,Story,In Progress,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Mike,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,14/Oct/21 10:26 AM,01/Feb/22 2:11 PM,02/Feb/22 6:31 PM,,,Foundation Release,,Login,Sprint_7,,"*As an* Adviser
*So that* I can use the NBJ app whilst being logged in
*I want* my access token to be refreshed automatically",,Chris.Hibbert,Mike,,,,,,60cc71a1d5dde800713a2124,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* a logged in user
*When* the user is active and using the frontend
*Then* the access token needs to be refreshed after expiry

*Given* a logged in user
*When* the user is inactive for longer than the access_token expiry period
*Then* the user should be logged out
*And* forced to log in again to continue using the system
*and*: the user is returned to the section of the application they were previously on",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-114,,,,,,,,,,,,,,,,None,,"This has to be implemented in the react frontend. 

Follows the patterns defined in section 4 about refresh tokens: [https://docs.microsoft.com/en-us/azure/active-directory-b2c/authorization-code-flow|https://docs.microsoft.com/en-us/azure/active-directory-b2c/authorization-code-flow|smart-link] ",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwie5:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,14/Oct/21 10:26 AM,,5.0,,,,,,,,,,,,,,,,,,"Need to know expiry period - configurable, currently 1 hour, but [~accountid:610c00d94e8d8d0069a20d6c]  can change this in azure B2C.",,,,,,,,,,,,,,,2022-02-01 14:11:56.537,"01/Feb/22 2:11 PM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;[~accountid:60cc71a1d5dde800713a2124] [~accountid:610c00d94e8d8d0069a20d6c] I think this may be handled automatically by the react msal package. But I’ll need to test somehow, possibly by logging in and leaving it an hour for the token to expire then see if the app uses refresh token to go and get a new token.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress
User identity component - user details and log out,NBJ-426,39205,,Story,Code Delivered,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,14/Oct/21 10:26 AM,02/Feb/22 4:31 PM,02/Feb/22 6:31 PM,,,Foundation Release,,Login,Sprint_7,,"*As an* NBJ user
*So that* I can walk away from my computer knowing that my clients personal details are secure
*I want* to be able to logout from the Guardian site",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,30/Jan/22 5:51 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2022-01-30 at 17.50.38.png;https://gghltd.atlassian.net/secure/attachment/25497/Screenshot+2022-01-30+at+17.50.38.png,,,,,,,,,,,,"*Given* an authenticated user
*When* displaying the site header
*Then* the authenticated user’s <firstname> and <surname> is displayed top right


!Screenshot 2022-01-30 at 17.50.38.png|width=1750,height=152!

*Given* an authenticated user
*When* clicking on their name
*Then* the user had a drop down offering them the ability to log out


*Given* an authenticated user
*When* clicking on logout
*Then* the user is no longer authenticated
*and*: the user is returned to the login screen",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-114,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwie7:r,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,14/Oct/21 10:26 AM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress
"Restrict application, applicant and cover operations for the logged in user",NBJ-425,39204,,Technical Story,To Do,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,14/Oct/21 10:25 AM,31/Jan/22 11:09 AM,02/Feb/22 6:31 PM,,,Foundation Release,,Login,Sprint_6,,"*As an* adviser
*So that* I can be sure advisers from other firms cannot work on my applications
*I want* all operations on applications to be authorised against the logged in user’s permissions",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* any operation in the following table:

||*Operation*||{{Route}}||
|Read application|{{POST /api/v2/application/{{applicationId}}}}|
|Add applicant|{{POST /api/v2/application/{{applicationId}}/applicant}}|
|Edit applicant|{{PATCH /api/v2/application/{{applicationId}}/applicant/{{applicantId}}}}|
|Delete applicant|{{DELETE /api/v2/application/{{applicationId}}/applicant/{{applicantId}}}}|
|Add cover|{{POST /api/v2/application/{{applicationId}}/applicant/{{applicantId}}/cover}}|
|Edit cover|{{PATCH /api/v2/application/{{applicationId}}/applicant/{{applicantId}}/cover/{{coverId}}}}|
|Delete cover|{{DELETE /api/v2/application/{{applicationId}}/applicant/{{applicantId}}/cover/{{coverId}}}}|
|Find application by applicant Id|{{GET /api/v2/application/search/applicant/{{applicantId}}}}|

*When* the accessToken.AdviserId *does not match* the requested applications adviserAtFirmLocationId
*Then* the operation is cancelled 
*And* a {{Forbidden}} response is returned

*Given* any operation in the table above 👆 
*When* the accessToken.AdviserId *does match* the requested applications adviserAtFirmLocationId
*Then* the operation is completed normally",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-114,,,,,,,,,,,,,,,,None,,"The check to ensure a request has access to an application is very simple:

{noformat}bool hasAccess = (accessToken.AdviserId == application.AdviserAtFirmlocationId){noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwib9:zv,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,14/Oct/21 10:25 AM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Restrict access to frontend to logged in users,NBJ-424,39203,,Story,Acceptance Testing,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Justin.Smith,618bdfc5fba4d0006ad4853e,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,14/Oct/21 10:25 AM,02/Feb/22 4:35 PM,02/Feb/22 6:31 PM,,,Foundation Release,,Login,Sprint_6,,"*As* Guardian Financial Services
*So that* only users with permission to use the NBJ frontend can access it
*I want* to implement user authentication",,Chris.Hibbert,Mike,Sam Gamble,,,,,60cc71a1d5dde800713a2124,557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,Hidden from EXL,NBJ-426,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,23/Nov/21 5:47 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;Capture.PNG;https://gghltd.atlassian.net/secure/attachment/23740/Capture.PNG,02/Feb/22 4:30 PM;ug:25aea830-2a92-4e11-af0d-e074adc458e2;Screenshot 2022-02-02 at 16.27.34.png;https://gghltd.atlassian.net/secure/attachment/25593/Screenshot+2022-02-02+at+16.27.34.png,,,,,,,,,,,"*Given* a user that has not authenticated
*When* requesting the frontend
*Then* the user begins the authentication flow
*And* is redirected to the existing Guardian login screen


*Given* a user that has authenticated and has permission to access the frontend
*When* requesting any frontend URL
*Then* the URL is served to them",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-114,,,,,,,,,,,,,,,,None,,"h3. Auth elements

* APIM - used to check auth tokens
* Azure B2C - used as the Identity provider, and OAuth2 server

h3. Azure B2C

||*Attribute*||*Value*||
|TenantName|{{gryphondevb2c.onmicrosoft.com}}|
|TenantId|{{713858fa-fbe5-4b4c-966b-bb499d9b9c59}}|
|LoginFlowName|B2C_1_login
_N.B. we may need to define our own login flow_|

* Create new Client ID: register NBJ frontend as a new application in Azure B2C
* Grant access to Client ID: add a new test user that has access to the new app registration
* Note: you can test the login flow inside azure B2C

h3. APIM

Check for a valid auth token on the inbound request by adding a validate-jwt policy on the inbound request. Something like this:

{code:json}<validate-jwt header-name=""Authorization"" failed-validation-httpcode=""401"" failed-validation-error-message=""Unauthorized. Access token is missing or invalid."">
  <openid-config url=""https://login.microsoftonline.com/{{TenantName}}/v2.0/.well-known/openid-configuration?p={{LoginFlowName}}"" />
    <audiences>
      <audience>{{ClientId}}</audience>
    </audiences>
    <issuers>
      <issuer>https://{{TenantName}}/{{TenantId}}/v2.0/</issuer>
    </issuers>
</validate-jwt>{code}",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwie4:i,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 9,,,,,,14/Oct/21 10:25 AM,,8.0,,,,,,,,,,,,,,,,,,[~accountid:610c00d94e8d8d0069a20d6c]  / [~accountid:5db187687b20d80c2a25b574]  - username/passwords for testers to be provided for UWT and SIT,,,,,,,,,,,,,,,2022-02-02 13:47:48.769,02/Feb/22 1:47 PM;610c00d94e8d8d0069a20d6c;[~accountid:557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5] Looks like this doesn’t work in UWT. Probably some work to do on the environment setup side.,02/Feb/22 1:48 PM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;[~accountid:610c00d94e8d8d0069a20d6c] Have you added the uwt domain to the list of allowed redirect domains on the B2C panel?,02/Feb/22 1:50 PM;557058:204b503c-b256-4379-ae1c-ae8a1eb2bcf5;[~accountid:610c00d94e8d8d0069a20d6c] it looks like the new env variables aren’t being picked up?,"02/Feb/22 4:30 PM;610c00d94e8d8d0069a20d6c;Result: all works now

Detail: there was a missing bit of config in B2C. In the NBJ 2.0 application registration, I added in another redirect URL for UWT: {{https://ggh-uwt-api.gghltest.co.uk}}

!Screenshot 2022-02-02 at 16.27.34.png|width=776,height=588!",,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress
Quote Document Request - Get document,NBJ-423,39197,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,14/Oct/21 9:06 AM,09/Nov/21 3:57 PM,02/Feb/22 6:31 PM,09/Nov/21 3:57 PM,,Foundation Release,,DocumentGeneration,Sprint_3,,"*As an* api user
*So that* I am able to retrieve a generated document
*I want* Get document by id service

*Implementation Notes*

_Quote Document request_

# {{GET /api/v1/document/{documentId}}} 

_eLissia findDocumentByDocId Request_

# Note you may need to send several requests before you receive a successful response.

{code:xml}<soap:Envelope xmlns:soap=""http://www.w3.org/2003/05/soap-envelope"" xmlns:ser=""http://service.reporting.webservice.liss.co.uk"" xmlns:xsd=""http://request.core.webservice.liss.co.uk/xsd"" xmlns:xsd1=""http://domain.core.webservice.liss.co.uk/xsd"" xmlns:xsd2=""http://request.reporting.webservice.liss.co.uk/xsd"">
   <soap:Header/>
   <soap:Body>
      <ser:findDocumentByDocId>
         <ser:request>
            <xsd:auditData>
               <xsd1:pageCode>3</xsd1:pageCode>
               <xsd1:userId>7</xsd1:userId>
            </xsd:auditData>
            <xsd2:documentId>157310</xsd2:documentId> -- documentId an service request used here 
         </ser:request>
      </ser:findDocumentByDocId>
   </soap:Body>
</soap:Envelope>{code}

_eLissia findDocumentByDocId response_

{code:xml}<soapenv:Envelope xmlns:soapenv=""http://www.w3.org/2003/05/soap-envelope"">
   <soapenv:Header/>
   <soapenv:Body>
      <ns:findDocumentByDocIdResponse xmlns:ns=""http://service.reporting.webservice.liss.co.uk"">
         <ns:return xsi:type=""ax260:DocumentPayloadResponse"" xmlns:ax254=""http://request.reporting.webservice.liss.co.uk/xsd"" xmlns:ax255=""http://request.core.webservice.liss.co.uk/xsd"" xmlns:ax256=""http://domain.core.webservice.liss.co.uk/xsd"" xmlns:ax260=""http://response.reporting.webservice.liss.co.uk/xsd"" xmlns:ax261=""http://response.core.webservice.liss.co.uk/xsd"" xmlns:ax264=""http://domain.reporting.webservice.liss.co.uk/xsd"" xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"">
            <ax261:validationErrors xsi:nil=""true""/>
            <ax260:document xsi:type=""ax264:Document"">
               <ax264:classification>0</ax264:classification>
               <ax264:clientId>0</ax264:clientId>
               <ax264:content>JVBERi0xLjQKJeLjz9MKMyAwIG9iago8PC9Db2xvclNwYWNlL0RldmljZUdyYXkvU3VidHlwZS9JbWFnZS9IZWlnaHQgNDMvRmlsdGVyL0ZsYXRlRGVjb2RlL1R5cGUvWE9iamVjdC9XaWR0aCAyMTIvTGVuZ3RoIDIzOTkvQml0c1BlckNvbXBvbmVudCA4Pj5zdHJlYW0KeJztmgtQVscVgA/8gBCNVIwvtCoqCaZVo/EZBExELY15WKcmJlIRNAK2TZXxkfGFJhpjNYaoUG1a86omsTHVQLCJQxtprZKq8UlUIkr8gQAxCr5AZbvn7N57d++96BQyw7STM+O9u2df5/vv7tmziwDfy/+ghE5YlbO/+nrF539MCvdtbmO+C+kw9d1axqX+yO7cD9ZN6+HT3AY1XWZeQiC2dUxzG/KdyZiDCFT3QgRPdxy3YGXG6iWJfZvbqKZJGn2jz8MB2iw6yQw5+Vzn5jas8fJ7QkgHCH55x7Z1qWnrvpBUdZtCmtu2RsorZP9sgC6TZ3UUqtidkso7sHlta6QsMJA8HYIs7fBySZXYfJY1WvqR5esd+rb7BdO6ZrCpqUJr54JLgacISyZh0jfI4xdgbVg+gVoWPP5+AXrTAA+Jv0fV+gR5pPg5xgrwBOq7vK+/n7+uaOGxjcLN8ARyM3xaeMyOqYZweT9xo+3MWLZYTiurvKXlw82CGZU8O9TMDveWlZbHKA1bHSv3kpSd++z9ueMM9cwqr5TSU7s3pj1sQQQcLvdWvqeO3f0c73OcqtlZwQdNUTUTKr3eyul8I/raWyqlrAIL6hFpmxsSwIosmXgXK8WZ+qWYHWWNhtlNSrvWTJPTTwj1SmbTmxYG0laiDr0INSdUzVlqo367FFQsAnhC7ZTr4ygxFG4tG7HSSDM7F7Pmh/G9htnaNlb1O8/brH/TslOTPaNFgxYVPJOnDOj5hsq7KiqxvNVKCahIA5jISpKTU4Skcv1HqK+6DdKtmX4q7Jt3Cya22Z2JsdHuTPGiNNnBxH7uZHqQXVSNbUf1VjSJaa8YrNTGVFfwr337/nFG2r7EYHo1PjExYfLcN87JgomuTPmisNjJVGX5F4MJYpepxoqpGNkUpj7GT95LZ5KMA94WpcGS6T5Zxy/hqCgIdGEKuCL7tBatwcQsV2IycSN60uuOIUMAXkV1te4i/0umTMzc5P+W60xlRi6GTPm1ZHrU6jWdCj5xYUqRXbKPnUxsiINpNI/Ai5J44n70EbmoLrgd0i2ZTvB05nz++Nb0ScRUbmZXYPWjTiZYTDbGOZm+5NnfLeePK5a/RybyRoWGzmC6W7BuD4bByHQAM+83hWkQpntG4HNaA0xALqOrkwl2oSbHwTQG1fEB+LS2KGR6Zy3q3rQxvcMuPzPxY8ZKAgGZjqp1GsW0g2EU0qKOv/IbYqK4/zEXpnDUXA62M2Wjuhcc58/9GlNOyxos6qczfcl+y3PJjB167ApnOoLqzU1g6oLJPQAf4swwXJKdaTZWSnJhEpv5ZAjUmdDwYwAbsLC/ynQCHkXdEZ2piD2P2VE8V8ekz/ykCUwzMLlAblK/aoDpJSx82o1pKKq2gL/G9DgqZwA8ie+1KhMH/RSVyzWm1axqHvq98XifArAZ1aebwERxER668GhS0gATXQxEuzHBt7joATSmAp6p577fc1kUWkzc0dxD/qCVytSWydPDSGKaw8TybSxTT0ztxNQ2TI11ZXoEi64FuTLhgq7WmcjrHMdUFqYe0JkgVc52xZf3yWYbqM5AZBpITAmNZqJRx2OKJuEGN6aOl+SidWMixxuoMb2Mqhcx1R9T2TYmoCNQCmh7rjiXtIS7MZSmECUPbiMNMbXEjVEGW18hh8JUKStPuUC/233uTDgtr/tpTIU8XaMQ97AxEWmtr8rU4X5eKfFUdeHDmFtIA7a3MczMWGNKxqyGmdDVsG/mL+Yyh+6bJlhM515atnhx+mZ5XYMGuzFhcZk294ZhrYrZ2OdC6nOGjUn0s11hWnGDsSxxkkEP2J5SqTYmLa6+2DDTW8wmhy2m/ExFf8K0RWfyqWa4OHwUplx7n3l2JvJHfL97RjL9TFbMfr6Gzk/CN1YGAdylHKgL1D7/7WCaLZna37SPz35sMp2VDgjlg7YNMI1A1RoIsJi6O7pkEXamh1BbImYJZ9rDDox+6iLby11WDTH1oGZvAXR7xBrKa2N6Dd8P6kw8u8Q5/m9MJn4oO0WqmuLpYM0ZnSlX9KTsuVOdfW6yMwGFSKn9JFMpbpC7GR44jhETPEft+HEjenNbY6jXP8vf8Ua1xfQHfD9kWoLRJYbHdJwuPlpIcgyDWTHJDL/3gzJULTWaOZlwQ+EfVI2N/o6qIqNPWlA3W9uZ4CrP1P3phmD6lJ2MnHYFd7LB1wQTFGO76nYAScVJ1nA+aZcsJgoEHjfLcjDbTcRFX+uRM53FTF9ONwNFDTOdRs3rKlMYapQggBx3jIPpabLspmAaLw3dsayWSaYQWnKn+dls7NnqjbFh7UL7xM7ZWaHOPYpWjI0COmFfZwBWoXa2Nf4kzP9VZYJ5qDp1hztTN4o22Y9UJpoR0606SZjf4mCCLYZ16PeW8XfWfMq+IMsHUrD7RRj/OHk8cf2GNpuRqRUdXCbK+nRCWAd+ODmvBlvjh1L1IG3PpbrbFaZhRu3208TGhcvAZPLH+J51sfr0J9vucjB1Upmg53i+EuL3Fe61HHhoKZZewc2lw5pai+bi+mLBJCYfm4X3lGF/YWKO0VWUdin3T/khFKYg+t5rLabUXhER4X1HPfvhNTHGAVCZHmCa5YABKhMXJjoTJKpMbhL6HpWvxcuCVvEZW3cfLzqYu3FmCBhM8mcpzkrfKr7iLoBD+J6qdjMWNfl6bNSbqv/CZLLJzhCNiWLqeLXPWNSccTIZVzucKSyVrsGSp8RPSVZ32ilVVCMjQmOlsZDJ3NekeOXFZF2QVp9uie6F1mq89yw1GOzOtEEZhzOFoO681iXNcIyy7Uy9TaZJao9q2za/3Ee6v2WmxnTvfM9girIC0bhDVP7UVaVhHl97tCYztPFpsbK3oSW6zPNGDLselfUdXbazrbHGb3dBfGAKX1fpfS6V7IeZ7WKWdkk2B2Acq79kit4YRr5WKCbWjZI/J/fGtROEHk561h/mGKacT+fZlkz+fqrEUGsfH3zdNG+jSjBb2lEuSim1hasHmO3obvkgAG0fo/Q+6dsxsQzKtBLy8wvx7PjVnaaAQzrdOyhy+NBB3WTWd0h0VIxxIwfhCZm7dn20bDRtga3ioqJiHH9wi4yOih7hA8N4syHmHz6CY6Kiop4Mha4jooRERw7orYXNvkOjo0b04ds+bz7c/r8Y+vJmcW2gf0xUzACtoBMvGNGZH2YKjjlJ/q/kPxno9BEKZW5kc3RyZWFtCmVuZG9iago0IDAgb2JqCjw8L0NvbG9yU3BhY2UvRGV2aWNlUkdCL1N1YnR5cGUvSW1hZ2UvSGVpZ2h0IDQzL0ZpbHRlci9GbGF0ZURlY29kZS9UeXBlL1hPYmplY3QvV2lkdGggMjEyL1NNYXNrIDMgMCBSL0xlbmd0aCAxMTg3L0JpdHNQZXJDb21wb25lbnQgOD4+c3RyZWFtCnic7dx7bFNVHAfw061d1/fj9t2uD7aRGYyGKSyGSEDcxgQiEiMaYSwuIAMLZK6PMTdq96TLDBEjyRKJGLd1gwmpC5t76OgebbUCKiJuQYZTM0aYMfEv/7CeQkwUtb1tb3Lb+jv5/LGk2XJO8s359dzz2w2FYMCAAeN/Nz7ttVEo4Lb5e6y/f3X8ZPMuxOTpdNqcHADul0j2cMYuf3D45mjj7cmj2OJEG3bv5ztTLvxR+TOPc/hiyB74V3FkL+C2Bvvs82NNSz7XVU997xu77Xs2mctLairLsAO7Sjpszx3eu1mpUrG4IqNBR/saQXKKKXs4ddjciHPB29rdXrl7+/o1q1YIxATK4CAGB2VywxgcRhYfsXgiCWEw6PR0LxAkLfLZ8/VYcRn92dc+8s7Bp9Y/ks0XI8Ri80QqtUqv/9vmptNpMNqXBpIcyexNd1tmBx04eLi8CkRSxMjGJdUA9RQkgGT28I735bm6/TueRIjJF0mNhhzaZw5SHcns3fK2HqwoRQip1GrY7gAlSGZvwduyf0cxPlPc99UOgLiRzd6Flld2FiMmF86tgCoks7c40eYwb0UsHu0TBmmDZPbmRhr739wrIWT4eEv7nEF6IH/OveKpLyosyOKIaJ8zSA8ksxdwW5emXdUvbUQoG865gBLk7zVw2R3sNDM5Ap5QAvEDiSOfveBp+/WPHC+/8ARicDLYAiPc1YLEkM8eLruX+mt/+Lj53FtVDz+YjxBLo4XnzCB+MfWx+O92T/3ib7/qqd+2sUiuVGo0atqXAFJUHP179/oKfrt8bPOGRzPYfNqXAFJUfL2jN0cbx04ewr8ulSloXwJIUbH1jvbafN2WG8PO0MyJfS9uQCgLvu+BuJHJnv9u1+i1gYbZ845fgx3jp6qf37KGkMsVSiXt8wepK2r2Am7bxTO12OT7r0511bgsz2q1GoQycfBMRujiA/Ejk70Fb+uB8hKBULrMpEdMrlBMQOpA4qJm74rntWCfPT/PgBgcCSHX6bTQwgcoETV7P423vNtSweaLNfDvP4BSkbOHD7a3J4/a92xCmVzapwrSTOTsfXG2Dlu9soDNg9YpQLHI2ZsZPDLUaRYTcjEh0+vpny1IJ5Gz9/mZ2u9Hm8q3rYXHyIBykbPnd1tnzh/BCpabEMo2meDRCqBM1HPudLflx0+afT1WtVqNd79w2x4UX0AFMndqOH6LE22f9dmLCh9AiKVUqeDtUiBxJHsJprost7ytcyONTxevQplcjkAM75gCCSLfx4J3v2sDDXemXJ3OnXjrw/UXsXgKpdIA1xwgLrH1LfdYL/bX4vo72VVTV7WlbF0hIZcjxEZMHit8zSsLk8qEEoKQQ18fiCLW3tGAO/wivtlBx5LPNT/WfPZ4VU1l2dbS1eseeyg/15CXa1ieZ1xRkIv/Mj4Xc4WSZSY97WsEySmOvuU/Q2gNnrbfGHbiKjw/1vTNQMP4qWrswnvV+KOhTnOHbXvp2pUiqYz2NYLkFHf2/irYZ7/UH24uxXAIv/bUfzfsDH174lBFKVwEg/9CSfb+6frQ6x++vU+mUGC0rxEkpxAMGPSNPwA6sEOtCmVuZHN0cmVhbQplbmRvYmoKNyAwIG9iago8PC9GaWx0ZXIvRmxhdGVEZWNvZGUvTGVuZ3RoIDEyNDE+PnN0cmVhbQp4nM1Y3XKbOBS+5ynOZTqTKkgCAXuXZmNnOtltEruTi7YXFGRbO/wk/CTjB+nsA+yL7hHY2KGugZLpdDKJTkCcn09Hnz54NN7NDS7ANQXMQ+NybtwaDN7rqxRM/NF/XYvBPDbOJhSoCfOFcfJm/o+eaxIbng0T55vE8RgVYBIhmGPjaAkhHLibGp++oIvQsBk4LsUHYsO2tnZkzLb3ddRHoMKqwnJOmAD9jMeIY0EQw5mKlxT+TOF2P7vdFMywfhrreNtYl/uFmOhn/2Hmupgn2MIimwrZpkKTMG4zD/ZHyh3IlsbJeZyWSaEhMGF5IMBeQT8OTYUJNqXEs+rAvEfga/kko5FxEa/BYdVCwk2WFjIoVJqMTMBiglgWCJsRT2yTcLtyuC0xPDz5kQoBwVcRAnhm2mfMZObYhLgg2C0Dm+CjTmIbec8V2LZJPE87Ovb45xN/KT+/+ZnUqe4e7QSXUrgOUMuFt8yCTBqL1koLB3OhzUqLrqLmaeFH8CAziNOkWP3RKz0MYVHqQnvMNC7PR6fs2EHvQldU3OBVVtRY7TGo7ghqb+Zoqz0G2mE9ZWO8HIJtwGhrvBwChPK3S6mhyg5WGdbI8/WDHLuDPI84mKUnCFJ/3y3dtNl4RrOEM4jAw1BpJsNeD9InTEMlizSL/VdgN+ZaxKGDKfY/apqnpjmWymwTT2Q6tAP+0osQrb8jM88int2Tzx4yGasy7pn/hsBq+cB6yQfuIJ0hTdfqQVtRY7XHoL7j8u0ctNpjUHus5myt9hg0UaPGao+aKX7f3BrKwLXaSTWE2NIYvxxfSDXL441Uq+2WVDuuMIY14IXehGNbnwqCJ8rgjYeJjt51KEGpNeignXy4g8kErq7GMq/NiTtc0f07Mix3UcMNB5uysXFFfdAMPOFkFrfJjQtOKO8t1tbSz/Kfk2v7q+U4uC9dzaq9MZviqYCHAxN09JpxgkoDERwSvtbdmVzITCaB7KcIjyCAK6c1EyoFxpsVZL9il1KUyloPc7uJ2ylR+scdyq/Ccxt+re0Wvw51aPOdw9o+Ttj7bxEOagbnhy8RDrcJpw1ondx2+/HD/PIV3lIP9shhmVBR6ivQqeBgWdagDdJ6OUYpGURlKHMokHWUlpgqihKZ52T01sHcbOKK5lNMJyTw7RXwYMPwuKmFINz7qlLWOfhlkWptHfhRtN7iE74GHOwXw6F1kUM8Z4tG51aYln4WKj+BCXZCEijshpnMnlSA/XGtYlXIsEIoAf/hIVWJ/j+TqKVzmRQI2ZOEdAGzIC0Kla9gkimZhAjieZ6XGTqUMEsDJYt14+15pYLVBvVVmqkcr8HXNRQr2T4CdTUIl9N1+t1kuF5JoZO/k8syql6T4Lz2j6H9RCdd3cBgday9gi/SJCyDovVAh1MC+rLKcROhz3SxUHtnz14BHJWp21XA9/hdpWUuTzWXvYvWxSp/TtMQZo+4Wnh1Gvn5Mn2GKeJz9Z5sEsnqDJMy/optTfFINhmBAwt8cIWzXTEqOVAHE4R31nGZLCONnf699yOMUCYhJtPkRKnt4Pl+ADq8CTOsIQlP4RoXBCu5v2B/g311N3YjVp+Zhrz3TyczuAFUNTbSCfXGhscWMDVNDfma2E9LHf26rT/rvDzRd9+2xYFP2/8DC5MVtwplbmRzdHJlYW0KZW5kb2JqCjEgMCBvYmoKPDwvVGFicy9TL0dyb3VwPDwvUy9UcmFuc3BhcmVuY3kvVHlwZS9Hcm91cC9DUy9EZXZpY2VSR0I+Pi9Db250ZW50cyA3IDAgUi9UeXBlL1BhZ2UvUmVzb3VyY2VzPDwvQ29sb3JTcGFjZTw8L0NTL0RldmljZVJHQj4+L1Byb2NTZXQgWy9QREYgL1RleHQgL0ltYWdlQiAvSW1hZ2VDIC9JbWFnZUldL0ZvbnQ8PC9GMSAyIDAgUi9GMiA1IDAgUi9GMyA2IDAgUj4+L1hPYmplY3Q8PC9pbWcxIDQgMCBSL2ltZzAgMyAwIFI+Pj4+L1BhcmVudCA4IDAgUi9NZWRpYUJveFswIDAgNTk1IDg0Ml0+PgplbmRvYmoKMTAgMCBvYmoKPDwvRmlsdGVyL0ZsYXRlRGVjb2RlL0xlbmd0aCA4NjQ+PnN0cmVhbQp4nM1X247TMBB9z1fMI0hLsJ3YiXljYduyQly2RTwgHtLEbQ1pvOsku+r38KOMk962lLahWgn14klsz5xzZmwnd97lyAsExETAKPOuRt5nj8G1u0uB4Mf9xyGD0dx72aNACYwm3rPnox9u7GYIgXS+PUkSiGTsR7ydGEDs5hGfBZxJ2G5pEIGdes96H2+g14PBwPkmMN3j/9t3bLMGH87k8IDjnBlJRgU6E4JhQOKHQogIbvqrCZxBFHOfw9zjYbi0c2+47fDvVNxspLKUgC0lOETl85ePo6sTaciQ0hh2W/RCkd6hIRt6oQAhZUNONla+tnbbtOmJWLwc46zdNnUO2yFL43GTrgLmK+Nxk3qT/w/SOteH80wkpnGdaNYmen95NTV7cr3u9OBCwg+6cEE5BRbH8ALjWYXi7WAKMePrZXS8+EYzXcJdbSoFaIyTUmVgCqhmeF1MjJ0nlcbrW2vudYZ94wUsTP2q+6pDNUInx+P20apDxdarrrW7rDohJNb66czfJsjZTGCsbTX7l6xshQ+lwHx3hkDZS/eVMn4aPQO50bOxO+kZik5k3hWpmaszheQk9kncOfYvFlyEXDyNilRsVGzsTiqyoBOTazM+uxa5H4SdA1/WJWRW3yv7JCpySdYqtnYnFQnpRGY4Nz+VhbJKqro8V88A0fLOED6Ywm2hzU6aJ2UFHBYqseeiQTHCyJfRCog4hqNfJzbTSQE9XSRFqpMchsre61SV8F7PdYWbOu78OCC5vTW6cNdW3VpVqgLlw4Jwm+QwNVWlyxn0rFZFli/gdVnWFh0qGJpUq2qx9vYw0+ms8VlXM2O1O1LcuYFKrMhvs8ETs2FziMQnW2cIx4G/UdM6bw+l161/DJ0UDnTT0Z5RTvUN4TemyOq02plwxKkP7rYuK2XdmTiZoGSv9hAIAp/Hxwj8qd/A1KW6AHxUuMwX1ax8MCaD4R1mC+/2sWKm5gH6qM/g2l8CsS3Cop6PsbgpJYQwH/YkeG+G7YaMLvbwYMIPjvK4Kqa50879viY5RqiLDMGsMVHKIzwF90iHnTBEDkV2Ae8xIcjk6xv2Afjgxj9/UYioy9tDvzeET0AI5biSqTw3fED9gEPIfClOhsBO3GYPvLe4592do2q5xy7NnS32N30pGSYKZW5kc3RyZWFtCmVuZG9iago5IDAgb2JqCjw8L1RhYnMvUy9Hcm91cDw8L1MvVHJhbnNwYXJlbmN5L1R5cGUvR3JvdXAvQ1MvRGV2aWNlUkdCPj4vQ29udGVudHMgMTAgMCBSL1R5cGUvUGFnZS9SZXNvdXJjZXM8PC9Db2xvclNwYWNlPDwvQ1MvRGV2aWNlUkdCPj4vUHJvY1NldCBbL1BERiAvVGV4dCAvSW1hZ2VCIC9JbWFnZUMgL0ltYWdlSV0vRm9udDw8L0YxIDIgMCBSL0YyIDUgMCBSL0YzIDYgMCBSPj4+Pi9QYXJlbnQgOCAwIFIvTWVkaWFCb3hbMCAwIDU5NSA4NDJdPj4KZW5kb2JqCjEyIDAgb2JqCjw8L0ZpbHRlci9GbGF0ZURlY29kZS9MZW5ndGggMTA3OD4+c3RyZWFtCnictVfdcqM2FL73U5y7bmcyFDA/pnfZnTjuzk43G7uTi04vFBBGDSBHEnb9Gn2Fvmg/AY69LeufJp04MRHS0fdzzhE8j94vRuOIJm5Ei2x0sxh9Gfn00Y565OLH/p0EPi2q0Q9TjzyXFvno3feL3+3c/RSX0upwUeJSnEycOOwWjmli17mOPw79hA6/vXFMajl6N/18T9MpzWY2tkvLgfi//obvrMWHlSFtMM9exonvRQgWRT42dJ0giqKY7m93C0Kf4knohFSNwiDor8vR/DDgt6nY1aDSS+D3Ehyj8uWXz4ubs2gc3zWILtn1p2ollWG1oVoarl+/f5gkTvJi4GkAU6mokoqTqHOpKmaErAmfQm5ow6nRnLayUbTiSsualZQxw2hVcoY7mnNqbyqxZumWVrIU6dZ5PYtoEl3EYlFwMtIAXiq1IZmTKYQGLoiadpTWXGGQU96UJRmuqisCYZrmNCuuaCMw+sjpr8gNnInr0MKuZ5VsYA2uMHXH6hBmHPQwj4FD6EYbBWnXnFaNWknNNTQut8R0p24la1Pg/5XilWgqqtiW0oLVS96h5H+wCpqTyO183H7ixPoZQ7gi30miU7iM7K1tXSNsY2MXDChZjXxIFUwW9RKaQjyHHvh3EImVG7bVUBDXdj57lI3Bgh1g6sMOwQpdJ4lPwdpp8MjzNi8NGdCFmSVL+RvkVuxfmlvw/7lBJtlEWLNSZK0nY+wGJfpUwQcV3Amawk3FUqtKtte0lp2QULbjQsgt0Yo4oFXsnZNabLVC1kDx24apTMA2i4ztChGW/Qmbas4zO4npp84yyvmmq/rnhmtbH7r3scVfihyj29LmQTaEzT0nvQrOSlM4dNf3ihVnT7vkoKmoWZ0KFOx1thba1ibwtWwsg65636yb+Jf1xB4x0j+zLWMHYH+UHltM++nnHABPHIyRK/o/73IOo0ymTcVrc2jo/0Kn7yW2v+o2/VELmWgz7DLEbRoMHUwHhhxa7MWO759Kya6RvT6hgrjvY5ZLdIrKS23uk37O1VqkaGqfRCUMqtMeNrUtAClq+7/iaIMajnWnBg60eSqNEbqgqRK8zlAo11o3CgE5zWUquNm+RNsUIi3amI0ppEJ9ZUSP229oF+Bh7GRXvlNNBjgW/D1fNmXnx3UXH1tbr1V3A5t1ex0Q/oA0aNARv15wIqhDdlhoZBNiyjyHZD8OEBiPnXByisC/9ZtJPN1cEZ5C35dbU+iNlBnNn+EWRm9Lppd4BrqFPrOPTg9EdQjrpnpEy/I810UrpAGDBx1WezKiHuCBg2l8ksdNvSytdvb3gZXYoakzgHnB5HlhHCXOgHS4SXNwqLMr+gRDwOThg/8zhbP7t+iy8SVvDrfTOd2R63ohmoGXvHb7sefEEwp259JZEMZnvrQceWcJg+TrV5bI699Y+st/vLD8DaceijUKZW5kc3RyZWFtCmVuZG9iagoxMSAwIG9iago8PC9UYWJzL1MvR3JvdXA8PC9TL1RyYW5zcGFyZW5jeS9UeXBlL0dyb3VwL0NTL0RldmljZVJHQj4+L0NvbnRlbnRzIDEyIDAgUi9UeXBlL1BhZ2UvUmVzb3VyY2VzPDwvQ29sb3JTcGFjZTw8L0NTL0RldmljZVJHQj4+L1Byb2NTZXQgWy9QREYgL1RleHQgL0ltYWdlQiAvSW1hZ2VDIC9JbWFnZUldL0ZvbnQ8PC9GMSAyIDAgUi9GMiA1IDAgUi9GMyA2IDAgUj4+Pj4vUGFyZW50IDggMCBSL01lZGlhQm94WzAgMCA1OTUgODQyXT4+CmVuZG9iagoxNCAwIG9iago8PC9GaWx0ZXIvRmxhdGVEZWNvZGUvTGVuZ3RoIDkwND4+c3RyZWFtCnicrVbNbts4EL7rKea2LVBoRf1QVm9tENtbFNs01iKHYg+MSFnsSqRLURHUxyjQJ+iLdmg5jpuqcbIuAkc0RQ6/n5kxP3mvcy+iMAso5Nw7z733Xghv3CyBAP/c/1kcQt54f84JkADy0nv2PP/o1t4tCaBoDjdlAaTZzE+TcWMEM7cv8MMoCTM4fJIoBbP2ns3fXcJ8Dsulix3AeiL+h3/xybf4cGcCPa5zwzQLCcVglIZ4YODHlNIULhe3G5IQ0lniJ9B4SRzvxrW3Ogz4aypuN1LZSRDuJHiIyvt/3uXnj6Lx8Kkh9bO9gMePvRJf6ho2bIBBdwZKqZgqJKuB8RvZCgO2ElDquta9VGsodNPItpVa4eT4stfmPzcYvtwIKJgxUnDQnQWmuFt0y+kQJIl3IB+C5oIjghtZiDE+Al1LPASRAu+Mw+PWWGEa0OVIYKNrWQz+qUJGkMb0Kfad7YU53UOapf/TQ6mkdeYd2ITCfCNh7EehD3klW+glLr6+NRW9uh7ACCX6H/dtmOTQaGWrepiwkGI9HLewU1bWIFhRYegbzCaheOtwMAuNYKp1CfLyRMVoApRGT1JsXv7RwltZCrgw2orCOsbfAp8QKI1uRt4QZycii2eILPZndN8JwxHZdPNxyODrb8ifOHmSGjkWEWs0muWy5SAH+n1icbFx1gFObstSfhZ3JWdEI7tmW+/363Eqc6LoEZmzTRcf/ipBSAxqXEB8tthiKqbWAlN9bE2d7Yx4sR3/gsOWQIOfcefJvSGEGOszvdWXHpN30THDJVMw3zfX1djWXA420mINYl3iArbZaKncdyNQ1VYoy6zreEhpVWhrZVvBHBus4vUAr9q2MxhQwEoXUthhH62vJFaci9nZShvs4xxcmaNIE4bEmI/pMT8uTMcRjgN/KdZdzbYl82qMj0c78834YmwpzpA7wmda8a6w9zYcCeqDm5YtJpT7SSlLlOzlBAFMqGR2jMDP+i1112LmYCG+rgdbtb3WHFaf0C2cXdSsXeseFqjP8o2/A2JGhKprrjElCQmCANvqhMGTDps7MlJN8MCf7ugoj3O1rp127nPFajyhUxzB7DERkqQ08yekw5ewQg6Kv4C3aAgyuToL/4ZkefkbioKmT7m5LeYruIAgIAk2KHJqo00i4qSLQz+jj4YQP/LS+MCdMYmzH6+MlOxujLvhvQvjd+gx3z8KZW5kc3RyZWFtCmVuZG9iagoxMyAwIG9iago8PC9UYWJzL1MvR3JvdXA8PC9TL1RyYW5zcGFyZW5jeS9UeXBlL0dyb3VwL0NTL0RldmljZVJHQj4+L0NvbnRlbnRzIDE0IDAgUi9UeXBlL1BhZ2UvUmVzb3VyY2VzPDwvQ29sb3JTcGFjZTw8L0NTL0RldmljZVJHQj4+L1Byb2NTZXQgWy9QREYgL1RleHQgL0ltYWdlQiAvSW1hZ2VDIC9JbWFnZUldL0ZvbnQ8PC9GMSAyIDAgUi9GMiA1IDAgUi9GMyA2IDAgUj4+Pj4vUGFyZW50IDggMCBSL01lZGlhQm94WzAgMCA1OTUgODQyXT4+CmVuZG9iagoxNSAwIG9iagpbMSAwIFIvWFlaIDAgODUyIDBdCmVuZG9iagoxNiAwIG9iagpbOSAwIFIvWFlaIDAgODUyIDBdCmVuZG9iagoxNyAwIG9iagpbMTEgMCBSL1hZWiAwIDg1MiAwXQplbmRvYmoKMTggMCBvYmoKWzEzIDAgUi9YWVogMCA4NTIgMF0KZW5kb2JqCjIgMCBvYmoKPDwvU3VidHlwZS9UeXBlMS9UeXBlL0ZvbnQvQmFzZUZvbnQvSGVsdmV0aWNhL0VuY29kaW5nL1dpbkFuc2lFbmNvZGluZz4+CmVuZG9iagoxOSAwIG9iago8PC9MZW5ndGgxIDcxNjAvRmlsdGVyL0ZsYXRlRGVjb2RlL0xlbmd0aCAzODgzPj5zdHJlYW0KeJztWWlUVVeW3vtcBJxBJhV8vIFBlAjyeO8x6GNQEcQBEJ4oyCiKRi0njANRhAiIYzuhBlNaSYxJTFXaSkdbTUeNVT2YpFbHGO3EFGpqma6KVb06JulWw739nfuAsIhW8qfW6h/hrO/tO+yzz57PPQtiIvKiVBIUW7mkfFn/kpideFJLpOxYsHjtfEf2vmNEHgOI+o2rriqf1z/rV7gflAkeezUeeCf1WYL7OtyHVS9ZtWbU27Oacf8Ckfe7i39WWd63fcADoqBlkFG9pHzNMrGRphIFXwe/EVA6EUJSD+JncMf6vQdXg7qgWR8KpA30BmfyBt4tgoVD/LP4V/GpEqHsVV5WzinnDZsN94z+xuFGg9FsjDDGGpOME40nTH4ms2mMqcQszIPNQ8wB5uFmg3m0OdNcZq4K/7eHQtN0HY7QmzwFcodC7m8h93oPuXWGL41+xqHGEKNRl5vYQ26RLtcXcod1y50Huaxp2mfaRe2Cdl57TRupDVQ3qhvUZerIjrMdL3Xs69h9+8rtBbcyb026NfHWhFuptxy3Ym5F3Hz75uyb2TdTb/q3L2+vap/XXtFe2l7cntMe3z6iffgnb3rWuf3zN/jzFP10z9P3VmDkhPtP0F//c89UyAOx8kQ2eVNf6kf9aQANpEE0mHzIl4aQH/lTAGIZRENpGA2nYER5BBkoFFEwkZksFEbhFEGRNJKiaBSNpmh6gsZQDMXSWIojK8WTjezkoARKpCRKpnE0npyUghxJo3SaQBNpEmXQZMqkLJpC2ci0aTSdZlAO5VIezaR8KkBGzaJCmk1zqIiKaS6VUCmVUTn030yN1EwttJta6TD9go7S8/QivUDH6Di9Qi/Tq3SCfkmv0a/odTpJb9Cv6R/oFL1JZ+kMnaO3uJJW0DyqooVcRU8hr5bRk7yEVtMifpqa6CCvo5XI4I20AA5byTW8ivN4PS2m9ZxDL9E/Uh1V0lJeyymM6qMlVMvzqYI20TO0n4ewHxdxMZdxOc/lEjrNdXSeE3gRP8nVvJA3cT3PozVcyhW8gBpoK9XTNtpCO2gn7aLttJf2QeYeepba6BB9yZN4Ki1HRWXxFFrL0zibM/C+H83SnFwn7iCWgxGrYYhJFHyeCD+j4tnX5BtkCbAGADaLzeql08gAi637qfztcW3rvO7i8ZITHFauU6/dena8s83pdJa0OY2hT+OqxAlSYgwtCW1rawstebotPb2tLN0g7nxbqBxPCTWHhppnVxjNZnNRqMWQNsxp9LcFRmcvSliUHR1dHhptMEQjD7O0ZzgJ+ntBW0+fIEuEj4OTVq+uqa0Vd86oQ86cZPWkzNcq8LncfH7WQB8vi92nCkw1q8Wdk6o4eYb/4s7raO1/EOUmeIYccYEB/p4Wc0S8fZkhMtIwIjKyaWSoMWqUc6S7RkZp34oUcQG574epcYE+ktnHHmT29Am0xtniI9hW19JSt6mlZdOk9PRJjeniwin1ldOn2XVqwTpVXf/tpnX6mmEQlijeQbUQ2zHNYvaKtFvl6oPZFGCycVJ+sq280r5pW/WmzW9wYcd9Xp6XGDm6cMH8itzS5l+vLnfrboKcXPEWKpDYqiAeQXp0bJAwYFP7xVqeV1Wr/r14Sy0+enTlsWMVYJc9UdwV5+AXWGyKNHlZ2NoXs0WxU33FuZWtWzlGHfDNur17xbmOiezFEe61QrUH4og4j9omHsMWs6c/THYEDcJlhC1eah8kciOqrJXNzZWL8mc4dmc/+8HVw9m7rPyXUWMbLzXlFTrS3m/df3lcvFueC3pUQo/+iA9s7houwepmzldPcFPHPXGu5rWa12u6+RPB31fye+m8vhYXf8bqCzxefacRvG/VqF90877dKduKlLb6WnwldyPPbWxUnwevepVHw7oQ9Q+d/HQD/IrOD75GaXu3nko63g2Q74IZr/uzRQHTszc+ObSOfzfrd7UQl8IXIO4rNZ9PqAP0XIG/lL7wlzf6ojtXjO5UkX6zI1X2Pnftmnrp2kdHK7ZtLy9r2SLOX1Y/eO89HnN5TfOllpZLzdQpp1IZCzn+6KMUHiQzLnIMuz2ObPUKjKNOiRaz6IgvWDJh1cjDH3708+euNS21Le64p8sur+hfNG1Gpnh3f+vly601p8KS+c/dazB0JDFBzwkZCwu8ZfEWyR83fSzOPdVxVkySPJmI/0nw+IDHPzDOboNX9WLBxfvlR+Y2vrhj5/FGDssrK53JB9TqliNHWviA24ZwzB0oQrArWJBzFpunO2cc1s7cd7JMH46zO2xIrAD/QDGwLqGmYP6i8jZn8tSZMSkLJlWvZPVeQk6fpvix1rTJc7OyC3hQTHzcHEvovDka2SJjQy3mkVJPo/ZQBIpg9DbiCLc0maeeXWkaxBfsrrTc3LSy2Nzsw2v2t67dO5WXJhdmZBamTFi8f+261gpdZyN0LkD/GKRnPMJu+06EkO42w/d8pb4+ee2K7VuXrx/3SWNBQWM+s7jTMdxVfGD92v1z1eNFu4qKMjPd8h6KJOjlCy/IfPAyGbiHYl4mvag4tqWun1ozMDfZlZSRv7229UAgDxVTxidOE8HH9yWmjcsqlireSc6YBFvhTX5J3NVtNXuOYKs7djarW02vCI41RDY21mdkLM3JcsRaRK3Z7ChVS/gXpdbCsvDKobpeidBLxsak2yljGumQGTWeuyy297D4dP3Bjeuq46cWZRYkrHiyob56ZfJ7G2bM2DADlgepISuaJ5ckTElNyd+5cvl2LlDPFDQXuCZ8V0uiFD51V0QAdEX8B7G8sPra+WDxooZUR9rU+nqHCPlZqXqSRyaksWuCel/cUS8vdOdSFn4/ER3oAwOJhug1IJUMQoRWpEZFpUZ519eLjtFmU3S0yXy2449d68q9oL/seF4BcjWH1cuPz/5dXn39jf2//eBPrr1YIu/376unu/rBdX2PdPcDSERQ3Tbkoh/8O/xl/L4N3xkTYMdeEmRXBhVVN6TYnVkNTntKVn29rSmj1M/aZVtimnClq//bfSGCKueLCeM3dK8jZmOdR/kqwM573L7KfoSvguYt6My3AuRbP7nLDOna2Wzx4d0d6Ny3hw9vePowD0/Pz0+fkJ8vgmVqta5bGzF715w5u2a7/e3SnGIL5AzCt4KuiZ4gbi383G1H1hhvW75ty4q141EPxd3yWtev3Vesfi7+o7BYzSnaMWfO5Mw5nbbxFtiGHcjP7giI8NStuuLYOLOyvp5fXyQ29Jk1RVVFEHj9tYd8SYzQ/Y21AvwNilsFh6wfW/wYpbOsd+RlZybNzE9aU9TkeiJs3hMzEvPyElfOWpbPjWNjhhoDTZNt0/Oz8WkRF2wKMkyyTZ+ZKHUJ1h5wi9grveTurjZfS6T8tJFbqb81jhcbUjMmFWbz1E0HDyYYGioic2ewd+mePaX/PVHOT4WfU6DpkJ5dQvbGQKuTbXyuocH+zJzqhvF2Z6YI6vhjZfXSUp6hXktIZVc6puj7cSjmeyKvHNhfFAs3b9vS8G6jCGR1IbfKDJZ897UEEQG+wUR9uko0hRW5JbHd2pA1LiHMZBvm82nTga0NEzbHVgbbLWKQup43u/uEGCYuys7jJzdOm/5x19UkLGbZOR7wEDUoNzd3xaI1ufFpkyt/yWGnliw5VVa8ePXs6qwls8v0M4Ay7OBtV+zm0sHjvqb+yn9K1a58FmXtoupd9Zs+q5V3cevdfabAPOWqegJ6H8L7e31W9z6HCCt/iG92yToNPw+B35Md39HjxDUaKlZRkPIxhYvDOBXcoHE8mbJ4LlXha3gYfwPbPiUzL8dZ4RZFc672uVhIo4AFQBgwBDABocAY4AkgAgiX/NSOuZCh42tcXyQP5Z/A+4Wmid+QS5ymUKUP6D5gMvAF7gPJxXFAh9YhPsKzEeRSDgJ4rkRh7vOgsaBX8A66i6nkLR5QJr7ThAc6LvbygWIL5LdhzRLweFMFv0/NwoI5SfBBCcWL6bD3ZbyLJ6N4FcghI04fFlGP6yNY2wIfjNReEXNxPYZcHr6UKw4BNXgv52EO76Fcvk3+/HMKFrsoVQzTNEWum0D9hVG7D71HsZQbQLN5Jy2DD1I7fZ8gCiEnAutdAt2gaTqPBlkbyU/8gUK5gUbwVfjWDhtWULL+rAT+r8CaX+PZJsSmivrhWaJYrqmIWzSup3BfGoyPgmBup1QljQYrhcBG8L1DBt3nj4BHFCjioMegBzhOu4c45IB+A3QoIcizzhj0BmybqMdGxqEnpD+kv3ZRlu7zR0B5DzTeHYOeYIt2V4+DRfsv4BuRhzzrikEvyPzSr2UcekLGQa4vqbRXrtmT5oFK2+X6j6F6ft7upCfwXPon5xH0cK975LKeT4+h0pfiiPalMguxOUIKfPwV7PwzfB4IuweDeuJeA53KvpSsx8JCuUoM5mXDL6gPDtZe1GsEeSpmwTcjkB9jaIasGdAcnRa6a4iLQWOQ/wu0h/ra8OVjqYwl/NmbekyjUI/+sAG1J/O/k07upEZZj7ImHktRq3q99KYyV2S8fog+RB61UKqsc73WJGRsO+td1lxvyhu0rb3Xl35DvQwAWK+rEgoB5st6kj0DQG1p94m0DJknypPoMS/CNx9p97rW7k27dOF96Lgvoc7RN7vAtd9BmMlHgsMpGnpF9zlE4aj/IWxEf5ij3lUCUN9XKUBZjxNOFGUoM1HDu6ifchTP6pEr1ZBxF7pU6XVnkT1Zl/UmeSvzZR/Tvpa9prPn6n1X+CA2jfCH9EkHfPkYKB497rPRx38I0ylKDAfvXeRHL/CfaKzyOY2V9AeBXPY4ht5CvcCdNErvT8N6A+8m/1h4tFJmb6Cvfh9tnX7qwgvw3Y+A8hv0kkxc/xBmI0ZpWEf2gi7ccFN2Igb3QWtpYm+gT6b0htiJmugNmfs9sRRrvQo7TlEMt2BvykEOGbFPltEIHD0DxWLs26l4/xRiuZwiu/nCevBlYJ+VfGnY8yXfYvAtxJyFtAKI+WvfAXwekPtS1561k4bzegpAvwjndWTgQ2Ti/ciXH8mHyip75FhFzd3jOYyLGHfoDtNjRwjGRIxiXoGB43TneAPjOl8X/fQRgvPbo8cyjL3inLijeCtOpUxZh7FbOaJ8qHzlMdQjHaPQo9njuMe/eNzQx4Peo4/hp/HT+Gn8fxzyFCWslEX9uv+Dw/rJKtV9qvo/oNHOGAplbmRzdHJlYW0KZW5kb2JqCjIwIDAgb2JqCjw8L0Rlc2NlbnQgLTM0MC9DYXBIZWlnaHQgNzAwL1N0ZW1WIDgwL1R5cGUvRm9udERlc2NyaXB0b3IvRm9udEZpbGUyIDE5IDAgUi9GbGFncyAzMi9Gb250QkJveFstMjc2IC0yNjYgMTM5OCA5NzJdL0ZvbnROYW1lL0VOQkJERCtNb250c2VycmF0LU1lZGl1bS9JdGFsaWNBbmdsZSAwL0FzY2VudCA5ODE+PgplbmRvYmoKNSAwIG9iago8PC9TdWJ0eXBlL1RydWVUeXBlL0ZpcnN0Q2hhciAzMi9UeXBlL0ZvbnQvQmFzZUZvbnQvRU5CQkREK01vbnRzZXJyYXQtTWVkaXVtL0ZvbnREZXNjcmlwdG9yIDIwIDAgUi9FbmNvZGluZy9XaW5BbnNpRW5jb2RpbmcvTGFzdENoYXIgMTYzL1dpZHRoc1syNTEgMCAwIDAgMCAwIDAgMCAzMjcgMzQ5IDAgMCAwIDAgMjI1IDAgNjE3IDAgNjE3IDAgNjE3IDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDc0NyAwIDY5NiAwIDY2MSA1ODMgMCA3OTAgMzA2IDAgMCAwIDkyMSAwIDgwOSAwIDgxNiAwIDAgNTg4IDc2MiAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgNTkwIDAgNTY0IDY4MyA1OTIgMzU1IDY0MiA2NzIgMjkxIDAgNjA1IDMwMiAxMDQxIDY2NiA2MjkgNjgxIDAgNDAzIDQ4MiA0MTUgNjU2IDUzNyAwIDAgNTQ0IDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCA1NTBdPj4KZW5kb2JqCjIxIDAgb2JqCjw8L0xlbmd0aDEgNzY1Ni9GaWx0ZXIvRmxhdGVEZWNvZGUvTGVuZ3RoIDQ3NjU+PnN0cmVhbQp4nO1ZaXRUVbbe+9xUFYIQiqQSAiSpIRNJTEJVKiEhqQxkTqpSqUAlkHmCUCEkDAmDoDYKMigIhCDiAEgDTaONYCMi0+slttoY9SGtbcsD1Gb5aNt2forWvW+feyuBBtZ7/avXems9bnbte26dc/Z39v72PucWgACggWxgkNTS2dT91X91aunJcgBhYPbcpbNGV88rBPArAxid3N7W1Mp2LCoGCHyA+qS004NhIaoQah+jdkR756Il1uFTR1H7IwDVl3O7Wpq0U0fOAhh3DoBd72xa0o1ngcaHvk799SSCTyYAxwH4KrVQbvvhftKzCJkKouA+1GAAjsdwNGEcFqEda7ANO/A+3MzGs1T2e/YGuyhECX3CmbBVYd/oA/Xj9GF6oz5Kn6RP1+fpDxoCDEZDlCHBUG9kRn/jGKPOOM4YZowzFhkbjW2Rb/7EJEnGtBPvxiAMQyNGYwKWoRPr0YPzyM5YsvMa2fnAZ+eBsK/1Afqx+gl6vWwn7R/s1Mh2tGQnZMhOK9lBSZI+kX4nnZJOSMelY9JvpSPSIel56aC0X9orbZFGid+IbWKr6BZHeXd5ez9+6ePSK/FXJl6JuRJ9JeLK+CsBV4ZffvZy5uXEy/GXIy/9eMl9qeRS8aXCS3mXci5ZL4VcYv8h/XmHuk3x57/gn5oNlyMHt1lE4pTyj8H//E8ZKYAfxVpNbBwGd8FwGAF3w0gYBf4wGrQwBgIgEHQQBMEwFkJgHIwnloRCGIRT1AxgBBNEQCRxJRpiYCLEQhzEwz2QAImQBJPADBZIBiukQCpMhjRIhymQAZlggyziWA7kwlTIg3wogEIoIo6WQCmUgR0cUA5OqAAXVMI0mA5uqIJqmAEzoQZqoQ7qoQEaoYnwr4aHYS2shy3wODwNz8Ju2AN74ZewD34Fv4YDcBCeg9/A83AIXoAj8Ft4EY7CMXgJTsArcBJOYSEsgFZogzlYDEtgF3RDB1ZAL3iwGdbAE9gAC7EFW2E2LMZqnIkzMAUbYS7PVdgPx+EX0ALziK2RyNF0wgosgWZYCatgGwIiZmE25mE+5mAuvIxt8G/EcgeWE8ftOAtnYxEsxalYgKXwEDwCD8KjsA42wmOwCTbAVuinOfvgSXgKdsCnlINmmE/5kYhJsAwtOAnj6XuVHMxv2QmKpZpieDfFDiZpDVohwBAQrEXDCNQG4LfXD4gHXz8gbsBpB14/wE5483A9SOJ7EoreCyBhvMhAIk5k4J9gmTwXBJislmU2G/7pE3oeKx0jJPXED0gxB+kC/dGUGmVNdsZM8E+MNwTVTwgODC4qHhkWRH0t0g/Ut5GwQKo5KFBtMkYlp7QGTpgQqJswoTEsPoz+CLL0nbQaFwjJ3FawCS1peTg5f5nwvMxdqySyxewU8ZIsjtEHjVbro0ZH6Efr/4BB/f3itX78SmzEnezUUfHg0aM4bYH3dZnTvI5+QfjJKxaTllbwRfmGi6y7jH8XQxNr2WniM6CyBoPOYEUbWpOjTEZNdAoGNi1a/j7eK4ajOj65JLdtpmkuO11X3vDQp2W5GBpfY7SkV2U38bk00s/4IXuFsgICgsNQx1cZnRpkMackR8WhNdVgNeguRzcuXN21vNnkbKuoral0vyW+i1uwT1A1VzYvLZyaW74yz/JJWYqMO5ywRRBuquMBFqtFZ9GZdCarwRpg6ble6vGUiod+KkfVyy/bjx3Lxd8p+WsgH/nRmHHUMOhSLHxN3NkKDmVRWgP+p/hiRnrnQw93pz9gNtTOLq+psTdMx37WdXb4opo590005RW4CmzFWpwl+/1nZiEfBVFuk5eCNTSJOtiGQ5Nbk1MC6InaZwKnz27QF1d3dQ0L7rTPXvyLuQ9s2rHY2YQ4w1VaW8VOm7Pj9j9my13c1rHi8K59b4gna3PSG9zFBRWEP5rWPJLwDwO4i7YYA18wGylenI568XgRXmVLvQ+zrllHeJUyE64UGZeeKowSP43P7xxTagJFMSXYqA5UYiAY1brAQYzJc5YsyHesW7xkvbNwcubS9hKXq6SYZHpTk5uEna53zb1HV5tT1+Gpza3TBTmtFXW2rO4s+hPfLrTlFhfn2gqVmjpJ8rJEdkbxj8oX8uhRqKBQvCT4nM8RoP8d/VNdSd4RbnbOzv1v4FTunOkl5BzZlpxHuJbyKIBYMZRJAbfllM6nca2SXOL7viRjVN2BvUk+1lBth0iDhvIMTdEjkEWKKx3TMb0S06q6n37yhRd4SRCxRXxK2RU8NG6zzMdgfmYIMMgr83ncEKDzEUwYvPFgtGdJXmbZtNW94nvO84UOR+H58+76hunsRJ3LVjlyRH3RjDbWdWVKqjVdPP99TkZatszhGIprP+V5oBxThW6BQebUYF9ccWvhakuSe+nivfs+nzFp4aZt5y+wUylJmdW7ru6aljp3YOuWc7KvON6/yev0V9CO5jC1MhcI3Pjtb7+zQ/zMea5357O97MQb4h/fYF3ei09ee4ow8LEuGjtCziPfpTWwfLEHm8Rn8HFxLP6ZdV21f1lGvZT+0XR312B/rYl6R4tbsFB82YknWdf3dvE96uBb3w5aXzA1LDqZJ6OJJspCZYamMlehdV3+4xf+uGNrZ0LN0iX7f7Wk2Y1uMdY8gDHnGjMqdi9ctHuKz+4hBaeBLJJVC31a2CGnONPpxL1OTBbPsRPiq5gh+5b6w3GlllMttBx3OhVMQLVrHd2Sp1B7o3BZqVziOk/9IkfMVHe67TrNFDSruzW7Ii8Hd9iV+fBvSm1N5au2HEeLuMJZxr0CN+G7i+NDDg85OpdY66zEPeXM7B0glr3FLBQv8ougIr/I3EY5XNwzNxIYt22/cGH7ExcuPNG7f39vz7597NQ58YMB7pKyXVd37766ayjuK8nmcDlHFJbGoc4kh14hpmblxo0rX3I6X2ycPbuRnbi3e9EDF1mX+Mq0ivIKeY4YqVtIkDlI25KKMy/aFyaZ84QHfKBMRmGEqbJxcdswDmz7hccXF+dneo/J+Hp6NRn2Rzi+c333ngxzsGAFpYJxo+xv2i0M0TI+rS+hglHBGYcseVOY9rgThz+4qaJsjxh3nMM9fold5JDdi0K+wFgZMYKeatBEqoVRNyq0LjDMb7D4hylTJqh4+qSvaDLOaM+rSK+eVZX+yPzSDZaIpBUZZdVx+dOmFcStYqdzSqdMio+dPN4UVTmlak76pKLE5HRzZHJoSOjEYourhcd1hG9v0lCD9lQtL9MRf3F+ykIohzaxLs4NNRWNn6jP3Tz2I9AkWMZj6ni0CKNdJ0+7rrnPnHKeOVXJHN7DRIFdrB7po4F8Q3Udv2ZjyDNUTw3WwWpu8W3J8sYTHBBtTkm1moy8nu7NWulsaa97rijfWWWY3JDdNAdRnNrgv2d1bsX0moL8Cgyfkp2RFmlsdIt7srNSs6bHJ5OdVvLZMnaV6lmIb/fgYdbxFKKC6qvXNP2K7kfXd2+0ORy2+10ej6vS42Fj+nt7+hbNZ1fFl3pE8zz39K55B+eBfCbyMkbYee1KGSxdlptqV+L9ZXHZda45c1yetHtK1yzcvIVpsTw1c+7Bzrykmr7enq0y/2KpRkyVsY3lGWmyKtWdr1wrKLSjidlUh21j94ZHuws6Qk9VdnRUTuvoYFe94+b39H++NTMNi7218w52d3No8pxeFkfYRsuVJyVIY+C0UKAlp2gMCVSJ1Ji44n616Brebm/NiitftWjz5nxs92uwl7YSzp1r7TW5CdV9n/d9VjZjJl9vHH2sZdfk85NRHUr1TGGDhe98vHZjSIx12zZ7Xl5LQW6iPortMsfnZYs5eDo73dXATFnjwYctg8UOxlyuQPzIEmxOycTB+JuDrSBHxUj5x2I3LelpiShvdrenr/GsfsizJkP0Pt3W9nQbIvMXYxauwdKMXGx2OedtmD/vUZzXIZbMqeBur5DrUisZLST/jlEiT5jJpaNQJxfQFLy/3uMoL6hscDiS2ZjORvEVTCpwoMcteinkRxYrmF30eYx95DuP8h2Y/BhAE3TFh4bGh86029lH4Qnh4QneqczfZ9NMNvmeopFphhZNAB1yuhwO9K89+2EdDl+4jQyMx1HnxJODOOEwjfHV68MOBzXoeQPl1mvkL/3t+G8sREdOCwpOEVhtu8ORV1FTbs931tntlv6SZm3S0LrKGV/X0A3zX7yEFeWuUc6TZIflkJ1b/KRRpselsp/sdRqHI+UmR9WWiX9h/ot6YIh32Uyr1PUxcp7xiEbImx2P6Jlr/f10eq/f6/Hs9TBtX0/v1q29PfZOd1VnZ5VbnqNVslGujrklVxUU/1Suim+xdxfcnKscl41yLGAox7Q3csz6v+SYvzcRLUqSLRAtQzkm+wvJJD9ZBZD7dVFq7qrnUh52tWoczL+nl5VjXbn4GRFC7h8ieXEP9Tfy09xQ3RZ87w5y2U5NSRCI/39tLgjLK01My3S7M7tcK+xhhobESVmIGW53xhw2JskWZzLpo8eG5yWXlJVMCY+IijTFhoTmJhcWcTtRVFO72FpelyKD1Rryv5ykFl0qETHQYsYZQWm2zOKyMvu+fQUTW7KisbQU78lavx6zxSvVClY7xTGGgI/xVSR5FouW6hu9LmlZjMOytXYOJ1ot+ecrYtG8BswX3yE+dExHQZmDzp74Hc2h5nsC3xAsGFXxbuX+feWUtbl4ytdHaKE+N+8b/I/trNjxRMVZ15PbXaTxoDhNGTM4jtegH2kcz69UixBgitaYAgQLDtvgPnSypn9H9ZkjM7HwdQnEr95/H/35LyXSdSldHsPPPcLgsScLuUn88Wvz3Kwkgyk6Wx/0oes3+2hVe++NzgkpmcRGiHY8wm0mSxJ+SuPv4u8rKl2kFSOtKvxIPIou0Ykl4ml8Bs+L8+l9fwpupE9fzaR3tNOcyZH0smmx+sqlL/5yEdXhD6KlqqpqVsPCEmN2ZWb20aMFBQV/t/XO7qrLrijM67H93fd7zVU2gAZeHyLp/ZINeM1s4OoU+btYFgR9ytlwzB3ez9kJ3wt6aNDgbz8k83c+s67BP+M7GCF8xh+/fWCsbVCL1ySTyiacpeawod+SaIzwhUR9VO3iNfF7le3W359wOX7ru7OTEHvgD2DDNMhgA2BizaCn9/s44mY6HIUMTIQqtEE1FsF4/CtEwlmIxQ7Iht+DBTOl79hBsOJC0LJ84FzUsBwIZ1YwsFqwsliIZnPATPeT4FWwwGs0luYYkv2gFj6kcQPgx86Bh3wTI+hIryexkHxF7XHgwQiSTyhKr9AzFXiE7STjSe6hsU+RtpE+T9+1gJ4lkKcAZrLtNPePoCYdxObT/H0Qhw6a5zTk4JMwjwlgJHyA9VBImM1sD7SySRSjfSRlhDOPfLCc7vuhFUeAC0dI+1km3QdBq18gNLDHSDz0PR9HY3ARNOBZCMHVEMUeBjt+DX5CI9nVgg6/l66zUZCMqcS161CPrTCT1l8s+/5NyJTthpK9t0h30Nmd9/kAxmIPxLPvIAaXk/waIlk0+WwuZMvP6iGVYlIu+3E5GLEWRtOzUvJHC3MSG8jf1HaDSPY3QwQehjJhGOiEcJJi6rufYs39fgfxE4D/ZhEjx+EmwQiqWhFQS6Im8RcMxDVfHG4VwuWU7ykWN4sci50031q6536/gwjnSU9S4nCzUAy+pFg4Sf9ImhHnEobicItwv8j3FIubRY4FxUzWfL3c5g2tojnN8tq5fZ+WOXncp3fTc+6Pspv0plvaxFuZO4P6cxhJvvPK+CNgHGGnNhSBFyaTbqB2g6ChsUHEM+I5eKU9MtczYRxLo/WpoJl45+bcH9LhxDuuY0gHghYN0jc8Ftwft2meJ+SLQe1XADF+YYSLcobz1qfLfTqW5xHn8m2ackvmN9e9ECXHk3x6m0bSq8DB80/OAYq57G9fHvJcuFVjrbTqVjvcD8RhE0mYzPd6SCJZTpJB0kgyjoROz4SZx/DfpR8Hbd6qBzHgFqojAzSC6tig4DgSijNOpXkYjOQCP4CFmcGiaqe6oaUcGwtlkCZeEyZQ+12IFDokr/Ag1ZqJUEB+1gmUf0IXhAlllFe1NM835PtGws7zk+qkPN8vqc9SsjOZdime/zfVQjacxpSTL5pp/uNUJ3jeDub1Clr/ApL19F0nzbkZJuIGiP5n+9Fqo+5wmYeuIrpq6R14NfTBcfgYfsYorMUFeBQ/Z6P+4Ypl9fQuv5MdYwPsW+FuYayQTFceXTOF+4SdwjvCD35JfrnyVX+Ha7PfCb/LquGqZFW16jHVYdWbdH2q+lIdoS5Qt6s3q0+o39MM08RqyjT1mmWaPs2LmoFbrm////q/dw1jdI3711/KeYjyo4D/MgLK/7ihfCLKVs5A/w02ciI5CmVuZHN0cmVhbQplbmRvYmoKMjIgMCBvYmoKPDwvRGVzY2VudCAtMjUxL0NhcEhlaWdodCA3MDAvU3RlbVYgODAvVHlwZS9Gb250RGVzY3JpcHRvci9Gb250RmlsZTIgMjEgMCBSL0ZsYWdzIDMyL0ZvbnRCQm94Wy0yNzggLTIyMSAxMzQyIDk2NV0vRm9udE5hbWUvRlNUS0pRK01vbnRzZXJyYXQtTGlnaHQvSXRhbGljQW5nbGUgMC9Bc2NlbnQgOTY4Pj4KZW5kb2JqCjYgMCBvYmoKPDwvU3VidHlwZS9UcnVlVHlwZS9GaXJzdENoYXIgMzIvVHlwZS9Gb250L0Jhc2VGb250L0ZTVEtKUStNb250c2VycmF0LUxpZ2h0L0ZvbnREZXNjcmlwdG9yIDIyIDAgUi9FbmNvZGluZy9XaW5BbnNpRW5jb2RpbmcvTGFzdENoYXIgMTYzL1dpZHRoc1syNzQgMCAwIDAgMCAwIDAgMTgyIDAgMCAwIDAgMTk3IDAgMTk5IDMxNyA2ODQgMzcxIDU4MSA1MjcgNTc3IDU2NSA2MDQgNTU0IDYxNyA2MDQgMTk2IDAgMCAwIDAgMCAwIDcxOCA3MTYgNzAwIDc4OSA2NTEgNTYzIDc1MyA3OTQgMjkyIDQ4MyAwIDUxNyAwIDc5NSA4MTMgNjY5IDgzMCA3MjMgNjExIDU1OCAwIDAgMTAxNyAwIDAgMCAwIDAgMCAwIDAgMCA1NzcgNjc2IDU2MSA2NzkgNTg4IDMyNCA2MzYgNjYyIDI2NyAwIDU3MyAyNzggMTA0NCA2NTYgNjE4IDY3NiA2NzkgMzcyIDQ1MyAzOTAgNjQ3IDQ5OCA4NjQgNTI5IDUwMiA1MjYgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDE5NyAwIDAgMCAwIDcxOCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgNTQxXT4+CmVuZG9iago4IDAgb2JqCjw8L0tpZHNbMSAwIFIgOSAwIFIgMTEgMCBSIDEzIDAgUl0vVHlwZS9QYWdlcy9Db3VudCA0L0lUWFQoMi4xLjcpPj4KZW5kb2JqCjIzIDAgb2JqCjw8L05hbWVzWyhKUl9QQUdFX0FOQ0hPUl8wXzEpIDE1IDAgUihKUl9QQUdFX0FOQ0hPUl8wXzIpIDE2IDAgUihKUl9QQUdFX0FOQ0hPUl8wXzMpIDE3IDAgUihKUl9QQUdFX0FOQ0hPUl8wXzQpIDE4IDAgUl0+PgplbmRvYmoKMjQgMCBvYmoKPDwvRGVzdHMgMjMgMCBSPj4KZW5kb2JqCjI1IDAgb2JqCjw8L05hbWVzIDI0IDAgUi9UeXBlL0NhdGFsb2cvUGFnZXMgOCAwIFIvVmlld2VyUHJlZmVyZW5jZXM8PC9QcmludFNjYWxpbmcvQXBwRGVmYXVsdD4+Pj4KZW5kb2JqCjI2IDAgb2JqCjw8L01vZERhdGUoRDoyMDIxMTAxNDE1MTMwOSswMScwMCcpL0NyZWF0b3IoSmFzcGVyUmVwb3J0cyBMaWJyYXJ5IHZlcnNpb24gNS42LjEpL0NyZWF0aW9uRGF0ZShEOjIwMjExMDE0MTUxMzA5KzAxJzAwJykvUHJvZHVjZXIoaVRleHQgMi4xLjcgYnkgMVQzWFQpPj4KZW5kb2JqCnhyZWYKMCAyNwowMDAwMDAwMDAwIDY1NTM1IGYgCjAwMDAwMDUyMzMgMDAwMDAgbiAKMDAwMDAwOTUwNSAwMDAwMCBuIAowMDAwMDAwMDE1IDAwMDAwIG4gCjAwMDAwMDI1NzAgMDAwMDAgbiAKMDAwMDAxMzc0OSAwMDAwMCBuIAowMDAwMDE5MjkxIDAwMDAwIG4gCjAwMDAwMDM5MjQgMDAwMDAgbiAKMDAwMDAxOTg0NCAwMDAwMCBuIAowMDAwMDA2NDU4IDAwMDAwIG4gCjAwMDAwMDU1MjYgMDAwMDAgbiAKMDAwMDAwNzg2NSAwMDAwMCBuIAowMDAwMDA2NzE4IDAwMDAwIG4gCjAwMDAwMDkwOTggMDAwMDAgbiAKMDAwMDAwODEyNiAwMDAwMCBuIAowMDAwMDA5MzU5IDAwMDAwIG4gCjAwMDAwMDkzOTUgMDAwMDAgbiAKMDAwMDAwOTQzMSAwMDAwMCBuIAowMDAwMDA5NDY4IDAwMDAwIG4gCjAwMDAwMDk1OTMgMDAwMDAgbiAKMDAwMDAxMzU1OCAwMDAwMCBuIAowMDAwMDE0MjU0IDAwMDAwIG4gCjAwMDAwMTkxMDEgMDAwMDAgbiAKMDAwMDAxOTkyNyAwMDAwMCBuIAowMDAwMDIwMDY0IDAwMDAwIG4gCjAwMDAwMjAwOTggMDAwMDAgbiAKMDAwMDAyMDIwMyAwMDAwMCBuIAp0cmFpbGVyCjw8L0luZm8gMjYgMCBSL0lEIFs8MjNkNWU0OWNmODM4YjA3NjBmYTg4ZWU0NzcxOGMwMzc+PDE5ZGZmOWEyNzU0MjRhZDAxNjUxOTdlYmNiYTUzMDFhPl0vUm9vdCAyNSAwIFIvU2l6ZSAyNz4+CnN0YXJ0eHJlZgoyMDM3MQolJUVPRgo=</ax264:content>
               <ax264:contentType>application/pdf</ax264:contentType>
               <ax264:createdDate>2021-10-14</ax264:createdDate>
               <ax264:createdTime>15:18:25</ax264:createdTime>
               <ax264:documentName xsi:nil=""true""/>
               <ax264:effectiveDate xsi:nil=""true""/>
               <ax264:fileName>Quote Document XML.pdf</ax264:fileName>
               <ax264:id>157310</ax264:id>
               <ax264:referenceId xsi:nil=""true""/>
               <ax264:status>0</ax264:status>
            </ax260:document>
         </ns:return>
      </ns:findDocumentByDocIdResponse>
   </soapenv:Body>
</soapenv:Envelope>{code}

_Document response_

{noformat}{
  data:{
    ""documentId"": <id returned in response message>,
    ""contentType"": <contentType>,
    ""fileName"": <fileName>,
    ""createdDate"": <createdDate>,
    ""createdTime"": <createdTime>,
    ""document"": <== Base 64 encoded document ==> -- from the <content> node in the eLissia response
  }
}{noformat}",,Chris.Hibbert,James Bartlett,Jim Houghton,Jon Reynolds,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,616ee20e2097220071a975d2,,,,,,,,,,,Hidden from EXL,NBJ-519,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,09/Nov/21 3:57 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/23414/LivingDoc.html,05/Nov/21 2:50 PM;ug:117ea4bb-8992-4456-92e8-f3d84c2d6b41;image-20211105-144455.png;https://gghltd.atlassian.net/secure/attachment/23340/image-20211105-144455.png,05/Nov/21 1:57 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;quote.pdf;https://gghltd.atlassian.net/secure/attachment/23338/quote.pdf,05/Nov/21 1:57 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;quote1.pdf;https://gghltd.atlassian.net/secure/attachment/23337/quote1.pdf,,,,,,,,,"*Given* A valid quote document request with a documentId → GET /api/document/quote/\{documentId}
*Then* send a valid eLissia document request ensuring <documentId> node populated

_Building on the above_

*Given* a successful response from the eLissia quote document service
*Then* respond with a 200
*And* populate the response message with <id> returned → documentId
*And* populate the response message with <content> returned → document
*And* populate the response message with <contentType> returned → contentType
*And* populate the response message with <fileName> returned → fileName
*And* populate the response message with <createdDate> returned → createdDate
*And* populate the response message with <createdTime> returned → createdTime

*Given* base 64 encoded content in the response
*When* decoding to pdf
*Then* document is as expected format and content reflects the request",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-34,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwil2:zzzzx,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,Guardian Sprint 4,,,,,13/Oct/21 5:30 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-03 14:30:17.057,03/Nov/21 2:30 PM;6139c49114e8340071fcda09;Blocked by service currently returning 503 in UWT - Jon is aware and investigating,"03/Nov/21 9:57 PM;60cc71a1d5dde800713a2124;(flagoff) Flag removed

See comments on NBJ-416",05/Nov/21 1:26 PM;616ee20e2097220071a975d2;[~accountid:6139c49114e8340071fcda09] - all working now. Bug fix necessary to encode the data for eLissia Doc service as UTF-8 and not as UTF-16. ready for testing,"05/Nov/21 1:58 PM;6139c49114e8340071fcda09;[~accountid:616ee20e2097220071a975d2]  I’ve attached 2 examples I’ve just generated. Both docs show an unexpected character in the ‘Amount’ field for the product:

£¤30,000



Although this might be nothing to do with the new service of course.","05/Nov/21 2:50 PM;616ee20e2097220071a975d2;[~accountid:6139c49114e8340071fcda09] - The xml posted in the SOAP header to eLissia Document Service looks like this. How it is rendered is within eLissia itself. May be worth taking up with Mike Hill to investigate further

!image-20211105-144455.png|width=794,height=496!",05/Nov/21 3:15 PM;6139c49114e8340071fcda09;blocked as trying to determine what the issue with '£' symbols is,08/Nov/21 3:53 PM;60cc71a1d5dde800713a2124;£s were a code issue - all resolved now in UWT.,"08/Nov/21 4:42 PM;6139c49114e8340071fcda09;apologies [~accountid:616ee20e2097220071a975d2] , I assumed this was OK last time. The smoker status should just replay the text passed in; i.e.

""None in last 12 months"" should appear as ""None in last 12 months"" on the quote doc, not “Last12Months”",08/Nov/21 5:31 PM;616ee20e2097220071a975d2;[~accountid:6139c49114e8340071fcda09] - valid bug raised - I can see where the issue is in the code - good spot\!,,,,,,,,,,,,,,,,,,,,,,,Done
Quote Document Request - Show Commission Control,NBJ-422,39196,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,14/Oct/21 8:59 AM,09/Nov/21 3:13 PM,02/Feb/22 6:31 PM,09/Nov/21 2:49 PM,,Foundation Release,,DocumentGeneration,Sprint_7,,"*As an* api user
*So that* I am able to generate a quote document
*I want* a quote service

*Implementation Notes*

# This story is intended to control whether the quote document contains commission details
# {{POST /api/v1/document/quote}}

*Quote Document Service Request*

{code:json}{
  ...
  ""showCommission"": true|false,
  ...
}{code}

*Lissia Document Request*

Below is the Lissia request with values created from the service request

{code:xml}<QUOTE_DATA>
    <DATA>
        ...
        <COMMISSION_DATA>
            <Details>
                ...
                <SWITCH>true</SWITCH>  -- show commission, true|false
                ...
            </Details>
        </COMMISSION_DATA>
    </DATA>
</QUOTE_DATA>{code}

*Quote Document Service Response*

{noformat}{
  data:{
    ""documentId"": <doc_id>
  }
}{noformat}",,James Bartlett,Jim Houghton,,,,,,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,09/Nov/21 2:49 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/23408/LivingDoc.html,08/Nov/21 6:30 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;commission_false.json;https://gghltd.atlassian.net/secure/attachment/23398/commission_false.json,08/Nov/21 6:30 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;commission_flag_false.pdf;https://gghltd.atlassian.net/secure/attachment/23397/commission_flag_false.pdf,08/Nov/21 6:30 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;commission_flag_true.pdf;https://gghltd.atlassian.net/secure/attachment/23395/commission_flag_true.pdf,08/Nov/21 6:30 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;expiry2.pdf;https://gghltd.atlassian.net/secure/attachment/23396/expiry2.pdf,,,,,,,,"*Given* POST /api/v1/document/quote request with the body includes showCommission equal to false
*When* constructing the Lissia quote document request
*Then* set SWITCH to false

*Given* POST /api/v1/document/quote request with the body includes showCommission equal to true
*When* constructing the Lissia quote document request
*Then* set SWITCH to true

_Building on all of the above:_

*Given* a successfully generated document
*When* retrieving document
*And* decoding to pdf
*Then* the above items are included as expected with the correct format",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-34,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00rkx:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,,,,,,13/Oct/21 5:30 PM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-08 18:28:01.518,08/Nov/21 6:28 PM;6139c49114e8340071fcda09;[~accountid:60cc71a22bd21400692fd2af] I take it if the flag is missing the doc should show the commission by default?,"08/Nov/21 6:30 PM;6139c49114e8340071fcda09;example docs attached for missing flag, true and false - as well as an example request.",09/Nov/21 3:13 PM;60cc71a22bd21400692fd2af;[~accountid:6139c49114e8340071fcda09] - that is correct the default should to set the SWITCH to true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Quote Document Request - expiryDate,NBJ-421,39195,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,14/Oct/21 8:59 AM,15/Jan/22 11:49 AM,02/Feb/22 6:31 PM,08/Nov/21 6:20 PM,,Foundation Release,,DocumentGeneration,Sprint_3,,"*As an* api user
*So that* I am able to generate a quote document
*I want* to be able to set an expiry date

*Implementation Notes*

# {{POST /api/v1/document/quote}} 

*Quote Document Service Request*

{code:json}{
  ...
  ""expiryDate"": 20211031, //whatever the format is
  ...
}{code}

*Lissia Document Request*

Below is the Lissia request with values created from the service request

{code:xml}<QUOTE_DATA>
    <DATA>
        ...
        <VALID_UNTIL>27/10/2021</VALID_UNTIL> -- expiry date
        ...
    </DATA>
</QUOTE_DATA>{code}

*Quote Document Service Response*

{noformat}{
  data:{
    ""documentId"": <doc_id>
  }
}{noformat}",,James Bartlett,Jim Houghton,,,,,,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-1083,,,,,,,,,,08/Nov/21 6:19 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;expiry1.pdf;https://gghltd.atlassian.net/secure/attachment/23394/expiry1.pdf,08/Nov/21 6:19 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;expiry2.pdf;https://gghltd.atlassian.net/secure/attachment/23393/expiry2.pdf,08/Nov/21 6:19 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;expiry_date.json;https://gghltd.atlassian.net/secure/attachment/23392/expiry_date.json,,,,,,,,,,"*Given* POST /api/v1/document/quote containing expriyDate
*When* constructing Lissia quote dopcument
*Then* set VALID_UNTIL with expiryDate, formatted dd/mm/yyyy

_Building on all of the above:_

*Given* a successfully generated document
*When* retrieving document
*And* decoding to pdf
*Then* the above items are included as expected with the correct format",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-34,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwil2:zzzzzz,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,Guardian Sprint 4,,,,,13/Oct/21 5:30 PM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-08 18:20:15.037,08/Nov/21 6:20 PM;6139c49114e8340071fcda09;example request attached as well as 2 generated documents showing different expiry dates.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Quote Document Request - multiple applicants and second applicant quoteCovers Life,NBJ-420,39194,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,14/Oct/21 8:58 AM,11/Nov/21 3:55 PM,02/Feb/22 6:31 PM,11/Nov/21 3:55 PM,,Foundation Release,,DocumentGeneration,Sprint_3,,"*As an* api user
*So that* I am able to generate a quote document
*I want* to be able to vary applicants and quoteCovers

*Implementation Notes*

# {{POST /api/v1/document/quote}} 
# This is a dual life request
# It is intended to fill out all the quoteCover details for the secondary applicant (SA)
# Note - term and toAge are mutually exclusive, so duplicate acceptance criteria are included foreach below for completeness
# Once document generated [https://gghltd.atlassian.net/browse/NBJ-423|https://gghltd.atlassian.net/browse/NBJ-423|smart-link] explains how to get base64 encoded content that can be converted to pdf

*Quote Document Service Request*

{code:json}{
  ""expiryDate"": ""2021-10-31"",
  ""showCommission"": true|false,
  ""applicants"": [
    {
      ""id"": ""THE_ID_OF_THE_RECORD_IN_THE_DATABASE"",
      ""firstName"": ""Sam"",
      ""lastName"": ""Primary-applicant"",
      ""dateOfBirth"": ""1978-10-30T00:00:00"",
      ""gender"": ""Male"",
      ""heightUnits"": ""metric | imperial"",
      ""height"": 1.78,
      ""heightFt"": 5,
      ""heightInches"": 6,
      ""weightUnits"": ""metric | imperial""
      ""weight"": 88,
      ""weightStones"": 12,
      ""weightPounds"": 6,
      ""title"": ""Mr"" 
    },
    {
      ""id"": ""THE_ID_OF_THE_RECORD_IN_THE_DATABASE"",
      ""firstName"": ""Jane"",
      ""lastName"": ""Secondary-applicant"",
      ""dateOfBirth"": ""1978-11-30T00:00:00"",
      ""gender"": ""Unknown"",
      ""heightUnits"": ""metric | imperial"",
      ""height"": 1.78,
      ""heightFt"": 5,
      ""heightInches"": 6,
      ""weightUnits"": ""metric | imperial""
      ""weight"": 88,
      ""weightStones"": 12,
      ""weightPounds"": 6,
      ""title"": ""Dr"" 
    },
  ],
  ""quote"": {
    ""applicationId"": ""G000001234"",
    ""adviserAtFirmLocationId"": """",
    ""initialCommissionSacrificePercentage"": 0-100,
    ""initialIndemnityPercentage"": 0-100,
    ""quoteAgeDate"": 20210910,
    ""quoteCreatedDate"": 20210910, --response value
    ""quotePremium"": 0.00, --response value
    ""quoteLifetimePremium"": 0.00, response value
    ""quoteUnloadedPremium"": 0.00, --response value
    ""quoteDiscount"": 0.00, --response values, possibly not
    ""quoteApplicants"": [
      {
        ""dateOfbirth"": ""1971-12-07"",
        ""gender"": ""male | female"",
        ""smokerStatus"": ""None in the last 5 years | None in last 12 months | I have used tobacco or replacement products in last 12 months"",
        ""premium"": 0.00, --response premium
        ""covers"": [
          {
            ""productType"": ""life"",
            ""coverType"": ""level | increasing | decreasing | family"",
            ""term"": 3, -- not required if toAge specified
            ""toAge"": 65, -- not required if term specified
            ""coverAmount"": 100000,
            ""isParentCoverForCcic"": true | false, -- determines if this cover is the container for the Child CI cover in this application
            ""premium"": 0.00, --response value
            ""lifetimePremium"": 0.00, --response value
            ""unloadedPremium"": 0.00, --response value
            ""initialCommission"": 0.00, --response value
            ""initialEarningsPeriod"": 00, --in months, response value
            ""renewalCommission"": 0.00 --response value
          },
          { ""..."" },
          { ""..."" }
        ],
        ""underwritingOutcomes"": [
          {
            ""productType"": ""life | ci | aci | ccic"",
            ""emRating"": 200,
            ""permPMRating"": 5,
            ""exclusions"": [
              {
                ""exclusionOrRemoval"": ""Exclude | Remove"",
                ""exclusionValue"": 1001
              },
              { ""..."" }
            ]
          },
          { ""..."" }
        ],
      },
      {
        ""...""
      }
    ],
  }
}{code}

*Lissia Document Request*

Below is the Lissia request with values created from the service request

{code:xml}<QUOTE_DATA>
    <DATA>
        <PORTAL_SOURCE>No</PORTAL_SOURCE> -- always set to NO for now
        ...
        <SA_FORENAME>SECONDARY</SA_FORENAME> -- applicant.forenane all upper case
        <SA_SURNAME>CLIENT</SA_SURNAME> -- applicant.surname all upper case
        ...
        <SA_FORENAME_SMALL>Secondary</SA_FORENAME_SMALL> -- applicant.surname initial cap rest lower
        ...
        <SA_SURNAME_SMALL>Client</SA_SURNAME_SMALL> -- applicant.surname initial cap rest lower
        ...
        <SA_TL_TYPE>Family Income Benefit</SA_TL_TYPE> -- quoteCover.coverType on quoteCovers with productType Life (Map Family to Family Income Benefit)
        <SA_TL_AMT>15,000</SA_TL_AMT> -- quoteCover.coverAmount on quoteCovers with productType Life
        <SA_TL_TERM>25</SA_TL_TERM> -- quoteCover.term on quoteCovers with productType Life
        <SA_TL_AGE>0</SA_TL_AGE> -- quoteCover.toAge on quoteCovers with productType Life
        <SA_TL_PREM>£171.68</SA_TL_PREM> -- quoteCover.quoteCoverPremium on quoteCovers with productType Life
        ...
        <SA_LIFE>true</SA_LIFE> -- Indicates presence of Life for Life
        <SA_CI>false</SA_CI> -- Indicates presence of CI for Life
        <SA_FRA>false</SA_FRA> -- not applicable always false
        ...
        <SA_ACI>true</SA_ACI> -- inidicates presence of ACI for Life
        ...
        <SA_DOB>05/02/1984</SA_DOB> -- applicant[2].date of birth
        <SA_GENDER>Female</SA_GENDER> -- applicant[2].gender
        <SA_HGT_UNIT>heightcm</SA_HGT_UNIT> -- either heightcm or heightftin or not populated 
        <SA_WGT_UNIT>weightkg</SA_WGT_UNIT> -- either weightkg or weightstlbs or not populated 
        <SA_WAIST_UNIT>dresssize</SA_WAIST_UNIT> -- not used yet
        <SA_HGT_CM>150</SA_HGT_CM> -- convert applicant[2].height from metres to cms
        <SA_HGT_FT>0</SA_HGT_FT> -- applicant[2].heightFt
        <SA_HGT_INCH>0</SA_HGT_INCH> -- applicant[2].heightInches
        <SA_WGT_KG>60</SA_WGT_KG> -- applicant[2].weight in kgs if provided
        <SA_WGT_ST>0</SA_WGT_ST> -- applicant[2].weightStones if applicable
        <SA_WGT_LBS>0</SA_WGT_LBS> -- applicant[2].weightPounds
        <SA_WAIST_INCH>0</SA_WAIST_INCH> -- not required
        <SA_WAIST_CM>0</SA_WAIST_CM> -- not required
        <SA_DRESS>8</SA_DRESS> -- not required
        <SA_INCOME>40,000</SA_INCOME> -- not required
        <SA_OCC>Shelf filler</SA_OCC> -- not required
        <SA_SMOKER>None in the last 12 months</SA_SMOKER> -- applicant[2].smokerStatus
        <SA_POSTCODE>BS94SS</SA_POSTCODE> -- not used
        <TYPE>joint</TYPE> -- based on number of applicants
        <COMMISSION_DATA>
            <Details>
                <INIT_COMMISSION>£8,431.20</INIT_COMMISSION> -- sum of all quoteCoverInitialCommission on all covers
                ...
                <REN_SA_LIFE>£4.29</REN_SA_LIFE> -- quoteCoverRenewalCommission
                ...
                <REN_SA_LIFE_MONTH>49</REN_SA_LIFE_MONTH> -- quoteCoverInitialEarningsPeriod + 1
                ...
            </Details>
        </COMMISSION_DATA>
    </DATA>
</QUOTE_DATA>{code}

*Quote Document Service Response*

{noformat}{
  ""data"": {
    ""documentId"": <doc_id>
  }
}{noformat}",,Andy Green,Antony.Gorman,James Bartlett,Jim Houghton,,,,6061ac5d00b79f0070aa4ad3,6149b13472728e006f9441d6,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,,,,,,,,,,,Hidden from EXL,NBJ-519,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,11/Nov/21 3:55 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/23500/LivingDoc.html,10/Nov/21 3:44 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;Two applicants both with multiple covers.pdf;https://gghltd.atlassian.net/secure/attachment/23471/Two+applicants+both+with+multiple+covers.pdf,10/Nov/21 3:44 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;dual_lives_each_with_3_products.json;https://gghltd.atlassian.net/secure/attachment/23472/dual_lives_each_with_3_products.json,,,,,,,,,,"*Given* any dual applicant document/quote request
*When* formulating eLissia quote document request
*Then* set TYPE to joint
*And* map second applicant.firstName (all upper case) to SA_FORENAME
*And* map second applicant.firstName (first letter caps and rest lower case) to SA_FORENAME_SMALL
*And* map second applicant.lastName (all upper case) to SA_SURNAME
*And* map second applicant.lastName (first letter caps and rest lower case) to SA_SURNAME_SMALL
*And* map second applicant.smokerStatus to SA_SMOKER
*And* map second applicant.dateOfBirth (convert to Lissia format) to SA_DOB
*And* map second applicant.gender to SA_GENDER


*Given* any dual applicant document/quote request, with the following set within the second applicant (optionally)
*And* heightUnits set to metric (may not exist)
*When* creating a Lissia Quote Document Request
*Then* map second applicant.height (convert to cms from metres) to SA_HGT_CM
*And* set SA_HGT_UNIT to heightcms

*Given* any dual applicant document/quote request, with the following set within the second applicant (optionally)
*And* heightUnits set to imperial (may not exist)
*When* creating a Lissia Quote Document Request
*Then* map second applicant.heightFt to SA_HGT_FT
*And* map second applicant.heightInches to SA_HGT_INCH
*And* set SA_HGT_UNIT to heightftin

*Given* any dual applicant document/quote request, with the following set within the second applicant (optionally)
*And* weightUnits set to metric (may not exist)
*When* creating a Lissia Quote Document Request
*And* map second applicant.weight to SA_WGT_KG
*And* set SA_WGT_UNIT to weightkg

*Given* any dual applicant document/quote request, with the following set within the second applicant (optionally)
*And* weightUnits set to Imperial (may not exist)
*When* creating a Lissia Quote Document Request
*And* map second applicant.weightStones to SA_WGT_ST
*And* map second applicant.weightPounds to SA_WGT_LBS
*And* set SA_WGT_UNIT to weightstlbs

*Given* a joint life document/quote request with any number of quote covers \[current limit one of each product type on an applicant - 4], at least one of productType = “life” on the second applicant with a term specified
*When* constructing the elissa quote document request for quoteCovers in the second applicant
*And* quote.quoteApplicant.quoteCover with productType = “life”
*Then* set SA_LIFE to true
*And* map quoteCover.coverType to SA_TL_TYPE
*And* map quoteCover.coverAmount to SA_TL_AMT (format n,nnn,nnn)
*And* map quoteCover.term to SA_TL_TERM
*And* map quoteCover.quoteCoverPremium to SA_TL_PREM (format £n,nnn.nn)
*And* map quoteCover.quoteCoverRenewalCommission to REN_SA_LIFE (format £n,nnn.nn)
*And* map quoteCover.quoteCoverInitialEarningsPeriod + 1 to REN_SA_LIFE_MONTH
*And* add quoteCover.quoteCoverInitialCommission to INIT_COMMISSION running total (format n,nnn,nnn)

*Given* a single life document/quote request with any number of quote covers \[current limit one of each product type on an applicant - 4], at least of productType = “life” with a toAge specified
*When* constructing the elissa quote document request for quoteCovers in the second applicant
*And* quote.quoteApplicant.quoteCover with productType = “life”
*Then* set SA_LIFE to true
*And* map quoteCover.coverType to SA_TL_TYPE
*And* map quoteCover.coverAmount to SA_TL_AMT (format n,nnn,nnn)
*And* map quoteCover.toAge to SA_TL_AGE
*And* map quoteCover.quoteCoverPremium to SA_TL_PREM (format £n,nnn.nn)
*And* map quoteCover.quoteCoverRenewalCommission to REN_SA_LIFE (format £n,nnn.nn)
*And* map quoteCover.quoteCoverInitialEarningsPeriod + 1 to REN_SA_LIFE_MONTH
*And* add quoteCover.quoteCoverInitialCommission to INIT_COMMISSION running total (format n,nnn,nnn)

_Building on all of the above:_

*Given* a successfully generated document
*When* retrieving document
*And* decoding to pdf
*Then* the above items are included as expected with the correct format",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-34,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwil2:zzzzyz,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,Guardian Sprint 4,,,,,13/Oct/21 5:30 PM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-10 14:20:15.694,10/Nov/21 2:20 PM;6061ac5d00b79f0070aa4ad3;Gender is not output in the document so no need to test this in the document output.,"10/Nov/21 3:45 PM;6139c49114e8340071fcda09;[~accountid:6149b13472728e006f9441d6]  I’ve attached a request and the resulting doc. It has two applicants, each with a life, ci and aci product. The aci product is not showing for the first applicant on the doc.",11/Nov/21 12:37 PM;6149b13472728e006f9441d6;as discussed - have removed the guard preventing aci being set when multi life to address this.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Quote Document Request - quoteCovers Life,NBJ-419,39193,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,14/Oct/21 8:57 AM,09/Nov/21 7:28 PM,02/Feb/22 6:31 PM,09/Nov/21 7:28 PM,,Foundation Release,,DocumentGeneration,Sprint_3,,"*As an* api user
*So that* I am able to generate a quote document
*I want* to be able to vary life products requested

*Implementation Notes*

# {{POST /api/v1/document/quote}} 
# This is still only a single life request
# It is intended to fill out all the Life quoteCover details for the primary applicant (PA)
# Note - term and toAge are mutually exclusive, so duplicate acceptance criteria are included foreach below for completeness
# Once document generated [https://gghltd.atlassian.net/browse/NBJ-423|https://gghltd.atlassian.net/browse/NBJ-423|smart-link] explains how to get base64 encoded content that can be converted to pdf

_Quote Document Service Request_

{code:json}{
  ""expiryDate"": 20211031,
  ""showCommission"": true|false,
  applicants: [
    {
      ""id"": ""THE_ID_OF_THE_RECORD_IN_THE_DATABASE"",
      ""firstName"": ""Sam"",
      ""lastName"": ""Gamble"",
      ""dateOfBirth"": ""1978-10-30T00:00:00"",
      ""gender"": ""Male"",
      ""smokerStatus"": ""None in the last 5 years | None in last 12 months | I have used tobacco or replacement products in last 12 months"",
      ""height"": 1.78,
      ""weight"": 88,
      ""title"": ""Mr"" 
    },
    ...
  ],
  quote: {
    ""quoteApplicants"": [
      {
        ""dateOfbirth"": 19711207,
        ""gender"": ""male | female"",
        ""smokerStatus"": ""None in the last 5 years | None in last 12 months | I have used tobacco or replacement products in last 12 months"",
        ""quoteApplicantPremium"": 0.00, --response premium
        ""quoteCovers"": [
          {
            ""productType"": ""life"",
            ""coverType"": ""level | increasing | decreasing | family"",
            ""term"": 3, -- not required if toAge specified
            ""toAge"": 65, -- not required if term specified
            ""coverAmount"": 100000,
            ""isParentCoverForCcic"": true | false, -- determines if this cover is the container for the Child CI cover in this application
            ""quoteCoverPremium"": 0.00, --response value
            ""quoteCoverLifetimePremium"": 0.00, --response value
            ""quoteCoverUnloadedPremium"": 0.00, --response value
            ""quoteCoverInitialCommission"": 0.00, --response value
            ""quoteCoverInitialEarningsPeriod"": 00, --in months, response value
            ""quoteCoverRenewalCommission"": 0.00 --response value
          },
          { ""..."" },
          { ""..."" }
        ],
        ""quoteUnderwritingOutcomes"": [
          { ""..."" },
          { ""..."" }
        ],
      },
      {
        ""...""
      }
    ],
  }
}{code}

_Lissia Document Request_

Below is the Lissia request with values created from the service request

{code:xml}<QUOTE_DATA>
    <DATA>
        ...
        <PA_TL_TYPE>Level</PA_TL_TYPE> -- quoteCover.coverType on quoteCovers with productType Life
        <PA_TL_AMT>100,000</PA_TL_AMT> -- quoteCover.coverAmount on quoteCovers with productType Life
        <PA_TL_TERM>25</PA_TL_TERM> -- quoteCover.term on quoteCovers with productType Life
        <PA_TL_AGE>0</PA_TL_AGE> -- quoteCover.toAge on quoteCovers with productType Life
        <PA_TL_PREM>£6.42</PA_TL_PREM> -- quoteCover.quoteCoverPremium on quoteCovers with productType Life
        ...
        <PA_LIFE>true</PA_LIFE> -- Indicates presence of Life for Primary Applicant
        <PA_CI>false</PA_CI> -- Inidcates presence of CI for Applicant
        <PA_FRA>false</PA_FRA> -- not applicable always false
        ...
        <PA_CCIC>false</PA_CCIC> -- indicates presence of CCIC for Applicant
        <PA_ACI>false</PA_ACI> -- inidicates presence of ACI for Applicant
        ...
        <TYPE>single</TYPE>
        <COMMISSION_DATA>
            <Details>
                <INIT_COMMISSION>£8,431.20</INIT_COMMISSION> -- sum of all quoteCoverInitialCommission on all covers
                <REN_PA_LIFE>£0.16</REN_PA_LIFE> -- quoteCoverRenewalCommission
                ...
                <REN_PA_LIFE_MONTH>49</REN_PA_LIFE_MONTH> -- quoteCoverInitialEarningsPeriod + 1 
                <SWITCH>true</SWITCH>
                ...
            </Details>
        </COMMISSION_DATA>
    </DATA>
</QUOTE_DATA>{code}

_Quote Document Service Response_

{noformat}{
  data:{
    ""documentId"": <doc_id>
  }
}{noformat}",,Andy Green,James Bartlett,Jim Houghton,Jon Reynolds,,,,6061ac5d00b79f0070aa4ad3,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,616ee20e2097220071a975d2,,,,,,,,,,,Hidden from EXL,NBJ-420,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,08/Nov/21 5:23 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;1.json;https://gghltd.atlassian.net/secure/attachment/23390/1.json,05/Nov/21 4:35 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;3.pdf;https://gghltd.atlassian.net/secure/attachment/23359/3.pdf,09/Nov/21 7:28 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/23419/LivingDoc.html,21/Oct/21 8:41 AM;ug:054c2fdc-1fad-4c0c-af9d-fbc13b8ca3e2;NBJ-419 Quote Document.pdf;https://gghltd.atlassian.net/secure/attachment/22998/NBJ-419+Quote+Document.pdf,21/Oct/21 8:42 AM;ug:054c2fdc-1fad-4c0c-af9d-fbc13b8ca3e2;NBJ-419 XML.xml;https://gghltd.atlassian.net/secure/attachment/22999/NBJ-419+XML.xml,09/Nov/21 7:28 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;NBJ-419.zip;https://gghltd.atlassian.net/secure/attachment/23420/NBJ-419.zip,08/Nov/21 5:23 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;life2.pdf;https://gghltd.atlassian.net/secure/attachment/23389/life2.pdf,08/Nov/21 3:47 PM;ug:117ea4bb-8992-4456-92e8-f3d84c2d6b41;nbj-419_Example.pdf;https://gghltd.atlassian.net/secure/attachment/23384/nbj-419_Example.pdf,05/Nov/21 4:37 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;single_quoteCover.json;https://gghltd.atlassian.net/secure/attachment/23360/single_quoteCover.json,,,,"*Given* any single applicant document/quote request
*When* constructing eLissia quote document request
*Then* set TYPE to single
*And* initialise PA_LIFE to false (this will changed later to true if a productType = “life” in the message

*Given* a single life document/quote request with any number of quote covers with at least one of productType = “life” with a term specified \[current limit one of each product type on an applicant - 4]
*When* constructing the elissa quote document request
*And* quote.quoteApplicant.quoteCover with productType = “life”
*Then* set PA_LIFE to true
*And* map quoteCover.coverType to PA_TL_TYPE (format first letter caps, remainder lower case)
*And* map quoteCover.coverAmount to PA_TL_AMT (format n,nnn,nnn)
*And* map quoteCover.term to PA_TL_TERM
*And* map quoteCover.quoteCoverPremium to PA_TL_PREM (format £n,nnn.nn)
*And* map quoteCover.quoteCoverRenewalCommission to REN_PA_LIFE (format £n,nnn.nn)
*And* map quoteCover.quoteCoverInitialEarningsPeriod + 1 to REN_PA_LIFE_MONTH
*And* add quoteCover.quoteCoverInitialCommission to INIT_COMMISSION running total (format £n,nnn.nn)

*Given* a single life document/quote request with any number of quote covers, with at least one of productType = “life” with a toAge specified \[current limit one of each product type on an applicant - 4]
*When* constructing the elissa quote document request 
*And* quote.quoteApplicant.quoteCover with productType = “life”
*Then* set PA_LIFE to true
*And* map quoteCover.coverType to PA_TL_TYPE
*And* map quoteCover.coverAmount to PA_TL_AMT (format n,nnn,nnn)
*And* map quoteCover.toAge to PA_TL_AGE
*And* map quoteCover.quoteCoverPremium to PA_TL_PREM (format £n,nnn.nn)
*And* map quoteCover.quoteCoverRenewalCommission to REN_PA_LIFE (format £n,nnn.nn)
*And* map quoteCover.quoteCoverInitialEarningsPeriod + 1 to REN_PA_LIFE_MONTH
*And* add quoteCover.quoteCoverInitialCommission to INIT_COMMISSION running total (format £n,nnn.nn)

_Building on all of the above:_

*Given* a successfully generated document
*When* retrieving document
*And* decoding to pdf
*Then* the above items are included as expected with the correct format",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-34,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwil2:zzzzyv,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,Guardian Sprint 4,,,,,13/Oct/21 5:30 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-10-21 07:27:22.303,21/Oct/21 8:27 AM;6061ac5d00b79f0070aa4ad3;[~accountid:60cc71a22bd21400692fd2af] should add in here about primary applicant total premium too and cover off here. <PA_TOT_PREM>,"05/Nov/21 4:38 PM;6139c49114e8340071fcda09; [~accountid:616ee20e2097220071a975d2]  I can’t see any of the commission details in the document (see attached), although I included it in the request (also attached).



On a related note, the quoteCovers are in a “covers” list, rather than “quoteCovers”. This doesn’t match the corresponding quote messaging - is there a reason for the difference?",08/Nov/21 9:27 AM;616ee20e2097220071a975d2;[~accountid:6139c49114e8340071fcda09] - I’ve been informed by [~accountid:60cc71a1d5dde800713a2124] that there is a Switch value that needs to be set to true to enable commissions in the document. I will fix this issue today so you can see commissions. fyi - there is a related ticket @nbj-422 that manages turning commission data on and off,08/Nov/21 3:48 PM;616ee20e2097220071a975d2;[~accountid:6139c49114e8340071fcda09] - see attached for example of rendered quote with currency fixes and commission being shown ,"08/Nov/21 5:22 PM;6139c49114e8340071fcda09;[~accountid:616ee20e2097220071a975d2] the initial commission amount has pence truncated, so a value of 7.54 shows as 7. I’ve attached  request and generated doc.",08/Nov/21 5:33 PM;616ee20e2097220071a975d2;[~accountid:6139c49114e8340071fcda09] - The code explicit trunscates the pence off. Have just confirmed with [~accountid:60cc71a1d5dde800713a2124] that your observations are correct. Will fix code,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Quote Document Request - Single Applicant,NBJ-417,39191,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,14/Oct/21 8:34 AM,10/Nov/21 2:21 PM,02/Feb/22 6:31 PM,10/Nov/21 2:21 PM,,Foundation Release,,DocumentGeneration,Sprint_3,,"*As an* api user
*So that* I am able to generate a quote document
*I want* to vary applicant details

*Implementation Notes*

# This ticket is intended to vary primary applicant details on a quote document
# The data will be provided in the applicant common data format
# The common data format will need to be converted to eLissia format before adding to the request (included in acceptance criteria below)

_Quote Document Request_

# {{POST /api/v1/document/quote}} 

{code:json}{
  applicants: [
    {
      ""id"": ""THE_ID_OF_THE_RECORD_IN_THE_DATABASE"",
      ""firstName"": ""Sam"",
      ""lastName"": ""Gamble"",
      ""dateOfBirth"": ""1978-10-30T00:00:00"",
      ""smokerStatus"": ""None in the last 5 years | None in last 12 months | I have used tobacco or replacement products in last 12 months"",
      ""gender"": ""Male"",
      ""heightUnit"": ""metric | imperial"",
      ""height"": 1.78,
      ""heightFt"": 5,
      ""heightInches"": 11,
      ""weightUnit"": ""metric | imperial""
      ""weight"": 88,
      ""weightStones"": 12,
      ""weightPounds"": 6,
      ""title"": ""Mr"" 
    }
  ],
  quote {}
}{code}

_Lissia Document Request_

Below is the Lissia request with values created from the service request.

PA - refers to primary applicant

{code:xml}<QUOTE_DATA>
    <DATA>
        ...
        <PA_FORENAME>PRIMARY</PA_FORENAME> -- applicant.firstName all upper case
        <PA_SURNAME>CLIENT</PA_SURNAME> -- applicant.lastName all upper case
        <SA_FORENAME/> 
        <SA_SURNAME/>
        <PA_FORENAME_SMALL>Primary</PA_FORENAME_SMALL> -- applicant.firstName initial cap rest lower
        <SA_FORENAME_SMALL/>
        <PA_SURNAME_SMALL>Client</PA_SURNAME_SMALL> -- applicant.lastName initial cap rest lower
        <SA_SURNAME_SMALL/>
        ...                                
        <PA_DOB>17/12/1985</PA_DOB> -- applicant.dateOfBirth
        <PA_GENDER>Male</PA_GENDER> -- applicant.gender
        <PA_HGT_UNIT>heightcm</PA_HGT_UNIT> -- if heightUnit metric then set to heightcm
        <PA_WGT_UNIT>weightkg</PA_WGT_UNIT> -- if weightUnit metric then set to weightkg
        <PA_WAIST_UNIT>none</PA_WAIST_UNIT>
        <PA_HGT_CM>178</PA_HGT_CM> -- applicant.height * 100 (convert m to cm)
        <PA_HGT_FT>0</PA_HGT_FT> -- applicant.heigthFt
        <PA_HGT_INCH>0</PA_HGT_INCH> -- applicant.heightInches
        <PA_WGT_KG>88</PA_WGT_KG> -- applicant.weight
        <PA_WGT_ST>0</PA_WGT_ST> -- applicant.weightStones
        <PA_WGT_LBS>0</PA_WGT_LBS> -- applicant.weightPounds
        <PA_WAIST_INCH>0</PA_WAIST_INCH>
        <PA_WAIST_CM>0</PA_WAIST_CM>
        ...
        <PA_SMOKER>None in the last 5 years</PA_SMOKER>
        ...
    </DATA>
</QUOTE_DATA>{code}

_Lissia Document Service Response_



_Quote Document Service Response_

{code:json}{
  data:{
    ""documentId"": <doc_id>
  }
}{code}",,Andy Green,Antony.Gorman,Chris.Hibbert,James Bartlett,Jim Houghton,,,6061ac5d00b79f0070aa4ad3,6149b13472728e006f9441d6,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,,,,,,,,,,Hidden from EXL,NBJ-419,NBJ-468,NBJ-469,,,,,,,,,,,,,,,,,,,,,,,,,,,,05/Nov/21 3:41 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;1.pdf;https://gghltd.atlassian.net/secure/attachment/23345/1.pdf,20/Oct/21 5:36 PM;ug:054c2fdc-1fad-4c0c-af9d-fbc13b8ca3e2;NBJ-417 Quote Document.pdf;https://gghltd.atlassian.net/secure/attachment/22994/NBJ-417+Quote+Document.pdf,20/Oct/21 5:34 PM;ug:054c2fdc-1fad-4c0c-af9d-fbc13b8ca3e2;NBJ-417 XML.xml;https://gghltd.atlassian.net/secure/attachment/22992/NBJ-417+XML.xml,05/Nov/21 3:41 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;request_does_not_generate_height_and_weight.json;https://gghltd.atlassian.net/secure/attachment/23344/request_does_not_generate_height_and_weight.json,,,,,,,,,"*Given* a {{POST /api/v1/document/quote}}
*And* a single applicant must be included in the body of the request with the following detail
*When* creating a Lissia Quote Document Request
*Then* map applicant.firstName (all upper case) to PA_FORENAME
*And* map applicant.firstName (first letter caps and rest lower case) to PA_FORENAME_SMALL
*And* map applicant.lastName (all upper case) to PA_SURNAME
*And* map applicant.lastName (first letter caps and rest lower case) to PA_SURNAME_SMALL
*And* map applicant.smokerStatus to PA_SMOKER
*And* map applicant.dateOfBirth (convert to Lissia format dd/mm/yyyy) to PA_DOB
*And* map applicant.gender to PA_GENDER, first letter caps and remainder small caps

*Given* a {{POST /api/v1/document/quote}}
*And* with heightUnit=metric (is optional, so may not be set)
*When* creating a Lissia Quote Document Request
*Then* map applicant.height (convert to cms from metres) to PA_HGT_CM
*And* set PA_HGT_UNIT to heightcms

*Given* a {{POST /api/v1/document/quote}}
*And* with heightUnit=imperial (is optional, so may not be set)
*When* creating a Lissia Quote Document Request
*Then* map applicant.heightFt to PA_HGT_FT
*And* map applicant.heightInches to PA_HGT_INCH
*And* set PA_HGT_UNIT to heightftin

*Given* a POST /api/v1/document/quote
*And* with weightUnit=metric (is optional, so may not be set)
*When* creating a Lissia Quote Document Request
*And* map applicant.weight to PA_WGT_KG
*And* set PA_WGT_UNIT to weightkg

*Given* a POST /api/v1/document/quote
*And* with weightUnit=imperial (is optional, so may not be set)
*When* creating a Lissia Quote Document Request
*And* map applicant.weightStones to PA_WGT_ST
*And* map applicant.weightPounds to PA_WGT_LBS
*And* set PA_WGT_UNIT to weightstlbs

_Building on the all the acceptance criteria above:_

*Given* a successful document generated
*When* retrieving document
*And* decoding to pdf
*Then* applicant firstName is populated correctly
*And* applicant surname is populated correctly
*And* applicant smoker status is included
*And* applicant date of birth is populated correctly
*And* height is populated in the correct units
*And* weight is populated in the correct units",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-34,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwil2:zzzzyr,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,Guardian Sprint 4,,,,,13/Oct/21 5:30 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-10-20 16:33:57.778,"20/Oct/21 5:33 PM;6061ac5d00b79f0070aa4ad3;[~accountid:60cc71a22bd21400692fd2af] , we haven’t covered off occupation or Income here. I think it makes sense to add in here rather than as a separate story?","20/Oct/21 5:36 PM;60cc71a22bd21400692fd2af;[~accountid:6061ac5d00b79f0070aa4ad3] - at this stage I am not sure occupation and income will be collected at quote stage, as they do not affect the premium.  Certainly will change with IP.","29/Oct/21 10:06 AM;60cc71a1d5dde800713a2124;(flag) Flag added

Just needs updating for changed decision on height/weight","29/Oct/21 2:30 PM;60cc71a22bd21400692fd2af;(flagoff) Flag removed

Story now updated to include metric and imperial units",05/Nov/21 3:41 PM;6139c49114e8340071fcda09;[~accountid:6149b13472728e006f9441d6]  the attached request didn’t get height and weight into the document as expected - I’ve attached both the request and the generated doc.,"08/Nov/21 8:20 AM;6149b13472728e006f9441d6;[~accountid:6139c49114e8340071fcda09] yup. I’m not setting the unit of measurement properly. will shout when the fix is in UWT.

NB - the same problem will exist for the secondary applicant details (not sure of the story ref soz) - I’ve included the fix for that with the fix for this one.",10/Nov/21 2:16 PM;6061ac5d00b79f0070aa4ad3;Removed the requirement for Gender to be included in the output of the document as this field is not used in the template. Strange but true\!,,,,,,,,,,,,,,,,,,,,,,,,,Done
Initial Quote Document Request,NBJ-416,39186,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,13/Oct/21 5:30 PM,04/Nov/21 4:24 PM,02/Feb/22 6:31 PM,04/Nov/21 4:24 PM,,Foundation Release,,DocumentGeneration,Sprint_3,,"*As an* api user
*So that* I am able to generate a quote document
*I want* a document service

*Implementation Notes*

example request/response:

[https://gghltd.atlassian.net/wiki/spaces/NP/pages/3044737059/Quote+Document+-+Sample+Request+and+Response|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3044737059/Quote+Document+-+Sample+Request+and+Response|smart-link] 

Document containing curl request/response:

[https://gghltd.atlassian.net/wiki/spaces/NP/pages/3012984852/Quote+Document+Mapping|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3012984852/Quote+Document+Mapping|smart-link]  

# {{POST /api/v1/document/quote}} 

_eLissia createDocument Request_

Below is the Lissia request with hard coded values, which will be varied later.

{code:xml}<QUOTE_DATA>
    <DATA>
        <PORTAL_SOURCE>No</PORTAL_SOURCE> -- always set to NO for now
        <PA_FORENAME>PRIMARY</PA_FORENAME> -- applicant.forename all upper case
        <PA_SURNAME>CLIENT</PA_SURNAME> -- applicant.surname all upper case
        <SA_FORENAME /> -- blank values
        <SA_SURNAME /> -- blank values
        <PA_FORENAME_SMALL>Primary</PA_FORENAME_SMALL> -- applicant.forename initial cap rest lower
        <SA_FORENAME_SMALL /> -- blank values
        <PA_SURNAME_SMALL>Client</PA_SURNAME_SMALL> -- applicant.forename initial cap rest lower
        <SA_SURNAME_SMALL /> -- blank values
        <QUOTE_REF>G000126998</QUOTE_REF> -- quote.applicationId
        <VALID_UNTIL>27/10/2021</VALID_UNTIL> -- expiry date
        <DISCOUNT>£0.00</DISCOUNT> -- no discount
        <QUOTE_PRICE>£692.76</QUOTE_PRICE> -- quote.quotePremium
        <PA_TL_TYPE>Level</PA_TL_TYPE> -- quote.quoteApplicant.quoteCover.coverType (productType life)
        <PA_TL_AMT>100,000</PA_TL_AMT> -- quote.quoteApplicant.quoteCover.coverAmount (productType life)
        <PA_TL_TERM>25</PA_TL_TERM> -- quote.quoteApplicant.quoteCover.term (productType Life)
        <PA_TL_AGE>0</PA_TL_AGE> -- to age not set
        <PA_TL_PREM>£6.42</PA_TL_PREM> -- quote.quoteApplicant.quoteCover.quoteCoverPremium (productType Life)
        <SA_TL_TYPE />
        <SA_TL_AMT>0</SA_TL_AMT>
        <SA_TL_TERM>0</SA_TL_TERM>
        <SA_TL_AGE>0</SA_TL_AGE>
        <SA_TL_PREM>£0.00</SA_TL_PREM>
        <PA_CI_TYPE />
        <PA_CI_AMT>0</PA_CI_AMT>
        <PA_CI_TERM>0</PA_CI_TERM>
        <PA_CI_AGE>0</PA_CI_AGE>
        <PA_CI_PREM>£0.00</PA_CI_PREM>
        <SA_CI_TYPE />
        <SA_CI_AMT>0</SA_CI_AMT>
        <SA_CI_TERM>0</SA_CI_TERM>
        <SA_CI_AGE>0</SA_CI_AGE>
        <SA_CI_PREM>£0.00</SA_CI_PREM>
        <CCIC_SUM>0</CCIC_SUM>
        <CCIC_PREM>£0.00</CCIC_PREM>
        <PA_FRA_PREM>£0.00</PA_FRA_PREM>
        <SA_FRA_PREM>£0.00</SA_FRA_PREM>
        <PA_LIFE>true</PA_LIFE> -- Indicates presence of Life for Applicant
        <PA_CI>false</PA_CI> -- Inidcates presence of CI for Applicant
        <PA_FRA>false</PA_FRA> -- not applicable always false
        <SA_LIFE>false</SA_LIFE> -- Indicates presence of Life for Applicant
        <SA_CI>false</SA_CI> -- Indicates presence of CI for Applicant
        <SA_FRA>false</SA_FRA> -- not applicable always false
        <PA_CCIC>false</PA_CCIC> -- indicates presence of CCIC for Applicant
        <PA_ACI>false</PA_ACI> -- inidicates presence of ACI for Applicant
        <SA_ACI>false</SA_ACI> -- inidicates presence of ACI for Applicant
        <PA_ACI_TYPE /> 
        <PA_ACI_AMT>0</PA_ACI_AMT>
        <PA_ACI_TERM>0</PA_ACI_TERM>
        <PA_ACI_AGE>0</PA_ACI_AGE>
        <PA_ACI_PREM>£0.00<PA_ACI_PREM> 
        <SA_ACI_TYPE />
        <SA_ACI_AMT>0</SA_ACI_AMT>
        <SA_ACI_TERM>0</SA_ACI_TERM>
        <SA_ACI_AGE>0</SA_ACI_AGE>
        <SA_ACI_PREM>£0.00</SA_ACI_PREM>
        <PA_TOT_PREM>£175.42</PA_TOT_PREM> -- quote.quoteApplicant.quoteApplicantPremium
        <SA_TOT_PREM>£0.00</SA_TOT_PREM>
        <TOT_TERM>£207,828.00</TOT_TERM> -- quote.quoteLifetimePremium
        <PA_DOB>17/12/1985</PA_DOB> -- applicant.dateOfBirth
        <PA_GENDER>Male</PA_GENDER> -- applicant.gender
        <PA_HGT_UNIT>none</PA_HGT_UNIT>
        <PA_WGT_UNIT>none</PA_WGT_UNIT>
        <PA_WAIST_UNIT>none</PA_WAIST_UNIT>
        <PA_HGT_CM>0</PA_HGT_CM>
        <PA_HGT_FT>0</PA_HGT_FT>
        <PA_HGT_INCH>0</PA_HGT_INCH>
        <PA_WGT_KG>0</PA_WGT_KG>
        <PA_WGT_ST>0</PA_WGT_ST>
        <PA_WGT_LBS>0</PA_WGT_LBS>
        <PA_WAIST_INCH>0</PA_WAIST_INCH>
        <PA_WAIST_CM>0</PA_WAIST_CM>
        <PA_DRESS />
        <PA_INCOME>0</PA_INCOME>
        <PA_OCC />
        <PA_SMOKER>None in the last 5 years</PA_SMOKER> -- quote.quoteApplicant.smokerStatus
        <PA_POSTCODE /> -- not used
        <SA_DOB>01/01/0001</SA_DOB>
        <SA_GENDER />
        <SA_HGT_UNIT>none</SA_HGT_UNIT>
        <SA_WGT_UNIT>none</SA_WGT_UNIT>
        <SA_WAIST_UNIT>none</SA_WAIST_UNIT>
        <SA_HGT_CM>0</SA_HGT_CM>
        <SA_HGT_FT>0</SA_HGT_FT>
        <SA_HGT_INCH>0</SA_HGT_INCH>
        <SA_WGT_KG>0</SA_WGT_KG>
        <SA_WGT_ST>0</SA_WGT_ST>
        <SA_WGT_LBS>0</SA_WGT_LBS>
        <SA_WAIST_INCH>0</SA_WAIST_INCH>
        <SA_WAIST_CM>0</SA_WAIST_CM>
        <SA_DRESS />
        <SA_INCOME>0</SA_INCOME>
        <SA_OCC />
        <SA_SMOKER  />
        <SA_POSTCODE />
        <TYPE>single</TYPE> -- based on number of applicants, joint in two applicants
        <COMMISSION_DATA>
            <Details>
                <INIT_COMMISSION>£8,431.20</INIT_COMMISSION> -- sum of all quoteCoverInitialCommission on all covers
                <REN_PA_LIFE>£0.16</REN_PA_LIFE> -- quote.quoteApplicant.quoteCover.quoteCoverRenewalCommission
                <REN_PA_CI>£0.00</REN_PA_CI>
                <REN_PA_FRA>£0.00</REN_PA_FRA>
                <REN_SA_LIFE>£0.00</REN_SA_LIFE>
                <REN_SA_CI>£0.00</REN_SA_CI>
                <REN_SA_FRA>£0.00</REN_SA_FRA>
                <REN_CHILD_CI>£0.00</REN_CHILD_CI>
                <REN_PA_LIFE_MONTH>49</REN_PA_LIFE_MONTH> - quote.quoteApplicant.quoteCover.quoteCoverInitialEarningsPeriod + 1
                <REN_PA_CI_MONTH>0</REN_PA_CI_MONTH>
                <REN_PA_FRA_MONTH>0</REN_PA_FRA_MONTH>
                <REN_SA_LIFE_MONTH>0</REN_SA_LIFE_MONTH>
                <REN_SA_CI_MONTH>0</REN_SA_CI_MONTH>
                <REN_SA_FRA_MONTH>0</REN_SA_FRA_MONTH>
                <REN_CHILD_CI_MONTH>0</REN_CHILD_CI_MONTH>
                <SWITCH>true</SWITCH>  -- show commission, hard code for now
                <REN_PA_ACI>£0.00</REN_PA_ACI>
                <REN_SA_ACI>£0.00</REN_SA_ACI>
                <REN_PA_ACI_MONTH>0</REN_PA_ACI_MONTH>
                <REN_SA_ACI_MONTH>0</REN_SA_ACI_MONTH>
            </Details>
        </COMMISSION_DATA>
    </DATA>
</QUOTE_DATA>{code}

_eLissia createDocument Service Response_

{noformat}<soapenv:Envelope xmlns:soapenv=""http://www.w3.org/2003/05/soap-envelope"">
   <soapenv:Header/>
   <soapenv:Body>
      <ns:createDocumentResponse xmlns:ns=""http://service.reporting.webservice.liss.co.uk"">
         <ns:return xsi:type=""ax260:CreateDocumentResponse"" xmlns:ax254=""http://request.reporting.webservice.liss.co.uk/xsd"" xmlns:ax255=""http://request.core.webservice.liss.co.uk/xsd"" xmlns:ax256=""http://domain.core.webservice.liss.co.uk/xsd"" xmlns:ax260=""http://response.reporting.webservice.liss.co.uk/xsd"" xmlns:ax261=""http://response.core.webservice.liss.co.uk/xsd"" xmlns:ax264=""http://domain.reporting.webservice.liss.co.uk/xsd"" xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"">
            <ax261:validationErrors xsi:nil=""true""/>
            <ax260:documentId>157310</ax260:documentId>
         </ns:return>
      </ns:createDocumentResponse>
   </soapenv:Body>
</soapenv:Envelope>{noformat}

_Document Service Response_

{noformat}{
  data:{
    ""documentId"": <doc_id>
  }
}{noformat}",,Chris.Hibbert,James Bartlett,Jim Houghton,Jon Reynolds,Nathan Punzalan,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,616ee20e2097220071a975d2,613f22fdff23ba00715469d1,,,,,,,,,,Hidden from EXL,NBJ-423,NBJ-440,NBJ-417,NBJ-419,NBJ-468,NBJ-469,,,,,,,,,,,,,,,,,,,,,,,,,03/Nov/21 8:57 PM;ug:117ea4bb-8992-4456-92e8-f3d84c2d6b41;image-20211103-205707.png;https://gghltd.atlassian.net/secure/attachment/23305/image-20211103-205707.png,,,,,,,,,,,,"*Given* an empty request to document/quote service → {{POST /api/v1/document/quote}}
*Then* send hard coded request to service

_Building on the above:_
*Given* a successful eLissia response
*Then* respond with a 201
*And* documentId for response message returned from eLissia in <documentId>",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-34,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwil2:zzzzv,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,,,,,,13/Oct/21 5:30 PM,,8.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-03 14:27:07.551,"03/Nov/21 2:27 PM;6139c49114e8340071fcda09;(flag) Flag added

blocked as service currently returns a 503 in UWT - Jon is investigating","03/Nov/21 8:57 PM;616ee20e2097220071a975d2;Hi [~accountid:6139c49114e8340071fcda09] - working now. [~accountid:610c00d94e8d8d0069a20d6c] updated the secure config settings on this service which I had no permissions for. Should see the following now:

!image-20211103-205707.png|width=854,height=729!","03/Nov/21 9:04 PM;616ee20e2097220071a975d2;(flagoff) Flag removed

See latest comments - working now on UWT. 
Sample curl request: 

curl --location --request POST &#39;https://wa-uwt-documentservice.azurewebsites.net/api/v1/document/quote&#39; \
--header &#39;userId: 10004191&#39; \
--header &#39;Content-Type: application/json&#39; \
--data-raw &#39;{
  &quot;applicants&quot;: [
    {
      &quot;id&quot;: &quot;0a8765c0-6779-4667-ad21-e46dc00f0b03&quot;,
      &quot;title&quot;: &quot;mr&quot;,
      &quot;firstName&quot;: &quot;Test&quot;,
      &quot;lastName&quot;: &quot;User&quot;,
      &quot;dateOfBirth&quot;: &quot;2021-11-03T16:17:17.519Z&quot;,
      &quot;smokerStatus&quot;: 1,
      &quot;gender&quot;: 0,
      &quot;heightUnit&quot;: 0,
      &quot;height&quot;: 0,
      &quot;heightFt&quot;: 0,
      &quot;heightInchs&quot;: 0,
      &quot;weightUnit&quot;: 0,
      &quot;weight&quot;: 0,
      &quot;weightStones&quot;: 0,
      &quot;weightPounds&quot;: 0
    }
  ],
  &quot;quote&quot;: {
    &quot;applicationId&quot;: &quot;G000000001&quot;,
    &quot;quoteCreatedDate&quot;: &quot;2021-11-03T16:17:17.519Z&quot;,
    &quot;quoteAgeDate&quot;: &quot;2021-11-03T16:17:17.519Z&quot;,
    &quot;adviserAtFirmLocationId&quot;: &quot;sally Webster&quot;,
    &quot;initialIndemnityPercentage&quot;: 11,
    &quot;initialCommissionSacrificePercentage&quot;: 21,
    &quot;premium&quot;: 20903.0909,
    &quot;lifeTimePremium&quot;: 1.32,
    &quot;unloadedPremium&quot;: 5,
    &quot;discount&quot;: 6
  }
}&#39;","04/Nov/21 1:59 PM;613f22fdff23ba00715469d1;Have managed to generate a document using the example request given by [~accountid:616ee20e2097220071a975d2] and adding a valid userId to the request header.

However, after talking to Jon, he has stated that the ElissiaResponse is not stored anywhere including the CosmoDb, and is instead retained by the frontend client meaning I am unable to view the eLissiaResponse that is generated as part of this request which in turn means I am unable to verify that the documentId is the same in both the API and eLissia Responses.

[~accountid:60cc71a22bd21400692fd2af] [~accountid:5d94816eefc9290c2e625a11] [~accountid:610c00d94e8d8d0069a20d6c] given the above is there any way we can confirm that the ID shown in the API response is the same as what is in the ElissiaResponse to verify the AC of this ticket?",04/Nov/21 2:20 PM;60cc71a1d5dde800713a2124;[~accountid:613f22fdff23ba00715469d1]  - [~accountid:6061ac5d00b79f0070aa4ad3]  is going to get in touch and see if he can help.,"04/Nov/21 3:04 PM;613f22fdff23ba00715469d1;As discussed with [~accountid:6061ac5d00b79f0070aa4ad3] there seems to be an issue with the documents getting created in UWT. Service works as expected in SIT however in UWT, documents do not get generated as expected. ",04/Nov/21 4:24 PM;613f22fdff23ba00715469d1;Issue has been fixed by Mike Hill so can pass this ticket. Agreed with [~accountid:6061ac5d00b79f0070aa4ad3] that testing the link between APIM and Lissia Response will be more thoroughly done once there is more functionality delivered that should allow us to verify more that APIM and Lissia are connected correctly for this service.,,,,,,,,,,,,,,,,,,,,,,,,,Done
Connect to eLissia Document Service,NBJ-415,39184,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,13/Oct/21 5:29 PM,01/Nov/21 4:41 PM,02/Feb/22 6:31 PM,01/Nov/21 4:41 PM,,Foundation Release,,DocumentGeneration,Sprint_3,,"*As an* api user
*So that* I can access the eLissia quote Document Service
*I want* to successfully send a valid soap xml request and recieve a valid response

*Implementation Notes*

# This story is a precursor to the service itself, it is to prove that we can access the eLissia quote document service through the Guardian network and successfully create a document.
# Once a documentId is successfully received from the service, a number of failed requests are expected until the document has been successfully generated, documentation available through wiki link below.

Please find below vaild quote document request

_Valid Quote Request/Response_

[https://gghltd.atlassian.net/wiki/spaces/NP/pages/3044737059/Quote+Document+-+Sample+Request+and+Response|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3044737059/Quote+Document+-+Sample+Request+and+Response|smart-link] 

_Curl Request/Response_

[https://gghltd.atlassian.net/wiki/spaces/NP/pages/3012984852/Quote+Document+Mapping|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3012984852/Quote+Document+Mapping|smart-link] ",,Jim Houghton,Jon Reynolds,mike hill,,,,,60cc71a22bd21400692fd2af,616ee20e2097220071a975d2,5d94816eefc9290c2e625a11,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,29/Oct/21 12:58 PM;ug:117ea4bb-8992-4456-92e8-f3d84c2d6b41;image-20211029-115628.png;https://gghltd.atlassian.net/secure/attachment/23212/image-20211029-115628.png,29/Oct/21 12:58 PM;ug:117ea4bb-8992-4456-92e8-f3d84c2d6b41;image-20211029-115745.png;https://gghltd.atlassian.net/secure/attachment/23211/image-20211029-115745.png,29/Oct/21 12:58 PM;ug:117ea4bb-8992-4456-92e8-f3d84c2d6b41;image-20211029-115836.png;https://gghltd.atlassian.net/secure/attachment/23210/image-20211029-115836.png,,,,,,,,,,"*Given* Valid eLissia quote document request
*Then* I can successful retrieve a doucmentId

_Building on the above:_

*Given* a quote documentId
*Then* I can successfully retrieve a base64 encoded document",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-34,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwil2:zzzzr,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,,,,,,13/Oct/21 5:29 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-10-29 11:47:48.804,"29/Oct/21 12:47 PM;5d94816eefc9290c2e625a11;[~accountid:610c00d94e8d8d0069a20d6c] , [~accountid:616ee20e2097220071a975d2] - all UWT issues appear to be now resolved.","29/Oct/21 12:58 PM;616ee20e2097220071a975d2;Working with [~accountid:5d94816eefc9290c2e625a11] been able to successful connect to UWT Elissia Document Service and can both create document and get document back. See attached screenshots. No code delivered as part of this ticket

*Create Cover Document*

!image-20211029-115628.png|width=1582,height=739!

*Getting Created Document by ID*

!image-20211029-115745.png|width=1463,height=759!

*Generated PDF from content*

!image-20211029-115836.png|width=532,height=573!","29/Oct/21 1:00 PM;616ee20e2097220071a975d2;(flagoff) Flag removed

All working now on UWT - thx to Mike Hill",,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Create Document Service from service template,NBJ-414,39183,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,13/Oct/21 4:54 PM,01/Nov/21 4:40 PM,02/Feb/22 6:31 PM,01/Nov/21 4:40 PM,,Foundation Release,,DocumentGeneration,Sprint_3,,"*As an* api user
*So that*  I can have a service that provides a quote document
*I want* a Document Service created from the service template

[https://gghltd.atlassian.net/wiki/spaces/NP/pages/3042607159/WIP+Quote+Document+Service|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3042607159/WIP+Quote+Document+Service|smart-link] 

*Implementation Notes*

A story to set up the service itself from the service template.

The service will listen on HTTP:

* POST → /api/document/quote
* GET → /api/document/\{documentId}

The service will accept json quote document requests, convert them to soap xml and request quote document from eLissia.

*Developer notes*

* Create new Azure Repo for new DocumentService
* Add empty endpoints as described
* Include support for Open API documentation",,Jim Houghton,Jon Reynolds,,,,,,60cc71a22bd21400692fd2af,616ee20e2097220071a975d2,,,,,,,,,,,,,Hidden from EXL,NBJ-411,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* the service template
*Then* a document service is created
*And* healthcheck endpoint returns a “Healthy” response",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-34,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,No,,1|hzwil2:zzzz,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,,,,,,09/Sep/21 3:04 PM,,3.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-10-28 09:56:37.919,"28/Oct/21 10:56 AM;616ee20e2097220071a975d2;GET [https://wa-uwt-documentservice.azurewebsites.net/|https://wa-uwt-documentservice.azurewebsites.net/api/v1/document/1]health

POST [https://wa-uwt-documentservice.azurewebsites.net/api/v1/document|https://wa-uwt-documentservice.azurewebsites.net/api/v1/document/1]/quote 

GET [https://wa-uwt-documentservice.azurewebsites.net/api/v1/document/1|https://wa-uwt-documentservice.azurewebsites.net/api/v1/document/1]",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Connect Document Service to APIM,NBJ-411,39179,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,13/Oct/21 4:52 PM,01/Nov/21 5:36 PM,02/Feb/22 6:31 PM,01/Nov/21 5:36 PM,,Foundation Release,,DocumentGeneration,Sprint_3,,"*As an* api user
*So that*  I can access the Document Service through the Guardian APIM layer
*I want* the Document Service to connect to the Guardian APIM

[https://gghltd.atlassian.net/wiki/spaces/NP/pages/3042607159/WIP+Quote+Document+Service|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3042607159/WIP+Quote+Document+Service|smart-link] 

*Implementation Notes*

Follow standards set out in [https://gghltd.atlassian.net/browse/NBJ-314|https://gghltd.atlassian.net/browse/NBJ-314|smart-link] ",,Asta Hansen,Jim Houghton,,,,,,5b23a053ba383e0814004f26,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* the document/quote service
*When* accessing the service
*Then* this is done through the Guardian APIM",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-34,,,,,,,,,,,,,,,,None,QA / UWT,,,,,,,,,,,,,,,,,,,,Space,,,,,,,No,,1|hzwil2:zzzzi,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,,,,,,09/Sep/21 3:04 PM,,3.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-01 09:34:54.925,01/Nov/21 9:34 AM;5b23a053ba383e0814004f26;{{api/v1/document}} deployed to ggh-uwt-apim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Prevent access to hybrid commission,NBJ-407,39172,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,13/Oct/21 2:29 PM,02/Feb/22 1:22 PM,02/Feb/22 6:31 PM,,,Foundation Release,,JourneyPreferences,Sprint_9,,"Only allow 0 or 100, nothing in the middle.",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-129,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00lfr:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Oct/21 2:29 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Prevent access to editing adviser ref,NBJ-406,39171,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,13/Oct/21 2:29 PM,30/Nov/21 1:36 PM,02/Feb/22 6:31 PM,,,Foundation Release,,JourneyPreferences,Sprint_9,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-129,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00lfj:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Oct/21 2:29 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Construct pre-sale underwriting results screen,NBJ-405,39170,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Low,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,13/Oct/21 2:23 PM,02/Feb/22 8:38 AM,02/Feb/22 6:31 PM,,,Foundation Release,,PreSaleUW,Sprint_9,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-115,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00lfb:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Oct/21 2:23 PM,,21.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Display underwriting pages for pre-sale,NBJ-404,39169,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Low,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,13/Oct/21 2:23 PM,15/Nov/21 10:20 PM,02/Feb/22 6:31 PM,,,Foundation Release,,PreSaleUW,Sprint_9,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-115,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00lf3:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Oct/21 2:23 PM,,13.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Update URE initial inputs for presale,NBJ-403,39168,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Low,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,13/Oct/21 2:22 PM,12/Nov/21 9:03 PM,02/Feb/22 6:31 PM,,,Foundation Release,,PreSaleUW,Sprint_9,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-115,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00lev:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Oct/21 2:22 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Initial pre-sale underwriting life details,NBJ-401,39166,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Low,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,13/Oct/21 2:22 PM,15/Nov/21 10:20 PM,02/Feb/22 6:31 PM,,,Foundation Release,,PreSaleUW,Sprint_9,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-115,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00lef:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Oct/21 2:22 PM,,13.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Update applicants with contact details if supplied,NBJ-400,39165,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,13/Oct/21 2:21 PM,31/Oct/21 9:23 PM,02/Feb/22 6:31 PM,,,Phase 1 - Menu,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-117,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00le7:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Oct/21 2:21 PM,,13.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Build screens to maintain queue - start / stop,NBJ-398,39163,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Low,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,13/Oct/21 2:20 PM,24/Nov/21 4:45 PM,02/Feb/22 6:31 PM,,,,,Sprint_10,Submit,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-776,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00rlq:i,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Oct/21 2:20 PM,,21.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Build queuing mechanism for activation service,NBJ-397,39162,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Low,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,13/Oct/21 2:20 PM,24/Nov/21 4:45 PM,02/Feb/22 6:31 PM,,,,,Sprint_10,Submit,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-776,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00rlq:r,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Oct/21 2:20 PM,,13.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Create activation service,NBJ-396,39161,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,High,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,13/Oct/21 2:20 PM,09/Dec/21 4:51 PM,02/Feb/22 6:31 PM,09/Dec/21 4:51 PM,,Foundation Release,,Sprint_6,Submit,,"*As an* adviser or api user
*So that* I can convert my application to an on risk policy
*I want* the ability to go live on the policy administration system (Lissia)",,Antony.Gorman,Chris.Hibbert,,,,,,6149b13472728e006f9441d6,60cc71a1d5dde800713a2124,,,,,,,,,,,,,Hidden from EXL,NBJ-882,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* activation service
*Then* health check responds healthy",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-119,,,,,,,,,,,,,,,,None,,"Create from service template a go live service

Follow architectural principals and features that are now well defined on the project for any backend service

Mark needs a task for his part of the ticket

Add endpoint details to ticket once created",,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04x009er,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 6,,,,,,13/Oct/21 2:20 PM,,3.0,,,,,,,,,,,,,,,,,,"NB - this is simply the creation of the service, only endpoint the healthcheck",,,,,,,,,,,,,,,2021-12-06 16:04:17.437,"06/Dec/21 4:04 PM;6149b13472728e006f9441d6;when deployed the direct uri to the health end point would be at

[wa-uwt-activationservice.azurewebsites.net/health|https://wa-uwt-activationservice.azurewebsites.net/health]","07/Dec/21 8:14 AM;6149b13472728e006f9441d6;Hi [~accountid:557058:dd20a73b-b0c9-4392-82e9-dbeb466b7e96] this is a new app service that will also need to be opted into the devops effort for SIT and further. 

the UWT app service is here [wa-uwt-actionservice - Microsoft Azure|https://portal.azure.com/#@GryphonDev.onmicrosoft.com/resource/subscriptions/ebf012bf-8dfc-483c-866e-d73fe4712fae/resourcegroups/ggh-uwt-rg/providers/Microsoft.Web/sites/wa-uwt-actionservice/appServices]

and it’s corresponding app insights resource is here - [appi-ggh-uwt-activationservice - Microsoft Azure|https://portal.azure.com/#@GryphonDev.onmicrosoft.com/resource/subscriptions/ebf012bf-8dfc-483c-866e-d73fe4712fae/resourcegroups/ggh-uwt-rg/providers/microsoft.insights/components/appi-ggh-uwt-activationservice/overview]",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Land adviser on appropriate portal apply landing page,NBJ-395,39160,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,13/Oct/21 2:18 PM,02/Feb/22 1:00 PM,02/Feb/22 6:31 PM,,,Foundation Release,,PortalApply,Sprint_9,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-117,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00ld3:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Oct/21 2:18 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Set height / weight / waist from message,NBJ-394,39159,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Low,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,13/Oct/21 2:17 PM,02/Feb/22 1:04 PM,02/Feb/22 6:31 PM,,,Foundation Release,,PortalApply,Sprint_10,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-117,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00lcj:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Oct/21 2:17 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Add Covers,NBJ-393,39158,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,13/Oct/21 2:16 PM,02/Feb/22 1:06 PM,02/Feb/22 6:31 PM,,,Foundation Release,,PortalApply,Sprint_9,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-117,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00lcn:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Oct/21 2:16 PM,,21.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Add Applicants,NBJ-392,39157,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,13/Oct/21 2:16 PM,24/Oct/21 11:24 AM,02/Feb/22 6:31 PM,,,Foundation Release,,PortalApply,Sprint_9,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-117,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00lcf:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Oct/21 2:16 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Set quoteAgeDate,NBJ-391,39156,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,13/Oct/21 2:16 PM,24/Oct/21 11:24 AM,02/Feb/22 6:31 PM,,,Foundation Release,,PortalApply,Sprint_9,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-117,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00lc7:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Oct/21 2:16 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Create Application,NBJ-390,39155,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,13/Oct/21 2:16 PM,24/Oct/21 11:24 AM,02/Feb/22 6:31 PM,,,Foundation Release,,PortalApply,Sprint_9,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-117,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00lbz:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Oct/21 2:16 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
API - Validate maxExpiryAge,NBJ-389,39137,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,13/Oct/21 10:13 AM,29/Oct/21 3:56 PM,02/Feb/22 6:31 PM,29/Oct/21 3:56 PM,,Foundation Release,,Quote,Sprint_3,,"*As an* API User
*I want* to validate a Cover through an API
*So that* only valid covers can be added to an applicant

Aiming to take a map of covers and validate the following cover level attributes:

* Max expiryAge

Technically a policy will run until the first completed policy month after the chosen age.
So you can specify a toAge of 90 (the cover will run until the month following your birthday) but if specifying a term (cross applicant/cover validation in [NBJ-318]) the term can take you up to anything < 91.

h4. Implementation Notes

Suggested Request

{code:json}""quoteApplicants"": {
      ""dateOfbirth"": 19711207, -- whatever the date format is!
      ""quoteAgeDate"": 2021-10-12T00:00:00, -- whatever the date format is
      ""newQuoteCover"": [
        {
          ""productType"": ""life | ci | aci | ccic"",
          ""coverType"": ""level | increasing | decreasing | family"",
          ""term"": 3, -- not required if toAge specified
          ""toAge"": 65, -- not required if term specified
          ""coverAmount"": 100000,
          ""isParentCoverForCcic"": true | false -- determines if this cover is the container for the Child CI cover in this application
        }
     ]
}{code}

Suggested Response

{code:json}""data"": {
    ""errors"" : [
        {
            ""entity"" : ""term"",
            ""message"" : ""The maximum term for this cover is X years""
        }
    ],
    ""quoteApplicants"": {
          ""dateOfbirth"": 19711207, -- whatever the date format is!
          ""quoteAgeDate"": 2021-10-12T00:00:00, -- whatever the date format is
          ""newQuoteCover"": [
            {
              ""productType"": ""life | ci | aci | ccic"",
              ""coverType"": ""level | increasing | decreasing | family"",
              ""term"": 3, -- not required if toAge specified
              ""toAge"": 65, -- not required if term specified
              ""coverAmount"": 100000,
              ""isParentCoverForCcic"": true | false -- determines if this cover is the container for the Child CI cover in this application
            }
        ]
    }
}{code}",,Antony.Gorman,Chris.Hibbert,,,,,,6149b13472728e006f9441d6,60cc71a1d5dde800713a2124,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given:* An application containing applicant/s and their associated cover/s
*When:* The products service API is called
*Then:* the maximum expiry age is validated for each {{productType}}

||{{productType}}||max expiry age||
|{{life}}|91|
|{{ci}}|71|
|{{aci}}|71|

NB: No need to validate this for {{toAge}} as that is already taken care of.  For term based quotes, the customers age (as at the {{quoteAgeDate}} ) + term must be strictly less than the figures above.  E.g. if my term takes me to my 91st birthday then this is a validation failure.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,NBJ-128,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1|hzwil2:zzv,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,,,,,,,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-10-27 09:02:25.532,27/Oct/21 10:02 AM;6149b13472728e006f9441d6;[~accountid:60cc71a1d5dde800713a2124] Hey - should the message for this one should be “{{The maximum expiry age for this cover is {MaxExpiryAge} years”}}? cheers,27/Oct/21 10:04 AM;60cc71a1d5dde800713a2124;[~accountid:6149b13472728e006f9441d6]  - I’d gone for a term based error message as I thought that would be friendlier for users.  Ultimately they have entered a term that is too large and they need to reduce it to fit within the limits.,"27/Oct/21 11:14 AM;6149b13472728e006f9441d6;as per discussion with Chris. We’ve altered the error message to remove confusion with the max term validation error messages.

It should now be “{{The chosen term takes you beyond our maximum expiry age of X}}“ and still have an entity of Term.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
API - Validate ToAge for Applicant,NBJ-388,39136,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,13/Oct/21 10:13 AM,29/Oct/21 5:15 PM,02/Feb/22 6:31 PM,29/Oct/21 5:15 PM,,Foundation Release,,Quote,Sprint_3,,"*As an* API User
*I want* to validate a Cover through an API
*So that* only valid covers can be added to an applicant

Aiming to take a map of covers and validate the following cover level attributes:

* Max toAge

Technically a policy will run until the first completed policy month after the chosen age.
So you can specify a toAge of 90 (the cover will run until the month following your birthday) but if specifying a term (cross applicant/cover validation in [NBJ-318]) the term can take you up to anything < 91.

h4. Implementation Notes

Suggested Request

{code:json}""quoteApplicants"": {
      ""dateOfbirth"": 19711207, -- whatever the date format is!
      ""quoteAgeDate"": 2021-10-12T00:00:00, -- whatever the date format is
      ""newQuoteCover"": [
        {
          ""productType"": ""life | ci | aci | ccic"",
          ""coverType"": ""level | increasing | decreasing | family"",
          ""term"": 3, -- not required if toAge specified
          ""toAge"": 65, -- not required if term specified
          ""coverAmount"": 100000,
          ""isParentCoverForCcic"": true | false -- determines if this cover is the container for the Child CI cover in this application
        }
     ]
}{code}

Suggested Response

{code:json}""data"": {
    ""errors"" : [
        {
            ""entity"" : ""term"",
            ""message"" : ""The maximum term for this cover is X years""
        }
    ],
    ""quoteApplicants"": {
          ""dateOfbirth"": 19711207, -- whatever the date format is!
          ""quoteAgeDate"": 2021-10-12T00:00:00, -- whatever the date format is
          ""newQuoteCover"": [
            {
              ""productType"": ""life | ci | aci | ccic"",
              ""coverType"": ""level | increasing | decreasing | family"",
              ""term"": 3, -- not required if toAge specified
              ""toAge"": 65, -- not required if term specified
              ""coverAmount"": 100000,
              ""isParentCoverForCcic"": true | false -- determines if this cover is the container for the Child CI cover in this application
            }
        ]
    }
}{code}

h4. Examples

*Example 1*
quoteAgeDate - 26/10/2021
dateOfBirth - 15/09/1976
toAge - 65
Age at the quoteAgeDate = 45 yrs, 1 month, 11 days
Calculated term for validation purposes = 19 years 11 months (takes me to the first monthly anniversary after the to age)
So passes the minimum and maximum term validation

*Example 2*
quoteAgeDate - 26/10/2021
dateOfBirth - 15/09/1957
toAge - 65
Age at the quoteAgeDate = 64 yrs, 1 month, 11 days
Calculated term for validation purposes = 11 months (takes me to the first monthly anniversary after the to age)
So fails the minimum term validation for 1 year


",,Chris.Hibbert,Nathan Punzalan,,,,,,60cc71a1d5dde800713a2124,613f22fdff23ba00715469d1,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given:* A cover for an applicant 
*When:* The products service API is called 
*Then:* to age covers are validated as follows: 

||{{productType}}||{{coverType}}||min {{term}} (years)||max {{term}} (years)||max {{toAge}}||
|{{life}}|level|1|72|90|
|{{life}}|increasing|1|72|90|
|{{life}}|decreasing|5|72|90|
|{{life}}|family|5|72|90|
|{{ci}}|any|5|52|70|
|{{aci}}|any|5|52|70|

*Given*: A cover with a maximum toAge validation failure 
*Then*: the error {{entity}} is the {{toAge}} 
*and*: the error {{message}} is ""The maximum to age is X"" where X is the maximum allowed to age 

NB: limits above are inclusive, so that 5 years on the nose is OK, 52 years on the nose is also OK.

*Given*: A cover with a {{toAge}} 
*When*: The product service is called 
*Then*: The minimum and maximum term are also validated against the time period required to go on or beyond the {{toAge}} using the applicants age as at the {{quoteAgeDate}}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,NBJ-128,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1|hzwil2:zzr,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,,,,,,,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-10-29 14:31:31.046,"29/Oct/21 3:31 PM;613f22fdff23ba00715469d1;[~accountid:60cc71a1d5dde800713a2124] , for the 3rd AC, validation is triggered due to min and max terms (based on quoteAgeDate, DOB and toAge values) not being met however the message currently being shown is ""The maximum to age is X"" where X is the maximum allowed to age which does not make sense in this context. 

As this validation is triggered more so due to min/max term being exceeded instead of the toAge value, shouldn’t the validation message show “The \[maximum]/\[minimum] term is X"" where X is the maximum/minimum allowed term (which are the validation messages shown in [https://gghltd.atlassian.net/browse/NBJ-380|https://gghltd.atlassian.net/browse/NBJ-380|smart-link] )",29/Oct/21 4:57 PM;60cc71a1d5dde800713a2124;[~accountid:613f22fdff23ba00715469d1]  - I think the current approach is correct.  The user is entering a ToAge and its this value they need to change to fix their issues.,"29/Oct/21 5:15 PM;613f22fdff23ba00715469d1;[~accountid:60cc71a1d5dde800713a2124] no worries, error message shows as expected and will pass this ticket based on your comments below.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Add healthcheck endpoint to product service,NBJ-387,39134,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,13/Oct/21 9:58 AM,19/Oct/21 10:28 AM,02/Feb/22 6:31 PM,19/Oct/21 10:28 AM,,Foundation Release,,,,,"*As an* API User
*I want* a health check on the quote microservice
*So that* I can let infrastructure know if I am healthy or not

This story is to add the health check route:

{noformat}GET /api/v1/product/health{noformat}

Returns:

{noformat}HTTP 200 
text/plain Healthy{noformat}",,Chris.Hibbert,James Bartlett,,,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,NBJ-386,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given:* A product service
*When:* The quote service API is on GET /api/v1/product/health
*Then:* The service returns a 200
*And:* the text “Healthy” is returned in the payload",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-128,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00mcu:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 2,,,,,,13/Oct/21 9:54 AM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-10-19 09:28:30.026,"18/Oct/21 2:47 PM;60cc71a1d5dde800713a2124;(flag) Flag added

Blocked pending [~accountid:610c00d94e8d8d0069a20d6c] looking at the APIM issues.",19/Oct/21 10:28 AM;6139c49114e8340071fcda09;hit [https://wa-uwt-productservice.azurewebsites.net|https://wa-uwt-productservice.azurewebsites.net]/health and got a 200 with response body ‘Healthy’,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Add healthcheck endpoint to application service,NBJ-386,39133,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,13/Oct/21 9:56 AM,18/Oct/21 9:47 PM,02/Feb/22 6:31 PM,18/Oct/21 9:47 PM,,Foundation Release,,,,,"*As an* API User
*I want* a health check on the quote microservice
*So that* I can let infrastructure know if I am healthy or not

This story is to add the health check route:

{noformat}GET /api/v1/application/health{noformat}

Returns:

{noformat}HTTP 200 
text/plain Healthy{noformat}",,Chris.Hibbert,James Bartlett,,,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,NBJ-385,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given:* An application service
*When:* The application service API is on GET /api/v1/application/health
*Then:* The service returns a 200
*And:* the text “Healthy” is returned in the payload",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00mct:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 2,,,,,,13/Oct/21 9:54 AM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-10-18 20:47:11.637,"18/Oct/21 2:47 PM;60cc71a1d5dde800713a2124;(flag) Flag added

Blocked pending [~accountid:610c00d94e8d8d0069a20d6c] looking at the APIM issues.",18/Oct/21 9:47 PM;6139c49114e8340071fcda09;Endpoint tested at [https://wa-uwt-appservice.azurewebsites.net|https://wa-uwt-appservice.azurewebsites.net]/health - got a 200 with a ‘Healthy’ response.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Add healthcheck endpoint to quote service,NBJ-385,39132,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,13/Oct/21 9:54 AM,20/Oct/21 3:24 PM,02/Feb/22 6:31 PM,20/Oct/21 3:24 PM,,Foundation Release,,,,,"*As an* API User
*I want* a health check on the quote microservice
*So that* I can let infrastructure know if I am healthy or not

This story is to add the health check route:

{noformat}GET /api/v1/quote/health{noformat}

Returns:

{noformat}HTTP 200 
text/plain Healthy{noformat}
",,Chris.Hibbert,Sam Gamble,,,,,,60cc71a1d5dde800713a2124,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given:* A quote service
*When:* The quote service API is on GET /api/v1/quote/health
*Then:* The service returns a 200
*And:* the text “Healthy” is returned in the payload",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-118,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00mcr:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 2,,,,,,13/Oct/21 9:54 AM,,2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-10-18 12:45:09.232,"18/Oct/21 1:45 PM;610c00d94e8d8d0069a20d6c;(flag) Flag added

QuoteService is not deployed yet, so cannot actually test this ticket in UWT, yet.","20/Oct/21 2:24 PM;60cc71a1d5dde800713a2124;(flagoff) Flag removed

Quote now works","20/Oct/21 3:24 PM;60cc71a1d5dde800713a2124;Hit

[https://wa-uwt-quoteservice.azurewebsites.net/health|https://wa-uwt-quoteservice.azurewebsites.net/health]

And got both a 200 + Healthy response.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Define elements of a production-ready microservice ,NBJ-384,39126,,Task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,13/Oct/21 9:04 AM,20/Nov/21 2:58 PM,02/Feb/22 6:31 PM,11/Nov/21 7:02 PM,,Foundation Release,,,,,There are a number of common elements that each NBJ microservice will need to implement in order to be production-ready. These elements need to be defined and documented. ,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"* Define the ‘production engineering’ elements each microservice needs to implement, e.g. health check, client library, logging, monitoring, timeouts, retries, fallbacks, API spec, consistent naming etc.
* Extend the TemplateService with examples of these elements",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-534,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00l67:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 2,Guardian Sprint 3,Guardian Sprint 4,,,,13/Oct/21 9:04 AM,,,,,,,,,,,,,,,,,,Sam Gamble,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,,,,18/Oct/21 10:10 AM;610c00d94e8d8d0069a20d6c;I’m building out this page on the wiki: [https://gghltd.atlassian.net/wiki/spaces/NP/pages/2998665240/Microservice+Catalogue|https://gghltd.atlassian.net/wiki/spaces/NP/pages/2998665240/Microservice+Catalogue|smart-link] ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Architecture in C4 format,NBJ-383,39125,,Task,In Progress,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Ian.Douglas,5e183e85c578120daca5bc7b,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,13/Oct/21 9:00 AM,08/Nov/21 12:38 PM,02/Feb/22 6:31 PM,,,Foundation Release,,,,,"So as many people in Guardian can understand the NBJ architecture, it needs to be drawn up in the C4 style.",,Ian.Douglas,Sam Gamble,,,,,,5e183e85c578120daca5bc7b,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,* NBJ Level 1 (Context) & Level 2 (Container) architecture drawn up in C4 style and added to the wiki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1k,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 2,Guardian Sprint 3,,,,,13/Oct/21 9:00 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-10-17 22:36:16.539,17/Oct/21 11:36 PM;5e183e85c578120daca5bc7b;Created C4 level 1 Context Diagram for review [https://gghltd.atlassian.net/l/c/cFVaRRT9|https://gghltd.atlassian.net/l/c/cFVaRRT9|smart-link] ,"25/Oct/21 2:42 PM;5e183e85c578120daca5bc7b;I have completed Level 1 & Level 2 diagrams 

[https://gghltd.atlassian.net/l/c/ACRujPhs|https://gghltd.atlassian.net/l/c/ACRujPhs|smart-link] 

[https://gghltd.atlassian.net/l/c/x1e814We|https://gghltd.atlassian.net/l/c/x1e814We|smart-link] ",25/Oct/21 2:44 PM;5e183e85c578120daca5bc7b;[~accountid:610c00d94e8d8d0069a20d6c] [~accountid:5d94816eefc9290c2e625a11] we need to talk about the need and the approach to producing the Level 3 & 4 diagrams,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In Progress
Set quoteAgeDate on Application upon creation,NBJ-382,39117,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,12/Oct/21 5:01 PM,29/Oct/21 9:59 AM,02/Feb/22 6:31 PM,29/Oct/21 9:59 AM,,Foundation Release,,Quote,Sprint_3,,"As an API User
I want to have the quoteAgeDate set on an application when it is created
So that I covers are validated correctly and prices are correct

Extending https://gghltd.atlassian.net/browse/NBJ-263 to also set and return the quoteAgeDate on the application

h4. Implementation Notes
- {{quoteAgeDate}} in the [Common Data Model|https://gghltd.atlassian.net/wiki/spaces/NP/pages/2953674839/Data+Dictionary]
",,Antony.Gorman,Chris.Hibbert,Nathan Punzalan,,,,,6149b13472728e006f9441d6,60cc71a1d5dde800713a2124,613f22fdff23ba00715469d1,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given*: an HTTP request to POST {{deployment_env}}/api/v1/application
*Then*: an HTTP 201 status code is returned
*And:* the response payload is in the format:

{code:json}{
  ""data"": {
    ""applicationId"": ""APPLICATION_ID_IN_THE_G-REF_FORMAT"", // NBJ-263
    ""quoteAgeDate"": ""2021-10-12T00:00:00""
  }
}{code}

*and*: The {{quoteAgeDate}} is set to today's date with a time component of 0  (UTC)
*and:* The application is persisted (in cosmos)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwil2:v,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,,,,,,12/Oct/21 5:01 PM,,3.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-10-26 08:30:59.399,"26/Oct/21 9:30 AM;6149b13472728e006f9441d6;Note for testing. Applications will be persisted into the “application” container in the UWT guardian cosmos db. We’re currently still using the id generator stub so expect some id clashes (on cold starts etc.) until we set up configuration for the Azure SQL backed generator.

I’ll update here once the sql work is setup.","29/Oct/21 9:59 AM;613f22fdff23ba00715469d1;As discussed with Ant and Chris, there is another ticket in the backlog to track the config change so that id clashes (on cold starts) no longer happen which is [https://gghltd.atlassian.net/browse/NBJ-363|https://gghltd.atlassian.net/browse/NBJ-363|smart-link]   so can pass this ticket as behaviour works as expected.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Fix how the yaml pipeline files choose which projects to build and test,NBJ-381,39104,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,Jason Hughes,613f60991370f00069033c68,Jason Hughes,613f60991370f00069033c68,12/Oct/21 3:05 PM,13/Oct/21 9:11 AM,02/Feb/22 6:31 PM,13/Oct/21 9:11 AM,,,,,,,"The yaml pipelines triggers which tell them which parts of the repository to watch and trigger a build from.
We thought that any operations from then on would start at that path, but instead they start from the root of the repository.
This means that if you change serviceA, when it's pipeline gets triggered it will build and run not only it's own code and unit tests - but all the other code and tests in the repository for the other services that follow the same naming and folder structure",,Jason Hughes,,,,,,,613f60991370f00069033c68,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00l1r:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 2,,,,,,12/Oct/21 3:05 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
API - Validate Terms for Applicant,NBJ-380,39102,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,12/Oct/21 2:37 PM,29/Oct/21 3:47 PM,02/Feb/22 6:31 PM,29/Oct/21 3:47 PM,,Foundation Release,,Quote,Sprint_3,,"*As an* API User
*I want* to validate a Cover through an API
*So that* only valid covers can be added to an applicant

Aiming to take a map of covers and validate the following cover level attributes:

* Min Term
* Max Term

Technically a policy will run until the first completed policy month after the chosen age.
So you can specify a toAge of 90 (the cover will run until the month following your birthday) but if specifying a term (cross applicant/cover validation in [NBJ-318]) the term can take you up to anything < 91.

h4. Implementation Notes

Suggested Request

{code:json}""quoteApplicants"": {
      ""dateOfbirth"": 19711207, -- whatever the date format is!
      ""quoteAgeDate"": 2021-10-12T00:00:00, -- whatever the date format is
      ""newQuoteCover"": [
        {
          ""productType"": ""life | ci | aci | ccic"",
          ""coverType"": ""level | increasing | decreasing | family"",
          ""term"": 3, -- not required if toAge specified
          ""toAge"": 65, -- not required if term specified
          ""coverAmount"": 100000,
          ""isParentCoverForCcic"": true | false -- determines if this cover is the container for the Child CI cover in this application
        }
     ]
}{code}

Suggested Response

{code:json}""data"": {
    ""errors"" : [
        {
            ""entity"" : ""term"",
            ""message"" : ""The maximum term for this cover is X years""
        }
    ],
    ""quoteApplicants"": {
          ""dateOfbirth"": 19711207, -- whatever the date format is!
          ""quoteAgeDate"": 2021-10-12T00:00:00, -- whatever the date format is
          ""newQuoteCover"": [
            {
              ""productType"": ""life | ci | aci | ccic"",
              ""coverType"": ""level | increasing | decreasing | family"",
              ""term"": 3, -- not required if toAge specified
              ""toAge"": 65, -- not required if term specified
              ""coverAmount"": 100000,
              ""isParentCoverForCcic"": true | false -- determines if this cover is the container for the Child CI cover in this application
            }
        ]
    }
}{code}",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,NBJ-388,NBJ-389,,,,,,,,,,,,,,,,,,,,,,,,"*Given:* A cover for an applicant 
*When:* The products service API is called 
*Then:* Terms are validated as follows: 

||{{productType}}||{{coverType}}||min {{term}} (years)||max {{term}} (years)||
|{{life}}|level|1|72|
|{{life}}|increasing|1|72|
|{{life}}|decreasing|5|72|
|{{life}}|family|5|72|
|{{ci}}|any|5|52|
|{{aci}}|any|5|52|

*Given*: A cover with a maximum term validation failure 
*Then*: the error {{entity}} is the {{term}} 
*and*: the error {{message}} is ""The maximum term is X"" where X is the maximum allowed term 

*Given*: A cover with a minimum term validation failure 
*Then*: the error {{entity}} is the {{term}} 
*and*: the error {{message}} is ""The minimum term is X"" where X is the minimum allowed term 
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,NBJ-128,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1|hzwil2:zzx,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 2,Guardian Sprint 3,,,,,,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Replace Zerobounce for email validation,NBJ-376,39025,,Story,In Progress,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Caine Pooley,60b6556cbbe237006aeafd55,helen.scriven,5dbd6f97fc11e40c2ff452a7,helen.scriven,5dbd6f97fc11e40c2ff452a7,11/Oct/21 9:51 AM,01/Feb/22 12:43 PM,02/Feb/22 6:31 PM,,,,,,,,"

Deploy NBJ2 with a different email validation service to Zerobounce (yet to be selected). Zerobounce is too unreliable providing results which prevent advisers and clients registering, and also allowing invalid emails to be provided.

* Good email prevention example: On [https://www.zerobounce.net/|https://www.zerobounce.net/|smart-link]  [caedegroot@gmail.com|mailto:caedegroot@gmail.com] receives do_not_mail.possible_trap, which is one of our disallowed results. On [https://app.kickbox.com/|https://app.kickbox.com/] it receives a 'Deliverable' result.
* Bad email allowed example: On ZB [kshdfdfkshdfkdfs@jkjkj.com|mailto:kshdfdfkshdfkdfs@jkjkj.com] receives inconsistent results. E.g. catch-all, one time then do_not_mail.global_suppression on another, both of which are on our allowed list. On KB it receives an 'Undeliverable' result.
* IT Ops tend not to use ZB when doing manual validations because they’ve found it to be unreliable.
* We think it’s the cause of the linked GSD, although this has not yet been proved.

This would require:

* Analysis to find a suitable replacement (e.g. Kickbox), agree the allowed results (est 1 day)
* Integration for NBJ2 (assumed no additional effort above integrating with ZB)
* Update to the existing space webapp to fix firm and adviser registration (est few hours)
* Possible update to the existing webapp to fix current NBJ, depending on the timing. (est negligible) ",,Caine Pooley,Duncan Mosely,helen.scriven,zoe.jenkins,,,,60b6556cbbe237006aeafd55,60ddc9ca0a1f6800703fd0e0,5dbd6f97fc11e40c2ff452a7,5e455b083011ed0c8f8a44e8,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,GSD-17213,NBJ-342,,,,,,,,,,18/Oct/21 11:21 AM;Helen.Scriven1;ZB related stories.docx;https://gghltd.atlassian.net/secure/attachment/22891/ZB+related+stories.docx,18/Oct/21 11:21 AM;Helen.Scriven1;Zerobounce return codes.xlsx;https://gghltd.atlassian.net/secure/attachment/22890/Zerobounce+return+codes.xlsx,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Adviser experience and reduced errors,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space-bx,,,,,,,No,,1|i00kkv:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,11/Oct/21 9:51 AM,,,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-10-11 09:54:15.687,"11/Oct/21 10:26 AM;5dbd6f97fc11e40c2ff452a7;[~accountid:60ddc9ca0a1f6800703fd0e0] [~accountid:5e455b083011ed0c8f8a44e8] Hi Duncan - this is an increase of scope to Foundation but I think there is a strong case to include it given the production issues it causes. The analysis could be done by a resource outside of the core NBJ2 team e.g. me or Peter, so I anticipate little impact to the NBJ2 plan but would need to get this validated by the team. Your views on whether we should go ahead with that validation.  ","11/Oct/21 10:54 AM;60ddc9ca0a1f6800703fd0e0;Hi Helen, I’m not aware of the detailed issues with Zerobounce, but agree that we need a robust and reliable service in place.  Happy to consider as part of foundation as long is it does not introduce delay.  First step is to find an alternative.",11/Oct/21 11:00 AM;5dbd6f97fc11e40c2ff452a7;Helen to discuss with Linda how the analysis is resourced. ,"18/Oct/21 11:21 AM;5dbd6f97fc11e40c2ff452a7;[~accountid:60b6556cbbe237006aeafd55] Hi Caine. Kev has agreed that you can help with this US by researching alternatives. This means understanding: the current solution, alternative providers, their API, return codes, and subscription costs. The attached document contains the original US from Helix (estimated costs are included). I don’t think the solution was implemented quite like the US describe e.g. I don’t believe there is a ‘disallow list’ only an allow list. I aslo doubt the logging for the unknown returned codes was implemented. I’ll book a catch up to discuss. 

[^Zerobounce return codes.xlsx]
[^ZB related stories.docx]

","18/Oct/21 11:35 AM;60b6556cbbe237006aeafd55;[~accountid:5b23a053ba383e0814004f26] Whenever you have some time, may we go through ZeroBounce please?","27/Oct/21 1:35 PM;60b6556cbbe237006aeafd55;Current research that I’ve carried out has been put in a Confluence page:
[https://gghltd.atlassian.net/wiki/spaces/ITS/pages/3060203560/Email+Verification+Alternatives|https://gghltd.atlassian.net/wiki/spaces/ITS/pages/3060203560/Email+Verification+Alternatives|smart-link] 


Please let me know if there is anything else you’d like me to look into specifically and I can update the page accordingly. ",16/Nov/21 1:51 PM;5e455b083011ed0c8f8a44e8;[~accountid:5dbd6f97fc11e40c2ff452a7] Can you please review the output from Caine’s research,"17/Nov/21 9:59 AM;5dbd6f97fc11e40c2ff452a7;[~accountid:60b6556cbbe237006aeafd55] Thanks Caine. Can you please confirm what we are currently paying for ZB as I think these look to be about double our current costs? Can you please also look at Kickbox as I think we’ve found that to be reliable (and is the one I know Asta uses). Assuming these costs are OK. Of these 3 which one would you recommend? For that one could you please look at the responses and compare the ZB return codes in prep for possible implementation? Many thanks, Helen",,,,,,,,,,,,,,,,,,,,,,,,In Progress
Underwriting Service - retrieve an active enquiry,NBJ-375,39005,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,08/Oct/21 4:23 PM,21/Oct/21 1:51 PM,02/Feb/22 6:31 PM,19/Oct/21 10:12 AM,,Foundation Release,,,,,"*As an* api user
*So that* I can retrieve the UME current underwriting active session
*I want* an api that takes an enquiryId and returns the active session

*Implementation Notes*

[https://gghltd.atlassian.net/wiki/spaces/NP/pages/3027894418/UW+Interview|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3027894418/UW+Interview|smart-link] 

# Receive a get request - {{GET /api/v1/enquiry/{enquiryId}?embed=true|false}} - embed param optional
# use enquiry api against URE rules engine - /v4/enquiry/\{enquiryId}
# return full activeEnquiry response from URE

{code:json}{
  data:{
    ""enquiryId"": ""<guid>"",
    ""branch"": ""DEV_RULESET"",
    ""tag"": ""v0_15"",
    ....
    ""isOpen"": true,
    ...Rest of response from URE...
  }
}{code}",,Chris.Hibbert,Jim Houghton,,,,,,60cc71a1d5dde800713a2124,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,NBJ-352,NBJ-497,,,,,,,,,,,,,,,,,,,,,,,,,,,,,19/Oct/21 10:11 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/22912/LivingDoc.html,,,,,,,,,,,,"*Given* a GET enquiry request with an enquiryId specified and embed param true|false
*When* retrieving activeEnquiry from URE - /v4/enquiry/\{enquiryId}
*Then* respond with a 200
*And* respond with active session returned from URE
*And* response enquiryId matches requested enquiryId",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,No,,1|i00l6d:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 2,,,,,,07/Oct/21 8:28 AM,,2.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-10-18 13:46:51.805,"18/Oct/21 2:46 PM;60cc71a1d5dde800713a2124;(flag) Flag added

Blocked pending [~accountid:610c00d94e8d8d0069a20d6c] looking at the APIM issues.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Underwriting service - Hide any ELs and sections with no questions,NBJ-373,38947,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,07/Oct/21 8:56 PM,02/Nov/21 9:33 AM,02/Feb/22 6:31 PM,01/Nov/21 11:12 AM,,Foundation Release,,FlexibleUW,Sprint_3,,"*As an* api user
*So that* I do not display the contents of enquiryLines with no questions
*I want* to remove enquiryLines with no questions from the response

h4. Implementation Notes

_Underwriting service request_

Any request expecting an active enquiry response with allsections=false or not present:

# {{/api/v1/underwriting/start?allsections=true|false}}
# {{/api/v1/underwriting/{enquiryId}?allsections=true|false}}
# {{/api/v1/underwriting/{enquiryId}/close?allsections=true|false}}

_Underwriting service reponse_

# Any section with hasQuestions = false should be removed from the activeEnquiry before responding
# Any enquiryLine with hasQuestions = false should be removed from the activeEnquiry before responding
# This should be completed before creating embedded content controlled by the embed param on the request



{code:json}{
  data: {
    ...
    ""branch"": ""GUARDIAN"",
    ""tag"": ""v0_15"",
    ...
    ""sections"": [
      {
        ...
        ""hasQuestions"": false
        ...
        ""enquiryLines"": [
          {
            ...
            ""hasQuestions"": false,
            ...
          },
          {...}
        ]
      },
      {...more sections...}
    ],
    ""allAnswers"": {...},
    ""debugInfo"": {}
  }
}{code}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Nov/21 9:33 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc (7895286e-3730-45ab-8185-2f92c020598b).html;https://gghltd.atlassian.net/secure/attachment/23244/LivingDoc+%287895286e-3730-45ab-8185-2f92c020598b%29.html,01/Nov/21 11:11 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/23226/LivingDoc.html,,,,,,,,,,,"*Given* any request to the underwriting api expecting an activeSession response
*And* has allsections=true
*Then* respond with a full active enquiry, including sections and enquiryLines that hasQuestion=false

*Given* any request to the underwriting api expecting an activeSession response
*And* has allsections=false or allsections param not present
*When* formulating the response
*Then* remove all sections from the active enquiry that have a property hasQuestions = false

_Building on the above…_

*Given* any request to the underwriting api expecting an activeSession response
*And* has allsections=false or allsections param not present
*When* formulating the response
*Then* remove all enquiryLines from the active enquiry that have a property hasQuestions = false",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,No,,1|hzwil2:zzzy,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,,,,,,07/Oct/21 8:56 PM,,5.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Underwriting Service - provide answers,NBJ-372,38946,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,07/Oct/21 8:47 PM,30/Oct/21 8:24 PM,02/Feb/22 6:31 PM,26/Oct/21 4:53 PM,,Foundation Release,,FlexibleUW,Sprint_3,,"*As an* API Consumer
*So that* I can progress an existing underwriting Q&A session (called an ‘enquiry’ in UnderwriteMe)
*I want* to be able to answer questions in an underwriting session

h2. *Implementation Notes*

h3. *UnderwritingService*

h4. *Request*

{noformat}POST /api/v1/underwriting/enquiry/{{enquiryId}}{noformat}

h4. *Example request payload:*

{code:json}{
  ""answers"": {
    ""PRODUCT"": ""Life"",
    ""HEIGHT"": ""1.8"",
    ""WEIGHT_MALE"": ""80""  
  }
}{code}

h4. *Response*

The answer values should be found in the response payload for each question in the request.

For example, the PRODUCT answer should be found in the response JSON here:

{noformat}data.sections.enquiryLines.questions.name[“PRODUCT”].answers{noformat}

For example:

{code:json}HTTP 200

{
  ""data"": {
    ""enquiryId"": ""{{enquiryId}}"", // the same enquiry ID in the request is here
    ""branch"": ""GUARDIAN"",
    ""tag"": ""Decision model added"",
    ""locale"": ""IFA_EN_GB"",
    ...
    ""sections"": [{
      ""name"": ""Your Basic Details"",
      ""isSatisfied"": true,
      ""hasQuestions"": true,
      ...
      ""enquiryLines"": [{
        ""name"": ""Your_Basic_Details"",
        ...
        ""questions"": [{
          ""name"": ""PRODUCT"",
          ...
          ""answers"": [
              ""Life"" // answer to PRODUCT question here
          ],
          ""validationErrors"": {}
        }],
      }],
    }
  }
}  
{code}

h3. *Downstream call - UnderwriteMe API*

[https://gghltd.atlassian.net/wiki/spaces/NP/pages/3027894418/UW+Interview|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3027894418/UW+Interview|smart-link] 

h4. Request 

{noformat}POST /v4/enquiry/{{enquiryId}}{noformat}

h4. Example request payload

{code:json}{
  ""answers"": {
    ""PRODUCT"": ""Life"",
    ""HEIGHT"": ""1.8"",
    ""WEIGHT_MALE"": ""80""  
  },
  // Until the username is extracted from the Auth Token, this is a hardcoded value.
  ""username"": ""nbj-user"" 
}{code}

h4. Response

The UnderwriteMe response payload isn’t edited and is returned as is, wrapped in a “data” envelope by the UnderwritingService.",,Chris.Hibbert,Jim Houghton,Nathan Punzalan,,,,,60cc71a1d5dde800713a2124,60cc71a22bd21400692fd2af,613f22fdff23ba00715469d1,,,,,,,,,,,,Hidden from EXL,NBJ-498,NBJ-278,,,,,,,,,,,,,,,,,,,NBJ-361,,,,,,,,,,,,,,,,,,,,,,"*Given* an +*enquiryId*+ of an active underwriting session
*And* one or more answers to questions
*When* making a request to

{noformat}POST /api/v1/underwriting/enquiry/{{enquiryId}}{noformat}

{code:json}{
  ""answers"": {
    ""QUESTION_PATH_HERE"": ""ANSWER_HERE"",
    ""ANOTHER_QUESTION_PATH_HERE"": ""ANOTHER_ANSWER_HERE""
  }
}{code}

*Then* the underwriting session matching the +*enquiryId*+ is returned
*And* the answers in the request can be found in the underwriting session",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,No,,1|i00g6m:zzr,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 2,Guardian Sprint 3,,,,,07/Oct/21 8:52 AM,,2.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-10-18 08:46:19.732,18/Oct/21 9:46 AM;60cc71a1d5dde800713a2124;[~accountid:613f60991370f00069033c68]  - this is the next one in the sprint for you.,"26/Oct/21 4:52 PM;613f22fdff23ba00715469d1;Answers can be posted as expected. Have checked that both the isAnswered flag and isSatisfied flag work as expected. 

Individual question isSatisfied flags gets flagged as true as long as questions is answered and does not trigger validation (ie valid answer is chosen) and Section isSatisfied tags only show true when all related questions under that section show true for their isSatisfied flag as expected.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Wire Underwriting Service into APIM,NBJ-371,38926,38922,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,07/Oct/21 12:49 PM,15/Oct/21 9:27 AM,02/Feb/22 6:31 PM,15/Oct/21 9:27 AM,,,,,,,,,Chris.Hibbert,Ian.Douglas,Sam Gamble,,,,,60cc71a1d5dde800713a2124,5e183e85c578120daca5bc7b,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00jzz:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 2,,,,,,06/Oct/21 5:35 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-10-14 08:09:49.394,"14/Oct/21 9:09 AM;610c00d94e8d8d0069a20d6c;[~accountid:5e183e85c578120daca5bc7b] I need to wire up the UnderwritingService API to APIM in UWT. Is this controlled using scripts in the EnvironmentBuild repo? If so, could you point me in the direction of where and what to edit please?",14/Oct/21 5:39 PM;5e183e85c578120daca5bc7b;Now deployed as [https://ggh-uwt-api.gghltest.co.uk/api/v1/underwriting|https://ggh-uwt-api.gghltest.co.uk/api/v1/underwriting] ,,,,,,,,,,,,,,,,,,,,,,,,,,,,38922,API - Create underwriting service,Done
Create AppService to host the Underwriting Service,NBJ-370,38925,38922,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Sam Gamble,610c00d94e8d8d0069a20d6c,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,07/Oct/21 12:49 PM,13/Oct/21 9:06 AM,02/Feb/22 6:31 PM,13/Oct/21 9:06 AM,,,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00jzr:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 2,,,,,,06/Oct/21 5:35 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,38922,API - Create underwriting service,Done
Create build and publish pipeline in Azure devops,NBJ-369,38924,38922,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Sam Gamble,610c00d94e8d8d0069a20d6c,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,07/Oct/21 12:49 PM,13/Oct/21 9:05 AM,02/Feb/22 6:31 PM,13/Oct/21 9:05 AM,,,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00jzj:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 2,,,,,,06/Oct/21 5:35 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,38922,API - Create underwriting service,Done
Copy from service template,NBJ-368,38923,38922,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Sam Gamble,610c00d94e8d8d0069a20d6c,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,07/Oct/21 12:49 PM,13/Oct/21 9:05 AM,02/Feb/22 6:31 PM,13/Oct/21 9:05 AM,,,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00jzb:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 2,,,,,,06/Oct/21 5:34 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,38922,API - Create underwriting service,Done
API - Create underwriting service,NBJ-367,38922,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,07/Oct/21 12:49 PM,18/Oct/21 9:13 AM,02/Feb/22 6:31 PM,18/Oct/21 9:12 AM,,Foundation Release,,,,,"*As an* API User
*I want* an underwriting service
*So that* I can interact with the URE

This story is to stand-up the UnderwritingService with only the health check route implemented:

{noformat}GET /api/v1/underwriting/health{noformat}

Returns:

{noformat}HTTP 200 
text/plain Healthy{noformat}

h4. Implementation Notes

* First story for the underwriting service so needs a new microservice",,Chris.Hibbert,James Bartlett,,,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,,,,,,,,,,,,,Hidden from EXL,NBJ-348,,,,,,,,,,NBJ-317,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given:* An underwriting service
*When:* The underwriting service API is on GET /api/v1/underwriting/health
*Then:* The service returns a 200
*And:* the text “Healthy” is returned in the payload",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,No,,1|i00jz3:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 2,,,,,,28/Sep/21 12:01 PM,,8.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-10-13 14:36:09.214,13/Oct/21 3:36 PM;6139c49114e8340071fcda09;[~accountid:557058:bdeb1ead-e0e5-4e48-9c27-6bab0b2e7ad2] is this deployed to uwt yet?,"13/Oct/21 5:54 PM;60cc71a1d5dde800713a2124;(flag) Flag added

Blocked pending devops / APIM stuff","14/Oct/21 7:23 PM;60cc71a1d5dde800713a2124;(flagoff) Flag removed

NBJ-367 now deployed",14/Oct/21 7:24 PM;60cc71a1d5dde800713a2124;[~accountid:6139c49114e8340071fcda09]  - service can be found at [https://ggh-uwt-api.gghltest.co.uk/api/v1/underwriting|https://ggh-uwt-api.gghltest.co.uk/api/v1/underwriting],"18/Oct/21 9:13 AM;60cc71a1d5dde800713a2124;Hit the health check endpoint, got a 200 + expected response.  Confirmed with [~accountid:6139c49114e8340071fcda09]  ok to Close story.",,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Underwriting service - URE service errors,NBJ-365,38903,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,07/Oct/21 8:57 AM,02/Feb/22 10:33 AM,02/Feb/22 6:31 PM,,,,,FlexibleUW,Sprint_9,,,,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space-bx,,,,,,,No,,1|i00pkm:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,07/Oct/21 8:57 AM,,5.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Underwriting service - close enquiry,NBJ-364,38902,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,07/Oct/21 8:56 AM,08/Dec/21 1:04 PM,02/Feb/22 6:31 PM,26/Oct/21 4:56 PM,,Foundation Release,,FlexibleUW,Sprint_3,,"*As an* api user
*So that* I can complete an underwriting session
*I want* to be able to close an active session

*Implementation Notes*

_Underwriting Service Request_

# {{POST /api/v1/underwriting/enquiry/{enquiryId}/close?embed=true|false}}
# a username *cannot be* be provided at this stage

{code:json}{
}{code}

_URE api_

# use URE api : /v4/closeEnquiry/\{enquiryId}

{code:json}{
  ""username"": ""jim.houghton""
}{code}

2. will respond with full active enquiry

_Underwriting service response_

# Full active enquiry will be returned, ensuring embedded question definitions included when initial request param embed=true

{noformat}{
  data: {
    ""enquiryId"": ""<guid>""
    ...
    ""isOpen"": false,
    ...
  }
}{noformat}",,Chris.Hibbert,Jason Hughes,Jim Houghton,Nathan Punzalan,,,,60cc71a1d5dde800713a2124,613f60991370f00069033c68,60cc71a22bd21400692fd2af,613f22fdff23ba00715469d1,,,,,,,,,,,Hidden from EXL,NBJ-500,,,,,,,,,,,,,,,,,,,,NBJ-879,,,,,,,,,,02/Nov/21 10:39 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/23247/LivingDoc.html,,,,,,,,,,,,"*Given* an enquiry/\{id}/close request with a closable active session (enquiryId)
*And* a username
*Then* a closed activeEnquiry should be returned (isOpen = false)
*And* the response should follow the already established pattern containing the active enquiry based on embed=true|false",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,No,,1|hzwil2:qr,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,,,,,,07/Oct/21 8:56 AM,,2.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-10-25 13:57:45.995,"25/Oct/21 2:57 PM;613f60991370f00069033c68;Spoke to Sam and neither of us had noticed the *embed* stuff in the planning, which makes this story slightly more complicated.  Also agreed we should add the embed to the POST api/v1/underwriting/enquiry/\{enquiryId} that we did last week, and the GET endpoint on the same route.

So this story is really at least a 3 possibly a 5 but have left the points.",26/Oct/21 2:29 PM;613f22fdff23ba00715469d1;Have spoke to Sam and confirmed this is ready to test however it doesn’t seem to work correctly. Have opened a new enquiry and tried to close it via API and I am getting a 500 status get sent back.,26/Oct/21 2:31 PM;60cc71a1d5dde800713a2124;[~accountid:613f22fdff23ba00715469d1] - just checking that you are testing this against a satisfied enquiry?  That is…all questions must be answered before you can close.,"26/Oct/21 2:40 PM;613f22fdff23ba00715469d1;[~accountid:60cc71a1d5dde800713a2124] , thanks, as discussed will test this in parallel with [https://gghltd.atlassian.net/browse/NBJ-372|https://gghltd.atlassian.net/browse/NBJ-372|smart-link] to check I am able to answer all questions then close the enquiry successfully","26/Oct/21 4:56 PM;613f22fdff23ba00715469d1;As Chris pointed out, have checked that enquiries can be closed once it has been satisfied and isOpen is shown as “false” and opposite is true when enquiry is still open or user tries to close an enquiry before it is flagged as satisfied. (FYI, when you try to close an enquiry that does not have all questions answered, API returns a 500 status)",,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Application create - start the application ID from a seed rather than a hard-coded number,NBJ-363,38901,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,James Bartlett,6139c49114e8340071fcda09,James Bartlett,6139c49114e8340071fcda09,07/Oct/21 8:55 AM,17/Nov/21 5:03 PM,02/Feb/22 6:31 PM,17/Nov/21 5:03 PM,,Foundation Release,,Quote,Sprint_7,,"*As a* Provider
*I want* to be able to define what value application references start from
*So that* I can manage any possible integration issues


When an application ID is created for the first time, there must be an ability to determine the start value - e.g.

{code:java}
G012345678
{code}

rather than

{code:java}
G000000001
{code}

",,Ian.Douglas,Kevin.Amoa,,,,,,5e183e85c578120daca5bc7b,6149b160fac3ce0069d80d37,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,NBJ-315,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given:* the defined configurable value for application references is ""012345678""
*When:* an application is created for the first time in a given environment
*Then:* it should start from a defined configurable value - e.g. G012345678

*Given:* the defined configurable value for application references is ""012345678""
*When:* an application is created for the *second* time in a given environment
*Then:* it should be ""G${defined configurable value + 1}"" - e.g. G012345679",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,,,,,,07/Oct/21 8:55 AM,,2.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-15 09:35:15.855,"15/Nov/21 9:35 AM;6149b160fac3ce0069d80d37;

{noformat}CREATE SCHEMA gghUWTApplication
GO
CREATE SEQUENCE [gghUWTApplication].[UWTGRefSequence]
 AS [int]
 START WITH 1
	 INCREMENT BY 1
	 MINVALUE 0
	 MAXVALUE 2147483647
	 CACHE
GO
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [gghUWTApplication].[uspUWTGetNextGRef]
AS
BEGIN
    SET NOCOUNT ON;
    SELECT NEXT VALUE FOR gghUWTApplication.UWTGRefSequence;
END
GO
CREATE USER gghUWTApplicationUser FOR LOGIN gghUWTApplicationUser with default_schema = gghUWTApplication
GO
GRANT SELECT, INSERT, UPDATE, DELETE, EXECUTE ON SCHEMA :: gghUWTApplication TO gghUWTApplicationUser;
GO
exec [gghUWTApplication].[uspUWTGetNextGRef]{noformat}","15/Nov/21 9:36 AM;6149b160fac3ce0069d80d37;Server=tcp:ggh-dev-dbs.database.windows.net,1433;Initial Catalog=ggh-applicationdata-dev-db;Persist Security Info=False;User ID=gghadmin;Password=\{your_password};MultipleActiveResultSets=False;Encrypt=True;TrustServerCertificate=False;Connection Timeout=30;",15/Nov/21 9:39 AM;5e183e85c578120daca5bc7b;Discussed with [~accountid:6149b160fac3ce0069d80d37] and agreed that this functionality should be incorporated into the devOps deployment pipeline for the Application Service,"15/Nov/21 7:23 PM;6149b160fac3ce0069d80d37;[~accountid:5e183e85c578120daca5bc7b] Assigned to you based on conversations we had this morning. Once complete, applications service will need these environment variables set

{{IdGenerator__ConnectionString}}: The connection string for db

{{IdGenerator__CommandName: }}The name of the stored procedure eg \[gghUWTApplication].\[uspUWTGetNextGRef]

Optional

{{IdGenerator__ReferenceFormat: G{0:000000000}}} - The format for Guardian references. Defaults to this

fyi: [~accountid:610c00d94e8d8d0069a20d6c] ",16/Nov/21 12:41 PM;5e183e85c578120daca5bc7b;[~accountid:610c00d94e8d8d0069a20d6c] [~accountid:60cc71a1d5dde800713a2124] Need a ticket to add this into the DevOps process … probably one for the next sprint,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Underwriting Service - initialise provide answers,NBJ-361,38899,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,07/Oct/21 8:52 AM,27/Oct/21 7:07 PM,02/Feb/22 6:31 PM,20/Oct/21 11:58 AM,,Foundation Release,,,,,"*As an* api user
*So that* I can provide all information to the underwriting session that has been collected at quote
*I want* to be able to provide answers to questions when starting an activeSession

*Implementation Notes*

_Request Received_

# any underwriting service enquiry/start request containing answers and username -  {{POST /api/v1/enquiry/start?branch={branch}&embed=true|false}} (must have a username)

{noformat}{
  ""answers"": {
    ""PRODUCT"": [
      ""Life""
    ]
  },
  ""username"": ""<logged on user>""
}{noformat}

_URE api interaction_

# each answer should describe the question by its path (not its name)
# the startEnquiry api should be used: /v4/startEnquiry?branch=\{branch}, branch should only be included if provided in underwriting request as already established.

{noformat}{
  ""answers"": {
    ""PRODUCT"": [
      ""Life""
    ]
  },
  ""username"": ""<logged on user>""
}{noformat}

_Response_

# active enquiry returned from URE should form the return message, the content controlled by embed param on original underwriting service request.",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,20/Oct/21 11:57 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/22950/LivingDoc.html,,,,,,,,,,,,"*Given* any startEnquiry request for the underwriting service containing answers and username
*When* constructing the startEnquiry api request for the URE
*Then* include all questions and answers provided
*And* the username

Building on the above:
*Given* an underwriting service request with embed = true and a successful response from URE
*Then* response message should be formulated in the already established pattern in [https://gghltd.atlassian.net/browse/NBJ-352|https://gghltd.atlassian.net/browse/NBJ-352|smart-link] and [https://gghltd.atlassian.net/browse/NBJ-353|https://gghltd.atlassian.net/browse/NBJ-353|smart-link] 

*Given* an underwriting service request with embed = false (or embed not present) and a successful response from URE
*Then* response message should simply contain URE active enquiry response, i.e. no embedded content",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,No,,1|i00mcu:v,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 2,,,,,,07/Oct/21 8:52 AM,,3.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Underwriting Service - type ahead,NBJ-355,38892,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,07/Oct/21 8:46 AM,26/Oct/21 5:24 PM,02/Feb/22 6:31 PM,26/Oct/21 5:24 PM,,Foundation Release,,FlexibleUW,Sprint_3,,"*As an* api user
*So that* I can support a type ahead control
*I want* to be able to provide a stem of characters and receive a list of suggested options

*Implementation Notes*

_Underwriting Service Request_

# {{GET /api/v1/underwriting/lookupQuestionOption/{branch}/{tag}/{question_name}/{stem}}}

_URE api_

# Use URE api: /v4/lookupQuestionOption/\{branch}/\{tag}/\{question name}/\{stem}
# branch, tag, question name and stem will be provided

{code:json}REQUEST -> GET:/v4/lookupQuestionOption/GUARDIAN/PLR_21_3_Sept21_V2/WHICH_FOLLOW_UP_IFA/boi

RESPONSE ->
[
  ""Boil"",
  ""Gum boil"",
  ...
]{code}

_Underwriting Service Response_



{code:json}{
  ""data"":{
    [
      ""Boil"",
      ""Gum boil"",
      ...
    ]
  }
}{code}",,Chris.Hibbert,Jim Houghton,,,,,,60cc71a1d5dde800713a2124,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,NBJ-499,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* a lookupQuestionOption request with branch, tag, question name and stem specified
*Then* retrieve a list of recommend options from lookupQuestionOption from URE

Building on above:
*Given* a successful response from lookupQuestionOption api in URE
*Then* respond with content",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,No,,1|hzwil2:qv,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,,,,,,07/Oct/21 8:46 AM,,2.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-10-26 16:24:06.282,26/Oct/21 5:24 PM;60cc71a1d5dde800713a2124;Tested in UWT against the deployed underwriting service and receive an identical response back  (in terms of data) as I get for the same call directly against the URE. (/) ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Underwriting Service - return questions,NBJ-352,38889,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,07/Oct/21 8:35 AM,01/Nov/21 6:50 PM,02/Feb/22 6:31 PM,01/Nov/21 6:50 PM,,Foundation Release,,,,,"*As an* api user
*So that* I can display all question text and help Text
*I want* the underwriting api to respond with embedded questions

*Implementation Notes*

[https://gghltd.atlassian.net/wiki/spaces/NP/pages/3027894418/UW+Interview|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3027894418/UW+Interview|smart-link] 

# any underwriting api request with an embed=true… 

e.g. {{POST /api/v1/enquiry/start?branch={branch}&embed=true|false}}, \[ [https://gghltd.atlassian.net/browse/NBJ-348|https://gghltd.atlassian.net/browse/NBJ-348|smart-link] , [https://gghltd.atlassian.net/browse/NBJ-349|https://gghltd.atlassian.net/browse/NBJ-349|smart-link], [https://gghltd.atlassian.net/browse/NBJ-375|https://gghltd.atlassian.net/browse/NBJ-375|smart-link] ]

# foreach question within enquiryLines and sections then use the name property to call the question api
# use the following ure api /v4/question/\{branch}/\{tag}/\{question name}?embed=true
## \{branch} is the branch on the active enquiry response
## \{tag} is the tag on the active enquiry response
## *always set embed=true param*
# create a *definition* section within the *question section* of the active enquiry response and add the question detail returned from the URE api.
# the set of properties in the definition is arbitrary, there could be any number of different properties returned by the URE dependent on rule configuration

h2. ActiveEnquiry response from URE

{code:json}{
  ...
  ""branch"": ""GUARDIAN"",
  ""tag"": ""v0_15"",
  ...
  ""sections"": [
    {
      ...
      ""enquiryLines"": [
        {
          ...
          ""questions"": [
            {
              ""name"": ""<question name>"",
              ...
            },
            ...
          ],
          ...
        },
        {...}
      ]
    },
    {...more sections...}
  ],
  ""allAnswers"": {...},
  ""debugInfo"": {}
}{code}

h2. Example Question Response from URE

{noformat}{
  ""type"": ""OPTION_GROUP"", -- depends on question type
  ""name"": ""ShowWrapUpQuestion"", 
  ""text"": ""Do you want to see a question triggered by a wrapup rule?"",
  ""helpText"": ""Here's some help text with some <strong>simple html</strong>."", -- optional
  ""isMultiValued"": false,
  ""tags"": [],
  ""optionListName"": ""YesNo"", -- optional
  ""includedCategories"": [], -- optional
  ""excludedCategories"": [], -- optional
  ""options"":[ -- optional, only available for OPTION_GROUP question
    ""Non-smoker"",
    ""Smoker""
  ],
  ""optionTags"":{
    ""Non-smoker"":[],
    ""Smoker"":[]
  }
}{noformat}

h2. Underwriting Service Response



{code:json}{
  data: {
    ...
    ""branch"": ""GUARDIAN"",
    ""tag"": ""v0_15"",
    ...
    ""sections"": [
      {
        ...
        ""enquiryLines"": [
          {
            ...
            ""questions"": [
              {
                ""name"": ""<question name>"",
                ...
                ""definition"":{
                  ""type"": ""OPTION_GROUP"", -- depends on question type
                  ""name"": ""ShowWrapUpQuestion"", 
                  ""text"": ""Do you want to see a question triggered by a wrapup rule?"",
                  ""helpText"": ""Here's some help text with some <strong>simple html</strong>."", -- optional
                  ""isMultiValued"": false,
                  ""tags"": [],
                  ""optionListName"": ""YesNo"", -- optional
                  ""includedCategories"": [], -- optional
                  ""excludedCategories"": [], -- optional
                  ""options"":[ -- optional, only available for OPTION_GROUP question
                    ""Non-smoker"",
                    ""Smoker""
                  ],
                  ""optionTags"":{
                    ""Non-smoker"":[],
                    ""Smoker"":[]
                  }
              },
              ...
            ],
            ...
          },
          {...}
        ]
      },
      {...more sections...}
    ],
    ""allAnswers"": {...},
    ""debugInfo"": {}
  }
}{code}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,NBJ-361,NBJ-372,NBJ-174,,,,,,,,,,,,,,,,,,NBJ-516,,,,,,,,,,01/Nov/21 6:50 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/23240/LivingDoc.html,,,,,,,,,,,,"*Given* an enquiry/start or enquiry request with embed=true
*When* a successful response is received from the URE api
*Then* foreach question within enquiryLines and sections then use the name to call the question api
*And* put the URE question api response in the active enquiry session within a *definition* section
*And* building on above, respond with the new active enquiry session containing question definition",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,No,,1|i00mcu:r,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 2,Guardian Sprint 3,,,,,07/Oct/21 8:35 AM,,5.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Underwriting Service - Initialise service and specify branch,NBJ-349,38886,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,07/Oct/21 8:28 AM,21/Oct/21 4:17 PM,02/Feb/22 6:31 PM,19/Oct/21 11:02 AM,,Foundation Release,,,,,"*As an* api user
*So that* I can initialise a UME underwriting active session and specify branch of rules
*I want* to start an active session on a specified branch and latest deployed tag of the rules

*Implementation Notes*

# UnderwriteMe requires a username to be passed in. This will be hardcoded win the UnderwritingService until we do the auth work - then we will pick the user name out of the auth token.
# Use the startEnquiry endpoint in the UnderwriteMe API - /v4/startEnquiry?branch=\{branch]?embed=true|false
# Return full activeEnquiry response from URE, wrapped in “data”

{code:json}{
  ""data"": {
    ""enquiryId"": ""<guid>"",
    ""branch"": ""DEV_RULESET"",
    ""tag"": ""v0_15"",
    ....
    ""isOpen"": true,
    ...Rest of response from URE...
  }
}{code}",,Chris.Hibbert,Sam Gamble,,,,,,60cc71a1d5dde800713a2124,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,Hidden from EXL,NBJ-352,,,,,,,,,,,,,,,NBJ-348,,,,,,,,,,,,,,,19/Oct/21 10:58 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/22918/LivingDoc.html,,,,,,,,,,,,"*Given* no active enquiry session
*When* executing an HTTP request to {{POST /api/v1/underwriting/enquiry/start}}
*Or* executing an HTTP request to {{POST /api/v1/underwriting/enquiry/start?embed=false}}
*Then* a new enquiry is started in UnderwriteMe
*And* the new enquiry uses the +*default*+ branch
*And* the new enquiry uses the latest deployed tag
*And* the new enquiry is returned as JSON in the same format as the UnderwriteMe API
*And* an HTTP 201 is returned

*Given* no active enquiry session
*When* executing an HTTP request to {{POST /api/v1/underwriting/enquiry/start?branch=DEV_RULESET}}
*Then* a new enquiry is started in UnderwriteMe
*And* the new enquiry uses the +*DEV_RULESET*+ branch
*And* the new enquiry uses the latest deployed tag
*And* the new enquiry is returned as JSON in the same format as the UnderwriteMe API
*And* an HTTP 201 is returned

*Given* no active enquiry session
*When* executing an HTTP request to {{POST /api/v1/underwriting/enquiry/start?embed=true}}
*Then* a new enquiry is started in UnderwriteMe
*And* the new enquiry uses the +*default*+ branch
*And* the new enquiry uses the latest deployed tag
*And* the enquiry has the question definitions embedded within each question
*And* the new enquiry is returned as JSON in the same format as the UnderwriteMe API
*And* an HTTP 201 is returned",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,No,,1|i00mcu:i,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 2,,,,,,07/Oct/21 8:28 AM,,2.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-10-18 13:47:16.889,"18/Oct/21 2:47 PM;60cc71a1d5dde800713a2124;(flag) Flag added

Blocked pending [~accountid:610c00d94e8d8d0069a20d6c] looking at the APIM issues.","18/Oct/21 10:56 PM;610c00d94e8d8d0069a20d6c;(flagoff) Flag removed

UnderwritingService is now accessible and working. Confirmed with [~accountid:6139c49114e8340071fcda09] so I&#39;m not making this up.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Underwriting Service  - Initialise,NBJ-348,38885,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,07/Oct/21 8:27 AM,21/Oct/21 4:16 PM,02/Feb/22 6:31 PM,18/Oct/21 9:46 PM,,Foundation Release,,,,,"*As an* api user
*So that* I can initialise a UME underwriting active session
*I want* to start an active session on default branch and latest deployed tag of the rules

*Implementation Notes*

[https://gghltd.atlassian.net/wiki/spaces/NP/pages/3027894418/UW+Interview|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3027894418/UW+Interview|smart-link] 

# {{POST /api/v1/enquiry/start?embed=true|false}} request received by service
## always include username

{noformat}{
  ""username"": ""nbj-user"" // until we tackle authentication and authorisation, this is a hardcoded value
}{noformat}

# within the service use startEnquiry against URE rules engine with an empty payload - [https://engine.sandbox.guardian.re.stg.underwriteme.co.uk|https://engine.sandbox.guardian.re.stg.underwriteme.co.uk/api/v4]/v4/startEnquiry?embed=true|false
# embed is optional
# return enquiry response from URE

{code:json}{
  data: {
    ""enquiryId"": ""<guid>"",
    ""branch"": ""GUARDIAN"",
    ""tag"": ""v0_15"",
    ....
    ""isOpen"": true,
    ...Rest of response from URE...
  }
}{code}",,James Bartlett,Jim Houghton,,,,,,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,NBJ-352,,,,,,,,,,,,,,,,,,,,NBJ-477,,,,,,,,,,18/Oct/21 9:45 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/22908/LivingDoc.html,,,,,,,,,,,,"*Given* a enquiry/start request with embed=true|false specified - {{POST /api/v1/underwriting/enquiry/start?embed=true|false}}
*And* username is provided
*When* starting an enquiry
*Then* respond with a 201
*And* active session returned from URE
*And* default branch specified - GUARDIAN
*And* latest deployed tag
*And* isOpen = true
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,No,,1|i00l6b:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 2,,,,,,07/Oct/21 8:27 AM,,8.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-10-18 12:45:50.799,"18/Oct/21 1:45 PM;6139c49114e8340071fcda09;(flag) Flag added

Can&#39;t connect either directly or via APIM",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Wire Product Service into APIM,NBJ-347,38876,38479,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,06/Oct/21 5:35 PM,18/Oct/21 11:15 AM,02/Feb/22 6:31 PM,18/Oct/21 11:15 AM,,,,,,,,,Chris.Hibbert,Ian.Douglas,Nathan Punzalan,,,,,60cc71a1d5dde800713a2124,5e183e85c578120daca5bc7b,613f22fdff23ba00715469d1,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00jpb:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 2,,,,,,06/Oct/21 5:35 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-10-14 16:38:44.361,14/Oct/21 5:38 PM;5e183e85c578120daca5bc7b;Now deployed as [https://ggh-uwt-api.gghltest.co.uk/api/v1/product|https://ggh-uwt-api.gghltest.co.uk/api/v1/product] ,"15/Oct/21 4:28 PM;613f22fdff23ba00715469d1;Currently blocked for testing, as there is currently no backend for APIM, so although the management layer may well be configured, it does not route to anything yet hence it will not give a correct response.

Have spoken to [~accountid:6149b160fac3ce0069d80d37]  who has informed me that this ticket will be unblocked once [https://gghltd.atlassian.net/browse/NBJ-241|https://gghltd.atlassian.net/browse/NBJ-241|smart-link] is complete as this will be the first point where this ticket could be tested.","18/Oct/21 8:43 AM;60cc71a1d5dde800713a2124;(flagoff) Flag removed

[~accountid:613f22fdff23ba00715469d1] - unblocking as NBJ-317 is available and should now mean you can test this.",18/Oct/21 11:15 AM;613f22fdff23ba00715469d1;I have checked and have been able to hit the product service via API. [https://gghltd.atlassian.net/browse/NBJ-317|https://gghltd.atlassian.net/browse/NBJ-317|smart-link] has been tested by James who has found a bug associated with it but that issue should not be related to this ticket so can pass this.,,,,,,,,,,,,,,,,,,,,,,,,,,38479,API - Validate applicant age,Done
Create AppService to host the Product Service,NBJ-346,38875,38479,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,06/Oct/21 5:35 PM,12/Oct/21 5:21 PM,02/Feb/22 6:31 PM,12/Oct/21 5:21 PM,,,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00jp3:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 2,,,,,,06/Oct/21 5:35 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,38479,API - Validate applicant age,Done
Create build and publish pipeline in Azure devops,NBJ-345,38874,38479,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Antony.Gorman,6149b13472728e006f9441d6,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,06/Oct/21 5:35 PM,12/Oct/21 5:21 PM,02/Feb/22 6:31 PM,12/Oct/21 5:21 PM,,,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00jov:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 2,,,,,,06/Oct/21 5:35 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,38479,API - Validate applicant age,Done
Copy from service template,NBJ-344,38873,38479,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Antony.Gorman,6149b13472728e006f9441d6,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,06/Oct/21 5:34 PM,12/Oct/21 5:21 PM,02/Feb/22 6:31 PM,12/Oct/21 5:21 PM,,,,,,,,,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00jon:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 2,,,,,,06/Oct/21 5:34 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,38479,API - Validate applicant age,Done
Validate bank details - Experian Bank Wizard,NBJ-343,38871,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Jon Reynolds,616ee20e2097220071a975d2,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,06/Oct/21 5:11 PM,01/Feb/22 12:43 PM,02/Feb/22 6:31 PM,,,Foundation Release,,BankAccountValidation,Sprint_9,,"*As* GUARDIAN
*So that* I can be sure that the bank details are valid and a direct debit can be setup successfully
*I want* bank details to be validated by Experian bank validation service

{panel:bgColor=#deebff}
This story is about re-implementing GUARDIAN interface with Experian bank validation
{panel}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,NBJ-887,NBJ-433,NBJ-1234,,,,,,,,,,,,,NBJ-1285,,,,,,,,,,,,,,,,,,,,,,,,,,,"{panel:bgColor=#deebff}
In  the first instance can you please analyse existing implmentation?
{panel}

*Given* any bank details applying to either applicant
*Then* use Experian bank validation service as currently implemented in NBJ1 

*Given* Experian bank check failed
*Then* return failure messages as per NBJ1
*And* update application.bankDetails.nameScore
*And* update application.bankDetails.addressScore
*And* update application.bankDetails.bankCheckResult

*Given* Experian bank check failed
*Then* update application.bankDetails.nameScore
*And* update application.bankDetails.addressScore
*And* update application.bankDetails.bankCheckResult

{panel:bgColor=#deebff}
NB - an application cannot go live without bankDetails passing Experian validation and successfully persisting
{panel}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-767,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space-bx,,,,,,,No,,1|hzwibi:6,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,06/Oct/21 5:11 PM,,21.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Validate email address - ZeroBounce - Initial request,NBJ-342,38870,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Chris.Hibbert,60cc71a1d5dde800713a2124,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,06/Oct/21 5:07 PM,26/Nov/21 5:22 PM,02/Feb/22 6:31 PM,26/Nov/21 5:22 PM,,Foundation Release,,Apply,Sprint_4,,"*As an* advisor
*So that* I can be sure I have entered the correct email
*I want* a valid email to be recognised as valid",,Chris.Hibbert,Jim Houghton,Sam Gamble,,,,,60cc71a1d5dde800713a2124,60cc71a22bd21400692fd2af,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,Hidden from EXL,NBJ-653,NBJ-794,NBJ-795,NBJ-796,,,,,,,,,,,,,,,,,,,,,,,,,,,26/Nov/21 5:21 PM;ug:19deb809-b92d-4931-a3ee-71eba8dc1f0f;Screenshot 2021-11-26 at 17.21.45.png;https://gghltd.atlassian.net/secure/attachment/23845/Screenshot+2021-11-26+at+17.21.45.png,19/Nov/21 9:30 AM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;ZeroBounce API v2.postman_collection.json;https://gghltd.atlassian.net/secure/attachment/23648/ZeroBounce+API+v2.postman_collection.json,19/Nov/21 9:30 AM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;Zerobounce.postman_environment.json;https://gghltd.atlassian.net/secure/attachment/23647/Zerobounce.postman_environment.json,,,,,,,,,,"*Given* I provide a valid email address to the validate service
*When* validating with zeroBounce
*Then* A valid email response is received
*And* a 200 code is returned",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,"*Request*

{noformat}GET /api/v1/validate/email?email=valid@example.com{noformat}

*ZeroBounce Request*

{noformat}GET https://api.zerobounce.net/v2/validate?email=valid@example.com&api_key=API_KEY_HERE{noformat}

*ZeroBounce Response*

{code:json}HTTP 200 OK
{
    ""address"": ""sam.gamble@space-bx.co.uk"",
    ""status"": ""valid"",
    ""sub_status"": """",
    ""free_email"": false,
    ""did_you_mean"": null,
    ""account"": ""sam.gamble"",
    ""domain"": ""space-bx.co.uk"",
    ""domain_age_days"": null,
    ""smtp_provider"": ""microsoft"",
    ""mx_found"": ""true"",
    ""mx_record"": ""spacebx-co-uk01c.mail.protection.outlook.com"",
    ""firstname"": ""sam"",
    ""lastname"": ""gamble"",
    ""gender"": ""male"",
    ""country"": null,
    ""region"": null,
    ""city"": null,
    ""zipcode"": null,
    ""processed_at"": ""2021-11-18 22:12:07.773""
}{code}",,,,,,,,,,,,,,,,,,,Space,,,,,,,No,,1|i00tku:r,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,Guardian Sprint 5,,,,,06/Oct/21 5:07 PM,,2.0,,,Space Extranet,,,,,,,,,,,,,,,"Simply send a valid email to the service and get a 200 response

e.g. valid@example.com",,,,,,,,,,,,,,,2021-11-12 09:34:29.701,"12/Nov/21 9:34 AM;610c00d94e8d8d0069a20d6c;(flag) Flag added

This should be implemented in the API Gateway, so need DevOps support to get that done.","18/Nov/21 10:21 PM;610c00d94e8d8d0069a20d6c;[~accountid:60cc71a22bd21400692fd2af] I may have done a late night edit of this ticket and deleted all the handy docs you attached. Do you still have them, maybe perhaps?",26/Nov/21 5:22 PM;60cc71a1d5dde800713a2124;Tested and attached evidence:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Create deployment pipeline,NBJ-340,38820,38351,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,05/Oct/21 4:55 PM,06/Oct/21 5:08 PM,02/Feb/22 6:31 PM,06/Oct/21 5:08 PM,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,* NBJ-Frontend app is deployed to the AppService delivered in [https://gghltd.atlassian.net/browse/NBJ-339|https://gghltd.atlassian.net/browse/NBJ-339|smart-link] ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00jcv:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 1,,,,,,05/Oct/21 4:55 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,38351,Deploy React App for the NBJ to Environments,Done
Create an AppService to deploy to,NBJ-339,38819,38351,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,JMK,557058:bdeb1ead-e0e5-4e48-9c27-6bab0b2e7ad2,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,05/Oct/21 4:54 PM,06/Oct/21 5:08 PM,02/Feb/22 6:31 PM,06/Oct/21 5:08 PM,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00jcn:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 1,,,,,,05/Oct/21 4:54 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,38351,Deploy React App for the NBJ to Environments,Done
API - Select parent cover for CCIC,NBJ-338,38811,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,05/Oct/21 4:09 PM,15/Nov/21 10:13 PM,02/Feb/22 6:31 PM,15/Nov/21 10:13 PM,,Foundation Release,,Quote,Sprint_4,,"*As an* API User
*I want* children’s CI cover to be attached to the correct primary cover
*So that* I get the best possible children’s CI cover for my applicant

The rules for which benefit Child CI is attached to are as follows:

# Choose parent cover in the order of:
## life
## aci
## ci

h4. Implementation Notes
- You can actually have multiples of each of these covers...so attach to the first until we restrict the app :o",,Antony.Gorman,Chris.Hibbert,James Bartlett,,,,,6149b13472728e006f9441d6,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,,,,,,,,,,,,Hidden from EXL,NBJ-337,NBJ-257,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15/Nov/21 10:12 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/23557/LivingDoc.html,,,,,,,,,,,,"*Given*: An Application with 1 or more Covers for an Applicant
*When*: CCIC is added to the applicant
*Then*: The parent cover for CCIC is selected in the order of life , aci , ci
*and* the CCIC is modelled against the parent cover

*Given:* An application
*When:* Any cover is created / deleted for an applicant with CCIC
*Then:* The parent cover for that CCIC is reassessed

*Given:* An application
*When:* there are no parent covers left
*Then:* my CCIC gets deleted as well",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,No,,1|i00c01:zzz8zwi,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 4,,,,,,05/Oct/21 4:09 PM,,5.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-12 09:24:46.507,"06/Nov/21 3:45 PM;60cc71a1d5dde800713a2124;[~accountid:610c00d94e8d8d0069a20d6c]  - this needs validating against how we actually model Children’s CI Cover now.  It was using a isParentCoverForCcic flag but I think the model was updated for quote.  Depending on how its modelled,  I’m not sure whether I have caused a problem when creating a cover as I think for ccic we only need the Sum Assured and the rest should be inherited / set from the parent cover.","12/Nov/21 9:24 AM;6149b13472728e006f9441d6;[~accountid:6139c49114e8340071fcda09] Heya - just a note on this - I don’t think we have support for adding child cover as of yet (via the inputs officially) and the structure has altered internally (and in the Dtos) to be in a hierarchy (Cover → ChildCovers) - this can be tested though by setting up some invariants in that structure as the data setup before calling the remove, update and add end points for covers.","12/Nov/21 3:36 PM;6139c49114e8340071fcda09;(flag) Flag added

waiting to be able to add ccic and view the applicant&#39;s cover hierarchy via the API","13/Nov/21 1:28 PM;60cc71a1d5dde800713a2124;[~accountid:6139c49114e8340071fcda09] and [~accountid:6149b13472728e006f9441d6]  - one thing to note on this ticket is that CCIC can only be added to an applicant that already has one of the main covers (life, aci, ci).  I dont think we have this protection in place anywhere yet.  Apologies for both this and that the ticket isnt explicit in this regard.","15/Nov/21 1:53 PM;6149b13472728e006f9441d6;[~accountid:6139c49114e8340071fcda09] [~accountid:60cc71a1d5dde800713a2124] hey both - changes to support all of this are now in UWT. The model has been altered to be a Cover->ChildCovers structure. When you add, update or remove covers the end points now assess whether the change has added a child cover and updated an existing cover into or out of a child cover and then does the set parent behaviour as in the story here. [~accountid:60cc71a1d5dde800713a2124] yes currently if you try to add in a ccic cover and there’s no other covers it will give you a 500.","15/Nov/21 10:13 PM;6139c49114e8340071fcda09;Attempted to test that Ccic gets deleted when all other products are deleted by adding products and then ccic, then deleting all products before finally adding one more product. This final product does not get the ‘old' ccic prodct reattached. ",,,,,,,,,,,,,,,,,,,,,,,,,,Done
API - Validate CCIC,NBJ-337,38807,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,05/Oct/21 3:29 PM,01/Feb/22 12:43 PM,02/Feb/22 6:31 PM,,,Foundation Release,,Quote,Sprint_10,,"As an API User
I want to validate CCIC
So that only valid CCIC can be added to an application

""isParentCoverForCcic"": true | false – determines if this cover is the container for the Child CI cover in this application

CCIC max sum assured is 10,000 to min ( max coverAmounts , 100,000 )

h4. Implementation Notes

Suggested Request

{code:json}""quoteApplicants"": {
      ""dateOfbirth"": 19711207, -- whatever the date format is!
      ""newQuoteCover"": [
        {
          ""productType"": ""ccic"",
          ""coverAmount"": 50000
        }
      ],
     ""quoteCovers"": [
        { ... existing cover 1 ... } ,
        { ... existing cover N ... }
      ]
}{code}

Suggested Response

{code:json}""data"": {
    ""errors"" : [
        {
            ""entity"" : ""coverAmount"",
            ""message"" : ""The maximum allowed cover is X""
        }
    ],
    ""quoteApplicants"": {
      ""dateOfbirth"": 19711207, -- whatever the date format is!
      ""newQuoteCover"": [
        {
          ""productType"": ""ccic"",
          ""coverAmount"": 50000
        }
      ],
     ""quoteCovers"": [
        { ... existing cover 1 ... } ,
        { ... existing cover N ... }
      ]
}
}{code}


",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given:* A Children's CI cover for an applicant
*When:* The products service API is called
*Then:* The Cover amount is validated as follows:

|min {{coverAmount}}|10,000|
|max {{coverAmount}}|max coverAmount of the existing quoteCover (with isParentCoverForCCIC=true) or 100,000 whichever is smaller|

*and*: for any errors, the error {{entity}} is  {{coverAmount}}
*and*: for any maximum errors, the error {{message}} is ""The maximum cover amount is X"" where X is the maximum cover amount allowed
*and*: for any minimum errors, the error {{message}} is ""The minimum cover amount is X"" where X is the minimum cover amount",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-128,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space-bx,,,,,,,No,,1|i00rlq:x,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,05/Oct/21 3:29 PM,,3.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Deploy Application Service to UWT env,NBJ-335,38793,38171,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Antony.Gorman,6149b13472728e006f9441d6,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,05/Oct/21 11:59 AM,06/Oct/21 5:08 PM,02/Feb/22 6:31 PM,06/Oct/21 5:08 PM,,,,,,,,,Ian.Douglas,Sam Gamble,,,,,,5e183e85c578120daca5bc7b,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,* Deploy a build of the Application Service to the AppService created in the UWT env in this ticket: [https://gghltd.atlassian.net/browse/NBJ-334|https://gghltd.atlassian.net/browse/NBJ-334|smart-link] ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00j6v:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 1,,,,,,05/Oct/21 11:59 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-10-06 12:56:22.949,06/Oct/21 1:56 PM;5e183e85c578120daca5bc7b;Added to APIM on this URL [https://ggh-uwt-api.gghltest.co.uk/api/v1/Application|https://ggh-uwt-api.gghltest.co.uk/api/v1/Application],,,,,,,,,,,,,,,,,,,,,,,,,,,,,38171,API - Create Application,Done
Create AppService to host the Application Service,NBJ-334,38792,38171,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,JMK,557058:bdeb1ead-e0e5-4e48-9c27-6bab0b2e7ad2,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,05/Oct/21 11:52 AM,06/Oct/21 6:36 PM,02/Feb/22 6:31 PM,06/Oct/21 6:36 PM,,,,,,,,,JMK,Sam Gamble,,,,,,557058:bdeb1ead-e0e5-4e48-9c27-6bab0b2e7ad2,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,Hidden from EXL,NBJ-335,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"* AppService created in the uwt environment
* AppService can be reached by the Azure DevOps deployment pipeline for the Application Service.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00j6f:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 1,,,,,,05/Oct/21 11:52 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-10-05 11:05:53.401,"05/Oct/21 12:05 PM;557058:bdeb1ead-e0e5-4e48-9c27-6bab0b2e7ad2;Hi [~accountid:5e183e85c578120daca5bc7b] [~accountid:5d94816eefc9290c2e625a11]  ,

just setting up the app service and wondering : 

# what do you want the app service to be called
# what do you want the endpoint name to be https://   .gghltest.co.uk or gghldevint.co.uk?
# What resource group you want it  in ?
# Can i have the private key for the new [gghltest.co.uk|http://gghltext.co.uk]  cert (and the new .pfx file)
# Can i have permissions again to set up dns entries for both test and devint or, alternantively can you set them up to be what you want them to be

ta



P.s. in the meantime i create a temp appservice so we aren’t blocked on the deployment stuff. 

[~accountid:610c00d94e8d8d0069a20d6c] ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,38171,API - Create Application,Done
Connect Quote Service to APIM,NBJ-333,38765,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,04/Oct/21 3:26 PM,20/Oct/21 4:31 PM,02/Feb/22 6:31 PM,20/Oct/21 4:31 PM,,Foundation Release,,,,,"*As an* api user
*So that*  I can access the Quote Service through the Guardian APIM layer
*I want* the Quote Service to connect to the Guardian APIM

[https://gghltd.atlassian.net/wiki/spaces/NP/pages/2980151316|https://gghltd.atlassian.net/wiki/spaces/NP/pages/2980151316|smart-link] 

*Implementation Notes*

Follow standards set out in [https://gghltd.atlassian.net/browse/NBJ-314|https://gghltd.atlassian.net/browse/NBJ-314|smart-link] ",,Chris.Hibbert,Ian.Douglas,Jim Houghton,Nathan Punzalan,,,,60cc71a1d5dde800713a2124,5e183e85c578120daca5bc7b,60cc71a22bd21400692fd2af,613f22fdff23ba00715469d1,,,,,,,,,,,Hidden from EXL,NBJ-240,,,,,,,,,,NBJ-332,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* the quote service
*When* accessing the service
*Then* this is done through the Guardian APIM",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-118,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,No,,1|i00c01:zi,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 2,,,,,,09/Sep/21 3:04 PM,,5.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-10-14 16:38:12.712,14/Oct/21 5:38 PM;5e183e85c578120daca5bc7b;Now deployed as [https://ggh-uwt-api.gghltest.co.uk/api/v1/quote|https://ggh-uwt-api.gghltest.co.uk/api/v1/quote] ,"15/Oct/21 4:27 PM;613f22fdff23ba00715469d1;Currently blocked for testing, as there is currently no backend for APIM, so although the management layer may well be configured, it does not route to anything yet hence it will not give a correct response.

Have spoken to [~accountid:6149b160fac3ce0069d80d37] , who has informed me that this ticket will be unblocked once [https://gghltd.atlassian.net/browse/NBJ-241|https://gghltd.atlassian.net/browse/NBJ-241|smart-link] is complete as this will be the first point where this ticket could be tested.","20/Oct/21 2:24 PM;60cc71a1d5dde800713a2124;(flagoff) Flag removed

Quote now works",20/Oct/21 4:31 PM;613f22fdff23ba00715469d1;I am now getting a valid response (201) from the quote service APIM so passing this ticket.,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Connect Premium Calculation Service to Cosmos,NBJ-332,38763,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Antony.Gorman,6149b13472728e006f9441d6,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,04/Oct/21 3:06 PM,21/Oct/21 8:56 PM,02/Feb/22 6:31 PM,21/Oct/21 8:56 PM,,Foundation Release,,,,,"*As an* api user
*So that*  I can persist data in a Cosmos datastore
*I want* the quote service to connect to Cosmos

[https://gghltd.atlassian.net/wiki/spaces/NP/pages/2980151316|https://gghltd.atlassian.net/wiki/spaces/NP/pages/2980151316|smart-link] 

*Implementation Notes*

The Cosmos connection should follow the template as defined in [https://gghltd.atlassian.net/browse/NBJ-313|https://gghltd.atlassian.net/browse/NBJ-313|smart-link] .",,Antony.Gorman,Jim Houghton,,,,,,6149b13472728e006f9441d6,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,NBJ-240,NBJ-246,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* the Quote Service
*Then* full underlying Cosmos SDK functionality available
*And* add a document method available
*And* retrieve a document method available",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-118,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,No,,1|i00c01:zu,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 2,,,,,,09/Sep/21 3:04 PM,,2.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-10-21 09:06:39.529,"21/Oct/21 10:06 AM;6149b13472728e006f9441d6;Just a note on this. It’s written to take ApplicationId off the quote (common data format) information it has at the point of logging but a big NB is that this isn’t currently being sent in the quote requests so as a fall back I also include the QuoteId in the logging correlation id for now so it’s basically this format {{$""{ApplicationId ?? ""None""}:{Quote?.Id}:{SentDateTime:g}""}} so we can at least join requests and responses together. Give me a shout if I need to tweak or extend what we do on this.",21/Oct/21 12:07 PM;6149b13472728e006f9441d6;You can use the online cosmos db explorer for query support (remember to switch directory once signed in to the gryphendev one) from here [Azure Cosmos DB|https://cosmos.azure.com/] . You’ll want the ggh-uwt-db-cosmos db there then the guardian db and the quote container / collection. I currently don’t have sufficient permissions to access the db via here - may be something we can sort out team wide? ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Quote service - Devops Pipeline,NBJ-331,38762,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Jason Hughes,613f60991370f00069033c68,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,04/Oct/21 3:06 PM,13/Oct/21 5:32 PM,02/Feb/22 6:31 PM,11/Oct/21 4:30 PM,,Foundation Release,,,,,"*As an* api user
*So that*  I can build and deploy the Quote service 
*I want* the quote service included in the DevOps build pipeline

[https://gghltd.atlassian.net/wiki/spaces/NP/pages/2980151316|https://gghltd.atlassian.net/wiki/spaces/NP/pages/2980151316|smart-link] 

*Implementation Notes*

Use a similar approach to [https://gghltd.atlassian.net/browse/NBJ-312|https://gghltd.atlassian.net/browse/NBJ-312|smart-link] ",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,NBJ-240,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* a new commit to the Quote service
*Then* a new build of the service is triggered in the build pipeline
*And* automated tests run
*And* on successful completion a deployable artifact is produced",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-118,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,No,,1|i00c01:y,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 2,,,,,,09/Sep/21 3:04 PM,,3.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Create Quote Service from service template,NBJ-330,38761,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Jason Hughes,613f60991370f00069033c68,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,04/Oct/21 3:02 PM,13/Oct/21 5:31 PM,02/Feb/22 6:31 PM,11/Oct/21 4:30 PM,,Foundation Release,,,,,"*As an* api user
*So that*  I can have a self contained service that provides a quote
*I want* a Quote Service created from the service template

[https://gghltd.atlassian.net/wiki/spaces/NP/pages/2980151316|https://gghltd.atlassian.net/wiki/spaces/NP/pages/2980151316|smart-link] 

*Implementation Notes*

A story to set up the service itself from the service template.

The service will listen on HTTP.

The service will accept json quote requests, convert them to soap xml and request quotes from Lissia.",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,NBJ-240,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* the service template
*Then* a premium calculation service is created",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-118,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,No,,1|i00c01:w,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 2,,,,,,09/Sep/21 3:04 PM,,2.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Create build and publish pipeline in Azure DevOps,NBJ-329,38733,38351,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,04/Oct/21 10:05 AM,06/Oct/21 5:22 PM,02/Feb/22 6:31 PM,06/Oct/21 5:22 PM,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"* Working build pipeline in the *NBJ-Frontend* repo that:
** is triggered by commits in the develop branch
** runs tests
** package build up into a zip
** publish the zip to the Container registry under drop/NBJ-Frontend.zip",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00itj:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 1,,,,,,04/Oct/21 10:05 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,38351,Deploy React App for the NBJ to Environments,Done
Create repo,NBJ-328,38732,38351,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,04/Oct/21 10:05 AM,05/Oct/21 9:13 AM,02/Feb/22 6:31 PM,05/Oct/21 9:13 AM,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00itb:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 1,,,,,,04/Oct/21 10:05 AM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,38351,Deploy React App for the NBJ to Environments,Done
Commission - initialCommissionSacrificePercentage,NBJ-327,38694,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,01/Oct/21 8:39 PM,19/Dec/21 2:57 PM,02/Feb/22 6:31 PM,03/Nov/21 1:47 PM,,Foundation Release,,Quote,Sprint_3,,"*As an* api-user
*So that* I can specify an amount of commission to sacrifice
*I want* to specify an amount of initial commission to sacrifice

*Implementation Notes*

# initialCommissionSacrificePercentage can be specified as a range between 0 and 100.

*Quote request JSON*

{code:json}{
  ...
  ""initialCommissionSacrificePercentage"": 0-100,
  ...
  ""quoteApplicants"": [
    {
      ...
      ],
      ""quoteUnderwritingOutcomes"": [
        ...
          ]
        },
        { ""..."" }
      ]
    }.
    { ... another quoteApplicant ... }
  ]
}{code}

*Lissia Quote Request*

{code:xml}<WssquoteImport command="""" clientId="""" clientPassword="""" nextLocation="""" exitState="""" dialect="""">
		<ImpAswcalcqAswcalcq>
			<Comcalclvl>2</Comcalclvl> -- fixed value
			<Pcdate/>
			<Srvtimings/>
			<Usedefaultagent/>
		</ImpAswcalcqAswcalcq>
		<ImpUserUsers>
			<UsrId/>
		</ImpUserUsers>
		<ImpWebserviceWebService>
			<ServiceUserid/>
			<TraceRates/>
			<RecordImport/>
			<Requote/>
			<DiscountActivity/>
			<QuoteCallOrigin/>
		</ImpWebserviceWebService>
		<ImpGrpCvgs>
			<row>
				...
			</row>
		</ImpGrpCvgs>
		<ImpGrpCliCpr>
			<row>
				...
			</row>
		</ImpGrpCliCpr>
		<ImpGrpPas>
			<row>
				...
				<ImpItmPasPolicyAgentShares>
					...
					<SacrificePercent>0..100</SacrificePercent> - initialCommissionSacrificePercentage
					...
				</ImpItmPasPolicyAgentShares>
			</row>
		</ImpGrpPas>
		<ImpGrpPlc></ImpGrpPlc>
		<ImpPrlrqmWebService>
			<Prlrqm/>
		</ImpPrlrqmWebService>
	</WssquoteImport>{code}",,Jim Houghton,Kevin.Amoa,,,,,,60cc71a22bd21400692fd2af,6149b160fac3ce0069d80d37,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-812,,,,,,,,,,03/Nov/21 1:45 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;G522456785_response.json;https://gghltd.atlassian.net/secure/attachment/23289/G522456785_response.json,03/Nov/21 1:45 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;G522456785_response.xml;https://gghltd.atlassian.net/secure/attachment/23288/G522456785_response.xml,03/Nov/21 1:46 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/23290/LivingDoc.html,,,,,,,,,,"*Given* any quote request with initialCommissionSacrificePercentage of 0..100
*When* responding to quote request
*Then* respond with a 200
*And* quoteCoverInitialCommission, quoteCoverInitialEarningsPeriod, and quoteCoverRenewalCommission are all populated correctly

*Given* any quote request with initialCommissionSacrificePercentage of 0 to 100
*When* forming Lissia quote request
*Then* each row within ImpGrpPas set the ImpItmPasPolicyAgentShares/SacrificePercent to the value initialCommissionSacrificePercentage",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-118,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,No,,1|hzwil2:zy,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,,,,,,01/Oct/21 8:10 PM,,2.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-10-29 12:50:14.696,"29/Oct/21 1:50 PM;6149b160fac3ce0069d80d37;[~accountid:60cc71a22bd21400692fd2af] 

{quote}*Given* any quote request with initialCommissionSacrificePercentage of 0..100
*When* responding to quote request
*Then* respond with a 200
*And* quoteCoverInitialCommission, quoteCoverInitialEarningsPeriod, and quoteCoverRenewalCommission are all populated correctly{quote}

I’m confused about the last AND here. Where are quoteCoverInitialCommission, quoteCoverInitialEarningsPeriod and quoteCoverRenewalCommission set please, and what should their values be","29/Oct/21 2:05 PM;60cc71a22bd21400692fd2af;[~accountid:6149b160fac3ce0069d80d37] 

Something for testers to take note of that actually sacrificing commission has the desired affect on the commission numbers",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Commission - initialIndemnityPercentage,NBJ-325,38692,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,01/Oct/21 8:10 PM,19/Dec/21 2:57 PM,02/Feb/22 6:31 PM,03/Nov/21 4:33 PM,,Foundation Release,,Quote,Sprint_3,,"*As an* api-user
*So that* I can specify the style of commission
*I want* to specify the proportion of Indemnity commission I receive

*Implementation Notes*

# initialIndemnityPercentage can be specified as a range between 0 and 100.
# initialIndemnityPercentage of 0 means I want all my commission on a non-indemnified basis
# initialIndemnityPercentage of 100 means I want all my commission on an indemnified basis
# initialIndemnityPercentage of 1..99 means I want a combination of indemnified and non-indemnified commission

*Quote request JSON*

{code:json}{
  ...
  ""initialIndemnityPercentage"": 0-100,
  ...
  ""quoteApplicants"": [
    {
      ...
      ],
      ""quoteUnderwritingOutcomes"": [
        ...
          ]
        },
        { ""..."" }
      ]
    }.
    { ... another quoteApplicant ... }
  ]
}{code}

*Lissia Quote Request*

{code:xml}<WssquoteImport command="""" clientId="""" clientPassword="""" nextLocation="""" exitState="""" dialect="""">
		<ImpAswcalcqAswcalcq>
			<Comcalclvl>2</Comcalclvl> -- fixed value
			<Pcdate/>
			<Srvtimings/>
			<Usedefaultagent/>
		</ImpAswcalcqAswcalcq>
		<ImpUserUsers>
			<UsrId/>
		</ImpUserUsers>
		<ImpWebserviceWebService>
			<ServiceUserid/>
			<TraceRates/>
			<RecordImport/>
			<Requote/>
			<DiscountActivity/>
			<QuoteCallOrigin/>
		</ImpWebserviceWebService>
		<ImpGrpCvgs>
			<row>
				...
				<ImpItmPocPcmPolicyCommissions>
					<Style>INDEM</Style> -- either INDEM or NINDEM
					<IndemnificationPercent>0..100</IndemnificationPercent> -- initialIndemnityPercentage
				</ImpItmPocPcmPolicyCommissions>
			</row>
		</ImpGrpCvgs>
		<ImpGrpCliCpr>
			<row>
				...
			</row>
		</ImpGrpCliCpr>
		<ImpGrpPas>
			<row>
				...
			</row>
		</ImpGrpPas>
		<ImpGrpPlc></ImpGrpPlc>
		<ImpPrlrqmWebService>
			<Prlrqm/>
		</ImpPrlrqmWebService>
	</WssquoteImport>{code}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-812,,,,,,,,,,,,,,,,,,,,,,"*Given* any quote request with initialIndemnityPercentage of 0..100
*When* responding to quote request
*Then* respond with a 200
*And* quoteCoverInitialCommission, quoteCoverInitialEarningsPeriod, and quoteCoverRenewalCommission are all populated correctly

*Given* any quote request with initialIndemnityPercentage of 0
*When* forming Lissia quote request
*Then* each row within ImpGrpCvgs set the ImpItmPocPcmPolicyCommissions/Style to NINDEM

*Given* any quote request with initialIndemnityPercentage of 100
*When* forming Lissia quote request
*Then* each row within ImpGrpCvgs set the ImpItmPocPcmPolicyCommissions/Style to INDEM

*Given* any quote request with initialIndemnityPercentage of 1 to 99
*When* forming Lissia quote request
*Then* each row within ImpGrpCvgs set the ImpItmPocPcmPolicyCommissions/Style to INDEM
*And* each row within ImpGrpCvgs set the ImpItmPocPcmPolicyCommissions/IndemnificationPercent to the value provided in initialIndemnityPercentage",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-118,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,No,,1|hzwil2:zx,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,,,,,,01/Oct/21 8:10 PM,,2.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Allow premium driven quote on a single cover,NBJ-324,38604,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,John.LeQuesne,5db187687b20d80c2a25b574,John.LeQuesne,5db187687b20d80c2a25b574,30/Sep/21 10:09 AM,01/Feb/22 12:43 PM,02/Feb/22 6:31 PM,,,Phase 1 - Menu,,,,,"As an Adviser
I want to be able to see how much cover I can get for a premium
So I can see how much cover I would be able to get when my client has been rated

Implementation notes:
This is a single widget which will run for a single cover and include any ratings. 
It will need to take into account any dual life discounts. ",,John.LeQuesne,,,,,,,5db187687b20d80c2a25b574,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space-bx,,,,,,,No,,1|i00i13:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,30/Sep/21 10:09 AM,,,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Open up access to Lissia Quote Service,NBJ-322,38578,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Sam Gamble,610c00d94e8d8d0069a20d6c,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,29/Sep/21 4:41 PM,13/Oct/21 5:53 PM,02/Feb/22 6:31 PM,13/Oct/21 5:53 PM,,Foundation Release,,,,,"*As a* Lissia api user
*So that*  I can retrieve a  Lissia quote
*I want* to be able to send a valid Lissia quote request from Postman on a dev Laptop and receive a successful Lissia quote response

[https://gghltd.atlassian.net/wiki/spaces/NP/pages/2950922381/Wssquotecall+-+Request|https://gghltd.atlassian.net/wiki/spaces/NP/pages/2950922381/Wssquotecall+-+Request|smart-link] 

[https://gghltd.atlassian.net/wiki/spaces/NP/pages/2951544958/Wssquotecall+-+Response|https://gghltd.atlassian.net/wiki/spaces/NP/pages/2951544958/Wssquotecall+-+Response|smart-link] 

*Implementation Notes*

A story to expose Lissia quote apis to dev.

Able to send via postman (or similar application) a valid Lissia request openly across Guardian network from within the office or via the vpn from home.

Use above example quote request.",,Jim Houghton,Kevin.Amoa,,,,,,60cc71a22bd21400692fd2af,6149b160fac3ce0069d80d37,,,,,,,,,,,,,Hidden from EXL,NBJ-240,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,29/Sep/21 4:41 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;Lissia Quote request.xml;https://gghltd.atlassian.net/secure/attachment/22439/Lissia+Quote+request.xml,29/Sep/21 4:41 PM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;Lissia Quote response.xml;https://gghltd.atlassian.net/secure/attachment/22440/Lissia+Quote+response.xml,,,,,,,,,,,"*Given* a valid Lissia quote request
*When* posting across Guardian network
*Then* a successful quote response is returned",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-118,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,No,,1|i00c01:s,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 2,,,,,,09/Sep/21 3:04 PM,,5.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-10-12 12:34:53.02,12/Oct/21 1:34 PM;6149b160fac3ce0069d80d37;[~accountid:60cc71a22bd21400692fd2af] [~accountid:610c00d94e8d8d0069a20d6c] I have a working poc getting a quote via bearer token authentication in code. What is the scope of this ticket. Is that enough to start moving towards the implementation in another story?,"12/Oct/21 2:41 PM;60cc71a22bd21400692fd2af;[~accountid:6149b160fac3ce0069d80d37] - this story was all about making sure the dev team had the required access to Lissia so that the service could then start to be developed.  It appears you have managed to successfully interacted with Lissia Quote, so that is all that is required.  I assume this means the rest of the tickets can now be started.","12/Oct/21 11:14 PM;6149b160fac3ce0069d80d37;Proof of concept code available here - [https://dev.azure.com/guardian1821/NBJ-Microservices/_git/NBJ-Microservices/pullrequest/623?_a=files|https://dev.azure.com/guardian1821/NBJ-Microservices/_git/NBJ-Microservices/pullrequest/623?_a=files].

Once verified by the team, this ticket can be moved to done.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
 Handle Upsell allowed in front end,NBJ-320,38568,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,29/Sep/21 4:15 PM,02/Feb/22 3:56 PM,02/Feb/22 6:31 PM,,,Foundation Release,,Decision,Sprint_7,,"*As an* IFA
*So that* I can increase cover amount without having to be re-referred on the decision screen
*I want* validation of any revised covers to be validated against coverAmount

{panel:bgColor=#deebff}
This story is about imposing upsell amount in front end
{panel}",,Chris.Hibbert,Jim Houghton,,,,,,60cc71a1d5dde800713a2124,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Scenario* validating cover amount on decision screen

*Given* any number of covers on the decision screen with terms offered
*And* upsell is allowed
*And* foreach <risk> an <upSellAmount>
*And* there are *no* covers with a coverType of family
*When* a user updates coverAmount on a specific <product>
*Then* validate that the new coverAmount on the product plus the coverAmount all other relevant products for that *applicant* does not breach the relevant upsell amount(s) (<isValid>) 

{noformat}| product | risk | upSellAmount            | validate                                                         | isValid |
| life    | life | risk[life].upsellAmount | sum of all coverAmounts on life and aci products <= upsellAmount | true    |
| life    | life | risk[life].upsellAmount | sum of all coverAmounts on life and aci products > upsellAmount  | false   |
| ci      | ci   | risk[ci].upsellAmount   | sum of all coverAmounts on ci and aci products <= upsellAmount   | true    |
| ci      | ci   | risk[ci].upsellAmount   | sum of all coverAmounts on ci and aci products > upsellAmount    | false   |
| aci     | life | risk[life].upsellAmount | sum of all coverAmounts on life and aci products <= upsellAmount | true    |
| aci     | ci   | risk[ci].upsellAmount   | sum of all coverAmounts on ci and aci products <= upsellAmount   | true    |
| aci     | life | risk[life].upsellAmount | sum of all coverAmounts on life and aci products > upsellAmount  | false   |
| aci     | ci   | risk[ci].upsellAmount   | sum of all coverAmounts on ci and aci products > upsellAmount    | false   |{noformat}

{panel:bgColor=#deebff}
NB - for aci both life and ci upsell risk checks need to be completed and if either check isValid = false then validation has failed
{panel}

*And* <isValid> = false error with the following message “The amount of cover entered exceeds the amount allowed without further underwriting. To apply for this amount of cover, return to the quote tab and reapply.”
*And* do not update the cover

_Building on the above_

*Scenario* validating cover amount on decision screen, for coverTypes of family

*Given* any number of covers on the decision screen with terms offered
*And* upsell is allowed
*And* foreach risk an upSellAmount
*And* any number of covers with a coverType of family
*And* any number of <termOrToAge> covers
*When* a user updates coverAmount on a specific product
*And* validating
*And* determining total coverAmount for validation
*Then* any products with a coverType of family:

the equivalent coverAmount = 2/3 * monthlyBenefit * <term in months>

{noformat}| termOrToAge | term in months        |
| term        | term * 12             |
| toAge       | cover.toAgeTermMonths |{noformat}



_Building on the above_

*Scenario* validating cover amount on decision screen, for change of term on products with coverTypes of family

*Given* any number of covers on the decision screen with terms offered
*And* upsell is allowed
*And* foreach risk an upSellAmount
*And* any number of covers with a coverType of family
*And* any number of termOrToAge covers
*When* a user updates term on a specific product
*Then* ensure validation as implemented above is completed against cover amounts",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-778,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space-bx,,,,,,,No,,1|hzwibl:v,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,29/Sep/21 4:15 PM,,8.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2022-02-02 15:56:06.503,02/Feb/22 3:56 PM;60cc71a1d5dde800713a2124;[~accountid:60cc71a22bd21400692fd2af] - if not allowed then upsell amount = current cover amount.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
Document existing use of auth tokens,NBJ-319,38531,,Task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,28/Sep/21 5:33 PM,13/Oct/21 9:06 AM,02/Feb/22 6:31 PM,13/Oct/21 9:06 AM,,,,,,,The existing new business journey uses a mix of OpenAPI and OAuth tokens. Understanding how this works for the existing system will inform what we build in the NBJ 2.0 solution.,,JMK,Sam Gamble,,,,,,557058:bdeb1ead-e0e5-4e48-9c27-6bab0b2e7ad2,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Document in the [information security dev resources|https://gghltd.atlassian.net/wiki/spaces/NP/pages/3002925146/Information+security+developer+resources] Confluence page:

* Sequence diagram showing the process from user login to accessing an existing application
* Sequence diagram showing user impersonation (CR20?) - where an admin user can access an application they did not create",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00jz7:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 1,Guardian Sprint 2,,,,,28/Sep/21 5:33 PM,,5.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-10-11 12:42:54.227,11/Oct/21 1:42 PM;557058:bdeb1ead-e0e5-4e48-9c27-6bab0b2e7ad2;Hi [~accountid:610c00d94e8d8d0069a20d6c] can you review this. thanks,"12/Oct/21 6:52 AM;610c00d94e8d8d0069a20d6c;[~accountid:557058:bdeb1ead-e0e5-4e48-9c27-6bab0b2e7ad2] Nice - lots of handy information added to the wiki page, thanks. There are two missing sequence diagrams, the ones in the AC. Could you add them in please?",12/Oct/21 10:42 AM;557058:bdeb1ead-e0e5-4e48-9c27-6bab0b2e7ad2;HI [~accountid:610c00d94e8d8d0069a20d6c] Those are documented elsewhere but added a little more context around them and added links to their respective confluence pages,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
API - Validate Application,NBJ-318,38480,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,28/Sep/21 12:01 PM,01/Feb/22 12:43 PM,02/Feb/22 6:31 PM,,,Phase 1 - Menu,,,,,"*As an* API User
*I want* to validate the application through an API
*So that* only valid applications can be created

Aiming to take an application and validate application level attributes as well as cross applicant/cover attributes:

* Max applicant cover by \{\{productType}}

h4. Implementation Notes

Suggested Request

{code:json}""quoteApplicants"": {
      ""dateOfbirth"": 19711207, -- whatever the date format is!
      ""newQuoteCover"": [
        {
          ""productType"": ""life | ci | aci | ccic"",
          ""coverType"": ""level | increasing | decreasing | family"",
          ""term"": 3, -- not required if toAge specified
          ""toAge"": 65, -- not required if term specified
          ""coverAmount"": 100000,
          ""isParentCoverForCcic"": true | false -- determines if this cover is the container for the Child CI cover in this application
        }
      ],
     ""quoteCovers"": [
        { ... existing cover 1 ... } ,
        { ... existing cover N ... }
      ]
}{code}

Suggested Response

{code:json}""data"": {
    ""errors"" : [
        {
            ""entity"" : ""term"",
            ""message"" : ""The maximum term for this cover is X years""
        }
    ],
    ""quoteApplicants"": {
      ""dateOfbirth"": 19711207, -- whatever the date format is!
      ""newQuoteCover"": [
        {
          ""productType"": ""life | ci | aci | ccic"",
          ""coverType"": ""level | increasing | decreasing | family"",
          ""term"": 3, -- not required if toAge specified
          ""toAge"": 65, -- not required if term specified
          ""coverAmount"": 100000,
          ""isParentCoverForCcic"": true | false -- determines if this cover is the container for the Child CI cover in this application
        }
      ],
     ""quoteCovers"": [
        { ... existing cover 1 ... } ,
        { ... existing cover N ... }
      ]
}
}{code}",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given:* An application containing applicant/s and their associated cover/s
*When:* The products service API is called
*Then:* Total Cover amounts are validated per Applicant as follows:

||Risk Type||{{productType}} s||max allowed {{coverAmount}}||
|Life|{{life}} & {{aci}}|15,000,000|
|CI|{{ci}} & {{aci}}|3,000,000|

*and*: the error {{entity}} is the {{coverAmount}}
*and*: the error {{message}} is ""The maximum term is X"" where X is the maximum allowed term

NB: For clarity, the {{coverAmount}} for {{aci}} covers counts towards both the Life and CI total applicant cover limits

*Given:* A list of covers for an applicant
*When:* Validating a Family income benefit Cover with a {{term}}
*Then:* The {{coverAmount}} for validation is calculated as {{coverAmount}} * {{term}} * 12
NB: for a customer applying for a 20 year term and a FIB {{coverAmount}} of 2000 calculates up to 2,000 * 20 * 12 = 480,000

*Given:* A list of covers for an applicant
*When:* Validating a Family income benefit Cover with a {{toAge}}
*Then:* The {{coverAmount}} for validation is calculated as {{coverAmount}} * ( minimum number of months required to go on or beyond the {{toAge}} )
NB: for a customer applying on 24/10/2021 with a date of birth of 15/09/1976 and a toAge of 90, this would require 539 months (44 years 11 months), so a £2,000 FIB {{coverAmount}} calculates up to 2,000 * 539 = 1,087,000.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-128,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space-bx,,,,,,,No,,1|i00l7v:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28/Sep/21 12:01 PM,,,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
API - Validate applicant age,NBJ-317,38479,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,28/Sep/21 12:01 PM,18/Oct/21 11:40 AM,02/Feb/22 6:31 PM,18/Oct/21 11:34 AM,,Foundation Release,,,,,"*As an* API User
*I want* to validate Applicants through an API
*So that* only valid applicants can be added to an application

Aiming to take an applicant and validate applicant level attributes:

* Min Age
* Max Age

h4. Implementation Notes

* First story for the *ProductService*, so need to stand-up a new microservice
* First time we call a microservice from another microservice - in this case, call from the ApplicationService to the ProductService.
* Need to determine a suitable calling strategy - perhaps using circuit breakers (see Hystrix).

Suggested Request



{noformat}POST /api/v1/application/{APP_ID}/applicant{noformat}

{code:json}{
  ""quoteApplicants"": [
    {
      ""dateOfbirth"": 19711207
    },
    { ... another quoteApplicant ... }
  ]
}{code}

Suggested Response

{code:java}{
  ""quoteApplicants"": [
    {
      ""dateOfBirth"": 19711207,
      ""errors"" : [
         {
            ""entity"" : ""dateOfBirth"",
            ""message"" : ""The minimum age is 18.""
         }
      ]
    },
    { ... another quoteApplicant ... }
  ]
}{code}",,Antony.Gorman,Chris.Hibbert,James Bartlett,Nathan Punzalan,,,,6149b13472728e006f9441d6,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,613f22fdff23ba00715469d1,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given:* An applicant
*When:* The product service API is called
*Then:* The applicant's minimum age is validated from their {{dateOfBirth}} to be 18 attained (i.e. if you are on your 18th birthday or later, then validation passes)
*and*: the error {{entity}} is the {{dateOfBirth}}
*and*: the error {{message}} is ""The minimum age is 18""

*Given:* An applicant
*When:* The product service API is called
*Then:* The applicant's maximum age is validated from their {{dateOfBirth}} to be 65 attained (i.e. if you are on your 66th birthday or later, then validation fails)
*and*: the error {{entity}} is the {{dateOfBirth}}
*and*: the error {{message}} is ""The maximum age is 65""

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-128,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,No,,1|i00c01:zzz,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 2,,,,,,28/Sep/21 12:01 PM,,8.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-10-18 09:00:49.002,"18/Oct/21 10:00 AM;6139c49114e8340071fcda09;I can add an applicant with a birthday of 19/10/2003. This was via
https://wa-uwt-appservice.azurewebsites.net/api/v1/Application/G000000011/Applicant

20/10/2003 fails as expected",18/Oct/21 10:40 AM;6149b13472728e006f9441d6;fix pushed to UWT,"18/Oct/21 11:33 AM;613f22fdff23ba00715469d1;I have retested this ticket and validation does trigger correctly. Have managed to add an applicant who just turned 18 ({{DOB: 2003-10-18}}) and checked that applicants that are under 18 ({{DOB: 2003-10-19}}) are validated against and applicant does not get added to the application (ie, I can still add other applicants 18 and over to a maximum of 2 applicants per application).

Have also done the same for users who are 65 and 66 years old respectively. Validation triggers as expected.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
API - Validate Cover for Applicant,NBJ-316,38478,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,28/Sep/21 12:01 PM,19/Oct/21 12:19 PM,02/Feb/22 6:31 PM,19/Oct/21 12:19 PM,,Foundation Release,,,,,"*As an* API User
*I want* to validate a Cover through an API
*So that* only valid covers can be added to an applicant

Aiming to take a map of covers and validate the following cover level attributes:

* Min Cover
* Max Cover

h4. Implementation Notes

Suggested Request

{code:json}""quoteApplicants"": {
      ""dateOfbirth"": 19711207, -- whatever the date format is!
      ""newQuoteCover"": [
        {
          ""productType"": ""life | ci | aci | ccic"",
          ""coverType"": ""level | increasing | decreasing | family"",
          ""term"": 3, -- not required if toAge specified
          ""toAge"": 65, -- not required if term specified
          ""coverAmount"": 100000
        }
     ]
}{code}

Suggested Response

{code:json}""data"": {
    ,
    ""quoteApplicants"": {
          ""dateOfbirth"": 19711207, -- whatever the date format is!
          ""newQuoteCover"": [
            {
              ""productType"": ""life | ci | aci | ccic"",
              ""coverType"": ""level | increasing | decreasing | family"",
              ""term"": 3, -- not required if toAge specified
              ""toAge"": 65, -- not required if term specified
              ""coverAmount"": 100000,
              ""errors"" : [
                  {
                      ""entity"" : ""coverAmount"",
                      ""message"" : ""The maximum allowed cover is X""
                  }
              ]
            }
        ]
    }
}{code}



NB: Cover amounts are listed inclusive.. e.g. for life, level , 25,00 minimum is allowed (24,999 is not) and 15,000,000 is allowed (15,000,001) is not.",,Antony.Gorman,Chris.Hibbert,James Bartlett,,,,,6149b13472728e006f9441d6,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,NBJ-380,,,,,,,,,,,,,19/Oct/21 12:19 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/22922/LivingDoc.html,19/Oct/21 12:19 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc_1.html;https://gghltd.atlassian.net/secure/attachment/22923/LivingDoc_1.html,,,,,,,,,,,"*Given:* A a cover for an applicant
*When:* The products service API is called
*Then:* The Cover amount is validated as follows:

||{{productType}}||{{coverType}}||min {{coverAmount}}||max {{coverAmount}}||
|{{life}}|level|25,000|15,000,000|
|{{life}}|decreasing|25,000|15,000,000|
|{{life}}|increasing|25,000|15,000,000|
|{{life}}|family|208|20,000|
|{{ci}}|level|10,000|3,000,000|
|{{ci}}|decreasing|10,000|3,000,000|
|{{ci}}|increasing|10,000|3,000,000|
|{{ci}}|family|83|5,000|
|{{aci}}|All|10,000|3,000,000|

*and*: for any errors, the error {{entity}} is  {{coverAmount}}
*and*: for any maximum errors, the error {{message}} is ""The maximum cover amount is X"" where X is the maximum cover amount
*and*: for any minimum errors, the error {{message}} is ""The minimum cover amount is X"" where X is the minimum cover amount",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-128,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,No,,1|i00c01:zzz3,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 2,,,,,,28/Sep/21 12:01 PM,,5.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-10-18 08:56:19.534,"10/Oct/21 10:46 AM;60cc71a1d5dde800713a2124;(flag) Flag added

Blocked pending discussions with [~accountid:5db187687b20d80c2a25b574]","12/Oct/21 2:37 PM;60cc71a1d5dde800713a2124;Issue split into:
|NBJ-380|API - Validate Term for Applicant|
",18/Oct/21 9:56 AM;6149b13472728e006f9441d6;as discussed in the kick off moved the errors into the Cover portion of the model in the response to be consistent with the Applicant validation.,"19/Oct/21 10:37 AM;6139c49114e8340071fcda09;(flag) Flag added

just clarifying how the request should look",19/Oct/21 12:19 PM;6139c49114e8340071fcda09;tested via the application service.,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Implement ID generator,NBJ-315,38456,38171,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,27/Sep/21 6:19 PM,07/Oct/21 10:16 AM,02/Feb/22 6:31 PM,07/Oct/21 10:16 AM,,,,,,,,,Antony.Gorman,James Bartlett,JMK,Kevin.Amoa,Sam Gamble,,,6149b13472728e006f9441d6,6139c49114e8340071fcda09,557058:bdeb1ead-e0e5-4e48-9c27-6bab0b2e7ad2,6149b160fac3ce0069d80d37,610c00d94e8d8d0069a20d6c,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"ID generator needs to:

* Generate IDs sequentially, so each ID is 1 higher than the last
* Use the existing format for G-refs at Guardian
* IDs must be able to start from an arbitrary number, e.g. start ID generation from 88918229",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00h5j:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 1,,,,,,27/Sep/21 6:19 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-09-28 12:28:56.523,"28/Sep/21 1:28 PM;557058:bdeb1ead-e0e5-4e48-9c27-6bab0b2e7ad2;We do have a cross environment database called: ggh-dev-dbs/ggh-applicationdata-dev-db where we can add multiple sequences to. If we were to put the sequence generation in this database the names would be something like this :

* SB2GrefSequence
* SITGrefSequence
* UWTGrefSequence
* UATGrefSequence
* PSBGrefSequence

{code:sql}CREATE SEQUENCE [dbo].[GrefSequence] 
 AS [int]
 START WITH 100000000
	 INCREMENT BY 1
	 MINVALUE 0
	 MAXVALUE 2147483647
	 CACHE 
GO{code}

{code:java}using (var connection = ((DbContext)repository.ObjectContext).Database.GetDbConnection())
{
    connection.Open();
    using (var cmd = connection.CreateCommand())
    {
        cmd.CommandText = ""SELECT NEXT VALUE FOR dbo.GrefSequence;"";
        var seq = cmd.ExecuteScalar();
        connection.Close();
        return $""G{seq}""; 
    }
}
{code}","28/Sep/21 2:05 PM;6149b13472728e006f9441d6;Does it need to be padded? 

using statements don’t need to be code blocks anymore (presuming this is executed as part of a small stack frame).

I’m presuming the EF DBContext stuff is just for illustration and we’d manage a unit of work or some other such means of accessing a sql connection out of an IOC container?","28/Sep/21 2:28 PM;557058:bdeb1ead-e0e5-4e48-9c27-6bab0b2e7ad2;[~accountid:6149b13472728e006f9441d6] 
Nope doesn’t need to be padded as starting number is {{100000000}}

And here the  fun starts 🙂 This is one ‘shortcut’ i’m not a fan of. I think the clarity and consistency you loose by not using code blocks for 'using’s outweighs the saving of 2 half lines you save when viewing the code.","28/Sep/21 2:52 PM;6149b13472728e006f9441d6;I’m not sure I agree (using blocks are already just a compiler trick for try .. finally \{ blah.Dispose() }) but I’m not really interested in dying on any hills over curly braces 🙂 

sorry just noticed also. I think it might be generally accepted that use of var is only appropriate where the type is obvious (from a constructor call or closing a generic method call for instance) else the variable declaration should use the explicit type. The code lacks clarity otherwise (I need to examine the code being called or use intellisense to see what var actually is)","28/Sep/21 4:59 PM;557058:bdeb1ead-e0e5-4e48-9c27-6bab0b2e7ad2;HI [~accountid:6149b13472728e006f9441d6] completely agree on code clarity and consistency, however, i am interested in which var in that statement do you think developers would have difficulty understanding? Did you have difficulty understanding it?",06/Oct/21 6:29 PM;6139c49114e8340071fcda09;[~accountid:6149b13472728e006f9441d6] can you give me a shout when there is a method available for configuring the start number?,07/Oct/21 8:59 AM;6139c49114e8340071fcda09;The ID generation will be delivered by the linked story [https://gghltd.atlassian.net/browse/NBJ-363|https://gghltd.atlassian.net/browse/NBJ-363|smart-link] ,,,,,,,,,,,,,,,,,,,,,,,38171,API - Create Application,Done
Connect Application Service to APIM,NBJ-314,38455,38171,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,JMK,557058:bdeb1ead-e0e5-4e48-9c27-6bab0b2e7ad2,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,27/Sep/21 6:12 PM,06/Oct/21 5:21 PM,02/Feb/22 6:31 PM,06/Oct/21 5:21 PM,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,* The Application Service routes are accessible via the API Management layer,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00j73:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 1,,,,,,27/Sep/21 6:12 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,38171,API - Create Application,Done
Connect Application Service to Cosmos,NBJ-313,38454,38171,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Kevin.Amoa,6149b160fac3ce0069d80d37,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,27/Sep/21 6:12 PM,06/Oct/21 6:37 PM,02/Feb/22 6:31 PM,06/Oct/21 6:37 PM,,,,,,,"Create a standardised way of connecting to an Azure Cosmos database that can be referenced across multiple services - SQL or Graph. This will remove the need for boilerplate code and repetition in each consuming service and establish consistency.

Discussions around optimisations to follow once specific service demands become known. Throughput, partitions, etc.",,Kevin.Amoa,Sam Gamble,,,,,,6149b160fac3ce0069d80d37,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"* The wrapper should expose the underlaying Cosmos SDK objects so a caller can still access the full functionality of the SDK if required.
* The wrapper must be around the latest stable official [Azure Cosmos DB .NET SDK Version 3.0|https://github.com/Azure/azure-cosmos-dotnet-v3] as well as the [Gremlin.NET|https://github.com/apache/tinkerpop/tree/master/gremlin-dotnet] driver
* The wrapper should expose 2 methods initially. (The exposed methods will grow as the use cases and demands increase.)
** Add a document
** Retrieve a document 
* The wrapper should maintain best practises in terms of Azure Cosmos connections. e.g. a single, disposable client connection etc",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00h53:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 1,,,,,,27/Sep/21 6:12 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,38171,API - Create Application,Done
Create build and publish pipeline in Azure DevOps,NBJ-312,38453,38171,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Jason Hughes,613f60991370f00069033c68,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,27/Sep/21 6:11 PM,06/Oct/21 6:37 PM,02/Feb/22 6:31 PM,06/Oct/21 6:37 PM,,,,,,,"Until we know more about the good work going on in Tech Foundation, we will use the mono-repo approach for all the services.",,Antony.Gorman,Sam Gamble,,,,,,6149b13472728e006f9441d6,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"* Build the DevOps pipeline from the PoC [~accountid:613f60991370f00069033c68] worked on in Sprint 0. Found in this repo: [https://dev.azure.com/guardian1821/NBJ-Microservices|https://dev.azure.com/guardian1821/NBJ-Microservices]
* Working build pipeline in the *NBJ-Microservice* repo that:
** is triggered by Application Service commits in the develop branch (yes, use develop branch to get started with, this will change)
** compiles the Application Service
** runs tests
** package build up into a zip
** publish the zip to the Container registry under drop/application_service",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00h5n:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 1,,,,,,27/Sep/21 6:11 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-09-29 13:45:26.837,29/Sep/21 2:45 PM;6149b13472728e006f9441d6;A first pass of this for the CI portion of the pipeline in at the root of the Guardian.Applications folder. The release portion of the work is still pending input from the Architects / Guardian team on desired approach.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,38171,API - Create Application,Done
Create service template,NBJ-311,38452,38171,Sub-task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Antony.Gorman,6149b13472728e006f9441d6,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,27/Sep/21 6:11 PM,06/Oct/21 6:37 PM,02/Feb/22 6:31 PM,06/Oct/21 6:37 PM,,,,,,,,,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"* Template service is created for services that listen on HTTP
* Application Service created from the template",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00h4n:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 1,,,,,,27/Sep/21 6:11 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,38171,API - Create Application,Done
Create application in Salesforce once client identifiable,NBJ-310,38428,,Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,27/Sep/21 11:13 AM,01/Feb/22 12:43 PM,02/Feb/22 6:31 PM,,,Foundation Release,,Salesforce,Sprint_5,,"As a Salesforce user I want all applicants and application details gathered so far to be visible in Salesforce once sufficient client details have been gathered to uniquely identify the applicant(s), so that I can answer queries (Ops) and encourage the submission of apps (Sales).

*Implementation Notes*

Currently the NBJ event which triggers this is *underwriting.start*

_Application_

{code:yaml}Name: ${?acl.data.application.quoteReference}
FirmAdviser__c: ${?acl.data.application.adviserAtFirmLocationId}
FirmLocation__c: ${?adviser.Firm_Location__c}
QuoteDate__c: ${?acl.data.application.quoteAgeDate.convertToSFDCDateFormat()}
QuoteExpiry__c: ${?acl.data.application.quoteExpiryDate.convertToSFDCDateFormat()}
ApplicationStartDate__c: ${?acl.data.application.applicationCreationDate.convertToSFDCDateFormat()}
ApplicationExpiry__c: ${?acl.data.application.applicationExpiryDate.convertToSFDCDateFormat()}    
SingleOrDualApplication__c: ${?acl.data.application.singleOrDualApplication}       
MortgageRelated__c: ${?acl.data.application.mortgageRelated}
CommissionAmount__c: ${?acl.data.application.initialCommissionAmount}
IndemnityPercentage__c: ${?acl.data.application.initialIndemnityPercentage}
CommissionSacrifice__c: ${?acl.data.application.initialCommissionSacrificePercentage}
OriginatingPortal__c: ${?acl.data.application.portal}
Status__c: ${?acl.data.application.appStatus}
QuoteTotalPremium__c: ${?acl.data.application.premium}
AdviserYourRef__c: ${?acl.data.application.thirdPartyRef}
DecisionDate__c: 
DecisionExpiry__c: 
DecisionTotalPremium__c: {code}

_ApplicantCover_

{code:yaml}Name: ${productName}
Product__c: ${productId}
ApplicationMember__c: ${uwwbApplicationMember.id}
Application__c: ${?uwwbApplication.id}
Type__c: ${?cover.coverType.toCapitalCase()}
QuoteTerm__c: ${?cover.term}
QuoteUntilAge__c: ${?cover.age}
QuoteAmount__c: ${?cover.coverAmount}
QuoteMonthlyBenefit__c: ${?cover.monthlyBenefit}
QuotePremium__c: ${?cover.premium}
DecisionTerm__c: 
DecisionUntilAge__c: 
DecisionAmount__c: 
DecisionMonthlyBenefit__c: 
DecisionPremium__c:        {code}

_ApplicationMember_

{code:yaml}Account__c: ${?uwwbPersonAccount.id}
Application__c: ${?uwwbApplication.id}
Name: ${?personCovered.firstName} ${?personCovered.lastName}
ApplicantId__c: ${?personCovered.guardianRefWithSuffix}          
Role__c: ${?applicationMemberRole}
SmokerStatus__c: ${personSmokerStatus}
HasExistingLifeCover__c: ${personCovered.existingCoverLife.toTrueFalse()}
HasExistingCICover__c: ${personCovered.existingCoverCi.toTrueFalse()}
Status__c: ${personCovered.uwStatus}
AnnualIncome__c: ${personCovered.annualIncome}
NBJInterviewId__c: ${personCovered.sourceSystemId}
Gender__c: ${personGender}{code}

_Customer_

{code:yaml}Firstname: ${?personCovered.firstName}
Lastname: ${?personCovered.lastName}
PersonMailingStreet: ${?personCovered.contactDetails.address1} ${?personCovered.contactDetails.address2}
PersonMailingCity: ${?personCovered.contactDetails.cityName}    
PersonMailingState: ${?personCovered.contactDetails.county}
PersonMailingPostalCode: ${?personCovered.contactDetails.postcode}
PersonEmail: ${?personCovered.contactDetails.fullEmailAddress}
Phone: ${?personCovered.contactDetails.fullTelephoneNumber.convertToSFDCPhoneFormat()}
Salutation: ${?personCovered.title}
Firm_Adviser__c: ${?acl.data.application.adviserAtFirmLocationId}
Status__c: ${personAccountStatus}
RecordTypeId: ${CustomerRecordType.Id}
Gender__pc: ${personGender}
PersonBirthdate: ${personDob.convertToSFDCDateFormat()}
Policy_Number__c: ${?personCovered.lissiaPolicyReference}
LissId__c: ${personCovered.sourceSystemId}{code}",,helen.scriven,Jim Houghton,,,,,,5dbd6f97fc11e40c2ff452a7,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Given an application in status Apply

Once the adviser has saved the full name, DOB and address of all applicants on the application

Then the following details are visible in Salesforce after 60 seconds:

*Application* Number, Firm Adviser, Quote Date, App Start Date, Single or Dual, Commission Amount, Commission Sacrifice, Indemnity Percentage, Account Manager, Quote Expiry Date, Application Expiry Date, Mortgage Related, Originating Portal.

For each *Application Cover* Application Member, Product, Type, Quote Amount, Quote Premium, Quote Term, Quote Until Age (if applicable), Quote Monthly Benefit (if applicable), UW Amount, UW Term, Status (Applied For)

For each *Application Member* Customer, Application Number, Applicant Id, Role, Gender, Annual Income (TBD), Occupation (TBD), Smoker Status, App Member Status (Questions Outstanding)

For each *Customer* Name, Status (Applicant) DOB, Phone, Applicant Id, Email, Firm Adviser, Address, NBJ identifier (TBD)

Each object also shows the date and time created and has a History record.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-125,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space-bx,,,,,,,No,,1|i00uh3:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,27/Sep/21 11:13 AM,,0.0,,,Space Extranet,Space Unite Service,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
ChildCI quoteCover,NBJ-309,38402,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,24/Sep/21 4:16 PM,11/Nov/21 12:14 PM,02/Feb/22 6:31 PM,11/Nov/21 12:14 PM,,Foundation Release,,Quote,Sprint_3,,"*As an* api user
*So that* I can offer Child CI cover
*I want* to be able to quote for Child CI

*Implementation Notes*

# It is important that the Child Ci quoteCover row in the Lissia quote request message follows the quoteCover row that it is attached to in the sections ImpGrpCvgs, ImpGrpCliCpr and ImpGrpPas.
# In the JSON quote request model, a new property on each quoteCover, +*childCovers*+_,_ will contain the Child CI cover.
# ProductLine rules for Child CI is, for a cover type of level RIDCCIL and for a cover type of increasing RIDCCI.

*QuoteService request*

{code:json}POST /api/v1/quote
{
  ""quoteReference"": ""G000001234"",
  ""quoteAgeDate"": ""2021-09-10"",
  ...
  ""quoteApplicants"": [
    {
      ""dateOfbirth"": ""1971-12-07"",
      ""gender"": ""male | female"",
      ""smokerStatus"": ""None in the last 5 years | None in last 12 months | I have used tobacco or replacement products in last 12 months"",
      ""quoteCovers"": [
        {
          ""productType"": ""life | ci | aci "", // note ccic is NOT valid here anymore
          ""coverType"": ""level | increasing | decreasing | family"",
          ""term"": 3, -- not required if toAge specified
          ""toAge"": 65, -- not required if term specified
          ""coverAmount"": 325000,
          // This is the new bit, adding the concept of a 
          // cover being a parent to other covers
          ""childCovers"": [
            {
              ""productType"": ""ccic"", // Child CI
              ""coverType"": ""level"",
              ""toAge"": 23,
              ""coverAmount"": 75000
            }          
          ]
        },
        { ""... another cover ..."" },
        { ""... yet another cover ..."" }
      ],
      ""quoteUnderwritingOutcomes"": [
        { ""... a quote UW outcome here ..."" },
        { ""... another quote UW outcome here ..."" },
      ]
    },
    { ... another quoteApplicant ... }
  ]
}{code}

*Lissia Quote Request*



{code:xml}<WssquoteImport command="""" clientId="""" clientPassword="""" nextLocation="""" exitState="""" dialect="""">
	<ImpAswcalcqAswcalcq>
		...
	</ImpAswcalcqAswcalcq>
	<ImpUserUsers>
		...
	</ImpUserUsers>
	<ImpWebserviceWebService>
		...
	</ImpWebserviceWebService>
	<ImpGrpCvgs>
		<row> - one row per quoteCover
			...
			<ImpItmCvgQrefWebService>
				<QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
				<BenLine>G000001234_1_Life_1</BenLine> -- see benefit line rules above
			</ImpItmCvgQrefWebService>
			...
		</row>
		<row>
			...
			<ImpItmPocCvgsPolicyCoverages>
				<ProductLine>RIDCCIL</ProductLine> -- mapped from productLine rules (RIDCCI for increasing)
				...
				<EscOptionAtStart>1</EscOptionAtStart> -- mapped from coverType rules (2 for increasing)
			</ImpItmPocCvgsPolicyCoverages>
			...
			<ImpItmCvgQrefWebService>
				<QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
				<BenLine>G000001234_1_ccic_1</BenLine> -- see benefit line rules above
			</ImpItmCvgQrefWebService>
			...
		</row>
		<row>
			...
			<ImpItmCvgQrefWebService>
				<QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
				<BenLine>G000001234_1_Life_2</BenLine> -- see benefit line rules above
			</ImpItmCvgQrefWebService>
			...
		</row>
		<row>
			...
			<ImpItmCvgQrefWebService>
				<QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
				<BenLine>G000001234_2_ci_1</BenLine> -- see benefit line rules above
			</ImpItmCvgQrefWebService>
			...
		</row>
		<row>
			...
		</row>
	</ImpGrpCvgs>
	<ImpGrpCliCpr>
		<row> -- one row per quote cover
			...
			<ImpItmCprQrefWebService>
				<QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
				<BenLine>G000001234_1_Life_1</BenLine> -- see benefit line rules above
			</ImpItmCprQrefWebService>
			...
		</row>
		<row>
			...
			<ImpItmCprPrlProductLines>
				<PrlId>RIDCCIL</PrlId> - mapped from productLine rules (RIDCCI for increasing)
			</ImpItmCprPrlProductLines>
			...
			<ImpItmCvgQrefWebService>
				<QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
				<BenLine>G000001234_1_ccic_1</BenLine> -- see benefit line rules above
			</ImpItmCvgQrefWebService>
			...
		</row>
		<row>
			...
			<ImpItmCprQrefWebService>
				<QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
				<BenLine>G000001234_1_Life_2</BenLine> -- see benefit line rules above
			</ImpItmCprQrefWebService>
			...
		</row>
		<row> -- ensure client details from second applicant
			...
			<ImpItmCprQrefWebService>
				<QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
				<BenLine>G000001234_2_ci_1</BenLine> -- see benefit line rules above
			</ImpItmCprQrefWebService>
			...
		</row>
		<row>
			...
		</row>
	</ImpGrpCliCpr>
	<ImpGrpPas>
		<row>
			...
			<ImpItmPasQrefWebService>
                <QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
                <BenLine>G000001234_1_Life_1</BenLine> -- see benefit line rules above
              </ImpItmPasQrefWebService>
			...
		</row>
		<row>
			...
			<ImpItmPasPrlProductLines>
				<PrlId>RIDCCIL</PrlId> - mapped from productLine rules (RIDCCI for increasing)
			</ImpItmPasPrlProductLines>
			...
			<ImpItmCvgQrefWebService>
				<QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
				<BenLine>G000001234_1_ccic_1</BenLine> -- see benefit line rules above
			</ImpItmCvgQrefWebService>
			...
		</row>
		<row>
			...
			<ImpItmPasQrefWebService>
                <QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
                <BenLine>G000001234_1_Life_2</BenLine> -- see benefit line rules above
              </ImpItmPasQrefWebService>
			...
		</row>
		<row>
			...
			<ImpItmPasQrefWebService>
                <QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
                <BenLine>G000001234_2_ci_1</BenLine> -- see benefit line rules above
              </ImpItmPasQrefWebService>
			...
		</row>
		<row>
			...
		</row>
	</ImpGrpPas>
	<ImpGrpPlc>
		<ImpItmPlcQrefWebService>
			<QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
		</ImpItmPlcQrefWebService>
	</ImpGrpPlc>
	<ImpPrlrqmWebService>
		<Prlrqm/>
	</ImpPrlrqmWebService>
</WssquoteImport>{code}",,Chris.Hibbert,Jim Houghton,Nathan Punzalan,,,,,60cc71a1d5dde800713a2124,60cc71a22bd21400692fd2af,613f22fdff23ba00715469d1,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* a dual life quote requesting any number of quoteCovers, with one a child ci cover
*When* quoting
*Then* receive a successful Lissia response
*And* return a 200 from service
*And* the request information is replayed in the response

*Given* a dual life quote requesting any number of quoteCovers, with one a child ci cover
*When* generating Lissia quote request
*Then* there is an accurately populated row in the following sections ImpGrpCvgs, ImpGrpCliCpr and ImpGrpPas for each quoteCover
*And* the ccic quoteCover should follow the parent quoteCover (isParentCoverForCcic = true)

*Given* a dual life quote requesting any number of quoteCovers, with one a *level* child ci cover
*When* generating Lissia quote request
*Then* the ProductLine is set to RIDCCIL for the child ci row in the following sections ImpGrpCvgs, ImpGrpCliCpr and ImpGrpPas for each quoteCover
*And* EscOptionAtStart in the ImpGrpCvgs is set to 1


*Given* a dual life quote requesting any number of quoteCovers, with one a *increasing* child ci cover
*When* generating Lissia quote request
*Then* the ProductLine is set to RIDCCI for the child ci row in the following sections ImpGrpCvgs, ImpGrpCliCpr and ImpGrpPas for each quoteCover
*And* EscOptionAtStart in the ImpGrpCvgs is set to 2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-118,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,No,,1|hzwil2:zv,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,Guardian Sprint 4,,,,,24/Sep/21 4:16 PM,,5.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-10-25 09:40:30.228,"01/Oct/21 10:53 AM;60cc71a22bd21400692fd2af;(flag) Flag added

JLQ review mappings",25/Oct/21 10:40 AM;60cc71a1d5dde800713a2124;[~accountid:610c00d94e8d8d0069a20d6c]  - Update the modelling of Child CI before this ticket gets picked up.,"05/Nov/21 4:09 PM;613f22fdff23ba00715469d1;Have tested this ticket and works as expected when using a toAge property in the API request however when using a term in the API request, the term for child cover is not recorded correctly which in turn produces an error sent back from the LissiaResponse. Have raised a bug for this which is [https://gghltd.atlassian.net/browse/NBJ-638|https://gghltd.atlassian.net/browse/NBJ-638|smart-link].","11/Nov/21 7:22 AM;60cc71a1d5dde800713a2124;(flagoff) Flag removed

NBJ-638 now delivered.",,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Quote Response - Quote Created Date,NBJ-308,38396,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,24/Sep/21 2:29 PM,20/Oct/21 5:04 PM,02/Feb/22 6:31 PM,20/Oct/21 5:04 PM,,Foundation Release,,,,,"*As an* api user
*So that* I can keep a record of when the quote was requested
*I want* a datetime in the response from quote service

*Implementation Notes*

Use standard datetime format agreed by architects

{code:json}{
  ""data"": {
    ...
    ""quoteCreatedDate"": ""2021-09-23T18:25:43.511Z"", --response value
    ...
  }
}{code}",,Jim Houghton,Kevin.Amoa,Nathan Punzalan,,,,,60cc71a22bd21400692fd2af,6149b160fac3ce0069d80d37,613f22fdff23ba00715469d1,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* any quote requested
*When* responding
*Then* include current date and time in response, located in quoteCreatedDate",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-118,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,No,,1|i00c01:zy,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 2,,,,,,24/Sep/21 2:29 PM,,2.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-10-20 15:28:30.321,"20/Oct/21 4:28 PM;613f22fdff23ba00715469d1;Date shown in response for quoteCreatedDate is getting returned correctly, however the time shown is one hour behind. For example if I submit a request where current time is 16:28 the response body shows that for quoteCreatedDate the time is {{2021-10-20T15:28:03.3449551Z}} (where time is 15:28)","20/Oct/21 4:57 PM;6149b160fac3ce0069d80d37;I believe this is correct as DateTimes are standardised as UTC across all backend services.
[~accountid:60cc71a22bd21400692fd2af] [~accountid:610c00d94e8d8d0069a20d6c] ","20/Oct/21 5:04 PM;613f22fdff23ba00715469d1;I will pass this ticket as time is showing correctly as intended. I have confirmed with Jim and as Kevin has stated below, this is intended behaviour to have UTC timing logged in the backend systems. Any displayed times will be converted to correct British time on the front-end.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Handle Lissia Error responses,NBJ-307,38389,,Technical Story,Not Ready,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,24/Sep/21 11:20 AM,02/Feb/22 10:44 AM,02/Feb/22 6:31 PM,,,Foundation Release,,Quote,Sprint_4,,"*As an* api-user
*So that* I know when Lissia has errored
*I want* Lissia error responses to be surfaced through the quote api

*Implementation Notes*

# The check for Lissia errors should happen before any attempt to populate return values on the quote response
# If there are any Lissia errors then simply replay the request message with the Lissia Errors populated
# A list of example Lissia error codes (not an exhaustive list) 

[^Lissia error codes.xlsx]



*Lissia Response Message*



{code:xml}<WssquotecallResponse>
         <WssquoteExport command="""" exitState=""0"" exitStateType=""3"" exitStateMsg="""">
            <ExpGrpSum2app>
               <row>...........See below.........</row>
            </ExpGrpSum2app>
            <ExpGrpErrors>
              <row>
                ...
                <ExpItmErrorsCommunications>
                  <ErrorNo>123</ErrorNo>
                </ExpItmErrorsCommunications>
                <ExpItmErrmsgWindow>
                  <WinErrmsg>Whoops I broke Lissia</WinErrmsg>
                </ExpItmErrmsgWindow>
                ...
              </row>
              <row>
                ...
              </row>
            <ExpGrpErrors/>
            <ExpGrpCliCprRtn>
               <row>........</row>
            </ExpGrpCliCprRtn>
            <ExpGrpCommissions>
               <row>........</row>
            </ExpGrpCommissions>
            <ExpGrpCvgs>
               <row>........</row>               
            </ExpGrpCvgs>
            <ExpGrpPrmSumByref>
               <row>........</row>              
            </ExpGrpPrmSumByref>
            <ExpGrpPlcRtn/>
            <ExpGrpWarningMsg/>
            <ExpGrpComTot>
               <row>........</row>               
            </ExpGrpComTot>
            <ExpGrpTotIndemnity/>
            <ExpGrpFsaTot/>
            <ExpGrpPremDetails/>
            <ExpGrpPremDetailsTot/>
         </WssquoteExport>
      </ns2:WssquotecallResponse>{code}

*Quote Response*



{code:json}{
  ...
  ""errors"": [
    ""123 - Whoops I broke Lissia"",
    ""...""
  ],
  ""data"": {
    .... quote response goes here ...
  },
}{code}",,Jim Houghton,Sam Gamble,,,,,,60cc71a22bd21400692fd2af,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,06/Oct/21 8:52 AM;ug:26edd6f3-05a6-4a2e-8e12-48ef14086fdd;Lissia error codes.xlsx;https://gghltd.atlassian.net/secure/attachment/22542/Lissia+error+codes.xlsx,,,,,,,,,,,,"*Given* any quote request that will error on Lissia
*When* quoting on Lissia
*Then* return all errors on Lissia response as a list in the lissiaErrors section of the response message
*And* each error is a concatenation of ExpItmErrorsCommunications/ErrorNo “ - “ ExpItmErrmsgWindow/WinErrmsg from the ExpGrpErrors section of the response message
*And* the rest of the message is a replay of the request",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-118,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space-bx,,,,,,,No,,1|i00c01:zzz8zzzzzzt3r1i04y,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,24/Sep/21 11:20 AM,,5.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-10-21 10:36:18.108,21/Oct/21 11:36 AM;610c00d94e8d8d0069a20d6c;I need to define the shape of the errors. Initial plan is to use general error that contains a downstream error.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,To Do
"Define routes, payloads and return codes for Application Service",NBJ-306,38375,,Task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,23/Sep/21 8:50 PM,24/Sep/21 1:15 PM,02/Feb/22 6:31 PM,24/Sep/21 1:15 PM,,,,,,,"In our first sprint planning as a team, we found that more techie details need to be added to the first stories for the Application Service:

NBJ-298
NBJ-295
NBJ-294
",,Sam Gamble,,,,,,,610c00d94e8d8d0069a20d6c,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"* Routes, payloads and HTTP return codes defined to help devs understand the Application Service",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-131,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00byv:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 0,,,,,,23/Sep/21 8:50 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Quote Response - Lifetime premium,NBJ-305,38372,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,23/Sep/21 5:13 PM,03/Nov/21 3:46 PM,02/Feb/22 6:31 PM,03/Nov/21 3:46 PM,,Foundation Release,,Quote,Sprint_3,,"*As an* api-user
*So That* I can supply lifetime premium at quote and quoteCover level
*I Want* to calculate lifetime premium

Lifetime premium is a regularity requirement, currently part of the quote illustration document.  The lifetime premium may well be displayed in a premium details portion of the application.

*Implementation Notes*

# Lifetime premium = modal premium * number of premiums 
# *modal premium* is sourced from ExpGrpSum2app/row/ModalPremium
# *number of premiums* is sourced from ExpGrpCvgs/row/ExpItmCvgQuoteRefWebService/Contributions
# Ensure that modal premium and number of premiums are from rows with matching BenLine
# It is expected that in some point in the future Lissia will need to calculate Lifetime premium (e.g. for temporary PMs and age costed premiums)

_Lissia quote response_

{code:xml}<soap:Envelope xmlns:soap=""http://schemas.xmlsoap.org/soap/envelope/"">
   <soap:Body>
      <ns2:WssquotecallResponse xmlns:ns2=""http://tempuri.org/Wssquote/"">
         <WssquoteExport command="""" exitState=""0"" exitStateType=""3"" exitStateMsg="""">
            <ExpGrpSum2app>
               <row>
                     ...
                     <BenLine>1</BenLine>
                     <ModalPremium>4.31</ModalPremium> --> Modal premium
                     ...
               </row>
            </ExpGrpSum2app>
            <ExpGrpErrors/>
            <ExpGrpCliCprRtn>
               <row>
                  ...
               </row>
            </ExpGrpCliCprRtn>
            <ExpGrpCommissions>
               <row>
                  ...
               </row>
            </ExpGrpCommissions>
            <ExpGrpCvgs>
               <row>
                  ...
                  <ExpItmCvgQuoteRefWebService>
                     ...
                     <BenLine>1</BenLine>
                     <Contributions>144</Contributions> --> number of contributions
                     ...
                  </ExpItmCvgQuoteRefWebService>
                  ...
               </row>
            </ExpGrpCvgs>
            <ExpGrpPrmSumByref>
               <row>
                  ...
               </row>
            </ExpGrpPrmSumByref>
            <ExpGrpPlcRtn/>
            <ExpGrpWarningMsg/>
            <ExpGrpComTot>
               <row>
                  ...
               </row>
            </ExpGrpComTot>
            <ExpGrpTotIndemnity/>
            <ExpGrpFsaTot/>
            <ExpGrpPremDetails/>
            <ExpGrpPremDetailsTot/>
         </WssquoteExport>
      </ns2:WssquotecallResponse>
   </soap:Body>
</soap:Envelope>{code}

_quote service response_

{code:json}{
  ...
  ""quoteLifetimePremium"": 0.00, -- response value
  ...
  ""quoteApplicants"": [
    {
      ...
      ""quoteCovers"": [
        {
          ...
          ""quoteCoverLifetimePremium"": 0.00, --response value
          ...
        },
        { ""..."" },
        { ""..."" }
      ],
      ""quoteUnderwritingOutcomes"": [
        ...
      ]
    },
    {""...""}
  ]
}
{code}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* I have a successful Lissia quote response
*When* responding to a quote request
*Then* respond with LifeTime premium for each quoteCover
quoteCoverLifetimePremium = modal premium * number of payments 
*And* respond with LifeTime premium at quote level 
quoteLifetimePremium = sum of all quoteCoverLifetimePremium",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-118,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,No,,1|hzwil2:zw,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,,,,,,23/Sep/21 5:13 PM,,2.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Deploy React App for the NBJ to Environments,NBJ-304,38351,,Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Andy Green,6061ac5d00b79f0070aa4ad3,Andy Green,6061ac5d00b79f0070aa4ad3,23/Sep/21 12:24 PM,11/Oct/21 10:26 AM,02/Feb/22 6:31 PM,06/Oct/21 5:19 PM,,Foundation Release,,,,,"*As a* developer
*I want* to be able to deploy front-end React App through Guardian environments using the Release Pipeline
*So that* I can deliver my tickets for testing and release to Production.

*Implementation Notes*
Comments in NBJ-302 details the conclusion to how a React App should be deployed (As an Azure Web App)",,Andy Green,James Bartlett,,,,,,6061ac5d00b79f0070aa4ad3,6139c49114e8340071fcda09,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,NBJ-302,,,,,,,,,,,,,,,,,,,,,,,,,,,"* The React app that the NBJ front end will be developed in can be deployed through the release pipeline to all appropriate environments. The environments are specified in EnvironmentsBuild project at repo: EnvironmentBuilds/YAML/templates/SupportedEnvironments.yml
* Liaise with Asta Hansen and Mike Hill to ensure the Guardian framework is being used and config parameters are correctly used.
* Part of this ticket is to setup the repo



*Given:* An environment
*When:* The react app is deployed to this environment
*Then:* A working react app is available",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-121,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space,Yes,,,,,,No,,1|i00g6k:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 1,,,,,,23/Sep/21 12:24 PM,,8.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-10-06 16:18:49.563,06/Oct/21 5:18 PM;6139c49114e8340071fcda09;Can access the skeleton app at [https://ggh-nbj-reactapp.azurewebsites.net/underwriting|https://ggh-nbj-reactapp.azurewebsites.net/underwriting|smart-link]  as expected,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Spike React app deployment in Azure,NBJ-302,38316,,Task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Ian.Douglas,5e183e85c578120daca5bc7b,Sam Gamble,610c00d94e8d8d0069a20d6c,Sam Gamble,610c00d94e8d8d0069a20d6c,22/Sep/21 4:35 PM,06/Oct/21 3:07 PM,02/Feb/22 6:31 PM,06/Oct/21 3:05 PM,,,,,,,"For the NBJ 2.0 project, we need to deploy a React app as well as all the backend services.
This is a spike to determine how best to build, test and deploy a React app using Azure DevOps.

Note: one option is to us a Static WebApp.",,Andy Green,Chris.Hibbert,Ian.Douglas,Sam Gamble,,,,6061ac5d00b79f0070aa4ad3,60cc71a1d5dde800713a2124,5e183e85c578120daca5bc7b,610c00d94e8d8d0069a20d6c,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,* Document how to build and deploy a React application using Azure DevOps.,,,,,,,,,,,,,,,,,,,,,,,Without spike we do not know how to deploy the front-end to any environment using the best-practices we agreed for artefact building and deployment.,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-131,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|hzwil3:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 1,,,,,,22/Sep/21 4:35 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-09-23 11:08:27.059,"23/Sep/21 12:08 PM;6061ac5d00b79f0070aa4ad3;Update from [~accountid:613f60991370f00069033c68] :

In general there are 3 ways of deploying React apps in Azure (as far as I know)


# In Blob storage - not good enough for us as it doesn't have an management features around it
# In an Azure Static Website - this is what I was looking at. It *might* have enough functionality but when I was looking at it in the Spike I found out that they can't be deployed with the style of Azure DevOps Release Pipelines that Mike and Asta want to use
# As an Azure Web App (which is a a type of Azure App Service) - this is how a current Angular app is already deployed.

So [~accountid:5d94816eefc9290c2e625a11] thinks we should go with 3 as they already know it works and fits in with how they want the releases to be run.",23/Sep/21 12:49 PM;60cc71a1d5dde800713a2124;Looks like a decision made here.  Going to close the ticket as we have another ticket to actually deploy the app.,06/Oct/21 3:07 PM;5e183e85c578120daca5bc7b;Decision is to deploy as Azure Application Service … approach has been proven,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
ApplicationService - delete cover from application,NBJ-300,38305,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,22/Sep/21 2:16 PM,18/Nov/21 9:33 AM,02/Feb/22 6:31 PM,04/Nov/21 12:49 PM,,Foundation Release,,Quote,Sprint_3,,"*As an* API User
*I want* to delete a cover from an applicant through the API
*So that* I can remove covers that are not required

*Implementation Notes*

*Request*

{noformat}DELETE /api/v1/application/{applicationId}/applicant/{applicantId}/cover/{coverId}{noformat}

*Response*

* If the Cover exists and is deleted successfully:
{noformat}HTTP 200 OK{noformat}
* If the Cover does +not+ exist:
{noformat}HTTP 404 Not Found{noformat}

*Missing essential route*

As part of this ticket, will need to implement get Application by ID

*Request*

{noformat}GET /api/v1/application/{applicationId}{noformat}

*Response*

{noformat}HTTP 200
{
  ""data"": {
    ""id"": ""G000000237"",
    ""quoteAgeDate"": ""2021-11-02T00:00:00+00:00"",
    ""applicants"": [
        {
            ""applicantId"": ""ecc9e332-9266-40dd-acf9-f81488f6710b"",
            ""title"": ""Mr"",
            ""firstName"": ""Sam"",
            ""lastName"": ""Gamble""
            ""dateOfBirth"": ""1978-10-30T00:00:00"",
            ""quoteAgeDate"": ""2021-10-12T00:00:00"",
            ""gender"": ""Male"",
            ""height"": 178,
            ""weight"": 88
            ""smoker"": ""None in the last 5 years"",
            ""smoking"": ""SMOKER"",
            ""covers"": []
        }
    ]
  }
}{noformat}",,Chris.Hibbert,James Bartlett,,,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,,,,,,,,,,,,,Hidden from EXL,NBJ-278,NBJ-273,,,,,,,,,,,,,,,,,,,NBJ-715,,,,,,,,,,,,,,,,,,,,,,"*Given:* A Cover for an applicant
*When:* I call to delete the cover
*Then:* The cover is removed from the applicant",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,No,,1|i00ng6:r,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,,,,,,22/Sep/21 2:16 PM,,3.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-03 14:26:16.352,03/Nov/21 2:26 PM;6139c49114e8340071fcda09;blocked by NBJ-598,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
API - Delete Applicant from Application,NBJ-299,38304,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Chris.Hibbert,60cc71a1d5dde800713a2124,Chris.Hibbert,60cc71a1d5dde800713a2124,22/Sep/21 2:16 PM,05/Jan/22 9:51 PM,02/Feb/22 6:31 PM,05/Jan/22 9:51 PM,,Foundation Release,,Sprint_7,,,"*As an* API User
*I want* to delete an applicant through the API
*So that* I can remove applicants that shouldnt be on my application",,Chris.Hibbert,,,,,,,60cc71a1d5dde800713a2124,,,,,,,,,,,,,,Hidden from EXL,NBJ-1038,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,05/Jan/22 9:51 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/24813/LivingDoc.html,,,,,,,,,,,,"*Given:* an application with 2 applicants
*When:* deleting an applicant
*Then:* the applicant is removed from the application
*and:* the applicant’s covers are removed
*and:* the applicant’s contact details are removed
*and:* quote is removed from the application
*and:* quote document ID is removed from the application",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-120,,,,,,,,,,,,,,,,None,,"URL

{noformat}DELETE /api/v1/application/{applicationId}/applicant/{applicantId}{noformat}",,,,,,,,,,,,,,,,,,,Space,,,,,,,No,,1|hzwifm:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 7,,,,,,22/Sep/21 2:16 PM,,5.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Dual Lives with Multiple Products - setting LivesType,NBJ-297,38299,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,22/Sep/21 11:32 AM,05/Nov/21 9:30 AM,02/Feb/22 6:31 PM,05/Nov/21 9:30 AM,,Foundation Release,,Quote,Sprint_3,,"*As an* api user
*So that* I can quote for dual life with a discount
*I want* to be able to identify dual life applications in the quote service

# This story is about setting LivesType in the ImpGrpCvgs.row.ImpItmPocCvgsPolicyCoverages.LivesType.

*Implementation Notes*

# LivesType is set to 1 if the productType is unique to that Applicant
# LivesType is set to 7 if the productType has a matching productType on the alternate Applicant

e.g.

G000001234_1_life_1 - LivesType set to 7 as applicant 2 has matching product type

G000001234_1_ci_1 - LivesType set to 1 as applicant to does not have a ci product type

G000001234_2_life_1 - LivesType set to 7 as applicant 1 has a matching product type

G000001234_2_aci_1 - LivesType set to 1 as applicant 1 does not have a aci product type

3. *NB - currently dual life discount on ci is 0*

4. ImpGrpCvgs should have a row foreach quoteCover regardless of which quoteApplicant it is part of.

5. Sum assured and term *do not* need to match.

*Lissia Quote Request*

{code:xml}<WssquoteImport command="""" clientId="""" clientPassword="""" nextLocation="""" exitState="""" dialect="""">
		<ImpAswcalcqAswcalcq>
			...
		</ImpAswcalcqAswcalcq>
		<ImpUserUsers>
			...
		</ImpUserUsers>
		<ImpWebserviceWebService>
			...
		</ImpWebserviceWebService>
		<ImpGrpCvgs>
			<row> - one row per quoteCover
				...
				<ImpItmCvgQrefWebService>
					<QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
					<BenLine>G000001234_1_Life_1</BenLine> -- see benefit line rules above
				</ImpItmCvgQrefWebService>
				...
				<ImpItmPocCvgsPolicyCoverages>
					...
					<LivesType>7</LivesType>
					...
				</ImpItmPocCvgsPolicyCoverages>
				...
			</row>
			<row>
				...
				<ImpItmCvgQrefWebService>
					<QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
					<BenLine>G000001234_1_ci_1</BenLine> -- see benefit line rules above
				</ImpItmCvgQrefWebService>
				...
				<ImpItmPocCvgsPolicyCoverages>
					...
					<LivesType>1</LivesType>
					...
				</ImpItmPocCvgsPolicyCoverages>
				...
			</row>
			<row>
				...
				<ImpItmCvgQrefWebService>
					<QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
					<BenLine>G000001234_2_Life_1</BenLine> -- see benefit line rules above
				</ImpItmCvgQrefWebService>
				<ImpItmPocCvgsPolicyCoverages>
					...
					<LivesType>7</LivesType>
					...
				</ImpItmPocCvgsPolicyCoverages>
				...
				...
			</row>
			<row>
				...
			</row>
		</ImpGrpCvgs>
		<ImpGrpCliCpr>
			<row> -- one row per quote cover
				...
				<ImpItmCprQrefWebService>
					<QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
					<BenLine>G000001234_1_Life_1</BenLine> -- see benefit line rules above
				</ImpItmCprQrefWebService>
				...
			</row>
			<row>
				...
				<ImpItmCprQrefWebService>
					<QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
					<BenLine>G000001234_1_ci_1</BenLine> -- see benefit line rules above
				</ImpItmCprQrefWebService>
				...
			</row>
			<row> -- ensure client details from second applicant
				...
				<ImpItmCprQrefWebService>
					<QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
					<BenLine>G000001234_2_Life_1</BenLine> -- see benefit line rules above
				</ImpItmCprQrefWebService>
				...
			</row>
			<row>
				...
			</row>
		</ImpGrpCliCpr>
		<ImpGrpPas>
			<row>
				...
				<ImpItmPasQrefWebService>
                  <QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
                  <BenLine>G000001234_1_Life_1</BenLine> -- see benefit line rules above
                </ImpItmPasQrefWebService>
				...
			</row>
			<row>
				...
				<ImpItmPasQrefWebService>
                  <QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
                  <BenLine>G000001234_1_ci_1</BenLine> -- see benefit line rules above
                </ImpItmPasQrefWebService>
				...
			</row>
			<row>
				...
				<ImpItmPasQrefWebService>
                  <QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
                  <BenLine>G000001234_2_Life_1</BenLine> -- see benefit line rules above
                </ImpItmPasQrefWebService>
				...
			</row>
			<row>
				...
			</row>
		</ImpGrpPas>
		<ImpGrpPlc>
			<ImpItmPlcQrefWebService>
				<QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
			</ImpItmPlcQrefWebService>
		</ImpGrpPlc>
		<ImpPrlrqmWebService>
			<Prlrqm/>
		</ImpPrlrqmWebService>
	</WssquoteImport>{code}",,Jim Houghton,Kevin.Amoa,Nathan Punzalan,,,,,60cc71a22bd21400692fd2af,6149b160fac3ce0069d80d37,613f22fdff23ba00715469d1,,,,,,,,,,,,Hidden from EXL,NBJ-249,,,,,,,,,,,,,,,NBJ-292,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* a quote containing two lives and a combination of single life and dual life covers
*When* each row ImpGrpCvgs is generated for a productType unique to the current applicant
*Then* ImpGrpCvgs.row.ImpItmPocCvgsPolicyCoverages.LivesType should be set to 1

*Given* a quote containing two lives and a combination of single life and dual life covers
*When* each row ImpGrpCvgs is generated for a productType *matching a productType* on the alternate applicant
*Then* ImpGrpCvgs.row.ImpItmPocCvgsPolicyCoverages.LivesType should be set to 7",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,NBJ-118,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,,,1|hzwil2:zzu,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,,,,,,,,3.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-04 10:36:54.246,"01/Oct/21 10:33 AM;60cc71a22bd21400692fd2af;(flag) Flag added

JLQ to review mappings","04/Nov/21 10:36 AM;6149b160fac3ce0069d80d37;[~accountid:60cc71a22bd21400692fd2af] 

G000001234_1_life_1 - ?

G000001234_1_life_2 - ?

G000001234_2_ci_1 - LivesType set to 1 as applicant 1 has a matching product type

G000001234_2_aci_1 - LivesType set to 1 as applicant 1 does not have a aci product type



and



G000001234_1_life_1 - ?

G000001234_1_life_2 - ?

G000001234_2_ci_1 - LivesType set to 1 as applicant 1 has a matching product type

G000001234_2_life_1 - ?","04/Nov/21 10:54 AM;613f22fdff23ba00715469d1;[~accountid:6149b160fac3ce0069d80d37]  for your two scenarios below, at the moment it is returning:

G000001234_1_life_1 - LivesType set to 1 

G000001234_1_life_2 - LivesType set to 1 

G000001234_2_ci_1 - LivesType set to 1 

G000001234_2_aci_1 - LivesType set to 1

and for 2nd scenario:

G000001234_1_life_1 - LivesType set to 7

G000001234_1_life_2 - LivesType set to 7

G000001234_2_ci_1 - LivesType set to 1

G000001234_2_life_1 - LivesType set to 7



Which should be correct according to the ticket as LivesType should be only set to 7 if an alternative applicant has a matching product type so if its the same applicant having a matching product type I think LivesType should still be set to 1. Have also checked other scenarios and everything looks good to me.

Will wait for [~accountid:60cc71a22bd21400692fd2af] to confirm but if it’s meant to work as I described above, this ticket can be passed.","05/Nov/21 9:28 AM;60cc71a22bd21400692fd2af;[~accountid:613f22fdff23ba00715469d1] - as you describe, this is how it should work. i.e. it is about giving a discount on dual life applications to mimic the discount you would receive from a provider that offers joint life products.",,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
SPIKE: Salesforce SOQL Automation Testing,NBJ-296,38287,,Task,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,Gareth Hailes,5ed8c4bc4ec4270ba3725b85,21/Sep/21 7:36 PM,08/Oct/21 12:23 PM,02/Feb/22 6:31 PM,08/Oct/21 12:23 PM,,Foundation Release,,,,,"*As a* Tester

*So that*  I can validate than an application has been created in Salesforce when quote & client contact details have been supplied on NBJ

*I want* an interface to allow me to query Salesforce data after the event has been triggered by an automated test ",,Gareth Hailes,Nathan Punzalan,zoe.jenkins,,,,,5ed8c4bc4ec4270ba3725b85,613f22fdff23ba00715469d1,5e455b083011ed0c8f8a44e8,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*AC1 -*This spike should be restricted to reading data from the Application__c table in Salesforce

*AC2 -* Name on Application__c is the Guardian quote reference (e.g. G0001xxxxx)

*AC3 -* The spike should be done in the Salesforce UWT environment",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Description of Issue: <Outline of the problem observed>

Business Impact: <Impact on business if not fixed eg. who it affects and how>

Steps to Reproduce: <Steps on how to reliably replicate the issue>

Expected Results: <Enter a description of what is expected>

Actual Result: <Enter a description of what was observed>

Version: <Any module or product version if applicable>",,{},,,,,,NBJ-125,,,,,,,,,,,,,,,,None,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,1|i00g6f:,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 1,,,,,,21/Sep/21 7:36 PM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-09-29 08:38:34.476,21/Sep/21 7:37 PM;5ed8c4bc4ec4270ba3725b85;Graham Smith is setting up for Salesforce credentials for Nathan who should work with Andy Cole who knows the environment well…,29/Sep/21 9:38 AM;613f22fdff23ba00715469d1;I will book in a meeting with Andy Cole this Friday or early next week to go through current Salesforce scenarios and key areas to look out for.,"30/Sep/21 9:34 AM;5ed8c4bc4ec4270ba3725b85;(flag) Flag added

Blocked pending access to Andy Cole","05/Oct/21 12:49 PM;5e455b083011ed0c8f8a44e8;There is no direct Database access for Saleforce,  The Database is not exposed for security reasons - and any changes/requests are all made via the API, and bulk updates/queries are done via the 'Salesforce Dataloader' application - which uses csv's to input/output from the API.  Alex (Silverlined) has said Nathan will need a specific permission set on this Salesforce user in SIT.","05/Oct/21 1:51 PM;613f22fdff23ba00715469d1;Have also spoken to Graham and Andy and while we are unable to gain direct access to the databases (due to security concerns), we can use APIs to query and manipulate data from Salesforce. Graham is currently investigating what API suites are available for Salesforce and will let me know if he finds anything. Once we gain access to the API suites, I can investigate to make sure they are fit for purpose but we should be able to use them to query data from Salesforce.","08/Oct/21 12:23 PM;613f22fdff23ba00715469d1;Have received access to APIs from Ian that we can use SOQL to query data from Salesforce. Have constructed an API endpoint to allow us to query the Application___c table as well as a separate API endpoint to query the ApplicationMember__c table where we can get data directly by editing the SOQL string. 

These APIs should be fit for purpose to build into our automation framework once we start testing the NBJ integration with Salesfoce to query data directly from the Salesforce database.",,,,,,,,,,,,,,,,,,,,,,,,,,Done
Quote Response - quotePremium,NBJ-295,38286,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,21/Sep/21 5:48 PM,03/Nov/21 3:41 PM,02/Feb/22 6:31 PM,03/Nov/21 3:41 PM,,Foundation Release,,Quote,Sprint_3,,"*As an* api user
*So that* I can provide a total premium for the quote
*I want* quotePremium to be on the response from calculation service

*Implementation Notes*

# Always populate quotePremium on the response message following a successful quote
# The quote premium can be sourced directly from the Lissia quote response.  It is located in the <row> in <ExpGrpSum2app> section that has ExpItmQuoteRefSum2appWebService. BenLine empty.  AND ExpItmPrlSum2appProductLines.Type = 0.
# The field that contains the total premium is ImpAswcalcqAswcalcq.row.ExpItmPcpSum2appPolicyPremiums.ModalPremium

*Quote Response*

{code:json}{
  ""quote"": {
    ...
    ""quotePremium"": 0.00, --response value
    ...
    ""quoteApplicants"": {
      ""0"": {
        ...
        ""quoteCovers"": {
          ""0"": {
            ...
          },
          ""1"": { ""..."" },
          ""2"": { ""..."" }
        },
        ""quoteUnderwritingOutcomes"": {
          ""life | ci | aci"": {
            ""emRating"": 200,
            ""pmRating"": 5,
            ""quoteExclusions"": {
              ""0"": {
                ""exclusionOrRemoval"": ""Exclude | Remove"",
                ""exclusionValue"": 1001
              },
              ""1"": { ""..."" }
            }
          },
          ""life | ci | aci"": { ""..."" }
        },
        ""1"": {
          ""...""
        }
      }
    }
  }
}{code}



*Lissia Response*



{code:xml}<WssquotecallResponse>
         <WssquoteExport command="""" exitState=""0"" exitStateType=""3"" exitStateMsg="""">
            <ExpGrpSum2app>
              ...
               <row>
					<ExpItmQuoteRefSum2appWebService>
						...
						<BenLine/>
						...
					</ExpItmQuoteRefSum2appWebService>
					...
					<ExpItmPrlSum2appProductLines>
						<Type>0</Type>
					</ExpItmPrlSum2appProductLines>
					...
					<ExpItmPcpSum2appPolicyPremiums>
						<ModalPremium>46.08</ModalPremium>
					<ExpItmPcpSum2appPolicyPremiums>
					...
				</row>
				...
            </ExpGrpSum2app>
            <ExpGrpErrors/>
            <ExpGrpCliCprRtn>
               ...
            </ExpGrpCliCprRtn>
            <ExpGrpCommissions>
               ...
            </ExpGrpCommissions>
            <ExpGrpCvgs>
               ...      
            </ExpGrpCvgs>
            <ExpGrpPrmSumByref>
               ...              
            </ExpGrpPrmSumByref>
            <ExpGrpPlcRtn/>
            <ExpGrpWarningMsg/>
            <ExpGrpComTot>
               ...               
            </ExpGrpComTot>
            <ExpGrpTotIndemnity/>
            <ExpGrpFsaTot/>
            <ExpGrpPremDetails/>
            <ExpGrpPremDetailsTot/>
         </WssquoteExport>
      </ns2:WssquotecallResponse>{code}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* any quote request
*When* responding to a successful request
*Then* populate the quotePremium from the ExpGrpSum2app.row.ExpItmPcpSum2appPolicyPremiums.ModalPremium on the response message.  It is located in the <row> in <ExpGrpSum2app> section that has ExpItmQuoteRefSum2appWebService. BenLine empty AND ExpItmPrlSum2appProductLines.Type = 0.
*And* it will equal the sum of all the quoteCoverPremiums in the response",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,NBJ-118,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,,,1|hzwil2:zr,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,,,,,,,,2.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Oct/21 10:26 AM;60cc71a22bd21400692fd2af;(flag) Flag added

JLQ to review mappings",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Quote Response - Applicant Premium,NBJ-294,38285,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,21/Sep/21 5:47 PM,03/Nov/21 2:58 PM,02/Feb/22 6:31 PM,03/Nov/21 2:58 PM,,Foundation Release,,Quote,Sprint_3,,"*As an* api user
*So that* I can provide an applicant quote value
*I want* to be able to sum up individual BenLine for that applicant

*Implementation Notes*

# any number of covers could be requested
# This is the sum of the quoteCoverPremiums within a quoteApplicant
# Benefit line rules: <quoteReference>_<Applicant Index>_<productType>_<quoteCover Index>

e.g.

G000001234_1_life_1 - The first life product being quoted for by the primary applicant

G000001234_1_life_2 - The second life product being quoted for by the primary applicant

G000001234_1_ci_1 - The first ci product being quoted for by the first applicant

*Quote Response*

{code:json}{
  ""quote"": {
    ""quoteReference"": ""G000001234"",
    ""quoteAgeDate"": 20210910 18:00:00,
    ""quoteApplicants"": {
      ""0"": {
        ""dateOfbirth"": 19711207,
        ""gender"": ""male | female"",
        ""smokerStatus"": ""None in the last 5 years | None in last 12 months | I have used tobacco or replacement products in last 12 months"",
        ""quoteApplicantPremium"": 1.23 //NUMBER FROM THIS STORY
        ""quoteCovers"": {
          ""0"": {
            ""productType"": ""life | ci | aci"",
            ""coverType"": ""level | increasing | decreasing | family"",
            ""term"": 3, 
            ""coverAmount"": 100000
            ""quoteCoverPremium"": 0.00, --response values
            ""quoteCoverUnloadedPremium"": 0.00, --response values
            ""quoteCoverInitialCommission"": 0.00, --response value
            ""quoteCoverInitialEarningsPeriod"": 00, --in months, response value
            ""quoteCoverRenewalCommission"": 0.00 --response value
          },
          ""1"": {
            ""productType"": ""life | ci | aci"",
            ""coverType"": ""level | increasing | decreasing | family"",
            ""term"": 3, 
            ""coverAmount"": 100000
            ""quoteCoverPremium"": 0.00, --response values
            ""quoteCoverUnloadedPremium"": 0.00, --response values
            ""quoteCoverInitialCommission"": 0.00, --response value
            ""quoteCoverInitialEarningsPeriod"": 00, --in months, response value
            ""quoteCoverRenewalCommission"": 0.00 --response value
          },
          ""2"": {
            ...
          },
          ""3"": {
            ...
          }
        }
      }
    }
  }
}{code}



*Lissia Response*



{code:xml}      <WssquotecallResponse>
         <WssquoteExport command="""" exitState=""0"" exitStateType=""3"" exitStateMsg="""">
            <ExpGrpSum2app>
               <row>...</row>
            </ExpGrpSum2app>
            <ExpGrpErrors/>
            <ExpGrpCliCprRtn>
               <row>...</row>
            </ExpGrpCliCprRtn>
            <ExpGrpCommissions>
               <row>...</row>
            </ExpGrpCommissions>
            <ExpGrpCvgs>
                <row>
                  ...
                  <ExpItmCvgQuoteRefWebService>
					<QuoteRef>G000001234</QuoteRef>
					<BenLine>G000001234_1_Life_1</BenLine>
					...
				  </ExpItmCvgQuoteRefWebService>
				  ...
				  <ExpItmPcpCvgsPolicyPremiums>
				  	<ModalPremium>4.63</ModalPremium>
					...
					<UnratedModalPremium>4.63</UnratedModalPremium>
					...
					<JointLifeDiscount>0.09</JointLifeDiscount>
					...
				  </ExpItmPcpCvgsPolicyPremiums>
                  ...
                </row>               
            </ExpGrpCvgs>
            <ExpGrpPrmSumByref>
               <row>...</row>              
            </ExpGrpPrmSumByref>
            <ExpGrpPlcRtn/>
            <ExpGrpWarningMsg/>
            <ExpGrpComTot>
               <row>...</row>               
            </ExpGrpComTot>
            <ExpGrpTotIndemnity/>
            <ExpGrpFsaTot/>
            <ExpGrpPremDetails/>
            <ExpGrpPremDetailsTot/>
         </WssquoteExport>
      </ns2:WssquotecallResponse>{code}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,NBJ-291,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* a single applicant, multiple quoteCovers request
*When* quoting
*Then* recieve a successful Lissia response
*And* return a 200 from service

*Given* a single applicant, multiple quoteCovers request
*When* receiving successful Lissia quote response
*Then* foreach quoteCover/row in ExpGrpCvgs (ExpGrpCvgs.row.BenLine stem G000001234_<applicant_id>), respond in quoteApplicantPremium the sum of the values ExpGrpCvgs.row.ExpItmPcpCvgsPolicyPremiums.ModalPremium in the correct quoteApplicant
*and:* This is rounded to 2 d.p.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,NBJ-118,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,,,1|hzwil2:zi,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,,,,,,,,3.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Quote Response - quoteCover Premium and Commission,NBJ-293,38284,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,21/Sep/21 5:45 PM,03/Nov/21 2:56 PM,02/Feb/22 6:31 PM,03/Nov/21 2:56 PM,,Foundation Release,,Quote,Sprint_3,,"*As an* api user
*So that* I can obtain price information foreach quoteCover
*I want* the quote service to respond with premium and commission information within each quoteCover

*Implementation Notes*

# restricted to indemnified commission style with no non-indemnified commission element, I will add in commission variations with future stories
# Using BenLine as a key on each of the rows within the Lissia message, ensure the correct quote and commission values are populated within the corresponding quoteCover
# Benefit line rules: <quoteReference>_<Applicant Index>_<productType>_<quoteCover Index>

e.g.

G000001234_1_life_1 - The first life product being quoted for by the primary applicant

G000001234_1_life_2 - The second life product being quoted for by the primary applicant

G000001234_1_ci_1 - The first ci product being quoted for by the first applicant

*Quote Response*

{code:json}{
  ""quoteReference"": ""G000001234"",
  ""quoteAgeDate"": 20210910 18:00:00,
  ""quoteApplicants"": [
    {
      ""dateOfbirth"": 19711207,
      ""gender"": ""male | female"",
      ""smokerStatus"": ""None in the last 5 years | None in last 12 months | I have used tobacco or replacement products in last 12 months"",
      ""quoteCovers"": [
        {
          ""productType"": ""life | ci | aci"",
          ""coverType"": ""level | increasing | decreasing | family"",
          ""term"": 3, 
          ""coverAmount"": 100000
          ""quoteCoverPremium"": 0.00, --response value
          ""quoteCoverUnloadedPremium"": 0.00, --response value
          ""quoteCoverInitialCommission"": 0.00, --response value
          ""quoteCoverInitialEarningsPeriod"": 00, --in months, response value
          ""quoteCoverRenewalCommission"": 0.00 --response value
        },
        {
          ""productType"": ""life | ci | aci"",
          ""coverType"": ""level | increasing | decreasing | family"",
          ""term"": 3, 
          ""coverAmount"": 100000
          ""quoteCoverPremium"": 0.00, --response value
          ""quoteCoverUnloadedPremium"": 0.00, --response value
          ""quoteCoverInitialCommission"": 0.00, --response value
          ""quoteCoverInitialEarningsPeriod"": 00, --in months, response value
          ""quoteCoverRenewalCommission"": 0.00 --response value
        },
        {
          ...
        },
       {
          ...
        }
      ]
    }
  ]
}
{code}



*Lissia Response*



{code:xml}      <WssquotecallResponse>
         <WssquoteExport command="""" exitState=""0"" exitStateType=""3"" exitStateMsg="""">
            <ExpGrpSum2app>
               <row>
                  ...
				  <ExpItmQuoteRefSum2appWebService>
					 <QuoteRef>G000001234</QuoteRef>
					 <BenLine>G000001234_1_Life_1</BenLine>
				  </ExpItmQuoteRefSum2appWebService>
				  ...
				  <ExpItmPcpSum2appPolicyPremiums>
					 <ModalPremium>9.28</ModalPremium>
				  </ExpItmPcpSum2appPolicyPremiums>
				  ...
               </row>
            </ExpGrpSum2app>
            <ExpGrpErrors/>
            <ExpGrpCliCprRtn>
               <row>...</row>
            </ExpGrpCliCprRtn>
            <ExpGrpCommissions>
               <row>
                ...
				<ExpItmComQrefWebService>
					<QuoteRef>G000001234<QuoteRef/>
					<BenLine>G000001234_1_Life_1</BenLine>
					...
				</ExpItmComQrefWebService>
				...
				<ExpItmComAmtAccountTransactions>
					<Amount>0.0</Amount>
				</ExpItmComAmtAccountTransactions>
				...
               </row>
            </ExpGrpCommissions>
            <ExpGrpCvgs>
                <row>
                  ...
                  <ExpItmCvgQuoteRefWebService>
					<QuoteRef>G000001234</QuoteRef>
					<BenLine>G000001234_1_Life_1</BenLine>
					...
				  </ExpItmCvgQuoteRefWebService>
				  ...
				  <ExpItmPcpCvgsPolicyPremiums>
				  	<ModalPremium>4.63</ModalPremium>
					...
					<UnratedModalPremium>4.63</UnratedModalPremium>
					...
					<JointLifeDiscount>0.09</JointLifeDiscount>
					...
				  </ExpItmPcpCvgsPolicyPremiums>
                  ...
                  <ExpItmPcmCvgsPolicyCommissions>
					 <Style>INDEM   </Style>
					 ...
					 <DiscountedTotalIce>233.85</DiscountedTotalIce>
					 <NonIndemnifiedValue>275.12</NonIndemnifiedValue>
					 ...
				   </ExpItmPcmCvgsPolicyCommissions>
				   ...
                </row>               
            </ExpGrpCvgs>
            <ExpGrpPrmSumByref>
               <row>...</row>              
            </ExpGrpPrmSumByref>
            <ExpGrpPlcRtn/>
            <ExpGrpWarningMsg/>
            <ExpGrpComTot>
               <row>...</row>               
            </ExpGrpComTot>
            <ExpGrpTotIndemnity/>
            <ExpGrpFsaTot/>
            <ExpGrpPremDetails/>
            <ExpGrpPremDetailsTot/>
         </WssquoteExport>
      </ns2:WssquotecallResponse>{code}",,Chris.Hibbert,Jim Houghton,John.LeQuesne,Kevin.Amoa,Nathan Punzalan,,,60cc71a1d5dde800713a2124,60cc71a22bd21400692fd2af,5db187687b20d80c2a25b574,6149b160fac3ce0069d80d37,613f22fdff23ba00715469d1,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* a single applicant, multiple quoteCovers request
*When* quoting
*Then* recieve a successful Lissia response
*And* return a 200 from service

– quoteCoverPremium
*Given* a single applicant, multiple quoteCovers request
*When* receiving successful Lissia quote response
*Then* forEach row in ExpGrpSum2app with containing a QuoteRef and BenLine there will be a corresponding quoteCover on the request
*And* building on the above set the quoteCoverPremium with the matching /ExpItmPcpSum2appPolicyPremiums/ModalPremium

-quoteCoverUnloadedPremium
*Given* a single applicant, multiple quoteCovers request
*When* receiving successful Lissia quote response
*Then* forEach row in ExpGrpCvgs there will be a corresponding quoteCover on the request
*And* building on the above set the corresponding quoteCoverUnloadedPremium and the value ExpGrpCvgs/row/ExpItmPcpCvgsPolicyPremiums/UnratedModalPremium in the quote Lissia response

-quoteCoverInitialCommission
*Given* a single applicant, multiple quoteCovers request
*When* receiving successful Lissia quote response
*Then* foreach row in ExpGrpCvgs there will be a corresponding quoteCover on the request
*And* building on the above set the quoteCoverInitialCommission the sum of ExpItmPcmCvgsPolicyCommissions/DiscountedTotalIce and ExpItmPcmCvgsPolicyCommissions/NonIndemnifiedValue

-quoteCoverInitialEarningsPeriod
*Given* a single applicant, multiple quoteCovers request
*When* receiving successful Lissia quote response
*Then* forEach row in ExpGrpCvgs there will be a corresponding quoteCover on the request
*And* building on the above set the quoteCoverInitialEarningsPeriod to the matching row in ExpGrpCvgs the value ExpItmPcmCvgsPolicyCommissions/InitialPeriodMonths 

-quoteCoverRenewalCommission
*Given* a single applicant, multiple quoteCovers request
*When* receiving successful Lissia quote response
*Then* foreach row in ExpGrpCommissions there will be a corresponding quoteCover in the request
*And* building on the above set the quoteCoverRenewalCommission to the matching row in ExpGrpCommissions the value /ExpItmComAmtAccountTransactions/Amount",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,NBJ-118,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,,,1|hzwil2:y,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,,,,,,,,8.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-10-01 11:54:57.968,"01/Oct/21 10:11 AM;60cc71a22bd21400692fd2af;(flag) Flag added

JLQ - review mappings",01/Oct/21 12:54 PM;5db187687b20d80c2a25b574;I’ve added a comment on initial commission + we need a discussion about BenLine. I think the model changed here will remove the multi-product discount - we are looking to remove it long term (by menu) but I haven’t got confirmation it will be done by Foundation.,"01/Nov/21 1:16 PM;613f22fdff23ba00715469d1;As discussed with Sam, API request is working locally however it is returning a 500 status when testing in UWT.",01/Nov/21 1:40 PM;6149b160fac3ce0069d80d37;Make sure CoverType and Product type is set for each cover. I think there may be some validation rules missing,01/Nov/21 2:00 PM;60cc71a1d5dde800713a2124;[~accountid:613f22fdff23ba00715469d1] - should all be working now.,"01/Nov/21 2:27 PM;613f22fdff23ba00715469d1;[~accountid:6149b160fac3ce0069d80d37] and [~accountid:60cc71a1d5dde800713a2124] the 500 status has been fixed and I am now getting a valid 201 response however the premium and commission values are all returning as “0” where I’ve tried using different products and cover types but have not been able to yield any different result.

Please see an example request I used below:

{noformat}{
  ""applicationId"": ""{{application_id}}"",
  ""quoteAgeDate"": ""2020-12-13"",
  ""InitialIndemnityPercentage"" : 0,
  ""InitialCommissionSacrificePercentage"" : 0,
  ""quoteApplicants"": [
    {
      ""dateOfbirth"": ""1971-12-07"",
      ""gender"": ""male"",
      ""smokerStatus"": ""None in the last 5 years"",
      ""quoteCovers"": [
        {
          ""productType"": ""life"",
          ""coverType"": ""level"",
          ""term"": 3, 
          ""coverAmount"": 25000
        }
      ]
    }
  ]
}{noformat}

In which I receive a response as below:

{noformat}{
    ""data"": {
        ""applicationId"": ""G000000007"",
        ""quoteCreatedDate"": ""2021-11-01T14:23:07.9630995+00:00"",
        ""quoteApplicants"": [
            {
                ""smokerStatus"": ""None in the last 5 years"",
                ""dateOfBirth"": ""1971-12-07T00:00:00"",
                ""gender"": ""Male"",
                ""premium"": 0,
                ""quoteCovers"": [
                    {
                        ""coverAmount"": 25000,
                        ""toAge"": null,
                        ""term"": 3,
                        ""productType"": ""Life"",
                        ""coverType"": ""Level"",
                        ""premium"": 0,
                        ""unloadedPremium"": 0,
                        ""initialCommission"": 0,
                        ""initialEarningsPeriod"": 0,
                        ""renewalCommission"": 0,
                        ""lifeTimePremium"": 0
                    }
                ]
            }
        ],
        ""quoteAgeDate"": ""2020-12-13T00:00:00+00:00"",
        ""adviserAtFirmLocationId"": null,
        ""initialIndemnityPercentage"": 0,
        ""initialCommissionSacrificePercentage"": 0,
        ""premium"": 0,
        ""lifeTimePremium"": 0
    }
}{noformat}","01/Nov/21 2:41 PM;613f22fdff23ba00715469d1;I have raised a bug ([https://gghltd.atlassian.net/browse/NBJ-576|https://gghltd.atlassian.net/browse/NBJ-576|smart-link] ) to cover the existing issue described below with premiums and commissions getting returned as “0” and have assigned it to [~accountid:6149b160fac3ce0069d80d37]  as it’s related to this ticket. Have also linked it to this ticket. 

When I check the response from Lissia from the Cosmo DB, I can also see that an error number is shown which is displayed as: ….<ErrorNo>EAPRL001</ErrorNo>…

Please assign to the relevant person if needed, thanks.",,,,,,,,,,,,,,,,,,,,,,,,,Done
Multiple Lives with Multiple quoteCovers,NBJ-292,38277,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,Nathan Punzalan,613f22fdff23ba00715469d1,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,21/Sep/21 3:51 PM,05/Nov/21 10:52 AM,02/Feb/22 6:31 PM,05/Nov/21 10:52 AM,,Foundation Release,,Quote,Sprint_3,,"*As an* api user
*So that* I can quote for multiple covers across multiple lives
*I want* to be able to supply multiple covers with multiple applicants in the quote service

*Implementation Notes*

# any number of covers could be requested
# Ensure that when creating the rows in each section that the correct cover is mapped using the rules already established
# Ensure that when creating the rows in the client details per cover section (<ImpGrpCliCpr>) that the correct applicant is mapped using the rules already established
# Benefit line rules: <quoteReference>_<Applicant Index>_<productType>_<quoteCover Index>

e.g.

G000001234_1_life_1 - The first life product being quoted for by the primary applicant

G000001234_1_life_2 - The second life product being quoted for by the primary applicant

G000001234_2_ci_1 - The first ci product being quoted for by the second applicant

*Quote Request*

{code:json}{
  ""quoteReference"": ""G000001234"",
  ""quoteAgeDate"": 20210910 18:00:00,
  ""quoteApplicants"": [
    {
      ""dateOfbirth"": 19711207,
      ""gender"": ""male | female"",
      ""smokerStatus"": ""None in the last 5 years | None in last 12 months | I have used tobacco or replacement products in last 12 months"",
      ""quoteCovers"": [
        {
          ""productType"": ""life | ci | aci"",
          ""coverType"": ""level | increasing | decreasing | family"",
          ""term"": 3, 
          ""coverAmount"": 100000
        },
        {
          ""productType"": ""life | ci | aci"",
          ""coverType"": ""level | increasing | decreasing | family"",
          ""term"": 3, 
          ""coverAmount"": 100000
        },
        {
          ...
        },
        {
          ...
        }
      ]
    },
    {
      ""dateOfbirth"": 19730322,
      ""gender"": ""male | female"",
      ""smokerStatus"": ""None in the last 5 years | None in last 12 months | I have used tobacco or replacement products in last 12 months"",
      ""quoteCovers"": [
        {
          ""productType"": ""life | ci | aci"",
          ""coverType"": ""level | increasing | decreasing | family"",
          ""term"": 3, 
          ""coverAmount"": 100000
        },
        {
          ""productType"": ""life | ci | aci"",
          ""coverType"": ""level | increasing | decreasing | family"",
          ""term"": 3, 
          ""coverAmount"": 100000
        },
        {
          ...
        },
        {
          ...
        }
      ]
    }
  ]
}
{code}

{code:xml}<WssquoteImport command="""" clientId="""" clientPassword="""" nextLocation="""" exitState="""" dialect="""">
		<ImpAswcalcqAswcalcq>
			...
		</ImpAswcalcqAswcalcq>
		<ImpUserUsers>
			...
		</ImpUserUsers>
		<ImpWebserviceWebService>
			...
		</ImpWebserviceWebService>
		<ImpGrpCvgs>
			<row> - one row per quoteCover
				...
				<ImpItmCvgQrefWebService>
					<QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
					<BenLine>G000001234_1_life_1</BenLine> -- see benefit line rules above
				</ImpItmCvgQrefWebService>
				...
			</row>
			<row>
				...
				<ImpItmCvgQrefWebService>
					<QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
					<BenLine>G000001234_1_life_2</BenLine> -- see benefit line rules above
				</ImpItmCvgQrefWebService>
				...
			</row>
			<row>
				...
				<ImpItmCvgQrefWebService>
					<QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
					<BenLine>G000001234_2_ci_1</BenLine> -- see benefit line rules above
				</ImpItmCvgQrefWebService>
				...
			</row>
			<row>
				...
			</row>
		</ImpGrpCvgs>
		<ImpGrpCliCpr>
			<row> -- one row per quote cover
				...
				<ImpItmCprQrefWebService>
					<QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
					<BenLine>G000001234_1_life_1</BenLine> -- see benefit line rules above
				</ImpItmCprQrefWebService>
				...
			</row>
			<row>
				...
				<ImpItmCprQrefWebService>
					<QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
					<BenLine>G000001234_1_life_2</BenLine> -- see benefit line rules above
				</ImpItmCprQrefWebService>
				...
			</row>
			<row> -- ensure client details from second applicant
				...
				<ImpItmCprQrefWebService>
					<QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
					<BenLine>G000001234_2_ci_1</BenLine> -- see benefit line rules above
				</ImpItmCprQrefWebService>
				...
			</row>
			<row>
				...
			</row>
		</ImpGrpCliCpr>
		<ImpGrpPas>
			<row>
				...
				<ImpItmPasQrefWebService>
                  <QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
                  <BenLine>G000001234_1_Life_1</BenLine> -- see benefit line rules above
                </ImpItmPasQrefWebService>
				...
			</row>
			<row>
				...
				<ImpItmPasQrefWebService>
                  <QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
                  <BenLine>G000001234_1_Life_2</BenLine> -- see benefit line rules above
                </ImpItmPasQrefWebService>
				...
			</row>
			<row>
				...
				<ImpItmPasQrefWebService>
                  <QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
                  <BenLine>G000001234_2_ci_1</BenLine> -- see benefit line rules above
                </ImpItmPasQrefWebService>
				...
			</row>
			<row>
				...
			</row>
		</ImpGrpPas>
		<ImpGrpPlc>
			<ImpItmPlcQrefWebService>
				<QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
			</ImpItmPlcQrefWebService>
		</ImpGrpPlc>
		<ImpPrlrqmWebService>
			<Prlrqm/>
		</ImpPrlrqmWebService>
	</WssquoteImport{code}",,Jim Houghton,Nathan Punzalan,,,,,,60cc71a22bd21400692fd2af,613f22fdff23ba00715469d1,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*Given* a multiple life quote requesting any number of quoteCovers
*When* quoting
*Then* receive a successful Lissia response
*And* return a 200 from service
*And* the request information is replayed in the response

*Given* a multiple life quote requesting any number of quoteCovers
*When* generating Lissia quote request
*Then* there is an accurately populated row in the following sections ImpGrpCvgs, ImpGrpCliCpr and ImpGrpPas for each quoteCover
*And* following on from above, each row has a BenLine value matching the BenLine rules included in the implementation notes 
*And* that each row in ImpGrpCliCpr contains the correct applicant details for that cover",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,NBJ-118,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,,,1|hzwil2:z,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,,,,,,,,5.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-04 09:24:48.48,"04/Nov/21 9:24 AM;613f22fdff23ba00715469d1;Works as expected however have found a very minor issue on how the BenLine appears in the Lissia request/response where the BenLine does not take the productType into account and just bases the number on the all products. See example below:
Scenario 1 - productType taken into account -
Applicant 1 has 1 life, 1 aci and 1 ci product, and BenLine shows as:
G000001234_1_life_1
G000001234_1_aci_1
G000001234_1_ci_1Scenario 2 - (how it's currently been implemented) productType not taken into account -
Applicant 1 has 1 life, 1 aci and 1 ci product, and BenLine shows as:
G000001234_1_life_1
G000001234_1_aci_2
G000001234_1_ci_3

As discussed with Kevin, this minor issue does have a fix that is currently in PR so should be available to retest with the upcoming releases.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Single Life with Multiple quoteCovers,NBJ-291,38271,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,21/Sep/21 1:43 PM,05/Nov/21 11:11 AM,02/Feb/22 6:31 PM,05/Nov/21 11:11 AM,,Foundation Release,,Quote,Sprint_3,,"*As an* api user
*So that* I can quote for multiple covers
*I want* to be able to supply multiple quoteCovers in the quote service

*Implementation Notes*

# any number of covers could be requested
# Generate a unique identifier foreach benefit line (rules below), which will correspond to a quoteCover in the request.
# The details populated from quoteCovers on the request much correspond to the correct BenLine reference.  In the future you will need the ability to map responses for each quoteCover via the BenLine reference.
# Benefit Line rules: <quoteReference>_<Applicant Index>_<productType>_<quoteCover Index>

e.g.

G000001234_1_life_1 - The first life product being quoted for by the primary applicant

G000001234_1_life_2 - The second life product being quoted for by the primary applicant

G000001234_1_ci_1 - The first ci product being quoted for by the first applicant



*Quote Request*

{code:json}{
  ""quoteReference"": ""G000001234"",
  ""quoteAgeDate"": 20210910 18:00:00,
  ""quoteApplicants"": [
    {
      ""dateOfbirth"": 19711207,
      ""gender"": ""male | female"",
      ""smokerStatus"": ""None in the last 5 years | None in last 12 months | I have used tobacco or replacement products in last 12 months"",
      ""quoteCovers"": [
        {
          ""productType"": ""life | ci | aci"",
          ""coverType"": ""level | increasing | decreasing | family"",
          ""term"": 3, 
          ""coverAmount"": 100000
        },
        {
          ""productType"": ""life | ci | aci"",
          ""coverType"": ""level | increasing | decreasing | family"",
          ""term"": 3, 
          ""coverAmount"": 100000
        },
        {
          ...another cover...
        },
        {
          ...another cover...
        }
      ]
    }
  ]
}
{code}

*Lissia Quote Request*

{code:xml}<WssquoteImport command="""" clientId="""" clientPassword="""" nextLocation="""" exitState="""" dialect="""">
		<ImpAswcalcqAswcalcq>
			...
		</ImpAswcalcqAswcalcq>
		<ImpUserUsers>
			...
		</ImpUserUsers>
		<ImpWebserviceWebService>
			...
		</ImpWebserviceWebService>
		<ImpGrpCvgs>
			<row> - one row per quoteCover
				...
				<ImpItmCvgQrefWebService>
					<QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
					<BenLine>G000001234_1_Life_1</BenLine> -- see benefit line rules above
				</ImpItmCvgQrefWebService>
				...
			</row>
			<row>
				...
				<ImpItmCvgQrefWebService>
					<QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
					<BenLine>G000001234_1_Life_2</BenLine> -- see benefit line rules above
				</ImpItmCvgQrefWebService>
				...
			</row>
			<row>
				...
				<ImpItmCvgQrefWebService>
					<QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
					<BenLine>G000001234_1_ci_1</BenLine> -- see benefit line rules above
				</ImpItmCvgQrefWebService>
				...
			</row>
			<row>
				...
			</row>
		</ImpGrpCvgs>
		<ImpGrpCliCpr>
			<row> -- one row per quote cover
				...
				<ImpItmCprQrefWebService>
					<QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
					<BenLine>G000001234_1_Life_1</BenLine> -- see benefit line rules above
				</ImpItmCprQrefWebService>
				...
			</row>
			<row>
				...
				<ImpItmCprQrefWebService>
					<QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
					<BenLine>G000001234_1_Life_2</BenLine> -- see benefit line rules above
				</ImpItmCprQrefWebService>
				...
			</row>
			<row>
				...
				<ImpItmCprQrefWebService>
					<QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
					<BenLine>G000001234_1_ci_1</BenLine> -- see benefit line rules above
				</ImpItmCprQrefWebService>
				...
			</row>
			<row>
				...
			</row>
		</ImpGrpCliCpr>
		<ImpGrpPas>
			<row>
				...
				<ImpItmPasQrefWebService>
                  <QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
                  <BenLine>G000001234_1_Life_1</BenLine> -- see benefit line rules above
                </ImpItmPasQrefWebService>
				...
			</row>
			<row>
				...
				<ImpItmPasQrefWebService>
                  <QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
                  <BenLine>G000001234_1_Life_2</BenLine> -- see benefit line rules above
                </ImpItmPasQrefWebService>
				...
			</row>
			<row>
				...
				<ImpItmPasQrefWebService>
                  <QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
                  <BenLine>G000001234_1_ci_1</BenLine> -- see benefit line rules above
                </ImpItmPasQrefWebService>
				...
			</row>
			<row>
				...
			</row>
		</ImpGrpPas>
		<ImpGrpPlc>
			<ImpItmPlcQrefWebService>
				<QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
			</ImpItmPlcQrefWebService>
		</ImpGrpPlc>
		<ImpPrlrqmWebService>
			<Prlrqm/>
		</ImpPrlrqmWebService>
	</WssquoteImport{code}",,James Bartlett,Jim Houghton,,,,,,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,NBJ-293,,,,,,,,,,,,,,,05/Nov/21 11:11 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/23331/LivingDoc.html,03/Nov/21 11:08 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;multiple_covers_applicant_0.json;https://gghltd.atlassian.net/secure/attachment/23276/multiple_covers_applicant_0.json,03/Nov/21 11:08 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;multiple_covers_applicant_0.xml;https://gghltd.atlassian.net/secure/attachment/23275/multiple_covers_applicant_0.xml,,,,,,,,,,"*Given* a single life quote requesting any number of quoteCovers
*When* quoting
*Then* receive a successful Lissia response
*And* return a 200 from service
*And* replay request data in response

*Given* a single life quote requesting any number of quoteCovers
*When* generating Lissia quote request
*Then* there is an accurately populated row in the following sections ImpGrpCvgs, ImpGrpCliCpr and ImpGrpPas for each quoteCover
*And* following on from above, each row has a BenLine value matching the BenLine rules included in the implementation notes ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,NBJ-118,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,,,1|hzwil2:zzt,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 2,Guardian Sprint 3,,,,,,,8.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-11-03 11:11:47.659,"01/Oct/21 9:42 AM;60cc71a22bd21400692fd2af;(flag) Flag added

JLQ to review mappings","03/Nov/21 11:11 AM;6139c49114e8340071fcda09;[~accountid:6149b160fac3ce0069d80d37] I’ve attached a request I generated. The {{BenLine}} references aren’t quite right. The “quoteCover Index” is independent of product type - so in the xml attachment

{noformat}<BenLine>G422456789_1_ci_5</BenLine>{noformat}

should be

{noformat}<BenLine>G422456789_1_ci_1</BenLine>{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Supply quoteAgeDate,NBJ-290,38270,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,,,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,21/Sep/21 1:28 PM,21/Oct/21 8:51 PM,02/Feb/22 6:31 PM,21/Oct/21 8:51 PM,,Foundation Release,,,,,"*As an* api user

*So that* I can link specify a date and time that client age should be calculated from

*I want* to be able to supply a quoteAgeDate for each quote

*Implementation Notes*

# quoteAgeDate will always be supplied
# quoteAgeDate will be in a date time format

*Quote Request*

{code:json}{
  ""quote"": {
    ""quoteReference"": ""G000001234"",
    ""quoteAgeDate"": 20210910 18:00:00,
    ""quoteApplicants"": {
      ""0"": {
        ""dateOfbirth"": 19711207,
        ""gender"": ""male | female"",
        ""smokerStatus"": ""None in the last 5 years | None in last 12 months | I have used tobacco or replacement products in last 12 months"",
        ""quoteCovers"": {
          ""0"": {
            ""productType"": ""life | ci | aci"",
            ""coverType"": ""level | increasing | decreasing | family"",
            ""term"": 3, 
            ""coverAmount"": 100000
          }
        }
      }
    }
  }
}{code}

{code:xml}<WssquoteImport command="""" clientId="""" clientPassword="""" nextLocation="""" exitState="""" dialect="""">
		<ImpAswcalcqAswcalcq>
			...
		</ImpAswcalcqAswcalcq>
		<ImpUserUsers>
			...
		</ImpUserUsers>
		<ImpWebserviceWebService>
			...
		</ImpWebserviceWebService>
		<ImpGrpCvgs>
			<row>
				...
				<ImpItmPocCvgsPolicyCoverages>
					...
					<QuotationDate>20210910</QuotationDate> -- populated from quotationAgeDate
					<QuotationTime>180000</QuotationTime> -- populated from quotationAgeDate
					...
					<QuoteAgeDate>20210910</QuoteAgeDate> -- populated from quotationAgeDate
					...
				</ImpItmPocCvgsPolicyCoverages>
				...
			</row>
		</ImpGrpCvgs>
		<ImpGrpCliCpr>
			...
		</ImpGrpCliCpr>
		<ImpGrpPas>
			...
		</ImpGrpPas>
		<ImpGrpPlc>
			...
		</ImpGrpPlc>
		<ImpPrlrqmWebService>
			<Prlrqm/>
		</ImpPrlrqmWebService>
	</WssquoteImport{code}",,Chris.Hibbert,Jim Houghton,Kevin.Amoa,Nathan Punzalan,,,,60cc71a1d5dde800713a2124,60cc71a22bd21400692fd2af,6149b160fac3ce0069d80d37,613f22fdff23ba00715469d1,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,21/Oct/21 8:50 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;15_lissia_request.xml;https://gghltd.atlassian.net/secure/attachment/23034/15_lissia_request.xml,21/Oct/21 8:50 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;15_quote_request.json;https://gghltd.atlassian.net/secure/attachment/23035/15_quote_request.json,21/Oct/21 8:51 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc (3381eced-77d4-4eef-be96-1534ee29f092).html;https://gghltd.atlassian.net/secure/attachment/23036/LivingDoc+%283381eced-77d4-4eef-be96-1534ee29f092%29.html,20/Oct/21 6:36 PM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/22995/LivingDoc.html,,,,,,,,,"*Given* a quote request specifying quoteReference
*When* quoting
*Then* receive a successful Lissia response
*And* return a 200 from service
*And* Replay quote request information

*Given* a quote request specifying quotationAgeDate
*When* generating Lissia quote request
*Then* ImpGrpCvgs.row.ImpItmPocCvgsPolicyCoverages.QuotationDate is populated from quoteAgeDate
*And* ImpGrpCliCpr.row.ImpItmPocCvgsPolicyCoverages.QuotationTime is populated from quoteAgeDate
*And* ImpGrpCliCpr.row.ImpItmPocCvgsPolicyCoverages.QuotationAgeDate is populated from quoteAgeDate",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,NBJ-118,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,,,1|i00c01:zzy,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 2,,,,,,,,2.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-10-19 12:20:06.026,"01/Oct/21 9:11 AM;60cc71a22bd21400692fd2af;(flag) Flag added

JLQ to review mapping","19/Oct/21 1:20 PM;6149b160fac3ce0069d80d37;[~accountid:60cc71a22bd21400692fd2af] - I am looking at the request xml generated above.

The original template I have been supplied with has values

{code:xml}<QuotationDate>20210425</QuotationDate>
<QuotationTime>170000</QuotationTime>
...
<QuoteAgeDate>20210425</QuoteAgeDate>{code}

But the ticket says



{code:xml}<ImpItmPocCvgsPolicyCoverages>
...
  <QuotationDate>20210910</QuotationDate> -- populated from quotationAgeDate
  <QuotationTime>18:00:00</QuotationTime> -- populated from quotationAgeDate
  ...
  <QuotationAgeDate>20210910</QuotationAgeDate> -- populated from quotationAgeDate
  ...
</ImpItmPocCvgsPolicyCoverages>{code}

Which one should I go for?","19/Oct/21 1:25 PM;60cc71a22bd21400692fd2af;[~accountid:6149b160fac3ce0069d80d37] - you should go with the format in the template, and not the one on the ticket…","20/Oct/21 4:21 PM;613f22fdff23ba00715469d1;Instead of a 200 status, I am getting a 201 status which is still correct and is due to other tickets being delivered along with this ticket so responses are getting returned as expected with the quoteAgeDate in the response matching the quoteAgeDate given in the request.

Have also spoken to Sam about testing the 2nd AC (mapping from API to Lissia request) and have confirmed that checking that fields are mapped from the API to Lissia correctly will only be possible once we either are able to see the logs once APIs are called or when we can test that the correct pricing is returned for product types as if pricing is getting returned as expected from Lissia it should give us reassurance that Lissia and the quote service API has been mapped correctly.

As both solutions/functionality are still being developed at the moment; this ticket and any similar tickets will have to be blocked until either solution is available to complete testing.","21/Oct/21 12:12 PM;60cc71a1d5dde800713a2124;(flagoff) Flag removed

Cosmos ticket now deployed to UWT",,,,,,,,,,,,,,,,,,,,,,,,,,,Done
Supply quoteReference,NBJ-289,38268,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,21/Sep/21 1:02 PM,03/Nov/21 11:22 AM,02/Feb/22 6:31 PM,03/Nov/21 11:22 AM,,Foundation Release,,Quote,Sprint_3,,"*As an* api user
*So that* I can link quotes and applications easily
*I want* to be able to supply a quoteReference for each quote

*Implementation Notes*

# applicationId will always be supplied
# applicationID will be the same as the application reference the quote originates from

*Quote Request*

{code:json}{
  ""applicationId"": ""G000001234"",
  ""quoteApplicants"": [
    {
      ""dateOfbirth"": 19711207,
      ""gender"": ""male | female"",
      ""smokerStatus"": ""None in the last 5 years | None in last 12 months | I have used tobacco or replacement products in last 12 months"",
      ""quoteCovers"": [
        {
          ""productType"": ""life | ci | aci"",
          ""coverType"": ""level | increasing | decreasing | family"",
          ""term"": 3, 
          ""coverAmount"": 100000
        }
      ]
    }
  ]
}
{code}

*Lissia Quote Request*

{code:xml}<WssquoteImport command="""" clientId="""" clientPassword="""" nextLocation="""" exitState="""" dialect="""">
		<ImpAswcalcqAswcalcq>
			...
		</ImpAswcalcqAswcalcq>
		<ImpUserUsers>
			...
		</ImpUserUsers>
		<ImpWebserviceWebService>
			...
		</ImpWebserviceWebService>
		<ImpGrpCvgs>
			<row>
				...
				<ImpItmCvgQrefWebService>
					<QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
				</ImpItmCvgQrefWebService>
				...
			</row>
		</ImpGrpCvgs>
		<ImpGrpCliCpr>
			<row>
				...
				<ImpItmCprQrefWebService>
					<QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
				</ImpItmCprQrefWebService>
				...
			</row>
		</ImpGrpCliCpr>
		<ImpGrpPas>
			<row>
				...
				<ImpItmPasQrefWebService>
                  <QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
                </ImpItmPasQrefWebService>
				...
			</row>
		</ImpGrpPas>
		<ImpGrpPlc>
			<ImpItmPlcQrefWebService>
				<QuoteRef>G000001234</QuoteRef> -- populated from quoteReference
			</ImpItmPlcQrefWebService>
		</ImpGrpPlc>
		<ImpPrlrqmWebService>
			<Prlrqm/>
		</ImpPrlrqmWebService>
	</WssquoteImport>{code}",,Jim Houghton,,,,,,,60cc71a22bd21400692fd2af,,,,,,,,,,,,,,Hidden from EXL,NBJ-291,,,,,,,,,,,,,,,NBJ-253,,,,,,,,,,,,,,,03/Nov/21 11:21 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/23279/LivingDoc.html,03/Nov/21 11:21 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;request.json;https://gghltd.atlassian.net/secure/attachment/23277/request.json,03/Nov/21 11:21 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;request.xml;https://gghltd.atlassian.net/secure/attachment/23278/request.xml,,,,,,,,,,"*Given* a quote request specifying applicationId
*When* quoting
*Then* receive a successful Lissia response
*And* return a 200 from service
*And* response message replays request message information

*Given* a quote request specifying applicationId
*When* generating Lissia quote request
*Then* ImpGrpCvgs.row.ImpItmCvgQrefWebService.QuoteRef is populated from applicationId
*And* ImpGrpCliCpr.row.ImpItmCprQrefWebService.QuoteRef is populated from applicationId
*And* ImpGrpPas.row.ImpItmPasQrefWebService.QuoteRef is populated from applicationId
*And* ImpGrpPlc.ImpItmPlcQrefWebService.QuoteRef is populated from applicationId",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,NBJ-118,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,,,1|hzwil2:zzur,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 2,Guardian Sprint 3,,,,,,,2.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Oct/21 9:09 AM;60cc71a22bd21400692fd2af;(flag) Flag added

JLQ to review mappings",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
A quoteCover specifying toAge,NBJ-287,38262,,Technical Story,Done,NBJ,New Business Journey,software,Andy Green,6061ac5d00b79f0070aa4ad3,,,Medium,Done,James Bartlett,6139c49114e8340071fcda09,Jim Houghton,60cc71a22bd21400692fd2af,Jim Houghton,60cc71a22bd21400692fd2af,21/Sep/21 11:31 AM,11/Jan/22 4:53 PM,02/Feb/22 6:31 PM,03/Nov/21 9:55 AM,,Foundation Release,,Quote,Sprint_3,,"*As an* api user
*So that* I can quote for a cover specifying toAge 
*I want* the api to correctly map the toAge to the Lissia quote request

*Implementation Notes*

# toAge or term must be supplied for each quoteCover
# If toAge is supplied then term should not be within a quoteCover
# It may be possible to have a combination of Term and ToAge quoteCovers in a single quote

*Quote Request*

{code:json}{
  ...
  ""quoteApplicants"": [
    {
      ...,
      ""quoteCovers"": [
        {
          ""productType"": ""life | ci | aci | ccic"",
          ""coverType"": ""level | increasing | decreasing | family"",
          ""toAge"": 65, -- not required if term specified
          ""coverAmount"": 100000,
          ""isParentCoverForCcic"": true | false -- determines if this cover is the container for the Child CI cover in this application
        },
        { ""..."" },
        { ""..."" }
      ]
    }.
    { ... another quoteApplicant ... }
  ]
}{code}

…

*Lissia Quote*

{code:xml}<WssquoteImport command="""" clientId="""" clientPassword="""" nextLocation="""" exitState="""" dialect="""">
		<ImpAswcalcqAswcalcq>
			...
		</ImpAswcalcqAswcalcq>
		<ImpUserUsers>
			...
		</ImpUserUsers>
		<ImpWebserviceWebService>
			...
		</ImpWebserviceWebService>
		<ImpGrpCvgs>
			<row>
				...
				<ImpItmPocCvgsPolicyCoverages>
					...
					<TermAge>65</TermAge> -- mapped from toAge
					...
				</ImpItmPocCvgsPolicyCoverages>
				<ImpItmPocPcmPolicyCommissions>
					...
				</ImpItmPocPcmPolicyCommissions>
			</row>
		</ImpGrpCvgs>
		<ImpGrpCliCpr>
			<row>
				...
			</row>
		</ImpGrpCliCpr>
		<ImpGrpPas>
			<row>
				...
			</row>
		</ImpGrpPas>
		<ImpGrpPlc></ImpGrpPlc>
		<ImpPrlrqmWebService>
			<Prlrqm/>
		</ImpPrlrqmWebService>
	</WssquoteImport{code}",,Chris.Hibbert,James Bartlett,Jim Houghton,,,,,60cc71a1d5dde800713a2124,6139c49114e8340071fcda09,60cc71a22bd21400692fd2af,,,,,,,,,,,,Hidden from EXL,,,,,,,,,,,,,,,,,,,,,NBJ-286,NBJ-1088,,,,,,,,,03/Nov/21 9:53 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;LivingDoc.html;https://gghltd.atlassian.net/secure/attachment/23268/LivingDoc.html,03/Nov/21 9:55 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;toAge_only_request.json;https://gghltd.atlassian.net/secure/attachment/23269/toAge_only_request.json,03/Nov/21 9:55 AM;ug:2099b382-4077-4b9a-b234-bd443ea4eeeb;toAge_only_request.xml;https://gghltd.atlassian.net/secure/attachment/23270/toAge_only_request.xml,,,,,,,,,,"*Given* a single life request, supplying a single quoteCover.toAge
*When* quoting on Lissia
*Then* recieve a successful Lissia response
*And* return a 200 from service
*And* replay quote request information

*Given* any quote request supplying a quoteCover.toAge
*When* producing quote request on Lissia
*Then* ImpGrpCvgs.row.ImpItmPocCvgsPolicyCoverages.TermAge is mapped from quoteCover.toAge foreach quoteCover that has toAge specified",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,NBJ-118,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Space,,,,,,,,,1|hzwil2:zz,,,,,,,,,,,,,,,,,,,,,,,,Guardian Sprint 3,,,,,,,,3.0,,,Space Extranet,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2021-10-25 10:14:36.257,25/Oct/21 11:14 AM;60cc71a1d5dde800713a2124;Chris Hibbert - pick up validation on term / toage,03/Nov/21 9:54 AM;6139c49114e8340071fcda09;There are issues with specifying both term and toAge on the same request but [~accountid:60cc71a22bd21400692fd2af] has confirmed that the validation approach has not even been decided yet.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done
